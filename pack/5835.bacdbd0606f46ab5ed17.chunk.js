"use strict";(self.webpackChunkmingdao_web=self.webpackChunkmingdao_web||[]).push([[5835],{45835:(Oe,A,n)=>{n.r(A),n.d(A,{default:()=>le});var $e=n(44336),u=n(74253),b=n(33867),S=n(70801),g=n(3540),ze=n(52262),h=n(65400),f=n(66215),s=n(12424),e=n(67294),Q=n(26581),Y=n(85105),y=n.n(Y),k=n(99663),W=n(22600),B=n(49135),U=n(93196),x=n(46016),E=n(66344),q=function(p){(0,U.default)(o,p);function o(c){(0,k.default)(this,o);var a=(0,B.default)(this,(o.__proto__||y()(o)).call(this,c));return a.handleSave=function(){var l=a.state.serviceStatusWebhookUrl;if(l&&!E.Z.isUrlRequest(l)){alert(_l("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5730\u5740"),2);return}x.Z.editSysSettings({settings:{ServiceStatusWebhookUrl:l}}).then(function(r){r&&(a.props.onCancel(),a.props.onChange(l),md.global.SysSettings.serviceStatusWebhookUrl=l,alert(_l("\u4FEE\u6539\u6210\u529F"),1))})},a.state={serviceStatusWebhookUrl:md.global.SysSettings.serviceStatusWebhookUrl},a}return(0,W.default)(o,[{key:"render",value:function(){var a=this,l=this.state.serviceStatusWebhookUrl,r=this.props.visible;return e.createElement(S.Z,{visible:r,anim:!1,title:_l("\u670D\u52A1\u72B6\u6001\u63D0\u9192"),width:560,onOk:this.handleSave,onCancel:this.props.onCancel},e.createElement("div",{className:"mBottom10 mTop15 Font14"},_l("\u670D\u52A1\u72B6\u6001 Webhook")),e.createElement("div",{className:"flexRow valignWrapper Relative"},e.createElement(g.Z,{className:"w100",value:l,onChange:function(m){a.setState({serviceStatusWebhookUrl:m})},placeholder:"http://"}),e.createElement(Q.Z,{tooltipClass:"serviceStatusWebhookUrlTooltip",text:e.createElement("pre",null,`
\u54CD\u5E94\u4F53\u793A\u4F8B\uFF1A
{
  "serverName": "service000", // \u5B9E\u4F8B\u540D\uFF0C\u5355\u673A\u7248\u7F16\u53F7\u4E3A0\uFF0C\u96C6\u7FA4\u7248\u4E0E ENV_SERVERID \u7F16\u53F7\u4E00\u81F4
  "services": [{
    "name": "mysql", // \u670D\u52A1\u540D
    "status": 1 // \u72B6\u6001 0:\u5F02\u5E38 1:\u6B63\u5E38 2:\u672A\u542F\u7528
  },
  {
    "name": "kafka",
    "status": 1
  },
  {
    "name": "redis",
    "status": 1
  },
  {
    "name": "basic",
    "status": 1
  }]
}
`)},e.createElement(b.Z,{icon:"error1",className:"Font18 Gray_9e mLeft5 pointer"}))))}}]),o}(e.Component),ee=function(p){(0,U.default)(o,p);function o(c){(0,k.default)(this,o);var a=(0,B.default)(this,(o.__proto__||y()(o)).call(this,c));return a.handleSave=function(){var l=a.state.installCaptainUrl;E.Z.isUrlRequest(l)?x.Z.editSysSettings({settings:{InstallCaptainUrl:l}}).then(function(r){r&&(a.props.onCancel(),a.props.onSave(l),md.global.SysSettings.installCaptainUrl=l,alert(_l("\u4FEE\u6539\u6210\u529F"),1))}):alert(_l("\u8BF7\u8F93\u5165\u6B63\u786E\u7684url"),2)},a.state={installCaptainUrl:md.global.SysSettings.installCaptainUrl||location.protocol+"//"+location.hostname+":38881/settings"},a}return(0,W.default)(o,[{key:"render",value:function(){var a=this,l=this.props.visible,r=this.state.installCaptainUrl;return e.createElement(S.Z,{visible:l,anim:!1,title:_l("\u7BA1\u7406\u5668\u8BBF\u95EE\u5730\u5740"),width:560,onOk:this.handleSave,onCancel:this.props.onCancel},e.createElement(g.Z,{className:"w100 mTop15",value:r,onChange:function(m){a.setState({installCaptainUrl:m})}}))}}]),o}(e.Component),te=function(p){(0,U.default)(o,p);function o(c){(0,k.default)(this,o);var a=(0,B.default)(this,(o.__proto__||y()(o)).call(this,c));return a.handleSave=function(){var l=a.state.workWxSelfBuildNoticUrl;if(l&&!E.Z.isUrlRequest(l)){alert(_l("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5730\u5740"),2);return}E.Z.isUrlRequest(l)?x.Z.editSysSettings({settings:{WorkWxSelfBuildNoticUrl:l}}).then(function(r){r&&(a.props.onCancel(),a.props.onSave(l),md.global.SysSettings.workWxSelfBuildNoticUrl=l,alert(_l("\u4FEE\u6539\u6210\u529F"),1))}):alert(_l("\u8BF7\u8F93\u5165\u6B63\u786E\u7684url"),2)},a.state={workWxSelfBuildNoticUrl:md.global.SysSettings.workWxSelfBuildNoticUrl},a}return(0,W.default)(o,[{key:"render",value:function(){var a=this,l=this.props.visible,r=this.state.workWxSelfBuildNoticUrl;return e.createElement(S.Z,{visible:l,anim:!1,title:_l("\u7533\u8BF7\u4E0A\u67B6\u4F01\u4E1A\u5FAE\u4FE1\u901A\u77E5\u5730\u5740"),width:560,onOk:this.handleSave,onCancel:this.props.onCancel},e.createElement(g.Z,{className:"w100 mTop15",value:r,onChange:function(m){a.setState({workWxSelfBuildNoticUrl:m})}}))}}]),o}(e.Component),d=n(13739),ae=function(o){var c=md.global.Config,a=c.IsPlatformLocal,l=c.IsCluster,r=md.global.SysSettings,C=(0,e.useState)(r.hideHelpTip),m=(0,s.Z)(C,2),ne=m[0],re=m[1],oe=(0,e.useState)(r.hideIntegration),I=(0,s.Z)(oe,2),R=I[0],ie=I[1],se=(0,e.useState)(r.hideIntegrationLibrary),D=(0,s.Z)(se,2),ce=D[0],T=D[1],me=(0,e.useState)(r.hideDownloadApp),V=(0,s.Z)(me,2),Z=V[0],ue=V[1],de=(0,e.useState)(r.downloadAppRedirectUrl),G=(0,s.Z)(de,2),N=G[0],ve=G[1],fe=(0,e.useState)(!1),P=(0,s.Z)(fe,2),pe=P[0],F=P[1],Se=(0,e.useState)(r.serviceStatusWebhookUrl),L=(0,s.Z)(Se,2),ge=L[0],he=L[1],Ee=(0,e.useState)(r.allowBindAccountNoVerify),H=(0,s.Z)(Ee,2),Ce=H[0],Ne=H[1],be=(0,e.useState)(!1),_=(0,s.Z)(be,2),ye=_[0],j=_[1],ke=(0,e.useState)(r.enableCreateProject),X=(0,s.Z)(ke,2),We=X[0],Be=X[1],Ue=(0,e.useState)(r.installCaptainUrl),O=(0,s.Z)(Ue,2),xe=O[0],Ze=O[1],Fe=(0,e.useState)(!1),$=(0,s.Z)(Fe,2),we=$[0],z=$[1],Ae=(0,e.useState)(!1),J=(0,s.Z)(Ae,2),Ie=J[0],K=J[1],Re=(0,e.useState)(r.workWxSelfBuildNoticUrl),M=(0,s.Z)(Re,2),w=M[0],De=M[1],Te=function(){return e.createElement("div",{className:"flexRow valignWrapper"},e.createElement("div",{className:"flex flexColumn"},e.createElement("div",{className:"Font14 bold mBottom8"},_l("\u5E2E\u52A9")),e.createElement("div",{className:"Gray_9e"},_l("\u663E\u793A\u529F\u80FD\u5E2E\u52A9\u5F15\u5BFC"))),e.createElement(f.Z,{checked:!ne,onClick:function(t){(0,d.xR)({hideHelpTip:t},function(){re(t),md.global.SysSettings.hideHelpTip=t})}}))},Ve=function(){return e.createElement("div",{className:"flexRow valignWrapper"},e.createElement("div",{className:"flex flexColumn"},e.createElement("div",{className:"Font14 bold mBottom8"},_l("\u96C6\u6210\u4E2D\u5FC3")),e.createElement("div",{className:"Gray_9e"},_l("\u5E73\u53F0\u96C6\u6210\u4E2D\u5FC3\u5165\u53E3")),!R&&e.createElement("div",{className:"flexRow valignWrapper mTop10"},e.createElement(f.Z,{checked:!ce,onClick:function(t){(0,d.xR)({hideIntegrationLibrary:t},function(){T(t),md.global.SysSettings.hideIntegrationLibrary=t})}}),e.createElement("div",{className:"mLeft8"},_l("\u663E\u793A\u5B98\u65B9API\u5E93")))),e.createElement(f.Z,{checked:!R,onClick:function(t){(0,d.xR)({hideIntegration:t,hideIntegrationLibrary:t},function(){ie(t),T(t),md.global.SysSettings.hideIntegration=t,md.global.SysSettings.hideIntegrationLibrary=t})}}))},Ge=function(){return e.createElement(e.Fragment,null,e.createElement("div",{className:"flexRow"},e.createElement("div",{className:"flex flexColumn"},e.createElement("div",{className:"Font14 bold mBottom7"},_l("APP\u4E0B\u8F7D\u5165\u53E3")),e.createElement("div",{className:"Gray_9e"},_l("\u5B9A\u5236\u7248APP\u4E0B\u8F7D\u5730\u5740\u8BBE\u7F6E")),!Z&&e.createElement(e.Fragment,null,e.createElement("div",{className:"mBottom15 mTop15 valignWrapper"},e.createElement("span",{className:"Gray_9e mRight18"},_l("\u4E0B\u8F7D\u5730\u5740")),e.createElement("span",null,N||_l("\u672A\u914D\u7F6E"))),e.createElement("div",null,e.createElement(h.default,{ghost:!0,disabled:Z,type:"primary",onClick:function(){F(!0)}},_l("\u8BBE\u7F6E"))))),e.createElement(f.Z,{checked:!Z,onClick:function(t){(0,d.xR)({hideDownloadApp:t},function(){ue(t),md.global.SysSettings.hideDownloadApp=t})}})),e.createElement(S.Z,{visible:pe,title:_l("App \u4E0B\u8F7D\u5730\u5740"),okText:_l("\u4FDD\u5B58"),onOk:function(){(0,d.xR)({downloadAppRedirectUrl:N},function(){md.global.SysSettings.downloadAppRedirectUrl=N}),F(!1)},onCancel:function(){F(!1)}},e.createElement(g.Z,{className:"w100",placeholder:_l("\u8BF7\u8F93\u5165"),value:N,onChange:function(t){return ve(t)}})))},Pe=function(){return e.createElement(e.Fragment,null,e.createElement("div",{className:"flexRow"},e.createElement("div",{className:"flex flexColumn"},e.createElement("div",{className:"Font14 bold mBottom7"},_l("\u670D\u52A1\u8FD0\u884C\u72B6\u6001\u63A8\u9001")),e.createElement("div",{className:"Gray_9e mBottom15"},_l("\u5E73\u53F0\u670D\u52A1\u8FD0\u884C\u5065\u5EB7\u72B6\u6001\u63A8\u9001\uFF0C\u901A\u8FC7\u914D\u7F6E Webhook \u5730\u5740\u63A5\u6536\u72B6\u6001\u6D88\u606F")),e.createElement("div",{className:"mBottom15 valignWrapper"},e.createElement("span",{className:"Gray_9e mRight18"},_l("Webhook \u5730\u5740")),e.createElement("span",null,ge||_l("\u672A\u914D\u7F6E"))),e.createElement("div",null,e.createElement(h.default,{ghost:!0,type:"primary",onClick:function(){j(!0)}},_l("\u8BBE\u7F6E"))))),e.createElement(q,{visible:ye,onChange:function(t){he(t)},onCancel:function(){j(!1)}}))},Le=function(){return e.createElement("div",{className:"flexRow valignWrapper"},e.createElement("div",{className:"flex flexColumn"},e.createElement("div",{className:"Font14 bold mBottom8"},_l("\u90AE\u7BB1\u548C\u624B\u673A\u53F7\u9A8C\u8BC1")),e.createElement("div",{className:"Gray_9e"},_l("\u5F00\u542F\u540E\u7ED1\u5B9A\u90AE\u7BB1\u6216\u624B\u673A\u53F7\u65F6\uFF0C\u9700\u8981\u9A8C\u8BC1\u5408\u6CD5\u6027"))),e.createElement(f.Z,{checked:!Ce,onClick:function(t){(0,d.xR)({allowBindAccountNoVerify:t},function(){Ne(t),md.global.SysSettings.allowBindAccountNoVerify=t})}}))},He=function(){return e.createElement("div",{className:"flexRow valignWrapper"},e.createElement("div",{className:"flex flexColumn"},e.createElement("div",{className:"Font14 bold mBottom8"},_l("\u521B\u5EFA\u7EC4\u7EC7")),e.createElement("div",{className:"Gray_9e"},_l("\u5141\u8BB8\u975E\u5E73\u53F0\u7BA1\u7406\u5458\u521B\u5EFA\u7EC4\u7EC7\uFF08\u82E5\u7981\u7528\uFF0C\u4EC5\u5E73\u53F0\u7BA1\u7406\u5458\u53EF\u521B\u5EFA\u7EC4\u7EC7\uFF09"))),e.createElement(f.Z,{checked:We,onClick:function(t){t=!t,(0,d.xR)({enableCreateProject:t},function(){Be(t),md.global.SysSettings.enableCreateProject=t})}}))},_e=function(){var i=xe||location.protocol+"//"+location.hostname+":38881/settings";return e.createElement(e.Fragment,null,e.createElement("div",{className:"flexRow"},e.createElement("div",{className:"flex flexColumn"},e.createElement("div",{className:"Font14 bold mBottom7"},_l("\u7BA1\u7406\u5668")),e.createElement("div",{className:"Gray_9e mBottom15"},_l("\u5347\u7EA7\u3001\u91CD\u542F\u670D\u52A1\uFF0C\u8BF7\u6253\u5F00\u7BA1\u7406\u5668")),e.createElement("div",{className:"mBottom15 valignWrapper"},e.createElement("span",{className:"Gray_9e mRight18"},_l("\u8BBF\u95EE\u5730\u5740")),e.createElement("span",null,i),e.createElement(b.Z,{icon:"task-new-detail",className:"Font12 Gray_bd mLeft5 mTop3 pointer",onClick:function(){window.open(i)}})),e.createElement("div",null,e.createElement(h.default,{ghost:!0,type:"primary",onClick:function(){z(!0)}},_l("\u8BBE\u7F6E"))))),e.createElement(ee,{visible:we,onSave:function(Xe){Ze(Xe)},onCancel:function(){return z(!1)}}))},je=function(){return e.createElement(e.Fragment,null,e.createElement("div",{className:"flexRow"},e.createElement("div",{className:"flex flexColumn"},e.createElement("div",{className:"Font14 bold mBottom7"},_l("\u7533\u8BF7\u4E0A\u67B6\u4F01\u4E1A\u5FAE\u4FE1\u901A\u77E5")),e.createElement("div",{className:"Gray_9e mBottom15"},_l("\u5E73\u53F0\u7528\u6237\u7533\u8BF7\u5C06\u5E94\u7528\u4E0A\u67B6\u5230\u4F01\u4E1A\u5FAE\u4FE1\u5DE5\u4F5C\u53F0\uFF0C\u901A\u8FC7\u63A5\u53E3\u5C06\u5E73\u53F0\u7528\u6237\u7533\u8BF7\u901A\u77E5\u5230\u5E73\u53F0\u7BA1\u7406\u5458")),e.createElement("div",{className:"mBottom15 valignWrapper"},e.createElement("span",{className:"Gray_9e mRight18"},_l("\u901A\u77E5\u5730\u5740")),e.createElement("span",null,w||_l("\u672A\u914D\u7F6E")),w&&e.createElement(b.Z,{icon:"task-new-detail",className:"Font12 Gray_bd mLeft5 mTop3 pointer",onClick:function(){window.open(w)}})),e.createElement("div",null,e.createElement(h.default,{ghost:!0,type:"primary",onClick:function(){K(!0)}},_l("\u8BBE\u7F6E"))))),e.createElement(te,{visible:Ie,onSave:function(t){De(t)},onCancel:function(){return K(!1)}}))};return e.createElement("div",{className:"privateCardWrap flexColumn"},e.createElement("div",{className:"Font17 bold mBottom25"},_l("\u901A\u7528")),Te(),e.createElement(u.Z,{className:"mTop20 mBottom20"}),Ve(),e.createElement(u.Z,{className:"mTop20 mBottom20"}),a&&e.createElement(e.Fragment,null,He(),e.createElement(u.Z,{className:"mTop20 mBottom20"})),!a&&e.createElement(e.Fragment,null,Le(),e.createElement(u.Z,{className:"mTop20 mBottom20"})),Ge(),e.createElement(u.Z,{className:"mTop20 mBottom20"}),Pe(),!l&&e.createElement(e.Fragment,null,e.createElement(u.Z,{className:"mTop20 mBottom20"}),_e()),(a||!md.global.SysSettings.hideWorkWeixin)&&e.createElement(e.Fragment,null,e.createElement(u.Z,{className:"mTop20 mBottom20"}),je()))};const le=ae}}]);
