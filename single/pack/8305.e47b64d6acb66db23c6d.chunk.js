(self.webpackChunkmingdao_web=self.webpackChunkmingdao_web||[]).push([[8305],{18142:()=>{"use strict"},10361:()=>{"use strict"},59375:()=>{"use strict"},22464:()=>{"use strict"},37578:()=>{"use strict"},10457:()=>{"use strict"},53135:Ze=>{Ze.exports=`<div class="createCalendarBox createCalendarTitle">
    <div class="createCalendarLabel">{{= _l('\u65E5\u7A0B\u6807\u9898')}}</div>
    <input
        type="text"
        id="txtCalendarName"
        placeholder="{{= _l('\u8BF7\u8F93\u5165\u65E5\u7A0B\u6807\u9898\u2026')}}"
        class="box-sizing boderRadAll_3 ThemeBorderColor3 Font14 infoInput"
    />
    <div
        class="calendarColorModel boderRadAll_3 calendarColorBlue"
        title="{{=_l('\u5DE5\u4F5C\u65E5\u7A0B')}}"
        data-catid="1"
        id="createCategoryID"
    >
        <span class="icon-arrow-down-border"></span>
    </div>
    <ul
        class="calendarColorMain boderRadAll_3 Font14"
        id="calendarColorMain"
    ></ul>
</div>
<div class="createCalendarBox calendarTime Font14">
    <div class="createCalendarLabel">{{= _l('\u8D77\u6B62\u65F6\u95F4')}}</div>
    <span id="txtBeginDatebox">
        <input
            readonly="readonly"
            type="text"
            id="txtBeginDate"
            class="ThemeColor3 Font14 pointer"
        />
        <span
            class="icon-arrow-down-border mLeft5 TxtTop font8 bgImageLink pointer ThemeColor3"
        ></span>
    </span>
    <input
        id="txtBeginTimeCreate"
        tag="00:00"
        type="text"
        class="Font14 pointer txtTimeStyle ThemeColor3"
    />
    <span class="dateAlone">{{= _l('\u81F3')}}</span>
    <span id="txtEndDatebox">
        <input
            readonly="readonly"
            type="text"
            id="txtEndDate"
            class="Font14 pointer ThemeColor3"
        />
        <span
            class="icon-arrow-down-border mLeft5 TxtTop font8 bgImageLink pointer ThemeColor3"
        ></span>
    </span>
    <input
        id="txtEndTimeCreate"
        tag="00:00"
        type="text"
        class="Font14 pointer txtTimeStyle ThemeColor3"
    />
    <span
        class="timezone boderRadAll_3 Font14 ThemeBorderColor3 ThemeColor3 "
        >{{= _l('\u65F6\u533A')}}</span
    >
</div>
<div id="selectTimezone"></div>
<div class="allDay pointer">
    <label for="allDay">
        <input id="allDay" type="checkbox" />
        <span class="pointer">{{= _l("\u5168\u5929\u65E5\u7A0B")}}</span>
    </label>
</div>
<div class="createCalendarBox calendarRemind Font14">
    <div class="createCalendarLabel">{{= _l('\u63D0\u9192%19000')}}</div>
    <span
        class="remindTextLable"
        id="remindTextLableCreate"
        >{{= _l('\u63D0\u524D%19001') }}</span
    >
    <input
        type="text"
        id="remindTextCreate"
        class="remindText Font14 pointer ThemeColor3"
        value="15"
    />
    <input type="hidden" id="remindSelectCreate" />
    <span class="InlineBlock" id="remindSelectCreateBox" style="margin-top: -5px;margin-left: -12px;"></span>
    <div class="telRemindLabel InlineBlock mLeft25 Gray_9e">
        <label class="Hand">
            <span class="chekboxIcon"></span> {{= _l('\u7535\u8BDD\u63D0\u9192')}}
        </label>
        <span
            class="iconHelp"
            data-tip="{{= _l('\u52FE\u9009\u7535\u8BDD\u63D0\u9192\uFF0C\u5C06\u4EE5\u7535\u8BDD\u8BED\u97F3\u5F62\u5F0F\u901A\u77E5\u65E5\u7A0B\u53C2\u4E0E\u4EBA\u5458') }}"
        >
            <i class="icon-help"></i>
        </span>
    </div>
</div>
<div class="createCalendarBox Font14 Hidden" id="repeatContent">
    <div class="createCalendarLabel">
        <span class="chekboxIcon"></span>{{= _l('\u91CD\u590D')}}
    </div>
    <div id="noRepeatContent" class="Hidden">...</div>
    <div id="existRepeatContent">
        <span id="updateRepeatBtn"
            ><span class="repeatResultText"></span
            ><span class="ThemeColor3 repeatOperate">\u4FEE\u6539</span></span
        >
    </div>
</div>
<div class="createCalendarBox inputBox Font14 Hidden" id="addCalendarMembers">
    <div class="createCalendarLabel">{{= _l('\u51FA\u5E2D\u8005')}}</div>
    <div class="createAddMemberBox">
        <i class="icon-task-add-member-circle createAddMember ThemeColor3"></i>
    </div>
</div>
<div class="createCalendarBox inputBox Font14 Hidden" id="addressContent">
    <div class="createCalendarLabel">{{= _l('\u4F1A\u8BAE\u5730\u70B9')}}</div>
    <input
        type="text"
        id="txtAddress"
        class="txtAddress box-sizing boderRadAll_3 ThemeBorderColor3 infoInput"
        value=""
        placeholder="{{= _l('\u6DFB\u52A0\u4F1A\u8BAE\u5730\u70B9\u2026')}}"
    />
</div>
<div class="createCalendarBox inputBox Font14 Hidden" id="createCalendarDesc">
    <div class="createCalendarLabel">{{= _l('\u63CF\u8FF0\u548C\u9644\u4EF6')}}</div>
    <textarea
        type="text"
        id="txtDesc"
        class="createCalendarDesc box-sizing boderRadAll_3 ThemeBorderColor3 infoInput"
        value=""
        placeholder="{{= _l('\u586B\u5199\u63CF\u8FF0')}}"
    ></textarea>
    <div id="createCalendarAttachment_updater"></div>
</div>
<div class="createCalendarBox calendarTabs Font14" id="calendarTabs">
    <span
        data-type="addMember"
        class="ThemeBorderColor3 ThemeColor3"
        >{{= _l('\u51FA\u5E2D\u8005')}}</span
    >
    <span
        data-type="address"
        class="ThemeBorderColor3 ThemeColor3"
        >{{= _l('\u4F1A\u8BAE\u5730\u70B9')}}</span
    >
    <span
        data-type="desc"
        class="ThemeBorderColor3 ThemeColor3"
        >{{= _l('\u63CF\u8FF0\u548C\u9644\u4EF6')}}</span
    >
    <span
        data-type="repeat"
        class="ThemeBorderColor3 ThemeColor3 InlineBlock"
        >{{= _l('\u91CD\u590D')}}</span
    >
</div>
<div class="createCalendarBox Font14 calendarPrivate" id="calendarPrivate">
    <label class="pointer isPrivateLabel">
        <span class="chekboxIcon"></span> {{= _l('\u79C1\u5BC6\u65E5\u7A0B')}}
    </label>
    <span
        class="iconHelp"
        data-tip="\u65E5\u7A0B\u5185\u5BB9\u9ED8\u8BA4\u516C\u5F00\u7ED9\u6240\u6709\u540C\u4E8B\uFF0C\u52FE\u9009\u79C1\u5BC6\u65E5\u7A0B\uFF0C\u5C06\u4EC5\u5BF9\u53C2\u4E0E\u4EBA\u5458\u516C\u5F00\u3002"
    >
        <i class="icon-help"></i>
    </span>
</div>
<div class="box-sizing createCalendarOperator">
    <span
        class="boderRadAll_3 ThemeBGColor3"
        id="calendarSubmitBtn"
        >{{= _l('\u521B\u5EFA')}}</span
    >
</div>

<div class="repeatDialog Hidden" id="repeatDialog">
    <ul class="repeatDialogMain">
        <li class="box-sizing">
            <div class="createCalendarLabel">{{= _l('\u91CD\u590D\u7C7B\u578B')}}</div>
            <input type="hidden" id="tab_repeatType" value="1" />
            <span class="InlineBlock" id="tab_repeatTypeBox" style="margin-top: -5px;margin-left: -12px;"></span>
        </li>
        <li class="box-sizing">
            <div class="createCalendarLabel">{{= _l('\u91CD\u590D\u9891\u7387')}}</div>
            <span class="Font14">{{=_l('\u6BCF') }}</span>
            <input
                id="repetitionFrequency"
                defaultvalue="1"
                value="1"
                type="text"
                class="boderRadAll_3"
            />
            <span id="createRepeatTypeLabel" class="Font14">{{=_l('\u5468')}}</span>
            <span class="repeatTypeGroup" id="repeatTypeGroup">
                <input
                    class="repeatTypeGroupBtn pointer"
                    week="64"
                    index="7"
                    type="button"
                    value="{{=it.moment().day(0).format('dd')}}"
                />
                <input
                    class="repeatTypeGroupBtn pointer"
                    week="1"
                    index="1"
                    type="button"
                    value="{{=it.moment().day(1).format('dd')}}"
                />
                <input
                    class="repeatTypeGroupBtn pointer"
                    week="2"
                    index="2"
                    type="button"
                    value="{{=it.moment().day(2).format('dd')}}"
                />
                <input
                    class="repeatTypeGroupBtn pointer"
                    week="4"
                    index="3"
                    type="button"
                    value="{{=it.moment().day(3).format('dd')}}"
                />
                <input
                    class="repeatTypeGroupBtn pointer"
                    week="8"
                    index="4"
                    type="button"
                    value="{{=it.moment().day(4).format('dd')}}"
                />
                <input
                    class="repeatTypeGroupBtn pointer"
                    week="16"
                    index="5"
                    type="button"
                    value="{{=it.moment().day(5).format('dd')}}"
                />
                <input
                    class="repeatTypeGroupBtn pointer"
                    week="32"
                    index="6"
                    type="button"
                    value="{{=it.moment().day(6).format('dd')}}"
                />
            </span>
        </li>
        <li class="box-sizing">
            <div class="createCalendarLabel">{{= _l('\u7ED3\u675F\u65E5\u671F')}}</div>
            <input type="hidden" id="tab_repeatTime" value="0" />
            <span class="InlineBlock" id="tab_repeatTimeBox" style="margin-top: -5px;margin-left: -12px;"></span>
            <span id="overCount" class="Font14">
                {{=_l('\u53D1\u751F')}}
                <input
                    class="txtOverCount boderRadAll_3"
                    defaultvalue="1"
                    value="1"
                    type="text"
                    id="txtOverCount"
                />
                {{=_l('\u6B21\u540E')}}
            </span>
            <span id="overTime" class="Font14">
                <input
                    type="text"
                    readonly="readonly"
                    id="txtOverDate"
                    class="txtOverDate boderRadAll_3"
                />
            </span>
        </li>
        <li class="box-sizing">
            <div class="createCalendarLabel">{{= _l('\u7ED3\u679C')}}</div>
            <div id="repeatReault" class="Font14"></div>
        </li>
    </ul>
</div>
`},14837:Ze=>{Ze.exports=`<div class="groupTop TxtCenter">
    <div class="groupTopContent ThemeBGColor3 pTop25 pBottom25">
        <div class="groupHeader">
            <div class="groupHead Hand" titlename="{{= _l('\u4FEE\u6539\u5934\u50CF') }}"><img class="Hand groupAvatar" src="{{=it.defaultAvatar}}"/>
            </div>
            <div class="groupNameTotal Font16 mTop10">
                {{= _l('\u521B\u5EFA\u7FA4\u7EC4') }}
            </div>
        </div>
    </div>
</div>
<div class="pAll30 pTop5 mainContent">
    <div class="mTop15 groupType">
        {{? md.global.Account.projects.length && !it.createGroupInProject }}
        <span class="form-label">{{= _l('\u7FA4\u7EC4\u7C7B\u578B') }}</span>
        <label class="Hand mRight10"><input type="radio" name="groupType" class="official" {{=it.isProject ? 'checked' :
            ''}}>{{= _l('\u7EC4\u7EC7\u7FA4\u7EC4') }}</label>
        <label class="Hand mRight10"><input type="radio" name="groupType" {{=!it.isProject ? 'checked' : ''}}>{{= _l('\u4E2A\u4EBA\u7FA4\u7EC4') }}</label>
        {{?}}
    </div>
    <div class="mTop15 flexRow groupProjectSelect" {{=!it.isProject || it.createGroupInProject ?
    'style="display:none;"' : ''}}>
    <span class="form-label">{{= _l('\u7EC4\u7EC7\u7BA1\u7406') }}</span>
    <input type="hidden" class="hiddenCompanys">
    <span class="InlineBlock w100" id="hiddenCompanysBox"></span>
</div>
<div class="mTop15 flexRow">
    <span class="form-label">{{= _l('\u7FA4\u7EC4\u540D\u79F0') }}</span>
    <input type="text" class="TextBoxNew txtGroupName" placeholder="{{= _l('\u7FA4\u540D\u79F0\uFF08\u5FC5\u586B\uFF09') }}">
</div>
<div class="mTop15 flexRow spaceBetween">
    <span class="form-label">{{=_l('\u65B0\u6210\u5458\u52A0\u5165\u9700\u8981\u7BA1\u7406\u5458\u9A8C\u8BC1')}}
        <span class="tip-bottom" data-tip="{{= _l('\u4EC5\u5BF9\u4E3B\u52A8\u7533\u8BF7\u52A0\u5165\u548C\u901A\u8FC7\u94FE\u63A5\u9080\u8BF7\u7684\u7528\u6237\u751F\u6548')}}">
            <span class="icon-knowledge-message Font16 Gray_c"></span>
        </span>
    </span>
    <input class='tgl tgl-light' id='createGroupApproval' type='checkbox' data-type="approval" {{=it.openApproval ?
    'checked' : '' }}/><label class='tgl-btn joinApproval' for='createGroupApproval'></label>
</div>
<div class="mTop15 flexRow">
    <span class="form-label">{{= _l('\u7FA4\u516C\u544A') }}</span>
    <textarea class="TextArea TextBoxNew txtGroupAbout" placeholder="{{= _l('\u7FA4\u516C\u544A') }}"></textarea>
</div>
</div>
<div class="pLeft30 pRight30 pBottom30">
    <div class="clearfix">
        <div class="Left officialGroup mTop6"><label class="Hand"><input type="checkbox" class="deptCheckbox">{{= _l('\u8BBE\u4E3A\u5B98\u65B9\u7FA4\u7EC4') }}</label><span
            class="selectDep ThemeColor3 Hand Hidden mLeft5">{{= _l('\u9009\u62E9\u5173\u8054\u90E8\u95E8') }}</span></div>
        <div class="Right">
            <input type="button" class="btnCreate btnBootstrap btnBootstrap-primary btnBootstrap-small Right"
                   value="{{= _l('\u521B\u5EFA') }}">
            <a class="Right cancelCreate mTop6">{{= _l('\u53D6\u6D88') }}</a>
        </div>
    </div>
</div>
`},72130:Ze=>{Ze.exports=`<div class="settingPictureLayer">
    <div class="settingPictureLayerTitle">{{= _l('\u7CFB\u7EDF\u5934\u50CF') }}</div>
    <div class="settingPictureLayerImg clearfix">
        {{~ it.names:name }}
        <img data-name="{{= name }}" src="{{=it.basePath + name}}?imageView2/1/w/100/h/100/q/90" class="Hand singleHead"/>
        {{~}}
    </div>
    <div class="insertGroupImg">
        <a href="javascript:void(0);" id="uploadGroupAvatar">{{= _l('\u4F7F\u7528\u81EA\u5B9A\u4E49\u5934\u50CF') }}</a>
        <input type="file" class="Hidden hiddenUploadGroupAvatar"/>
    </div>
</div>
`},85850:Ze=>{Ze.exports=`{{var myPermis = it.myPermis;}}
{{~it.members:member:index}}
<li class="memberItem Hidden" {{= member.accountStatus == 3 && !member.accountId ? 'data-account="'+ member.account +'"' : 'data-account-id="'+ member.accountId +'"'}}>
    <span class="imgMemberBox" data-account-id="{{=member.accountId }}">
        <img class="imgCharge circle" src="{{=member.avatar }}" />
    </span>
    <span class="memberName ellipsis">
        <span class="added" title="{{! member.fullname }}">{{! member.fullname }}</span>
        {{?member.inviterAccountId && member.memberStatus == 2}}
            <span class="inviter">({{= _l('%0 \u9080\u8BF7','<a class="name ellipsis" data-account-id="'+ member.inviterAccountId +'">'+ member.inviterFullName+'</a>')}})</span>
        {{?}}
    </span>

    <span class="permission" {{= member.accountStatus == 3 && !member.accountId ? 'data-account="'+ member.account +'"' : 'data-account-id="'+ member.accountId +'"'}} data-permission="{{= member.permission}}" data-apkname="{{= member.apkName || ''}}">
        <span class="pointer {{= member.roleName  ? 'isApk' : ''}}">
            {{?member.permission === 1}}
            <span class="text charge">{{!_l('\u62E5\u6709\u8005')}}</span>
            {{??member.permission == 2}}
            <span class="text">{{!_l('\u7BA1\u7406\u5458')}}</span>
            {{??member.permission == 3 }}
            <span class="text">{{=  member.memberStatus != 2 ? _l('\u53EF\u7F16\u8F91') : _l('\u5F85\u5BA1\u6838') }}</span>
            {{??member.permission == 4 }}
            <span class="text">{{=  member.memberStatus != 2 ? _l('\u53EA\u8BFB') : _l('\u5F85\u5BA1\u6838') }}</span>
            {{?}}

            {{? member.permission != 1 && (myPermis == 1 || myPermis == 2) && !member.roleName}}
            <i class="icon-arrow-down-border" data-account-status="{{=member.accountStatus}}" data-member-status="{{=member.memberStatus}}"></i>
            {{?}}
        </span>
     </span>
    {{?member.roleName}}
    {{??member.permission == 1 && member.accountId == md.global.Account.accountId}}
        <span class="rootTrust">{{!_l('\u6258\u4ED8\u6587\u4EF6\u5939')}}</span>
    {{??member.permission == 2}}
        {{?member.accountId === md.global.Account.accountId}}
        <span class="remove exit">{{!_l('\u9000\u51FA')}}</span>
        {{??myPermis === 1}}
	<span class="remove">{{!_l('\u79FB\u9664')}}</span>
        {{??}}
        {{?}}
    {{??member.permission == 3 }}
        {{?member.accountId === md.global.Account.accountId}}
        <span class="remove exit">{{!_l('\u9000\u51FA')}}</span>
        {{??myPermis == 1 || myPermis == 2}}
            {{? member.accountStatus == 3 && it.isEdit}}
            <span class="toInvite ">{{!_l('\u91CD\u65B0\u9080\u8BF7')}}</span>
            {{?}}
        <span class="remove">{{!_l('\u79FB\u9664')}}</span>
        {{??}}
        {{?}}
    {{?}}
</li>
{{~}}
`},13512:Ze=>{Ze.exports=`{{ var myPermis = it.permission; }}
<div class="folderContent">
    {{? /\\/apps\\/kc/.test(location.pathname) && it.appName}}
    <div class="relatedToApp">
        <i class="icon-knowledge-message Font16"></i>
        <span>{{! _l('\u6B64\u5171\u4EAB\u6587\u4EF6\u5939\u5DF2\u88AB"%0"\u5E94\u7528\u5173\u8054', it.appName) }}</span>
    </div>
    {{?}}
    <div class="folderName">
        <span class="folderNameText Font12">{{!_l('\u6587\u4EF6\u5939\u540D\u79F0')}}</span>
        {{var readOnly = myPermis == 1 || myPermis== 2 ? '' : 'readonly = "readonly"'; }}
        <input type="text" class="txtFolderName boderRadAll_3 boxSizing" maxlength="256" {{=readOnly }}
               placeholder="{{!_l('\u8BF7\u8F93\u5165\u6587\u4EF6\u5939\u540D\u79F0')}}" data-id="{{=it.id }}" />
        <i class="addFolderStar {{= it.isStared ? 'icon-task-star' : 'icon-star-hollow' }}"></i>
    </div>
    <div class="attribute {{= md.global.Account.projects.length == 0 ? 'Hidden' : ''}}">
        <span class="title Font12">{{!_l('\u6587\u4EF6\u5939\u5F52\u5C5E')}}</span>
        <div class="dropBox Font12">
            <span class="seleted ellipsis" title="{{! it.project && it.project.projectId ? it.project.companyName : _l('\u4E2A\u4EBA')}}" data-project-id="{{! it.project && it.project.projectId || ''}}">{{! it.project && it.project.projectId ? it.project.companyName : _l('\u4E2A\u4EBA') }}</span>
            <span class="icon icon-arrow-down Right"></span>
            <ul id="folderAttributeList" class="z-depth-1-half Hidden"></ul>
        </div>
    </div>
    <div class="folderMembers">
        <div class="folderMemberBox">
            <div class="addMember addUser">
                <span class="ThemeColor3 text addFriends">
                    <i class="icon-addapplication addMemberIcon"></i>
                    <span>{{!_l('\u6DFB\u52A0\u534F\u4F5C\u8005')}}</span>
                </span>
                <!--<i class="icon-help Font16"></i>-->
            </div>
            <div class="nanoCon">
                <ul class="memberList">
                    {{~it.members:member:index}}
                    <li class="memberItem" {{= member.accountStatus == 3 && !member.accountId ? 'data-account="'+ member.account +'"' : 'data-account-id="'+ member.accountId +'"'}}>
                        <span class="imgMemberBox" data-account-id="{{=member.accountId }}">
                            <img class="imgCharge circle" src="{{=member.avatar }}" />
                        </span>
                        <span class="memberName ellipsis">
                            <span class="added ellipsis {{= member.inviterAccountId && member.memberStatus == 2 ? 'addedMax' : ''}}" title="{{! member.fullname }}">{{! member.fullname }}</span>
                            {{?member.inviterAccountId && member.memberStatus == 2}}
                                <span class="inviter">({{= _l('%0 \u9080\u8BF7','<a class="name ellipsis" data-account-id="'+ member.inviterAccountId +'">'+ member.inviterFullName+'</a>')}})</span>
                            {{?}}
                        </span>

                        <span class="permission" {{= member.accountStatus == 3 && !member.accountId ? 'data-account="'+ member.account +'"' : 'data-account-id="'+ member.accountId +'"'}} data-permission="{{= member.permission}}" data-apkname="{{= member.apkName || ''}}">
                            <span class="pointer {{= member.roleName  ? 'isApk' : ''}}">
                                {{?member.permission === 1}}
                                <span class="text owner">{{!_l('\u62E5\u6709\u8005')}}</span>
                                {{??member.permission == 2}}
                                <span class="text">{{!_l('\u7BA1\u7406\u5458')}}</span>
                                {{??member.permission == 3 }}
                                <span class="text">{{=  member.memberStatus != 2 ? _l('\u53EF\u7F16\u8F91') : _l('\u5F85\u5BA1\u6838') }}</span>
                                {{??member.permission == 4 }}
                                <span class="text">{{=  member.memberStatus != 2 ? _l('\u53EA\u8BFB') : _l('\u5F85\u5BA1\u6838') }}</span>
                                {{?}}

                                {{? member.permission != 1 && (myPermis == 1 || myPermis == 2) && !member.roleName}}
                                    <i class="icon-arrow-down-border"
                                        data-account-status="{{=member.accountStatus}}"
                                        data-member-status="{{=member.memberStatus}}"></i>
                                {{?}}
                            </span>
                        </span>
                        {{?member.roleName}}
                        {{??member.permission == 1 && member.accountId == md.global.Account.accountId}}
                            <span class="rootTrust">{{!_l('\u6258\u4ED8\u6587\u4EF6\u5939')}}</span>
                        {{??member.permission == 2 }}
                        {{?member.accountId === md.global.Account.accountId}}
                            <span class="remove exit">{{!_l('\u9000\u51FA')}}</span>
                        {{??myPermis === 1}}
                        {{? member.accountStatus == 3}}
                             <span class="toInvite ">{{!_l('\u91CD\u65B0\u9080\u8BF7')}}</span>
                        {{?}}
                            <span class="remove">{{!_l('\u79FB\u9664')}}</span>
                        {{??}}
                        {{?}}
                        {{??member.permission == 3 }}
                        {{?member.accountId === md.global.Account.accountId}}
                            <span class="remove exit">{{!_l('\u9000\u51FA')}}</span>
                        {{??myPermis === 1 || myPermis == 2}}
                        {{? member.accountStatus == 3}}
                            <span class="toInvite ">{{!_l('\u91CD\u65B0\u9080\u8BF7')}}</span>
                        {{?}}
                            <span class="remove">{{!_l('\u79FB\u9664')}}</span>
                        {{??}}
                        {{?}}
                        {{??member.permission == 4 }}
                        {{?member.accountId === md.global.Account.accountId}}
                            <span class="remove exit">{{!_l('\u9000\u51FA')}}</span>
                        {{??myPermis === 1 || myPermis == 2}}
                        {{? member.accountStatus == 3}}
                            <span class="toInvite ">{{!_l('\u91CD\u65B0\u9080\u8BF7')}}</span>
                        {{?}}
                            <span class="remove">{{!_l('\u79FB\u9664')}}</span>
                        {{??}}
                        {{?}}
                        {{?}}
                    </li>
                    {{~}}
                </ul>
            </div>
        </div>

        <ul id="updatePermission" class="taskBoxShadow" style="display:none;">
            <li data-value="2" class="adminItem itemLi">
                <span class="itemText">
                    <span>{{!_l('\u7BA1\u7406\u5458')}}</span>
                    <i class="icon-ok selectStatus Hidden"></i>
                </span>
                <span class="describe">{{! '\u53EF\u7BA1\u7406\u5171\u4EAB\u6210\u5458\uFF0C\u7BA1\u7406\u6587\u4EF6'}}</span>
            </li>
            <li class="line"></li>
            <li data-value="3" class="ordinaryItem itemLi">
                <span class="itemText rank">
                    <span>{{! '\u53EF\u7F16\u8F91'}}</span>
                    <i class="icon-ok selectStatus Hidden"></i>
                </span>
                <span class="describe">{{! '\u53EF\u6DFB\u52A0\u5171\u4EAB\u8005\uFF0C\u6DFB\u52A0\u4FEE\u6539\u6587\u4EF6'}}</span>
            </li>
            <li class="line"></li>
            <li data-value="4" class="readOnlyItem itemLi">
                <span class="itemText">
                    <span>{{! '\u53EA\u8BFB'}}</span>
                    <i class="icon-ok selectStatus Hidden"></i>
                </span>
                <span class="describe">{{! '\u53EF\u67E5\u770B\u548C\u4E0B\u8F7D\u5141\u8BB8\u4E0B\u8F7D\u7684\u6587\u4EF6'}}</span>
            </li>
        </ul>

        <ul id="checkInviter" class="taskBoxShadow" style="display:none">
            <li class="pass">{{!_l('\u5141\u8BB8')}}</li>
            <li class="reject">{{!_l('\u62D2\u7EDD')}}</li>
        </ul>
    </div>
</div>
`},35836:Ze=>{Ze.exports=`{{~it.list :group}}
<li
    class="
        Hand
        groupItem
        {{= group.type }}
        {{= (group.disabled ? 'disabled' : '')}}
        {{= group.id_str }}
    "
    data-id-str="{{= group.id_str }}"
    data-type="{{= group.type }}"
    data-groupid="{{=group.id}}"
>
<label class="ThemeBGColor3">
    <input type="checkbox"  {{= group.disabled ? 'disabled' : '' }} />
    {{? it.mostUsed && (group.type === 'allproject') }}
        {{! _l('\u6240\u6709\u540C\u4E8B') }}
        <span class="companyName ellipsis">{{! group.value}}</span>
    {{??}}
        <span class="groupName ellipsis">{{! group.value}}</span>
    {{?}}
    {{? group.disabled }}
        {{! _l('\uFF08\u5230\u671F\uFF09') }}
    {{?}}
    {{? it.mostUsed && (group.type === 'normal') }}
        <span class="groupInfoWrap" data-groupId="{{=group.id}}"></span>
    {{?}}
    {{? group.type === 'radio' }}
        <span class="radioInfo tip-bottom-left" data-tip="{{=_l('\u901A\u77E5\u5168\u5458\u5E76\u7F6E\u9876\u672C\u52A8\u6001') }}">
            <i class="icon icon-help"></i>
        </span>
    {{?}}
</label>
</li>
{{~}}
`},23999:Ze=>{Ze.exports=`{{ var module = 'SelectAllGroup'; }}
<div class="viewTo {{= module}}">
    <span class="{{= module}}-selectGroup updaterFor Hand">
    <span
      class="{{= module}}-selectedGroup"
    >
      {{= _l('\u9009\u62E9\u5206\u4EAB\u8303\u56F4')}}
    </span>
    </span>
    <div class="{{= module}}-groupListDiv Hidden isLoading {{= !it.projectsList ? 'noProjects' : ''}} {{= module + '-groupListDiv-' + it.position }}" style="width: {{= it.menuWidth}}px;">
        <div class="loadingCon">
            {{=LoadDiv()}}
        </div>
        <div class="groupListCon {{= it.noCreateGroup ? 'noCreateGroup' : ''}}">
            <ul>
                {{?!it.hideMostUsed}}
                <li class="projectItem mostUsed">
                    <div class="projectTitleCon">
                        <label title="{{! _l('\u6700\u5E38\u4F7F\u7528')}}" class="Hand  projectTitle open">
                            <span class="companyName">{{! _l('\u6700\u5E38\u4F7F\u7528')}}</span>
                            <i class="slideBtn"></i>
                        </label>
                    </div>
                    <ul class="groupList">
                        {{=LoadDiv()}}
                    </ul>
                </li>
                <hr>
                {{?}}
                {{?!!it.projects}}
                    {{~ it.projects:project}}
                    <li id="projectItem_{{=project.projectId}}" class="projectItem" data-projectId="{{= project.projectId}}" data-licenseType="{{= project.licenseType}}">
                        <div class="projectTitleCon">
                            <label title="{{= project.companyName}}" class="Hand  projectTitle  {{=project.licenseType === 0 ? 'disabled' : ''}}">
                                <span class="companyName {{! project.licenseType === 0 && 'expire'}}">{{! project.companyName}}</span>
                                {{?project.licenseType === 0}}
                                <span class="expire">{{! _l('\uFF08\u5230\u671F\uFF09') }}</span>
                                {{?}}
                                <i class="slideBtn"></i>
                            </label>
                        </div>
                        <ul class="groupList">
                        {{=LoadDiv()}}
                        </ul>
                    </li>
                    {{~}}
                {{?}}
                <li class="projectItem personItem">
                    <div class="projectTitleCon">
                        <label title="{{= !it.projectsList  ? (_l('\u7FA4\u7EC4')) : (_l('\u4E2A\u4EBA'))}}" class="Hand  projectTitle">
                            <span class="companyName">{{= !it.projectsList ? (_l('\u7FA4\u7EC4')) : (_l('\u4E2A\u4EBA'))}}</span>
                            <i class="slideBtn"></i>
                        </label>
                    </div>
                    <ul class="groupList">
                    {{=LoadDiv()}}
                    </ul>
                </li>
            </ul>
        </div>
        {{? !it.noCreateGroup}}
        <div class="addNewGroup ThemeColor3">
            {{! _l('+  \u521B\u5EFA\u65B0\u7FA4\u7EC4') }}
        </div>
        {{?}}
    </div>
</div>
`},92481:Ze=>{Ze.exports=`{{ var module = 'SelectAllGroup'; }}
<div class="viewTo {{= module}}">
    <span class="{{= module}}-selectGroup updaterFor Hand">
    <span
      class="ThemeColor3 {{= module}}-selectedGroup"
    >
      {{= _l('\u9009\u62E9\u5206\u4EAB\u8303\u56F4')}}
    </span>
    </span>
    <div class="{{= module}}-groupListDiv single Hidden {{= module + '-groupListDiv-' + it.position }}" style="width: {{= it.menuWidth}}px;">
        <div class="groupListCon" style="max-height: {{= it.maxHeight}}px">
            <ul>
                <li class="projectItem" data-projectId ="{{= it.projectId}}">
                    {{? it.showCompanyName}}
                    <div class="projectTitleCon">
                        <label class="Hand  projectTitle open">
                            <span class="companyName">
                                {{! it.companyName}}
                            </span>
                        </label>
                    </div>
                    {{?}}
                    <ul class="groupList visible">
                        {{= LoadDiv()}}
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</div>
`},4350:Ze=>{Ze.exports=`<div class="addAttachmentToKc Hidden mTop10">
    <input id="addAttachmentToKcToggle" type="checkbox" />
    <span id="addAttachmentToKcLink" class="ThemeColor3 Hand">\u672C\u5730\u6587\u4EF6\u5B58\u5165\u77E5\u8BC6\u4E2D\u5FC3</span>
</div>
`},30781:Ze=>{Ze.exports=`{{? it.showArrow}}
<div class="arrowUpOuter" style="left:{{! it.arrowLeft}}px">
    <div class="arrowUpInner" />
</div>
{{?}}
<div class="updaterDialog_Main pAll10">
    <div class="Left">
        <span class="uploadAttachmentLink TxtMiddle" id={{! it.pluploadID}}>
    <i class="icon icon-localUpload TxtMiddle ThemeColor3 mRight5" />
    {{! _l('\u672C\u5730\u6587\u4EF6')}}
    </span>
        <span class="uploadAttachmentLink TxtMiddle" id="kcAttachment">
    <i class="icon icon-home-knowledge TxtMiddle ThemeColor3 mRight5" />
    {{! _l('\u77E5\u8BC6\u4E2D\u5FC3')}}
    </span>
    </div>
    <div class="Right Gray_9 Font12">
        <span class="currentUploadSize">0M</span>/1G(\u81F3\u591A\u672C\u5730,\u77E5\u8BC6\u6587\u4EF6\u540410\u4E2A)</div>
    <div class="Right">
        {{? !it.hidePrograss}}
        <div class="attachmentPrograss">
            <div class="currentPrograss" />
        </div>
        {{?}}
    </div>
    <div class="Clear" />
</div>
`},82527:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={getAccountByAccount:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AddressBook","GetAccountByAccount",t,e)},getNewFriends:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AddressBook","GetNewFriends",t,e)},getMobileAddressRecommend:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AddressBook","GetMobileAddressRecommend",t,e)},getAllAddressbook:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AddressBook","GetAllAddressbook",t,e)},searchAddressbookAndDepartment:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AddressBook","SearchAddressbookAndDepartment",t,e)},getAllChatAddressbookByKeywords:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AddressBook","GetAllChatAddressbookByKeywords",t,e)},getUserAddressbookByKeywords:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AddressBook","GetUserAddressbookByKeywords",t,e)},addIgnoreMobileAddress:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AddressBook","AddIgnoreMobileAddress",t,e)},addFriend:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AddressBook","AddFriend",t,e)},removeFriend:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AddressBook","RemoveFriend",t,e)},editAgreeFriend:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AddressBook","EditAgreeFriend",t,e)},editRefuseFriend:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AddressBook","EditRefuseFriend",t,e)},editIgnoreFriend:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AddressBook","EditIgnoreFriend",t,e)}}},49365:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={allUsageOverviewStatistics:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","AllUsageOverviewStatistics",t,e)},appUsageOverviewStatistics:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","AppUsageOverviewStatistics",t,e)},usageStatisticsForDimension:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","UsageStatisticsForDimension",t,e)},getGlobalLogs:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetGlobalLogs",t,e)},getWorksheetsUnderTheApp:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetWorksheetsUnderTheApp",t,e)},addLock:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","AddLock",t,e)},unlock:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","Unlock",t,e)},editLockPassword:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","EditLockPassword",t,e)},resetLock:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","ResetLock",t,e)},closeLock:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","CloseLock",t,e)},checkUpgrade:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","CheckUpgrade",t,e)},getWorksheetUpgrade:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetWorksheetUpgrade",t,e)},upgrade:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","Upgrade",t,e)},getUpgradeLogs:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetUpgradeLogs",t,e)},getMdyInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetMdyInfo",t,e)},getAppLangs:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAppLangs",t,e)},createAppLang:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","CreateAppLang",t,e)},deleteAppLang:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","DeleteAppLang",t,e)},getAppLangDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAppLangDetail",t,e)},editAppLang:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","EditAppLang",t,e)},machineTranslation:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","MachineTranslation",t,e)},getAppStructureForER:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAppStructureForER",t,e)},addRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","AddRole",t,e)},removeRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","RemoveRole",t,e)},addRoleMembers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","AddRoleMembers",t,e)},removeRoleMembers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","RemoveRoleMembers",t,e)},setRoleCharger:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","SetRoleCharger",t,e)},cancelRoleCharger:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","CancelRoleCharger",t,e)},quitAppForRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","QuitAppForRole",t,e)},quitRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","QuitRole",t,e)},editAppRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","EditAppRole",t,e)},removeUserToRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","RemoveUserToRole",t,e)},updateMemberStatus:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","UpdateMemberStatus",t,e)},updateAppRoleNotify:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","UpdateAppRoleNotify",t,e)},updateAppDebugModel:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","UpdateAppDebugModel",t,e)},setDebugRoles:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","SetDebugRoles",t,e)},copyRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","CopyRole",t,e)},copyRoleToExternalPortal:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","CopyRoleToExternalPortal",t,e)},copyExternalRolesToInternal:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","CopyExternalRolesToInternal",t,e)},sortRoles:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","SortRoles",t,e)},getAppRoleSetting:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAppRoleSetting",t,e)},getRolesWithUsers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetRolesWithUsers",t,e)},getTotalMember:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetTotalMember",t,e)},getRolesByMemberId:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetRolesByMemberId",t,e)},getOutsourcingMembers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetOutsourcingMembers",t,e)},getAppRoleSummary:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAppRoleSummary",t,e)},getDebugRoles:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetDebugRoles",t,e)},getMembersByRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetMembersByRole",t,e)},batchEditMemberRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","BatchEditMemberRole",t,e)},batchMemberQuitApp:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","BatchMemberQuitApp",t,e)},getRoleDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetRoleDetail",t,e)},getAddRoleTemplate:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAddRoleTemplate",t,e)},getAppForManager:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAppForManager",t,e)},getManagerApps:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetManagerApps",t,e)},refresh:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","Refresh",t,e)},getAppsForProject:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAppsForProject",t,e)},getAppsByProject:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAppsByProject",t,e)},getApps:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetApps",t,e)},getToken:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetToken",t,e)},editAppStatus:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","EditAppStatus",t,e)},checkIsAppAdmin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","CheckIsAppAdmin",t,e)},checkAppAdminForUser:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","CheckAppAdminForUser",t,e)},addRoleMemberForAppAdmin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","AddRoleMemberForAppAdmin",t,e)},removeWorkSheetAscription:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","RemoveWorkSheetAscription",t,e)},removeWorkSheetForApp:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","RemoveWorkSheetForApp",t,e)},getAppItemRecoveryList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAppItemRecoveryList",t,e)},appItemRecovery:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","AppItemRecovery",t,e)},editWorkSheetInfoForApp:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","EditWorkSheetInfoForApp",t,e)},updateAppOwner:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","UpdateAppOwner",t,e)},addWorkSheet:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","AddWorkSheet",t,e)},addSheet:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","AddSheet",t,e)},changeSheet:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","ChangeSheet",t,e)},copyCustomPage:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","CopyCustomPage",t,e)},addAuthorize:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","AddAuthorize",t,e)},getAuthorizes:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAuthorizes",t,e)},editAuthorizeStatus:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","EditAuthorizeStatus",t,e)},deleteAuthorizeStatus:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","DeleteAuthorizeStatus",t,e)},editAuthorizeRemark:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","EditAuthorizeRemark",t,e)},getWeiXinBindingInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetWeiXinBindingInfo",t,e)},getAppApplyInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAppApplyInfo",t,e)},addAppApply:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","AddAppApply",t,e)},editAppApplyStatus:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","EditAppApplyStatus",t,e)},getIcon:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetIcon",t,e)},addCustomIcon:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","AddCustomIcon",t,e)},deleteCustomIcon:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","DeleteCustomIcon",t,e)},getCustomIconByProject:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetCustomIconByProject",t,e)},getAppsCategoryInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAppsCategoryInfo",t,e)},getAppsLibraryInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAppsLibraryInfo",t,e)},installApp:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","InstallApp",t,e)},getAppLibraryDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAppLibraryDetail",t,e)},getLibraryToken:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetLibraryToken",t,e)},getLogs:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetLogs",t,e)},getExportsByApp:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetExportsByApp",t,e)},getExportPassword:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetExportPassword",t,e)},addWorkflow:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","AddWorkflow",t,e)},getEntityShare:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetEntityShare",t,e)},editEntityShareStatus:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","EditEntityShareStatus",t,e)},getEntityShareById:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetEntityShareById",t,e)},deleteBackupFile:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","DeleteBackupFile",t,e)},pageGetBackupRestoreOperationLog:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","PageGetBackupRestoreOperationLog",t,e)},getAppSupportInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetAppSupportInfo",t,e)},renameBackupFileName:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","RenameBackupFileName",t,e)},getValidBackupFileInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","GetValidBackupFileInfo",t,e)},restore:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","Restore",t,e)},backup:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","Backup",t,e)},checkRestoreFile:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AppManagement","CheckRestoreFile",t,e)}}},94780:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={getUserInvitedCalendarsCount:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","GetUserInvitedCalendarsCount",t,e)},getUserInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","GetUserInfo",t,e)},getIcsUrl:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","GetIcsUrl",t,e)},getUserBusyStatus:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","GetUserBusyStatus",t,e)},invitedCalendars:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","InvitedCalendars",t,e)},getCalendarList2:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","GetCalendarList2",t,e)},getCalendars:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","GetCalendars",t,e)},getCalendarDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","GetCalendarDetail",t,e)},getCalendarDetail2:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","GetCalendarDetail2",t,e)},getCalendarShareDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","GetCalendarShareDetail",t,e)},updateCalednarShare:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","UpdateCalednarShare",t,e)},insertCalendarWeChatMember:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","InsertCalendarWeChatMember",t,e)},removeCalendarWeChatMember:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","RemoveCalendarWeChatMember",t,e)},getShareConfig:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","GetShareConfig",t,e)},insertCalendar:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","InsertCalendar",t,e)},deleteCalendar:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","DeleteCalendar",t,e)},updateCalendarIsPrivate:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","UpdateCalendarIsPrivate",t,e)},updateCalendarCatId:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","UpdateCalendarCatId",t,e)},updateMemberRemind:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","UpdateMemberRemind",t,e)},updateVoiceRemind:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","UpdateVoiceRemind",t,e)},editCalendar:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","EditCalendar",t,e)},editCalendarTime:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","EditCalendarTime",t,e)},addMembers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","AddMembers",t,e)},reInvite:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","ReInvite",t,e)},changeMember:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","ChangeMember",t,e)},removeMember:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","RemoveMember",t,e)},convertCalendarToTask:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","ConvertCalendarToTask",t,e)},deleteUserCalCategory:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","DeleteUserCalCategory",t,e)},updateUserCalCategoryInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","UpdateUserCalCategoryInfo",t,e)},getUserAllCalCategories:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Calendar","GetUserAllCalCategories",t,e)}}},3735:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>t});var pe=a(52945),r=a.n(pe);const t={addDepartment:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","AddDepartment",X,J)},editDepartment:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","EditDepartment",X,J)},editDepartmentSingleChargeUser:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","EditDepartmentSingleChargeUser",X,J)},deleteDepartments:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","DeleteDepartments",X,J)},pagedSubDepartments:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","PagedSubDepartments",X,J)},getProjectSubDepartment:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetProjectSubDepartment",X,J)},searchDeptAndUsers:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","SearchDeptAndUsers",X,J)},getProjectDepartmentFullTreeByDepartmentId:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetProjectDepartmentFullTreeByDepartmentId",X,J)},getOneDepartmentFullTree:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetOneDepartmentFullTree",X,J)},getProjectContactDepartments:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetProjectContactDepartments",X,J)},getDepartmentInfo:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetDepartmentInfo",X,J)},searchProjectDepartment2:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","SearchProjectDepartment2",X,J)},searchProjectDepartment:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","SearchProjectDepartment",X,J)},importDepartmentList:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","ImportDepartmentList",X,J)},pagedDeptAccountShrotInfos:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","PagedDeptAccountShrotInfos",X,J)},getProjectDepartmentUsers:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetProjectDepartmentUsers",X,J)},getNoDepartmentUsers:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetNoDepartmentUsers",X,J)},moveDepartment:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","MoveDepartment",X,J)},getDepartmentFullNameById:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return J.ajaxOptions=r()({},J.ajaxOptions,{type:"GET"}),mdyAPI("Department","GetDepartmentFullNameById",X,J)},getDepartmentFullNameByIds:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetDepartmentFullNameByIds",X,J)},getProjectSubDepartmentByDepartmentId:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetProjectSubDepartmentByDepartmentId",X,J)},getMembersAndSubs:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetMembersAndSubs",X,J)},getProjectDepartmentByPage:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetProjectDepartmentByPage",X,J)},pagedDepartmentTrees:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","PagedDepartmentTrees",X,J)},pagedProjectDepartmentTrees:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","PagedProjectDepartmentTrees",X,J)},getContactProjectDepartments:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetContactProjectDepartments",X,J)},getDepartmentUsers:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetDepartmentUsers",X,J)},getDepartmentsByAccountId:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetDepartmentsByAccountId",X,J)},getNotInDepartmentUsers:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetNotInDepartmentUsers",X,J)},searchDepartment:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","SearchDepartment",X,J)},getDepartmentByJoinProject:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","GetDepartmentByJoinProject",X,J)},searchDepartment2:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Department","SearchDepartment2",X,J)}}},537:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={addDiscussion:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Discussion","AddDiscussion",t,e)},getDiscussions:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Discussion","GetDiscussions",t,e)},getDiscussionsCount:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Discussion","GetDiscussionsCount",t,e)},removeDiscussion:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Discussion","RemoveDiscussion",t,e)},getDiscussionMsg:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Discussion","GetDiscussionMsg",t,e)},getSourceAtts:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Discussion","GetSourceAtts",t,e)}}},35989:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={getLoginUrl:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetLoginUrl",t,e)},getPortalSetByAppId:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetPortalSetByAppId",t,e)},getAppIdByAddressSuffix:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetAppIdByAddressSuffix",t,e)},getUserAgreement:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetUserAgreement",t,e)},getPrivacyTerms:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetPrivacyTerms",t,e)},getPortalSet:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetPortalSet",t,e)},getPortalEnableState:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetPortalEnableState",t,e)},getConfig:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetConfig",t,e)},createEPDiscussWorkFlow:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","CreateEPDiscussWorkFlow",t,e)},editExPortalEnable:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","EditExPortalEnable",t,e)},editIsSendMsgs:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","EditIsSendMsgs",t,e)},editPortalSet:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","EditPortalSet",t,e)},editCustomAddressSuffix:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","EditCustomAddressSuffix",t,e)},sendAccountVerifyCode:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","SendAccountVerifyCode",t,e)},checkExAccountVerifyCode:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","CheckExAccountVerifyCode",t,e)},getUserTemple:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetUserTemple",t,e)},getUserCollect:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetUserCollect",t,e)},getUserActionLogs:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetUserActionLogs",t,e)},dateHistogram:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","DateHistogram",t,e)},importExAccounts:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","ImportExAccounts",t,e)},addExAccounts:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","AddExAccounts",t,e)},reinviteExAccount:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","ReinviteExAccount",t,e)},saveUserDetailForBackgroud:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","SaveUserDetailForBackgroud",t,e)},saveUserDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","SaveUserDetail",t,e)},editExAccountsRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","EditExAccountsRole",t,e)},editExAccountState:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","EditExAccountState",t,e)},auditPassExAccountToNewRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","AuditPassExAccountToNewRole",t,e)},refusePassExAccount:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","RefusePassExAccount",t,e)},editExAccountCancel:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","EditExAccountCancel",t,e)},bindExAccount:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","BindExAccount",t,e)},editExAccount:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","EditExAccount",t,e)},removeUsers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","RemoveUsers",t,e)},getViewShowControls:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetViewShowControls",t,e)},editViewShowControls:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","EditViewShowControls",t,e)},getExAccountCategoryCount:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetExAccountCategoryCount",t,e)},getFilterRows:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetFilterRows",t,e)},getDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetDetail",t,e)},getUsers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetUsers",t,e)},getUsersByApp:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetUsersByApp",t,e)},removeUsersByPorject:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","RemoveUsersByPorject",t,e)},getAppInfoByProject:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetAppInfoByProject",t,e)},getExRoles:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetExRoles",t,e)},addExRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","AddExRole",t,e)},editDefaultExRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","EditDefaultExRole",t,e)},editAppExRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","EditAppExRole",t,e)},removeExRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","RemoveExRole",t,e)},sendVerifyCode:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","SendVerifyCode",t,e)},autoLogin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","AutoLogin",t,e)},login:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","Login",t,e)},pwdLogin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","PwdLogin",t,e)},twofactorLogin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","TwofactorLogin",t,e)},getTwofactorInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetTwofactorInfo",t,e)},exportalSSO:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","ExportalSSO",t,e)},infoLogin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","InfoLogin",t,e)},getTpLoginUrlInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetTpLoginUrlInfo",t,e)},tpLogin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","TpLogin",t,e)},getSelfLoginScanUrl:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetSelfLoginScanUrl",t,e)},getSelfTpLoginUrlInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetSelfTpLoginUrlInfo",t,e)},getTpLoginSubscribedScanUrl:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","GetTpLoginSubscribedScanUrl",t,e)},scanTpLogin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","ScanTpLogin",t,e)},findPwd:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ExternalPortal","FindPwd",t,e)}}},29208:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>t});var pe=a(52945),r=a.n(pe);const t={loadProvince:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("FixedData","LoadProvince",X,J)},loadCityCountyById:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("FixedData","LoadCityCountyById",X,J)},getCitysByParentID:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("FixedData","GetCitysByParentID",X,J)},loadIndustry:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("FixedData","LoadIndustry",X,J)},checkSensitive:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return J.ajaxOptions=r()({},J.ajaxOptions,{type:"GET"}),mdyAPI("FixedData","CheckSensitive",X,J)},loadTimeZones:function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return J.ajaxOptions=r()({},J.ajaxOptions,{type:"GET"}),mdyAPI("FixedData","LoadTimeZones",X,J)}}},65406:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={getGroupsSearch:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","GetGroupsSearch",t,e)},getGroupsNameAndIsVerified:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","GetGroupsNameAndIsVerified",t,e)},selectGroupMostFrequent:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","SelectGroupMostFrequent",t,e)},selectGroup:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","SelectGroup",t,e)},getGroups:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","GetGroups",t,e)},getContactGroups:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","GetContactGroups",t,e)},getGroupUsers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","GetGroupUsers",t,e)},getGroupEffectUsers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","GetGroupEffectUsers",t,e)},getGroupAvatarSelectList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","GetGroupAvatarSelectList",t,e)},getGroupInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","GetGroupInfo",t,e)},getGroupCardInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","GetGroupCardInfo",t,e)},addGroup:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","AddGroup",t,e)},addDiscussionGroup:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","AddDiscussionGroup",t,e)},addAdmin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","AddAdmin",t,e)},applyJoinGroup:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","ApplyJoinGroup",t,e)},passJoinGroup:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","PassJoinGroup",t,e)},exitGroup:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","ExitGroup",t,e)},openGroup:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","OpenGroup",t,e)},closeGroup:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","CloseGroup",t,e)},updateGroupPushNotice:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","UpdateGroupPushNotice",t,e)},updateGroupAvatar:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","UpdateGroupAvatar",t,e)},updateGroupName:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","UpdateGroupName",t,e)},updateGroupAbout:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","UpdateGroupAbout",t,e)},updateGroupApproval:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","UpdateGroupApproval",t,e)},updateGroupHidden:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","UpdateGroupHidden",t,e)},updateGroupToPost:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","UpdateGroupToPost",t,e)},updateGroupVerified:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","UpdateGroupVerified",t,e)},updateGroupForbidSpeak:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","UpdateGroupForbidSpeak",t,e)},updateGroupForbidInvite:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","UpdateGroupForbidInvite",t,e)},removeGroup:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","RemoveGroup",t,e)},removeAdmin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","RemoveAdmin",t,e)},removeUser:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","RemoveUser",t,e)},refuseUser:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","RefuseUser",t,e)},cancelInviteUser:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","CancelInviteUser",t,e)},valideUserJoinGroup:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Group","ValideUserJoinGroup",t,e)}}},24035:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={getInviteAccountInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Invitation","GetInviteAccountInfo",t,e)},inviteUser:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Invitation","InviteUser",t,e)},getInviteLink:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Invitation","GetInviteLink",t,e)},getQRCodeInviteLink:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Invitation","GetQRCodeInviteLink",t,e)},getAllValidTokenByAccountId:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Invitation","GetAllValidTokenByAccountId",t,e)},updateAuthToExpire:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Invitation","UpdateAuthToExpire",t,e)},updateAuthDeadtime:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Invitation","UpdateAuthDeadtime",t,e)}}},17429:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={addPost:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","AddPost",t,e)},addPostComment:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","AddPostComment",t,e)},removePost:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","RemovePost",t,e)},removePostComment:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","RemovePostComment",t,e)},editPostShareScope:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","EditPostShareScope",t,e)},editPost:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","EditPost",t,e)},getPostDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","GetPostDetail",t,e)},getPostList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","GetPostList",t,e)},getPostListByLegacyPara:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","GetPostListByLegacyPara",t,e)},getIRepliedList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","GetIRepliedList",t,e)},getLinkViewInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","GetLinkViewInfo",t,e)},getMorePostComments:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","GetMorePostComments",t,e)},getReplyMessage:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","GetReplyMessage",t,e)},getTopPosts:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","GetTopPosts",t,e)},addTopPost:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","AddTopPost",t,e)},removeTopPost:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","RemoveTopPost",t,e)},like:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","Like",t,e)},favorite:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","Favorite",t,e)},getLikeUsers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","GetLikeUsers",t,e)},votePost:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","VotePost",t,e)},editVoteDeadline:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Post","EditVoteDeadline",t,e)}}},99924:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={getSysColor:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetSysColor",t,e)},getAllowApplyManageRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetAllowApplyManageRole",t,e)},getMDLoginSetting:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetMDLoginSetting",t,e)},getSsoSettings:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetSsoSettings",t,e)},getSubDomain:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetSubDomain",t,e)},getPrivacy:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetPrivacy",t,e)},getStructureForAll:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetStructureForAll",t,e)},getEnabledWatermark:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetEnabledWatermark",t,e)},getEnabledNoneVerification:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetEnabledNoneVerification",t,e)},getOnlyManagerCreateApp:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetOnlyManagerCreateApp",t,e)},getAutoPurchaseWorkflowExtPack:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetAutoPurchaseWorkflowExtPack",t,e)},getAutoPurchaseDataPipelineExtPack:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetAutoPurchaseDataPipelineExtPack",t,e)},getOnlyManagerSettings:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetOnlyManagerSettings",t,e)},setLogo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetLogo",t,e)},setCustomeHomeImage:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetCustomeHomeImage",t,e)},setStructureForAll:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetStructureForAll",t,e)},setStructureSelfEdit:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetStructureSelfEdit",t,e)},setOnlyManagerCreateApp:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetOnlyManagerCreateApp",t,e)},setEnabledWatermark:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetEnabledWatermark",t,e)},setEnabledNoneVerification:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetEnabledNoneVerification",t,e)},setAutoPurchaseWorkflowExtPack:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetAutoPurchaseWorkflowExtPack",t,e)},setAutoPurchaseDataPipelineExtPack:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetAutoPurchaseDataPipelineExtPack",t,e)},setAllowApplyManageRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetAllowApplyManageRole",t,e)},setMDLoginSetting:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetMDLoginSetting",t,e)},setSso:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetSso",t,e)},setSsoName:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetSsoName",t,e)},setSsoUrl:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetSsoUrl",t,e)},setSubDomin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetSubDomin",t,e)},setPrivacy:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetPrivacy",t,e)},setOnlyManager:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetOnlyManager",t,e)},setPrivacys:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetPrivacys",t,e)},getProjectLdapSetting:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetProjectLdapSetting",t,e)},updateProjectLdapSetting:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","UpdateProjectLdapSetting",t,e)},updateLdapState:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","UpdateLdapState",t,e)},updateLdapName:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","UpdateLdapName",t,e)},getColorSettings:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetColorSettings",t,e)},editColorSettings:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","EditColorSettings",t,e)},setApiProxyState:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","SetApiProxyState",t,e)},getApiProxyState:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetApiProxyState",t,e)},getApiProxySettings:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","GetApiProxySettings",t,e)},editApiProxySettings:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","EditApiProxySettings",t,e)},projectClearCache:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("ProjectSetting","ProjectClearCache",t,e)}}},5505:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={saveWorksheet:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","SaveWorksheet",t,e)},saveSetting:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","SaveSetting",t,e)},refreshPublicWorksheetUrl:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","RefreshPublicWorksheetUrl",t,e)},updatePublicWorksheetState:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","UpdatePublicWorksheetState",t,e)},reset:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","Reset",t,e)},getPublicWorksheetInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","GetPublicWorksheetInfo",t,e)},getPublicQuery:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","GetPublicQuery",t,e)},editPublicQueryState:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","EditPublicQueryState",t,e)},editPublicQuery:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","EditPublicQuery",t,e)},getPublicWorksheet:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","GetPublicWorksheet",t,e)},getUserInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","GetUserInfo",t,e)},getWorksheetInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","GetWorksheetInfo",t,e)},getToken:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","GetToken",t,e)},getRowDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","GetRowDetail",t,e)},getRelationRows:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","GetRelationRows",t,e)},getLastFillData:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","GetLastFillData",t,e)},queryHistoryRows:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","QueryHistoryRows",t,e)},updateWorksheetRow:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","UpdateWorksheetRow",t,e)},addRow:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","AddRow",t,e)},sendVerifyCode:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","SendVerifyCode",t,e)},deleteWorksheetRows:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","DeleteWorksheetRows",t,e)},getPublicQueryById:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","GetPublicQueryById",t,e)},query:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("PublicWorksheet","Query",t,e)}}},30539:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={isSuperAdmin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","IsSuperAdmin",t,e)},isProjectAdmin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","IsProjectAdmin",t,e)},getSummaryRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","GetSummaryRole",t,e)},getUserPermissions:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","GetUserPermissions",t,e)},getRolePermisson:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","GetRolePermisson",t,e)},getProjectPermissionsByUser:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","GetProjectPermissionsByUser",t,e)},addUserToRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","AddUserToRole",t,e)},removeUserFromRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","RemoveUserFromRole",t,e)},getPageUserIds:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","GetPageUserIds",t,e)},editRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","EditRole",t,e)},removeRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","RemoveRole",t,e)},applyRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","ApplyRole",t,e)},agreeUserToRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","AgreeUserToRole",t,e)},refuseUserToRole:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","RefuseUserToRole",t,e)},getUnauditedUserCount:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","GetUnauditedUserCount",t,e)},getUnauditedUserDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","GetUnauditedUserDetail",t,e)},getPageLogs:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Role","GetPageLogs",t,e)}}},14898:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={getAllowChooseUsers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Structure","GetAllowChooseUsers",t,e)},getStructureUsers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Structure","GetStructureUsers",t,e)},getSubordinateUsers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Structure","GetSubordinateUsers",t,e)},pagedGetAccountList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Structure","PagedGetAccountList",t,e)},getTreesByAccountId:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Structure","GetTreesByAccountId",t,e)},myStructures:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Structure","MyStructures",t,e)},getParentsByAccountId:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Structure","GetParentsByAccountId",t,e)},addStructure:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Structure","AddStructure",t,e)},replaceUserStructure:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Structure","ReplaceUserStructure",t,e)},removeParentID:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Structure","RemoveParentID",t,e)}}},96213:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={getFolderTaskListByStageID:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetFolderTaskListByStageID",t,e)},setStageOwner:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","SetStageOwner",t,e)},getFolderTaskCharges:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetFolderTaskCharges",t,e)},getFolderConfig:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetFolderConfig",t,e)},getFolderListForUpdateFolderID:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetFolderListForUpdateFolderID",t,e)},getFolderListForCreateTask:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetFolderListForCreateTask",t,e)},getFolderDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetFolderDetail",t,e)},getFolderLog:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetFolderLog",t,e)},addFolder:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","AddFolder",t,e)},removeFolder:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","RemoveFolder",t,e)},updateStageConfig:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateStageConfig",t,e)},updateFolderArchived:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateFolderArchived",t,e)},updateFolderAuthVisible:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateFolderAuthVisible",t,e)},updateFolderVisibility:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateFolderVisibility",t,e)},updateFolderCharge:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateFolderCharge",t,e)},updateFolderName:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateFolderName",t,e)},updateFolderDes:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateFolderDes",t,e)},updateFolderMemberNotice:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateFolderMemberNotice",t,e)},duplicateFolder:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","DuplicateFolder",t,e)},getFolderStage:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetFolderStage",t,e)},addFolderStage:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","AddFolderStage",t,e)},updateFolderStage:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateFolderStage",t,e)},deleteFolderStage:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","DeleteFolderStage",t,e)},checkAccountNeedAddIntoFolder:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","CheckAccountNeedAddIntoFolder",t,e)},getFolderSettingsForCurrentUser:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetFolderSettingsForCurrentUser",t,e)},applyFolderMember:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","ApplyFolderMember",t,e)},refuseFolderMember:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","RefuseFolderMember",t,e)},addFolderMembers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","AddFolderMembers",t,e)},updateFolderMemberStatusAndAuth:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateFolderMemberStatusAndAuth",t,e)},removeFolderMember:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","RemoveFolderMember",t,e)},updateFolderTop:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateFolderTop",t,e)},updateFolderDisplay:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateFolderDisplay",t,e)},updateFolderIntoFile:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateFolderIntoFile",t,e)},updateFolderMemberAuth:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateFolderMemberAuth",t,e)},getFolderFiles:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetFolderFiles",t,e)},addUserFolderFile:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","AddUserFolderFile",t,e)},updateUserFolderFile:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateUserFolderFile",t,e)},deleteUserFolderFile:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","DeleteUserFolderFile",t,e)},getTags:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTags",t,e)},getSettingDefualtProjectId:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetSettingDefualtProjectId",t,e)},getSetting:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetSetting",t,e)},followUserOfSetting:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","FollowUserOfSetting",t,e)},unfollowUserOfSetting:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UnfollowUserOfSetting",t,e)},updateUserStatusOfSetting:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateUserStatusOfSetting",t,e)},getSubordinateTaskGantt:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetSubordinateTaskGantt",t,e)},getFolderTaskGantt:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetFolderTaskGantt",t,e)},getTaskStaticGanttChart:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTaskStaticGanttChart",t,e)},updateTaskActualStartTime:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateTaskActualStartTime",t,e)},updateTasksActualStartTime:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateTasksActualStartTime",t,e)},updateCompletedTime:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateCompletedTime",t,e)},updateTaskStartTimeAndDeadline:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateTaskStartTimeAndDeadline",t,e)},getTaskDetail4Print:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTaskDetail4Print",t,e)},getProjectIdAndFolderIdForItemConvertTask:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetProjectIdAndFolderIdForItemConvertTask",t,e)},addCheckList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","AddCheckList",t,e)},getCheckListsWithItemsInTask:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetCheckListsWithItemsInTask",t,e)},updateCheckListIndex:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateCheckListIndex",t,e)},updateCheckListName:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateCheckListName",t,e)},removeCheckList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","RemoveCheckList",t,e)},addItems:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","AddItems",t,e)},updateItemIndex:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateItemIndex",t,e)},updateItemName:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateItemName",t,e)},updateItemStatus:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateItemStatus",t,e)},removeItem:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","RemoveItem",t,e)},saveAsMyFolderTemplate:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","SaveAsMyFolderTemplate",t,e)},removeMyFolderTemplateOne:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","RemoveMyFolderTemplateOne",t,e)},getTemplateTypes:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTemplateTypes",t,e)},getTemplatesByTemplateTypeId:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTemplatesByTemplateTypeId",t,e)},getTaskOptionsInFolder:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTaskOptionsInFolder",t,e)},updateControlValue:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateControlValue",t,e)},updateFolderTemplateScope:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateFolderTemplateScope",t,e)},getLeftMenu:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetLeftMenu",t,e)},getTwoTypeTaskCount:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTwoTypeTaskCount",t,e)},getTaskLog:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTaskLog",t,e)},getTagsByTaskID:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTagsByTaskID",t,e)},getTaskList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTaskList",t,e)},getTaskListWithStar:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTaskListWithStar",t,e)},getSubTask:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetSubTask",t,e)},getTaskListInProjectWithOutFolder:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTaskListInProjectWithOutFolder",t,e)},getFolderTaskList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetFolderTaskList",t,e)},getMyTaskList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetMyTaskList",t,e)},getTaskDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTaskDetail",t,e)},getTaskControls:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTaskControls",t,e)},getTaskList_RelationParent:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTaskList_RelationParent",t,e)},getTaskWithMe:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTaskWithMe",t,e)},addTask:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","AddTask",t,e)},duplicateTask:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","DuplicateTask",t,e)},deleteTask:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","DeleteTask",t,e)},batchDeleteTask:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","BatchDeleteTask",t,e)},updateTaskCharge:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateTaskCharge",t,e)},batchUpdateTaskCharge:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","BatchUpdateTaskCharge",t,e)},updateTaskName:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateTaskName",t,e)},updateTaskSummary:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateTaskSummary",t,e)},updateTaskLocked:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateTaskLocked",t,e)},batchUpdateTaskLocked:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","BatchUpdateTaskLocked",t,e)},updateTaskStageID:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateTaskStageID",t,e)},updateTaskStatus:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateTaskStatus",t,e)},batchUpdateTaskStatus:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","BatchUpdateTaskStatus",t,e)},updateTaskParentID:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateTaskParentID",t,e)},updateTaskFolderID:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateTaskFolderID",t,e)},batchUpdateTaskFolderID:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","BatchUpdateTaskFolderID",t,e)},batchAddTaskMember:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","BatchAddTaskMember",t,e)},addTaskMember:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","AddTaskMember",t,e)},applyJoinTask:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","ApplyJoinTask",t,e)},deleteTaskMember:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","DeleteTaskMember",t,e)},batchDeleteTaskMember:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","BatchDeleteTaskMember",t,e)},agreeApplyJoinTask:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","AgreeApplyJoinTask",t,e)},refuseJoinTask:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","RefuseJoinTask",t,e)},updateTaskMemberStar:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateTaskMemberStar",t,e)},batchUpdateTaskMemberStar:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","BatchUpdateTaskMemberStar",t,e)},updateTaskMemberNotice:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateTaskMemberNotice",t,e)},batchUpdateTaskMemberNotice:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","BatchUpdateTaskMemberNotice",t,e)},updateTaskMemberClassify:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","UpdateTaskMemberClassify",t,e)},addTaskTopicFromPost:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","AddTaskTopicFromPost",t,e)},addTaskAttachments:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","AddTaskAttachments",t,e)},searchFolderList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","SearchFolderList",t,e)},getProjectsFolderNotice:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetProjectsFolderNotice",t,e)},getMainFolderList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetMainFolderList",t,e)},getMainFolderListInFile:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetMainFolderListInFile",t,e)},getHiddenFolderList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetHiddenFolderList",t,e)},getArchiveFolderList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetArchiveFolderList",t,e)},getTopFolderList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTopFolderList",t,e)},getSubordinate:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetSubordinate",t,e)},getTaskListWithStageView:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("TaskCenter","GetTaskListWithStageView",t,e)}}},22731:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={getUserOrgState:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","GetUserOrgState",t,e)},pagedNormalUserList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","PagedNormalUserList",t,e)},getUserList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","GetUserList",t,e)},pagedRemovedUsers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","PagedRemovedUsers",t,e)},getApprovalUser:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","GetApprovalUser",t,e)},getUserListByAccountId:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","GetUserListByAccountId",t,e)},getUserCard:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","GetUserCard",t,e)},getAccountBaseInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","GetAccountBaseInfo",t,e)},getAccountDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","GetAccountDetail",t,e)},getUsersByKeywords:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","GetUsersByKeywords",t,e)},getOftenMetionedUser:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","GetOftenMetionedUser",t,e)},getContactUserList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","GetContactUserList",t,e)},getProjectResignedUserList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","GetProjectResignedUserList",t,e)},getProjectContactUserList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","GetProjectContactUserList",t,e)},getProjectContactUserListByApp:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","GetProjectContactUserListByApp",t,e)},getLeaveUserList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","GetLeaveUserList",t,e)},updateUser:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","UpdateUser",t,e)},updateUserCard:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","UpdateUserCard",t,e)},removeUser:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","RemoveUser",t,e)},removeUsers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","RemoveUsers",t,e)},recoveryUser:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","RecoveryUser",t,e)},agreeUserJoin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","AgreeUserJoin",t,e)},agreeUsersJoin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","AgreeUsersJoin",t,e)},refuseUserJoin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","RefuseUserJoin",t,e)},refuseUsersJoin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","RefuseUsersJoin",t,e)},sendNotice:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","SendNotice",t,e)},resetPassword:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","ResetPassword",t,e)},batchResetPassword:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","BatchResetPassword",t,e)},updateDepartmentForUsers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","UpdateDepartmentForUsers",t,e)},updateJobForUsers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","UpdateJobForUsers",t,e)},updateWorkSiteForUsers:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","UpdateWorkSiteForUsers",t,e)},validateUserIsProjectAdmin:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","ValidateUserIsProjectAdmin",t,e)},validateUserHaveFriend:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("User","ValidateUserHaveFriend",t,e)}}},75599:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={add:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("WebCache","Add",t,e)},clear:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("WebCache","Clear",t,e)},clears:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("WebCache","Clears",t,e)},get:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("WebCache","Get",t,e)},gets:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("WebCache","Gets",t,e)}}},45231:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={editPrintTemplateSort:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","EditPrintTemplateSort",t,e)},deletePrint:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","DeletePrint",t,e)},getRowIndexes:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetRowIndexes",t,e)},addRowIndex:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","AddRowIndex",t,e)},updateRowIndex:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","UpdateRowIndex",t,e)},updateRowIndexCustomeIndexName:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","UpdateRowIndexCustomeIndexName",t,e)},removeRowIndex:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","RemoveRowIndex",t,e)},getLinkDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetLinkDetail",t,e)},getFormSubmissionSettings:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetFormSubmissionSettings",t,e)},editWorksheetSetting:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","EditWorksheetSetting",t,e)},getSwitch:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetSwitch",t,e)},editSwitch:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","EditSwitch",t,e)},batchEditSwitch:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","BatchEditSwitch",t,e)},getSwitchPermit:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetSwitchPermit",t,e)},getWorksheetApiInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetWorksheetApiInfo",t,e)},getCollectionsByAppId:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetCollectionsByAppId",t,e)},saveOptionsCollection:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","SaveOptionsCollection",t,e)},updateOptionsCollectionAppId:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","UpdateOptionsCollectionAppId",t,e)},deleteOptionsCollection:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","DeleteOptionsCollection",t,e)},getCollectionByCollectId:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetCollectionByCollectId",t,e)},getCollectionsByCollectIds:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetCollectionsByCollectIds",t,e)},getQuoteControlsById:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetQuoteControlsById",t,e)},addOrUpdateOptionSetApiInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","AddOrUpdateOptionSetApiInfo",t,e)},optionSetListApiInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","OptionSetListApiInfo",t,e)},ocr:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","Ocr",t,e)},getQuery:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetQuery",t,e)},getQueryBySheetId:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetQueryBySheetId",t,e)},saveQuery:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","SaveQuery",t,e)},saveFiltersGroup:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","SaveFiltersGroup",t,e)},getFiltersGroupByIds:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetFiltersGroupByIds",t,e)},deleteFiltersGroupByIds:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","DeleteFiltersGroupByIds",t,e)},excuteApiQuery:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","ExcuteApiQuery",t,e)},getApiControlDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetApiControlDetail",t,e)},sortAttachment:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","SortAttachment",t,e)},editAttachmentName:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","EditAttachmentName",t,e)},getExportConfig:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetExportConfig",t,e)},saveExportConfig:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","SaveExportConfig",t,e)},getViewPermission:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetViewPermission",t,e)},getAppExtendAttr:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetAppExtendAttr",t,e)},getExtendAttrOptionalControl:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetExtendAttrOptionalControl",t,e)},saveAppExtendAttr:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","SaveAppExtendAttr",t,e)},copyWorksheet:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","CopyWorksheet",t,e)},updateEntityName:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","UpdateEntityName",t,e)},updateWorksheetAlias:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","UpdateWorksheetAlias",t,e)},updateWorksheetDec:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","UpdateWorksheetDec",t,e)},updateWorksheetShareRange:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","UpdateWorksheetShareRange",t,e)},getWorksheetInfo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetWorksheetInfo",t,e)},getWorksheetInfoByWorkItem:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetWorksheetInfoByWorkItem",t,e)},getWorksheetShareUrl:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetWorksheetShareUrl",t,e)},getShareInfoByShareId:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetShareInfoByShareId",t,e)},getRowByID:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetRowByID",t,e)},getAttachmentDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetAttachmentDetail",t,e)},getAttachmentShareId:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetAttachmentShareId",t,e)},getRowDetail:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetRowDetail",t,e)},getWorkItem:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetWorkItem",t,e)},getRowRelationRows:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetRowRelationRows",t,e)},addWorksheetRow:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","AddWorksheetRow",t,e)},addWSRowsBatch:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","AddWSRowsBatch",t,e)},updateWorksheetRow:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","UpdateWorksheetRow",t,e)},checkFieldUnique:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","CheckFieldUnique",t,e)},updateWorksheetRows:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","UpdateWorksheetRows",t,e)},updateRowRelationRows:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","UpdateRowRelationRows",t,e)},replaceRowRelationRows:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","ReplaceRowRelationRows",t,e)},refreshSummary:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","RefreshSummary",t,e)},refreshWorksheetRows:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","RefreshWorksheetRows",t,e)},deleteWorksheetRows:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","DeleteWorksheetRows",t,e)},restoreWorksheetRows:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","RestoreWorksheetRows",t,e)},removeWorksheetRows:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","RemoveWorksheetRows",t,e)},getFilterRows:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetFilterRows",t,e)},getFilterRowsByQueryDefault:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetFilterRowsByQueryDefault",t,e)},getFilterRowsTotalNum:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetFilterRowsTotalNum",t,e)},getFilterRowsReport:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetFilterRowsReport",t,e)},getLogs:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetLogs",t,e)},getWorksheetOperationLogs:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetWorksheetOperationLogs",t,e)},getDetailTableLog:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetDetailTableLog",t,e)},batchGetWorksheetOperationLogs:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","BatchGetWorksheetOperationLogs",t,e)},updateWorksheetRowShareRange:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","UpdateWorksheetRowShareRange",t,e)},getRowsShortUrl:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetRowsShortUrl",t,e)},copyRow:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","CopyRow",t,e)},getNavGroup:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetNavGroup",t,e)},saveWorksheetFilter:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","SaveWorksheetFilter",t,e)},getWorksheetFilters:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetWorksheetFilters",t,e)},getWorksheetFilterById:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetWorksheetFilterById",t,e)},deleteWorksheetFilter:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","DeleteWorksheetFilter",t,e)},sortWorksheetFilters:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","SortWorksheetFilters",t,e)},saveWorksheetView:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","SaveWorksheetView",t,e)},getWorksheetViews:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetWorksheetViews",t,e)},deleteWorksheetView:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","DeleteWorksheetView",t,e)},copyWorksheetView:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","CopyWorksheetView",t,e)},sortWorksheetViews:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","SortWorksheetViews",t,e)},getWorksheetBtns:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetWorksheetBtns",t,e)},getWorksheetBtnByID:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetWorksheetBtnByID",t,e)},optionWorksheetBtn:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","OptionWorksheetBtn",t,e)},saveWorksheetBtn:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","SaveWorksheetBtn",t,e)},copyWorksheetBtn:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","CopyWorksheetBtn",t,e)},getControlRules:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetControlRules",t,e)},saveControlRule:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","SaveControlRule",t,e)},sortControlRules:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","SortControlRules",t,e)},saveWorksheetControls:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","SaveWorksheetControls",t,e)},addWorksheetControls:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","AddWorksheetControls",t,e)},getWorksheetControls:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetWorksheetControls",t,e)},getAiFieldRecommendation:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetAiFieldRecommendation",t,e)},getWorksheetsControls:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetWorksheetsControls",t,e)},editControlsAlias:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","EditControlsAlias",t,e)},editGenerateControlsDefaultAlias:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","EditGenerateControlsDefaultAlias",t,e)},editWorksheetControls:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","EditWorksheetControls",t,e)},resetControlIncrease:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","ResetControlIncrease",t,e)},deleteWorksheetAutoID:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","DeleteWorksheetAutoID",t,e)},editControlsStatus:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","EditControlsStatus",t,e)},getPrintList:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetPrintList",t,e)},getFormComponent:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetFormComponent",t,e)},getPrint:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetPrint",t,e)},getCodePrint:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetCodePrint",t,e)},getPrintTemplate:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","GetPrintTemplate",t,e)},editPrint:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","EditPrint",t,e)},saveRecordCodePrintConfig:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","SaveRecordCodePrintConfig",t,e)},editPrintName:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","EditPrintName",t,e)},editPrintRange:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","EditPrintRange",t,e)},editPrintFilter:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","EditPrintFilter",t,e)},editTemplateDownloadPermission:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Worksheet","EditTemplateDownloadPermission",t,e)}}},50339:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>p});var pe=a(85105),r=a.n(pe),t=a(99663),e=a(22600),X=a(49135),J=a(93196),ce=a(45697),U=a.n(ce),c=a(67294),S=a(93967),h=a.n(S),y=a(33867),l=a(62521),ee=a(16469),z=a(54022),ae=a(51474),Z=a(98306),Pe=a(42506),oe=a(44293),Te=a(15577),F=a(63743),K=a(78499),v=a(96486),re=a.n(v),L=a(66344),m,B,C={WebkitBoxOrient:"vertical"},p=(B=m=function(g){(0,J.default)(u,g);function u(T){(0,t.default)(this,u);var d=(0,X.default)(this,(u.__proto__||r()(u)).call(this,T));return d.handleEdit=function(O){O.stopPropagation();var k=d.state.isEdit;setTimeout(function(){d.setState({isEdit:!k},function(){d.editInput&&(d.editInput.focus(),d.editInput.selectionStart=100,d.editInput.selectionEnd=100),k&&d.setState({penelVisible:!1})})},k?200:0)},d.handleKeyDown=function(O,k){O.which===13&&(d.props.resetFileName(k,O.target.value),d.handleEdit(O))},d.handleDownload=function(O,k,x){O.stopPropagation(),k?window.open((0,Te.Sv)(x)):alert(_l("\u60A8\u6743\u9650\u4E0D\u8DB3\uFF0C\u65E0\u6CD5\u4E0B\u8F7D\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u6216\u6587\u4EF6\u4E0A\u4F20\u8005"),3)},d.handleOpenNewPage=function(O){var k=d.props.handleOpenControlAttachmentInNewTab;O.stopPropagation(),d.setState({menuVisible:!1}),k()},d.handleShare=function(O,k){if(O.stopPropagation(),!md.global.Account.accountId){d.setState({menuVisible:!1}),window.open(md.global.Config.WebUrl+"login?ReturnUrl="+location.href);return}if(!k){alert(_l("\u60A8\u6743\u9650\u4E0D\u8DB3\uFF0C\u65E0\u6CD5\u5206\u4EAB\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u6216\u6587\u4EF6\u4E0A\u4F20\u8005"),3);return}var x=d.props.data,N={},E=1;x.refId?(E=2,N={id:x.refId,name:x.originalFilename,ext:(0,oe.Q0)(x.ext),size:x.filesize,path:""+x.filepath+x.filename,previewUrl:x.previewUrl,viewUrl:x.viewUrl}):N={id:x.fileID,name:x.originalFilename||File.GetName(x.filename),ext:(0,oe.Q0)(x.ext),size:x.filesize,path:""+x.filepath+x.filename,previewUrl:x.previewUrl,viewUrl:x.viewUrl},Promise.all([a.e(4014),a.e(6924)]).then(a.bind(a,94014)).then(function(D){var I={attachmentType:E},R=File.isPicture("."+N.ext.slice(N.ext.indexOf(".")+1));I.id=N.id,I.name=N.name,I.ext="."+N.ext,I.size=N.size||0,I.imgSrc=R?""+N.previewUrl.replace(/imageView2\/\d\/w\/\d+\/h\/\d+(\/q\/\d+)?/,"imageView2/2/w/490"):void 0,I.qiniuPath=N.path,I.isKcFolder=x.attachmentType===5,D.default(I,{performUpdateItem:function(b){}})})},d.handleSaveToKc=function(O,k){if(O.stopPropagation(),!md.global.Account.accountId){d.setState({menuVisible:!1}),window.open(md.global.Config.WebUrl+"login?ReturnUrl="+location.href);return}if(!k){alert(_l("\u60A8\u6743\u9650\u4E0D\u8DB3\uFF0C\u65E0\u6CD5\u4FDD\u5B58\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u6216\u6587\u4EF6\u4E0A\u4F20\u8005"),3);return}var x=d.props.data,N=0,E={};x.refId?(N=2,E.nodeId=x.refId,E.isShareFolder=x.attachmentType===5):(N=1,E.fileID=x.fileID),(0,Pe.default)({dialogTitle:_l("\u9009\u62E9\u8DEF\u5F84"),isFolderNode:1,selectedItems:null,zIndex:9999}).then(function(D){(0,F.default)(N,E).save(D).then(function(){alert(_l("\u4FDD\u5B58\u6210\u529F"))}).catch(function(){alert(_l("\u4FDD\u5B58\u5931\u8D25"),2)})}).catch(function(){})},d.handleEditLink=function(){var O=d,k=d.props.data;(0,K.Z)({isEdit:!0,data:{name:k.originalFilename,originLinkUrl:k.originLinkUrl},callback:function(N){var E=N.linkName,D=N.linkContent,I=void 0;k.refId?I=ae.Z.updateNode({id:k.refId,name:E+".url",newLinkUrl:D}):I=Z.Z.editLinkAttachment({fileId:k.fileID,title:E,originLinkUrl:D}),I.then(function(){alert(_l("\u4FEE\u6539\u6210\u529F")),k.originalFilename=E,k.shortLinkUrl=D,k.originLinkUrl=D,O.props.onReplaceAttachment(k)}).catch(function(R){alert(_l("\u4FEE\u6539\u5931\u8D25"),3)})}})},d.handleOpenMenu=function(O){O.stopPropagation(),d.setState({menuVisible:!0})},d.handleDelete=function(O){O.stopPropagation(),d.deleteFn&&d.deleteFn(),d.handleCancel(O)},d.handleCancel=function(O){O.stopPropagation(),O.nativeEvent.stopImmediatePropagation(),d.setState({isDelete:!1})},d.state={isEdit:!1,menuVisible:!1,penelVisible:!1,moreVisible:!1,imageSrc:!1,imageWidth:!1,viewImage:!0,isDelete:!1},d.deleteFn=null,d}return(0,e.default)(u,[{key:"componentDidMount",value:function(){var d=this.UploadFile,O=d.getBoundingClientRect(),k=O.width}},{key:"handleConfirmDelete",value:function(d){this.setState({isDelete:!0}),this.deleteFn=d}},{key:"renderPreview",value:function(d,O,k,x,N){return k?c.createElement(c.Fragment,null,c.createElement("div",{className:h()(O,"UploadFiles-fileIcon","UploadFiles-previewIcon")}),this.renderFileImage(d.previewUrl),c.createElement("div",{className:"UploadFiles-fileName UploadFiles-previewFileName"},c.createElement("span",null,d.originalFilename,d.ext))):c.createElement(c.Fragment,null,N&&c.createElement("div",{className:"UploadFiles-video-kcIcon"},c.createElement("i",{className:"icon icon-knowledge1"})),this.renderFileImage(d.previewUrl),c.createElement("div",{className:"UploadFiles-video"},c.createElement("i",{className:"icon icon-video2"}),(0,oe.mr)(d.duration)))}},{key:"renderFileImage",value:function(d){var O=this.state,k=O.imageSrc,x=O.imageWidth,N=this;if(!k){var E=new Image;E.onload=function(){N.setState({imageSrc:!0,imageWidth:this.width})},E.onerror=function(){N.setState({imageSrc:!0,viewImage:!1})},E.src=d}return k?c.createElement("div",{className:"UploadFiles-fileImage",style:{backgroundImage:"url("+d+")"}}):c.createElement("div",{className:"UploadFiles-mask"})}},{key:"renderTwiceView",value:function(d){var O=!!d.refId,k=(0,Te.kQ)(d.type===1?!1:d.fileExt),x=File.isPicture(d.fileExt),N=d.twice,E=N===void 0?{}:N;return x?c.createElement(c.Fragment,null,O&&c.createElement("div",{className:"UploadFiles-kcIcon"},c.createElement("i",{className:"icon icon-knowledge1"})),this.renderFileImage(E.previewUrl?E.previewUrl:d.viewUrl+"|imageView2/1/w/200/h/140")):c.createElement("div",{className:"UploadFiles-fileAccessory"},O&&c.createElement("div",{className:"UploadFiles-kcIcon"},c.createElement("i",{className:"icon icon-knowledge1"})),c.createElement("div",{className:"UploadFiles-fileIconWrapper"},c.createElement("div",{className:h()(k,"UploadFiles-fileIcon")})),c.createElement("div",{className:"UploadFiles-fileName"},c.createElement("span",null,d.originalFileName,d.fileExt)))}},{key:"renderTwicePenel",value:function(d,O){var k=this,x=!!d.refId,N=this.state,E=N.isEdit,D=N.penelVisible,I=File.isPicture(d.fileExt),R=h()("UploadFiles-filePanel",I?"UploadFiles-filePanel-image":"UploadFiles-filePanel-accessory"),w=(0,Te.sS)(d.fileSize),b=h()("UploadFiles-panelTextName",{ThemeColor3:!I}),Y=function(M,f){M.stopPropagation(),f||(x?k.props.onKcTwicePreview(d.fileID,O,M):k.props.onPreview(d.fileID,O,M))};return c.createElement("div",{style:{opacity:D?1:0},className:R,onClick:function(M){Y(M)},onMouseEnter:function(){k.setState({penelVisible:!0})},onMouseLeave:function(){k.setState({penelVisible:!!E}),k.editInput&&k.props.resetFileName(d.fileID,k.editInput.value)}},c.createElement("div",{className:"UploadFiles-panelText"},E?c.createElement("input",{ref:function(M){k.editInput=M},type:"text",className:"UploadFiles-editInput",defaultValue:d.originalFileName,onBlur:function(M){k.handleEdit(M)},onKeyDown:function(M){k.handleKeyDown(M,d.fileID)}}):c.createElement("div",{className:b,title:""+d.originalFileName+d.fileExt},c.createElement("span",{style:C},""+d.originalFileName+d.fileExt)),!!d.refId&&c.createElement("div",{className:"UploadFiles-kcFileName",style:C},c.createElement("span",null,_l("\u6765\u81EA\u77E5\u8BC6")),d.twice.attachmentType!==4?c.createElement("span",null,w):void 0)),c.createElement("div",{className:"UploadFiles-panelBtns"},c.createElement("div",null),x?this.props.isDeleteKcFile&&c.createElement("div",null,c.createElement("div",{onClick:function(M){M.nativeEvent.stopImmediatePropagation(),M.stopPropagation(),k.handleConfirmDelete(k.props.onDeleteKcFile.bind(k,d.refId,M))},className:"UploadFiles-panelBtn UploadFiles-panelBtn-delete","data-tip":_l("\u5220\u9664")},c.createElement("i",{className:"icon-task-new-delete"}))):c.createElement("div",null,c.createElement("div",{onClick:function(M){var f=k.props.onDeleteFile;M.nativeEvent.stopImmediatePropagation(),M.stopPropagation(),f&&f(d.fileID,M)},className:"UploadFiles-panelBtn UploadFiles-panelBtn-delete","data-tip":_l("\u5220\u9664")},c.createElement("i",{className:"icon-task-new-delete"})),c.createElement("div",{onClick:function(M){k.handleEdit(M)},className:"UploadFiles-panelBtn UploadFiles-panelBtn-edit","data-tip":_l("\u91CD\u547D\u540D")},c.createElement("i",{className:"ThemeHoverColor3 icon-new_mail"})))))}},{key:"renderView",value:function(d,O){var k=this,x=(0,Te.kQ)(d.fileExt),N=File.isPicture(d.fileExt),E=d.viewType===5,D=d.previewUrl||d.url||"";return N?c.createElement(c.Fragment,null,O?c.createElement("div",{className:"UploadFiles-kcIcon"},c.createElement("i",{className:"icon icon-knowledge1"})):null,this.renderFileImage(O?d.viewUrl:""+(D.indexOf("imageView2")>-1?D.replace(/imageView2\/\d\/w\/\d+\/h\/\d+(\/q\/\d+)?/,"imageView2/1/w/200/h/140"):D+"&imageView2/1/w/200/h/140"))):c.createElement("div",{className:"UploadFiles-fileAccessory"},O&&c.createElement("div",{className:"UploadFiles-kcIcon"},c.createElement("i",{className:"icon icon-knowledge1"})),c.createElement("div",{className:"UploadFiles-fileIconWrapper",ref:function(R){k.linkCon=E&&R}},c.createElement("div",{className:h()(x,"UploadFiles-fileIcon")})),c.createElement("div",{className:"UploadFiles-fileName"},c.createElement("span",null,d.originalFileName,d.fileExt)))}},{key:"renderPenel",value:function(d,O,k){var x=this,N=this.state,E=N.isEdit,D=N.penelVisible,I=File.isPicture(d.fileExt),R=h()("UploadFiles-filePanel",I?"UploadFiles-filePanel-image":"UploadFiles-filePanel-accessory"),w=(0,Te.sS)(d.fileSize),b=h()("UploadFiles-panelTextName",{ThemeColor3:!I}),Y=function(M,f){M.stopPropagation(),f||x.props.onPreview(d.fileID,O,M)};return c.createElement("div",{style:{opacity:D?1:0},className:R,onClick:function(M){Y(M,E)},onMouseEnter:function(){x.setState({penelVisible:!0})},onMouseLeave:function(){x.setState({penelVisible:!!E,menuVisible:!1}),x.editInput&&x.props.resetFileName(d.fileID,x.editInput.value)}},c.createElement("div",{className:"UploadFiles-panelText"},E?c.createElement("input",{ref:function(M){x.editInput=M},type:"text",className:"UploadFiles-editInput",defaultValue:d.originalFileName,onBlur:function(M){x.handleEdit(M)},onKeyDown:function(M){x.handleKeyDown(M,d.fileID)}}):c.createElement("div",{className:b,title:""+d.originalFileName+d.fileExt},c.createElement("span",{style:C},""+d.originalFileName+d.fileExt)),!!d.refId&&c.createElement("div",{className:"UploadFiles-kcFileName",style:C},c.createElement("span",null,_l("\u6765\u81EA\u77E5\u8BC6")),d.attachmentType!==4?c.createElement("span",null,w):void 0)),c.createElement("div",{className:"UploadFiles-panelBtns"},c.createElement("div",null),k?c.createElement("div",null,c.createElement("div",{onClick:function(M){M.nativeEvent.stopImmediatePropagation(),M.stopPropagation(),x.props.onDeleteKcFile(d.refId,M)},className:"UploadFiles-panelBtn UploadFiles-panelBtn-delete","data-tip":_l("\u5220\u9664")},c.createElement("i",{className:"icon-task-new-delete"}))):c.createElement("div",null,c.createElement("div",{onClick:function(M){var f=x.props.onDeleteFile;M.nativeEvent.stopImmediatePropagation(),M.stopPropagation(),f&&f(d.fileID,M)},className:"UploadFiles-panelBtn UploadFiles-panelBtn-delete","data-tip":_l("\u5220\u9664")},c.createElement("i",{className:"icon-task-new-delete"})),c.createElement("div",{onClick:function(M){x.handleEdit(M)},className:"UploadFiles-panelBtn UploadFiles-panelBtn-edit","data-tip":_l("\u91CD\u547D\u540D")},c.createElement("i",{className:"ThemeHoverColor3 icon-new_mail"})))))}},{key:"renderMDView",value:function(d){var O=this,k=!0,x=this.state.viewImage,N=(0,Te.kQ)(d.attachmentType===5?!1:d.ext),E=File.isPicture(d.ext),D=!!d.refId,I=d.viewType===5,R=(0,oe.qk)(d.ext),w=L.Z.isVideo(d.ext);return D&&!d.shareUrl&&(E=!1,k=!1),D&&w&&(d.previewUrl=d.thumbnailPath),E&&x?c.createElement(c.Fragment,null,D?c.createElement("div",{className:"UploadFiles-kcIcon"},c.createElement("i",{className:"icon icon-knowledge1"})):null,this.renderFileImage(""+d.previewUrl.replace(/imageView2\/\d\/w\/\d+\/h\/\d+(\/q\/\d+)?/,"imageView2/1/w/200/h/140"))):(R||w)&&d.previewUrl&&x?this.renderPreview(d,N,R,w,D):c.createElement("div",{className:"UploadFiles-fileAccessory"},D&&c.createElement("div",{className:"UploadFiles-kcIcon"},c.createElement("i",{className:"icon icon-knowledge1"})),c.createElement("div",{className:"UploadFiles-fileIconWrapper",ref:function(Y){O.linkCon=I&&Y}},c.createElement("div",{className:h()(N,"UploadFiles-fileIcon")})),k?c.createElement("div",{className:"UploadFiles-fileName"},c.createElement("span",null,d.originalFilename,d.ext)):c.createElement("div",{className:"UploadFiles-fileName"},c.createElement("div",{className:"UploadFiles-forbidFileName"},_l("\u5DF2\u7ECF\u5220\u9664\u6216\u65E0\u6743\u67E5\u770B"))))}},{key:"renderMDPenel",value:function(d,O){var k=this,x=this.props,N=x.hideDownload,E=N===void 0?!1:N,D=x.handleOpenControlAttachmentInNewTab,I=!0,R=this.state,w=R.penelVisible,b=R.moreVisible,Y=R.isDelete,W=this.props.isUpload,M=!!d.refId,f=File.isPicture(d.ext)||L.Z.isVideo(d.ext)&&d.previewUrl,ne=(0,Te.sS)(d.filesize),ie=d.viewType===5,V=!1;M?V=d.allowDown==="ok":(d.accountId===md.global.Account.accountId||f||d.allowDown==="ok")&&(V=!0);var me=!1;d.downloadUrl?me=d.attachmentType==5?d.downloadUrl+"&shareFolderId="+d.refId:d.downloadUrl:me=md.global.Config.AjaxApiUrl+"file/downDocument?fileID="+d.fileID,M&&!d.shareUrl&&(f=!1,I=!1);var _e=h()("UploadFiles-filePanel",f?"UploadFiles-filePanel-image":"UploadFiles-filePanel-accessory"),de=h()("UploadFiles-panelTextName",{ThemeColor3:!f});return c.createElement("div",{style:{opacity:w?1:0},className:_e,onClick:function(ge){ge.stopPropagation(),I?k.props.onPreview(d.fileID,O,ge):alert(_l("\u60A8\u6743\u9650\u4E0D\u8DB3\uFF0C\u65E0\u6CD5\u9884\u89C8\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u6216\u6587\u4EF6\u4E0A\u4F20\u8005"),3)},onMouseEnter:function(){k.setState({penelVisible:!0})},onMouseLeave:function(){k.setState({penelVisible:!1,menuVisible:!1})}},c.createElement("div",{className:"UploadFiles-panelText"},c.createElement("div",{className:de,title:""+d.originalFilename+d.ext},c.createElement("span",{style:C},""+d.originalFilename+d.ext)),d.refId?c.createElement("div",{className:"UploadFiles-kcFileName",style:C},c.createElement("span",null,_l("\u6765\u81EA\u77E5\u8BC6")),d.attachmentType!==4?c.createElement("span",null,ne):void 0):c.createElement("div",{className:"UploadFiles-kcFileName",style:C},c.createElement("span",null,ie?"":ne))),Y?c.createElement("div",{className:"flexRow UploadFiles-filePanel-confirm"},c.createElement("div",{className:"delete",onClick:this.handleDelete},_l("\u5220\u9664")),c.createElement("div",{className:"cancel",onClick:this.handleCancel},_l("\u53D6\u6D88"))):c.createElement("div",{className:"UploadFiles-panelBtns"},c.createElement("div",null,this.props.isDeleteFile&&c.createElement("div",{onClick:function(ge){ge.nativeEvent.stopImmediatePropagation(),ge.stopPropagation(),k.handleConfirmDelete(k.props.onDeleteMDFile.bind(k,d,ge))},className:"UploadFiles-panelBtn UploadFiles-panelBtn-delete","data-tip":_l("\u5220\u9664")},c.createElement("i",{className:"icon-task-new-delete"}))),c.createElement("div",{className:h()({hide:!I})},!E&&c.createElement("div",{onClick:function(ge){k.handleDownload(ge,V,me)},className:"UploadFiles-panelBtn","data-tip":_l("\u4E0B\u8F7D")},c.createElement("i",{className:"ThemeHoverColor3 icon-download"})),(!ie&&!E||!E||ie&&d.accountId===md.global.Account.accountId)&&!md.global.Account.isPortal&&!re().get(window,"shareState.shareId")&&c.createElement("div",{className:"UploadFiles-panelBtn",onClick:function(ge){k.handleOpenMenu(ge)}},c.createElement("i",{className:h()("icon-task-point-more",{ThemeColor3:!!b})}),c.createElement("div",{className:"UploadFiles-panelBtnMask","data-tip":_l("\u66F4\u591A"),onMouseEnter:function(){k.setState({moreVisible:!0})},onMouseLeave:function(){k.setState({moreVisible:!1})}}),c.createElement(l.Z,{style:{width:120,right:0,top:0,zIndex:100},className:h()("UploadFiles-menuWrapper",{Hidden:!this.state.menuVisible}),onClickAway:function(){return k.setState({menuVisible:!1})}},D&&re().isEmpty(window.shareState)&&c.createElement(ee.Z,{onClick:function(ge){k.handleOpenNewPage(ge)}},c.createElement(y.Z,{icon:"launch"}),c.createElement("span",{className:"UploadFiles-menuWrapper-text"},_l("\u65B0\u9875\u9762\u6253\u5F00"))),!ie&&!E&&c.createElement(ee.Z,{onClick:function(ge){k.handleShare(ge,V)}},c.createElement(y.Z,{icon:"share"}),c.createElement("span",{className:"UploadFiles-menuWrapper-text"},_l("\u5206\u4EAB"))),!E&&c.createElement(ee.Z,{onClick:function(ge){k.handleSaveToKc(ge,V)}},c.createElement(y.Z,{icon:"knowledge-cloud"}),c.createElement("span",{className:"UploadFiles-menuWrapper-text"},_l("\u4FDD\u5B58\u5230\u77E5\u8BC6"))),ie&&d.accountId===md.global.Account.accountId&&c.createElement(ee.Z,{onClick:this.handleEditLink},c.createElement(y.Z,{icon:"hr_edit"}),c.createElement("span",{className:"UploadFiles-menuWrapper-text"},_l("\u7F16\u8F91"))))))))}},{key:"render",value:function(){var d=this,O=this.props,k=O.data,x=O.style,N=O.index,E=O.isUpload,D=k.progress,I=k.base,R=k.accountId,w=k.sourceID,b=k.twice;return c.createElement("div",{className:"UploadFiles-file-wrapper",ref:function(W){d.UploadFile=W},style:x},c.createElement("div",{className:"UploadFiles-file"},b?this.renderTwiceView(k):R||w?this.renderMDView(k):k.refId?this.renderView(k,!0):k.fileID&&this.renderView(k),b?this.renderTwicePenel(k,N):R||w?this.renderMDPenel(k,N):k.refId?this.renderPenel(k,N,!0):k.fileID&&this.renderPenel(k,N),!!D&&c.createElement("div",{className:"UploadFiles-loadfileWrapper"},c.createElement("div",null,c.createElement(z.Z.Circle,{key:"text",isAnimation:!1,isRound:!1,strokeWidth:3,diameter:58,foregroundColor:"#BDBDBD",backgroundColor:"#fff",percent:parseInt(D)})),c.createElement("div",{className:"UploadFiles-panelTextName",style:{display:I.isPic?"none":""}},c.createElement("span",{style:C},""+I.fileName+I.fileExt)),c.createElement("div",{className:h()("UploadFiles-loadfileClose",{}),"data-tip":_l("\u53D6\u6D88\u4E0A\u4F20"),onClick:function(){d.props.removeUploadingFile(I.id)}},c.createElement("i",{className:"ThemeHoverColor3 icon-close"})))))}}]),u}(c.Component),m.propTypes={onReplaceAttachment:U().func},m.default={},B)},59962:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>O});var pe=a(88239),r=a(24043),t=a.n(r),e=a(85105),X=a.n(e),J=a(99663),ce=a(22600),U=a(49135),c=a(93196),S=a(45697),h=a.n(S),y=a(67294),l=a(93967),ee=a.n(l),z=a(18142),ae=a(95283),Z=a(50339),Pe=a(46826),oe=a(44293),Te=a(6917),F=a(15577),K=a(42506),v=a(5631),re=a(48947),L=a(99452),m=a.n(L),B=a(36021),C=a(78499),p=a(96486),g=a.n(p),u,T,d={40001:_l("\u9274\u6743\u5931\u8D25"),40002:_l("\u975E\u6CD5\u7684\u6587\u4EF6\u7C7B\u578B"),40003:_l("bucket \u4E0D\u5B58\u5728"),40004:_l("\u6587\u4EF6\u5927\u5C0F\u9519\u8BEF"),50002:_l("\u7CFB\u7EDF\u9519\u8BEF metadata error"),50003:_l("\u7CFB\u7EDF\u9519\u8BEF hash error"),50004:_l("\u7CFB\u7EDF\u9519\u8BEF")},O=(T=u=function(k){(0,c.default)(x,k);function x(N){(0,J.default)(this,x);var E=(0,U.default)(this,(x.__proto__||X()(x)).call(this,N)),D=E.props,I=D.attachmentData,R=D.temporaryData,w=D.kcAttachmentData,b=D.originCount;return E.state={attachmentData:I,temporaryData:(0,oe._h)(R),kcAttachmentData:(0,oe.w1)(w),maxTotalSize:md.global.SysSettings.fileUploadLimitSize,originCount:b||0},E.currentFile=null,E.id="UploadFiles-"+Date.now(),E.errorFiles=[],E.tokens=null,E}return(0,ce.default)(x,[{key:"componentDidMount",value:function(){var E=this.state,D=E.temporaryData,I=E.kcAttachmentData,R=this.props,w=R.isInitCall,b=R.isUpload;b&&this.initPlupload(),w&&(this.props.onTemporaryDataUpdate(D),this.props.onKcAttachmentDataUpdate(I))}},{key:"componentWillReceiveProps",value:function(E){"attachmentData"in E&&!this._uploading&&this.setState({attachmentData:E.attachmentData}),"temporaryData"in E&&!this._uploading&&this.setState({temporaryData:(0,oe._h)(E.temporaryData)}),"kcAttachmentData"in E&&!this._uploading&&this.setState({kcAttachmentData:(0,oe.w1)(E.kcAttachmentData)}),E.originCount!==this.props.originCount&&this.setState({originCount:E.originCount})}},{key:"handleOpenControlAttachmentInNewTab",value:function(E){var D=this.props.controlId,I=g().get(this,"context.recordBaseInfo");I&&(0,v.Kj)(g().assign(g().pick(I,["appId","recordId","viewId","worksheetId"]),{controlId:D,fileId:E}))}},{key:"initPlupload",value:function(){var E=this,D=this.state.maxTotalSize,I=this.nativeFile,R=this.props,w=R.noTotal,b=R.dropPasteElement,Y=R.from,W=R.projectId,M=R.advancedSetting,f=g().get(window,"shareState.isPublicWorkflowRecord"),ne=Y===Te.BD.PUBLIC_ADD||Y===Te.BD.WORKFLOW||window.isPublicWorksheet||f,ie=g().find(md.global.Account.projects,function(me){return me.projectId===W})||{},V=ie.licenseType;$(I).plupload({drop_element:b,paste_element:b,url:md.global.FileStoreConfig.uploadHost,file_data_name:"file",multi_selection:!0,max_file_size:D+"m",filters:void 0,autoUpload:!1,method:{FilesAdded:function(_e,de){E.props.onDropPasting();var Le=E.state.temporaryData;if(E._uploading=!0,E.props.onUploadComplete(!1),M){var ge=E.state,Oe=ge.temporaryData,nt=Oe===void 0?[]:Oe,lt=ge.originCount,Ve=lt===void 0?0:lt,De=ge.kcAttachmentData,ze=De===void 0?[]:De,st=Ve+nt.length+ze.length,ht=(0,oe.go)(M,de,st);!ht&&E.onRemoveAll(_e)}var Ie=(0,oe.Sz)(de),le=Le.length?Le.map(function(qe){return qe.fileSize}).reduce(function(qe,ut){return ut+qe}):0,we=parseFloat(le/1024/1024)+parseFloat(Ie/1024/1024);if(we>D)return alert("\u9644\u4EF6\u603B\u5927\u5C0F\u8D85\u8FC7 "+(0,F.sS)(D*1024*1024)+"\uFF0C\u8BF7\u60A8\u5206\u6279\u6B21\u4E0A\u4F20",3),E.onRemoveAll(_e),!1;if(W&&!window.isPublicApp&&!window.isPublicWorksheet&&!f){var We={projectId:W,fromType:9};(0,oe.sW)(Ie,We).then(function(qe){if(!qe)return(0,F.Yg)({projectId:W,isFree:V===0,hint:_l("\u5E94\u7528\u9644\u4EF6\u4E0A\u4F20\u91CF\u5DF2\u5230\u6700\u5927\u503C"),okText:_l("\u8D2D\u4E70\u4E0A\u4F20\u91CF\u6269\u5C55\u5305"),onOk:function(){return(0,B.T8)("/admin/expansionservice/"+W+"/storage")}}),E.setState({temporaryData:E.state.temporaryData.filter(function(ut){return!(0,oe.VU)(ut.fileID||ut.id,de)})}),E.onRemoveAll(_e),!1})}else!ne&&!w&&!window.isPublicApp&&(0,oe.sW)(Ie).then(function(qe){if(!qe)return(0,oe.Gy)(),E.setState({temporaryData:E.state.temporaryData.filter(function(ut){return!(0,oe.VU)(ut.fileID||ut.id,de)})}),E.onRemoveAll(_e),!1});if((0,oe.JY)(de))return alert(_l("\u542B\u6709\u4E0D\u652F\u6301\u683C\u5F0F\u7684\u6587\u4EF6"),3),E.onRemoveAll(_e),E.props.onUploadComplete(!0),!1;var at=E.state.temporaryData.filter(function(qe){return qe.fileExt!==".url"}).length,At=de.filter(function(qe){return qe.fileExt!==".url"}).length,dt=at+At;if(at>100)return alert(_l("\u9644\u4EF6\u6570\u91CF\u8D85\u8FC7\u9650\u5236\uFF0C\u4E00\u6B21\u4E0A\u4F20\u4E0D\u5F97\u8D85\u8FC7100\u4E2A\u9644\u4EF6"),3),!1;if(dt>100){alert(_l("\u9644\u4EF6\u6570\u91CF\u8D85\u8FC7\u9650\u5236\uFF0C\u4E00\u6B21\u4E0A\u4F20\u4E0D\u5F97\u8D85\u8FC7100\u4E2A\u9644\u4EF6"),3);var mt=dt-100;de.splice(de.length-mt,mt).map(function(qe){_e.removeFile({id:qe.id})})}var It=[];de.forEach(function(qe){var ut=E.state.temporaryData,Dt="."+File.GetExt(qe.name),ot=File.GetName(qe.name),be=File.isPicture(Dt),Ae=qe.id,A={isPic:be,fileExt:Dt,fileName:ot,id:Ae};E.errorFiles.push({id:qe.id,info:qe.getNative()}),E.setState({temporaryData:ut.concat({id:qe.id,progress:.1,base:A})}),It.push({bucket:be?4:3,ext:Dt})});var _t=E.props,Pt=_t.appId,ct=_t.worksheetId;(0,F.LP)(It,0,{projectId:W,appId:Pt,worksheetId:ct}).then(function(qe){var ut=[];de.forEach(function(Dt,ot){qe[ot].size&&Dt.size>qe[ot].size*1024*1024?(ut.push(Dt),_e.removeFile(Dt)):(Dt.token=qe[ot].uptoken,Dt.key=qe[ot].key,Dt.serverName=qe[ot].serverName,Dt.fileName=qe[ot].fileName,Dt.url=qe[ot].url)}),ut.length&&(E.setState({temporaryData:[]}),alert(_l("%0\u4E2A\u6587\u4EF6\u65E0\u6CD5\u4E0A\u4F20\uFF1A\u5355\u4E2A\u6587\u4EF6\u5927\u5C0F\u8D85\u8FC7%1MB",ut.length,qe[0].size),2)),_e.start()})},BeforeUpload:function(_e,de){if(E.currentFile=_e,!de.key){E.removeUploadingFile(de.id);return}var Le="."+File.GetExt(de.name);_e.settings.multipart_params={token:de.token},_e.settings.multipart_params.key=de.key,_e.settings.multipart_params["x:serverName"]=de.serverName,_e.settings.multipart_params["x:filePath"]=(de.key||"").replace(de.fileName,""),_e.settings.multipart_params["x:fileName"]=(de.fileName||"").replace(/\.[^\.]*$/,""),_e.settings.multipart_params["x:originalFileName"]=encodeURIComponent(de.name.indexOf(".")>-1?de.name.split(".").slice(0,-1).join("."):de.name),_e.settings.multipart_params["x:fileExt"]=Le},UploadProgress:function(_e,de){var Le=(de.loaded/de.size*100).toFixed(1),ge=E.state.temporaryData.map(function(Oe){return de.id===Oe.id&&"progress"in Oe&&(Oe.progress=Le),Oe});E.setState({temporaryData:ge})},FileUploaded:function(_e,de,Le){var ge=E.state.temporaryData.map(function(Oe){return de.id==Oe.id&&"progress"in Oe&&(Oe=(0,oe.LE)(de,Le.response),Oe.originalFileName=decodeURIComponent(Oe.originalFileName),delete Oe.progress,delete Oe.base),Oe});E.setState({temporaryData:ge}),E.props.onTemporaryDataUpdate(ge)},UploadComplete:function(){E._uploading=!1,E.props.onUploadComplete(!0)},Error:function(_e,de){if(de.response)try{var Le=JSON.parse(de.response);if(Le.code===50001){alert(Le.message,2);return}else if(d[Le.code]){alert(d[Le.code],2);return}}catch(ge){}de.code===window.plupload.FILE_SIZE_ERROR?alert(_l("\u5355\u4E2A\u6587\u4EF6\u5927\u5C0F\u8D85\u8FC7%0MB\uFF0C\u65E0\u6CD5\u652F\u6301\u4E0A\u4F20",D),2):alert(_l("\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5\u3002"),2)}}})}},{key:"onRemoveAll",value:function(E){E.files.forEach(function(D){setTimeout(function(){E.removeFile({id:D.id})},0)})}},{key:"onOpenFolderSelectDialog",value:function(){var E=this;(0,K.default)({isFolderNode:2}).then(function(D){var I=E.state,R=I.kcAttachmentData,w=I.temporaryData,b=I.originCount,Y=E.props.advancedSetting,W=D.node.map(function(f){return R.filter(function(ne){return ne.refId==f.id}).length?(alert(_l("\u5DF2\u5F15\u7528\u8BE5\u6587\u4EF6"),3),!1):{isUpload:!0,fileID:f.id,refId:f.id,originalFileName:f.name,fileExt:f.ext?"."+f.ext:"",fileSize:f.size,allowDown:f.isDownloadable,viewUrl:File.isPicture("."+f.ext)?f.viewUrl:null,node:f}});W=R.concat(W.filter(function(f){return f}));var M=!0;if(Y&&(M=(0,oe.go)(Y,W,w.length+b)),!!M){if(W.length>100)return alert(_l("\u9644\u4EF6\u6570\u91CF\u8D85\u8FC7\u9650\u5236\uFF0C\u4E00\u6B21\u4E0A\u4F20\u4E0D\u5F97\u8D85\u8FC7100\u4E2A\u9644\u4EF6"),3),!1;E.setState({kcAttachmentData:W},function(){E.props.onKcAttachmentDataUpdate(W),!E._uploading&&setTimeout(function(){E.props.onUploadComplete(!0)},0)})}})}},{key:"removeUploadingFile",value:function(E){var D=this;this.currentFile&&(this.currentFile.stop(),this.currentFile.removeFile({id:E}));var I=this.state.temporaryData.filter(function(R){return R.id!==E});this.setState({temporaryData:I},function(){D.props.onTemporaryDataUpdate(I),I.length||D.props.onUploadComplete(!0)})}},{key:"openLinkDialog",value:function(E){var D=this,I=this;(0,C.Z)({showTitleTip:!1,callback:function(w){var b=w.linkName,Y=w.linkContent,W=D.state.temporaryData;if(W.filter(function(f){return f.fileExt===".url"&&f.originLinkUrl}).length>=100){alert(_l("\u9644\u4EF6\u6570\u91CF\u8D85\u8FC7\u9650\u5236\uFF0C\u4E00\u6B21\u4E0A\u4F20\u4E0D\u5F97\u8D85\u8FC7100\u4E2A\u9644\u4EF6"),3);return}var M=W.concat({fileID:Math.random().toString(),fileExt:".url",originalFileName:b,oldOriginalFileName:b,originLinkUrl:Y,allowDown:!0});I.setState({temporaryData:M}),I.props.onTemporaryDataUpdate(M),I.props.onUploadComplete(!0)}})}},{key:"onDeleteMDFile",value:function(E,D){D.stopPropagation();var I=this.state.attachmentData.filter(function(M){return M.fileID!==E.fileID}),R=E.docVersionID,w=E.fileID,b=E.sourceID,Y=E.commentID,W=E.fromType;this.setState({attachmentData:I}),this.props.removeDeleteFilesFn||Pe.OW(R,w,b,Y,W,void 0,E.originalFilename+E.ext).then(function(M){alert(_l("\u5220\u9664\u6210\u529F"))}).catch(function(){alert(_l("\u5220\u9664\u6587\u4EF6\u5931\u8D25"),3)}),this.props.onDeleteAttachmentData(I)}},{key:"onDeleteFile",value:function(E,D){var I=this;D.stopPropagation();var R=this.state.temporaryData.filter(function(w){return w.fileID!==E});this.setState({temporaryData:R},function(){I.props.onTemporaryDataUpdate(R)})}},{key:"onDeleteKcFile",value:function(E,D){var I=this;D.stopPropagation();var R=this.state.kcAttachmentData.filter(function(w){return w.refId!==E});this.setState({kcAttachmentData:R},function(){I.props.onKcAttachmentDataUpdate(R)})}},{key:"resetFileName",value:function(E,D){var I=this;if(D=D.trim(),g().isEmpty(D)){alert(_l("\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"),2);return}var R=this.state.temporaryData.map(function(w){return w.fileID===E&&(w.originalFileName=D),w});this.setState({temporaryData:R},function(){I.props.onTemporaryDataUpdate(R)})}},{key:"onMDPreview",value:function(E,D){var I=this,R=this.state.attachmentData[D];if(R.attachmentType===5){window.open(R.shareUrl);return}var w=this.state.attachmentData.filter(function(M){return!(M.refId&&!M.shareUrl||M.attachmentType==5)}),b=this.props.hideDownload,Y=b===void 0?!1:b,W=(this.props.previewHideFunctions||[]).concat(["editFileName"]);Y&&W.push("download","share","saveToKnowlege"),(0,ae.Z)({attachments:w,index:(0,oe.cx)(w,R.fileID),callFrom:"player",sourceID:R.sourceID,commentID:R.commentID,fromType:R.fromType,docversionid:R.docVersionID,showThumbnail:!0,showAttInfo:this.props.showAttInfo,hideFunctions:W},{deleteCallback:function(f,ne){var ie=I.state.attachmentData.filter(function(V){return V.fileID!==ne});I.setState({attachmentData:ie}),I.props.onDeleteAttachmentData(ie)},mdReplaceAttachment:function(f){var ne=I.state.attachmentData,ie=ne.slice();if(f&&f.docVersionID){var V=g().findIndex(ne,function(me){return me.docVersionID===f.docVersionID});V>-1&&(ie[V]=f,I.setState({attachmentData:ie}))}},openControlAttachmentInNewTab:this.props.controlId&&this.handleOpenControlAttachmentInNewTab.bind(this)})}},{key:"onPreview",value:function(E,D,I){if(!I.target.classList.contains("UploadFiles-editInput")){var R=this.state.temporaryData,w=R.filter(function(ne){return ne.twice}),b=R.filter(function(ne){return!ne.twice}),Y=(0,oe.cx)(w,E),W=(0,oe.cx)(b,E);if(Y>=0){var M=["editFileName"];(0,ae.Z)({attachments:w.map(function(ne){return ne.twice}),index:Y,callFrom:"player",hideFunctions:M},{openControlAttachmentInNewTab:this.props.controlId&&this.handleOpenControlAttachmentInNewTab.bind(this)})}else if(W>=0){var f=["editFileName","share","saveToKnowlege"];(0,ae.Z)({attachments:b.map(function(ne){var ie=ne.twice||{},V={name:""+(ne.originalFileName||"\u672A\u547D\u540D")+ne.fileExt,path:ne.previewUrl?""+ne.previewUrl:ne.url?ne.url+"&imageView2/1/w/200/h/140":""+ne.serverName+ne.key,previewAttachmentType:"QINIU",size:ne.fileSize,fileid:ne.fileID};return ne.fileExt===".url"&&(V.linkUrl=ne.originLinkUrl),V}),index:W,callFrom:"chat",hideFunctions:f},{openControlAttachmentInNewTab:this.props.controlId&&this.handleOpenControlAttachmentInNewTab.bind(this)})}}}},{key:"onKcPreview",value:function(E,D){var I=this.state.kcAttachmentData,R=I.filter(function(w){return w.node});(0,ae.Z)({attachments:R.map(function(w){return w.node}),index:(0,oe.cx)(R,E),callFrom:"kc",hideFunctions:["editFileName","share","saveToKnowlege"]},{openControlAttachmentInNewTab:this.props.controlId&&this.handleOpenControlAttachmentInNewTab.bind(this)})}},{key:"onKcTwicePreview",value:function(E,D,I){var R=this.state.kcAttachmentData,w=R.filter(function(Y){return!!(Y.twice&&Y.twice.attachmentType!==5)}),b=w.map(function(Y){return Y.twice});b[0].updater?(0,ae.Z)({attachments:b,index:(0,oe.cx)(w,E),callFrom:"kc"},{openControlAttachmentInNewTab:this.props.controlId&&this.handleOpenControlAttachmentInNewTab.bind(this)}):(0,ae.Z)({attachments:b,index:(0,oe.cx)(w,E),callFrom:"player"},{openControlAttachmentInNewTab:this.props.controlId&&this.handleOpenControlAttachmentInNewTab.bind(this)})}},{key:"onReplaceAttachment",value:function(E){var D=this.state.attachmentData,I=D.slice();if(E&&E.fileID){var R=g().findIndex(D,function(w){return w.fileID===E.fileID});R>-1&&(I[R]=E,this.setState({attachmentData:I}))}}},{key:"render",value:function(){var E=this,D=this.props,I=D.controlId,R=D.isUpload,w=D.arrowLeft,b=D.minWidth,Y=D.maxWidth,W=D.height,M=D.canAddLink,f=D.canAddKnowledge,ne=D.from,ie=this.state,V=ie.temporaryData,me=ie.kcAttachmentData,_e=ie.attachmentData,de=(0,oe.C1)(V),Le=de.totalSize,ge=de.currentPrograss,Oe=V.length+me.length+_e.length,nt=t()({length:15}),lt={minWidth:b,maxWidth:Y,height:W},Ve=this.props.hideDownload,De=Ve===void 0?!1:Ve;return y.createElement("div",{className:ee()("UploadFiles-wrapper",this.props.className),ref:function(st){E.uploadFilesWrapper=st},style:{paddingTop:w?10:0}},!!w&&y.createElement("div",{style:{left:w},className:"UploadFiles-arrow"}),R&&y.createElement("div",{className:"UploadFiles-header"},y.createElement("div",{className:"UploadFiles-entrys"},y.createElement("div",{className:"flexRow valignWrapper",id:this.id,ref:function(st){E.nativeFile=st}},y.createElement("i",{className:"icon icon-knowledge-upload Gray_9e Font19"}),y.createElement("span",null,_l("\u672C\u5730"))),f&&md.global.Account.accountId&&md.global.Account.accountId.length===36&&ne!==Te.BD.DRAFT&&!md.global.SysSettings.forbidSuites.includes("4")&&!g().get(window,"shareState.isPublicForm")&&!g().get(window,"shareState.isPublicFormPreview")&&!g().get(window,"shareState.isPublicWorkflowRecord")&&y.createElement("div",{className:"flexRow valignWrapper",onClick:this.onOpenFolderSelectDialog.bind(this)},y.createElement("i",{className:"icon icon-folder Gray_9e Font18"}),y.createElement("span",null,_l("\u77E5\u8BC6"))),M&&y.createElement("div",{className:"flexRow valignWrapper",onClick:this.openLinkDialog.bind(this)},y.createElement("i",{className:"icon icon-link2 Gray_9e Font19"}),y.createElement("span",null,_l("\u94FE\u63A5\u6587\u4EF6")))),y.createElement("div",{className:"UploadFiles-ramSize"},y.createElement("div",{className:"UploadFiles-attachmentProgress"},y.createElement("div",{style:{width:ge+"%"},className:"UploadFiles-currentProgress ThemeBGColor3"})),y.createElement("div",{className:"UploadFiles-info"},Le,"/",md.global.SysSettings.fileUploadLimitSize,"M(",M?_l("\u81F3\u591A\u672C\u5730,\u94FE\u63A5\u5404100\u4E2A"):_l("\u81F3\u591A\u672C\u5730\u6587\u4EF6\u5404100\u4E2A"),")"))),y.createElement("div",{ref:function(st){E.filesWrapper=st},className:ee()("UploadFiles-filesWrapper",{rowDisplay:this.props.rowDisplay}),style:{display:Oe?"":"none"}},_e.map(function(ze,st){return y.createElement(Z.Z,(0,pe.default)({isUpload:R,hideDownload:De,style:lt,key:ze.fileID||Date.now(),index:st,data:ze,onDeleteMDFile:E.onDeleteMDFile.bind(E),onReplaceAttachment:E.onReplaceAttachment.bind(E),onPreview:E.onMDPreview.bind(E),isDeleteFile:E.props.isDeleteFile},I?{handleOpenControlAttachmentInNewTab:function(){return E.handleOpenControlAttachmentInNewTab(ze.fileID)}}:{}))}),V.map(function(ze,st){return y.createElement(Z.Z,(0,pe.default)({isUpload:R,hideDownload:De,style:lt,key:st,index:st,data:ze,resetFileName:E.resetFileName.bind(E),onDeleteFile:E.onDeleteFile.bind(E),removeUploadingFile:E.removeUploadingFile.bind(E),onPreview:E.onPreview.bind(E)},I?{handleOpenControlAttachmentInNewTab:function(){return E.handleOpenControlAttachmentInNewTab(ze.fileID)}}:{}))}),me.map(function(ze,st){return y.createElement(Z.Z,(0,pe.default)({isUpload:R,hideDownload:De,style:lt,key:st,index:st,data:ze,isDeleteKcFile:E.props.isDeleteKcFile,onDeleteKcFile:E.onDeleteKcFile.bind(E),onPreview:E.onKcPreview.bind(E),onKcTwicePreview:E.onKcTwicePreview.bind(E)},I?{handleOpenControlAttachmentInNewTab:function(){return E.handleOpenControlAttachmentInNewTab(ze.fileID)}}:{}))}),nt.map(function(ze,st){return y.createElement("div",{style:lt,key:st,className:"UploadFiles-file-wrapper UploadFiles-fileEmpty"})})))}}]),x}(y.Component),u.contextType=re.Z,u.propTypes={noTotal:h().bool,from:h().number,arrowLeft:h().number,canAddLink:h().bool,canAddKnowledge:h().bool,minWidth:h().number,maxWidth:h().number,height:h().number,isUpload:h().bool,showAttInfo:h().bool,isInitCall:h().bool,attachmentData:h().array,onDeleteAttachmentData:h().func,isDeleteFile:h().bool,isDeleteKcFile:h().bool,kcAttachmentData:h().array,onKcAttachmentDataUpdate:h().func,temporaryData:h().array,onTemporaryDataUpdate:h().func,onUploadComplete:h().func,dropPasteElement:h().string,onDropPasting:h().func,rowDisplay:h().bool,previewHideFunctions:h().arrayOf(h().string),removeDeleteFilesFn:h().bool},u.defaultProps={canAddLink:!1,canAddKnowledge:!0,minWidth:140,maxWidth:200,height:118,isUpload:!0,showAttInfo:!0,isInitCall:!1,attachmentData:[],onDeleteAttachmentData:function(){},isDeleteFile:!1,isDeleteKcFile:!0,kcAttachmentData:[],onKcAttachmentDataUpdate:function(){},temporaryData:[],onTemporaryDataUpdate:function(){},onUploadComplete:function(){},dropPasteElement:"",onDropPasting:function(){},rowDisplay:!1,removeDeleteFilesFn:!1},T)},44293:(Ze,Re,a)=>{"use strict";a.d(Re,{C1:()=>Pe,Gy:()=>K,JY:()=>l,LE:()=>ae,Q0:()=>oe,Sz:()=>Z,VU:()=>v,_h:()=>ee,cx:()=>Te,go:()=>B,mr:()=>L,qk:()=>re,sW:()=>F,w1:()=>z});var pe=a(88902),r=a.n(pe),t=a(69288),e=a(48446),X=a(67294),J=a(22438),ce=a(15577),U=a(96486),c=a.n(U),S={Tokens:{upMediaToken:"",upPubToken:"",upPicToken:"",upDocToken:""},Types:{media:1,pub:2,mainWeb:3}},h=function(p){for(var g=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],u=[],T=0;T<p;T++)u.push(g[Math.floor(Math.random()*g.length)]);return u.join("")},y=function(p){p=p+"";for(var g=0,u=0,T=p.length,d=0;d<T;d++)g=31*g+p.charCodeAt(u++),(g>2147483647||g<2147483648)&&(g=g&4294967295);return g},l=function(p){for(var g=0,u=!window.isPublicWorksheet,T=0,d=p.length;T<d;T++)File.isValid("."+File.GetExt(p[T].name))&&g++;return g!==p.length},ee=function(p){return p.map(function(g){return g.accountId?{fileExt:g.ext,filePath:g.filepath,fileName:g.filename,fileID:g.fileID,fileSize:g.filesize,originalFileName:g.originalFilename,oldOriginalFileName:g.originalFilename,commentID:g.commentID,sourceID:g.sourceID,twice:g}:(g.key||(g.key=""+g.filePath+g.fileName+g.fileExt),g.fileID||(g.fileID=Date.now()),g)})},z=function(p){return p.map(function(g){return!g.isUpload&&!g.twice?{refId:g.refId||g.id,fileExt:g.ext&&g.ext.indexOf(".")>=0?g.ext:"."+g.ext,filePath:g.filepath,fileName:g.filename,fileID:g.fileID||g.id,fileSize:g.filesize||g.size,originalFileName:g.originalFilename||g.name,commentID:g.commentID,sourceID:g.sourceID,allowDown:g.isDownloadable,viewUrl:File.isPicture("."+g.ext)?g.viewUrl:null,type:g.type,twice:g}:g})},ae=function(p,g){var u={},T=c().isString(g)?JSON.parse(g):g;return u.fileID=p.id,u.fileSize=p.size||0,u.serverName=T.serverName,u.filePath=T.filePath,u.fileName=T.fileName,u.fileExt=T.fileExt,u.originalFileName=T.originalFileName,u.key=T.key,u.url=p.url,u.oldOriginalFileName=u.originalFileName,File.isPicture(u.fileExt)||(u.allowDown=!0,u.docVersionID=""),u},Z=function(p){for(var g=0,u=0,T=p.length;u<T;u++)p[u].size&&(g+=p[u].size);return g},Pe=function(p){for(var g=0,u=0,T=0,d=p.length;T<d;T++)p[T].fileSize&&(g+=p[T].fileSize);return{totalSize:(0,ce.sS)(g),currentPrograss:g/1024/1024/2048*100}},oe=function(p){return p.substring(p.lastIndexOf(".")+1)},Te=function(p,g){for(var u=-1,T=0,d=p.length;T<d;T++)if(p[T].fileID===g){u=T;break}return u},F=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.Z.getUsage(g).then(function(u){return u.used+p<u.total})},K=function(){t.Z.confirm({width:450,noFooter:!0,children:X.createElement("div",{id:"uploadStorageOverDialog"},X.createElement("div",{className:"mTop20 mLeft30"},X.createElement("div",{className:"uploadStorageOverLogo Left"}),X.createElement("div",{className:"uploadStorageOverTxt Left"},_l("\u60A8\u5DF2\u7ECF\u6CA1\u6709\u8DB3\u591F\u7684\u6D41\u91CF\u6765\u4E0A\u4F20\u8BE5\u9644\u4EF6\uFF01")),X.createElement("div",{className:"Clear"})),X.createElement("div",{className:"mTop20 mBottom20 TxtCenter"},X.createElement("a",{href:"/personal?type=enterprise",className:"uploadStorageOverBtn btnBootstrap btnBootstrap-primary btnBootstrap-small"},_l("\u5347\u7EA7\u81F3\u4E13\u4E1A\u7248"))))})},v=function(p,g){for(var u=!1,T=0,d=g.length;T<d;T++)if(g[T].id===p){u=!0;break}return u},re=function(p){var g=[".doc",".docx",".dotx",".dot",".dotm",".xls",".xlsx",".xlsm",".xlm",".xlsb",".ppt",".pptx",".pps",".ppsx",".potx",".pot",".pptm",".potm",".ppsm",".pdf"];return p?(p=p.toLowerCase(),g.indexOf(p)>=0):!1},L=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,g=parseInt(p/60%60),u=parseInt(p/60/60),T=parseInt(p%60);return g=g>=10?g:"0"+g,T=T>=10?T:"0"+T,u?u+":"+g+":"+T:g+":"+T},m=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",u=JSON.parse(p||"{}"),T=u.type,d=T===void 0?"":T,O=u.values,k=O===void 0?[]:O;g=g.replace(".","");var x=!0,N={0:k,1:["JPG","JPEG","PNG","Gif","WebP","Tiff","bmp","HEIC","HEIF"],3:["WAV","FLAC","APE","ALAC","WavPack","MP3","M4a","AAC","Ogg Vorbis","Opus","Au","MMF","AIF"],4:["MP4","AVI","MOV","WMV","MKV","FLV","F4V","SWF","RMVB","MPG"]};if(c().includes(["0","1","3","4"],d))x=N[d].some(function(I){return g.toLowerCase()===I.toLowerCase()});else if(c().includes(["2"],d)){var E=r()(N).reduce(function(I,R){if(c().includes(["0","2"],d))return I=I.concat(N[R])},[]);x=E.every(function(I){return g.toLowerCase()!==I.toLowerCase()})}var D=d==="2"?_l("\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u9009\u62E9\u9664\u56FE\u7247\u3001\u97F3\u9891\u3001\u89C6\u9891\u4EE5\u5916\u7684\u6587\u4EF6"):_l("\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u9009\u62E9%0\u6587\u4EF6",N[d].join("\u3001"));return{verifyExt:x,errorText:D}},B=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,T=p.maxcount,d=p.max,O=p.filetype,k=u+g.length,x=!0;return T&&k>Number(T)&&(alert(_l("\u6700\u591A\u4E0A\u4F20%0\u4E2A\u6587\u4EF6",T),2),x=!1),x&&(x=g.every(function(N){if(O&&JSON.parse(O||"{}").type){var E=m(O,N.name?File.GetExt(N.name):N.fileExt),D=E.verifyExt,I=E.errorText;if(!D)return alert(I,2),!1}return d&&(N.size||N.fileSize)>parseFloat(d)*1024*1024?(alert(_l("\u4E0A\u4F20\u5931\u8D25\uFF0C\u65E0\u6CD5\u4E0A\u4F20\u5927\u4E8E%0MB\u7684\u6587\u4EF6",d),2),!1):!0})),x}},32613:(Ze,Re,a)=>{"use strict";a.d(Re,{_J:()=>nn,Sy:()=>Mt,ZP:()=>Hn});var pe=a(52945),r=a.n(pe),t=a(1952),e=a(69288),X=a(33867),J=a(88239),ce=a(85105),U=a.n(ce),c=a(99663),S=a(22600),h=a(49135),y=a(93196),l=a(67294),ee=a(93967),z=a.n(ee),ae=a(42185),Z=a(7584),Pe=a(24035),oe=a(15577),Te=a(75809),F=a(70264),K=a(66215),v=a(20640),re=a.n(v),L=a(99924),m=a(59768),B=a(82891),C=a(60954),p=a(12386),g=a(63239),u=a.n(g),T=a(86735),d=a(50533),O=a(88106),k=a(12424),x=a(93516),N=a.n(x),E=a(69082),D=a(96486),I=a.n(D),R=null,w=null,b=[Ct,Ue,Q,at],Y=function(q,ve){var P,te=ve.departmentId,he=ve.isGetAll;if(q===REQUEST_ACTIONS.USER_REQUEST)return te?departmentController.getProjectDepartmentUsers:departmentController.getNoDepartmentUsers;if(q===REQUEST_ACTIONS.FULL_TREE_REQUEST)return he?departmentController.getProjectDepartmentFullTreeByDepartmentId:departmentController.getOneDepartmentFullTree;var ke=(P={},_defineProperty(P,REQUEST_ACTIONS.ALL_USER_REQUEST,userController.pagedNormalUserList),_defineProperty(P,REQUEST_ACTIONS.DEPARTMENT_REQUEST,departmentController.pagedSubDepartments),_defineProperty(P,REQUEST_ACTIONS.INACTIVE_USER_REQUEST,importUserController.getImportUserDetails),_defineProperty(P,REQUEST_ACTIONS.APPROVAL_USER_REQUEST,userController.getApprovalUser),_defineProperty(P,CURRENT_ACTIONS.INACTIVE_LOAD,importUserController.getUnusedInfosByProjectIdCount),_defineProperty(P,CURRENT_ACTIONS.APPROVAL_LOAD,projectController.getProjectUnauditedUserCount),_defineProperty(P,SEARCH_ACTIONS.SEARCH_REQUEST,departmentController.searchDeptAndUsers),P);if(ke[q]===void 0)throw new Error("ajaxController method not found.");return ke[q]},W=new E.V_("users",{idAttribute:"accountId"}),M=new E.V_("departments",{idAttribute:"departmentId",defaults:{haveSubDepartment:!1,collapsed:!0,isLoading:!1,isExpired:!1},assignEntity:function(q,ve,P,te){delete q.users}});M.define({parentDepartment:M,users:(0,E.CT)(W),chargeUsers:(0,E.CT)(W)});var f={DEPARTMENT:M,DEPARTMENT_ARRAY:(0,E.CT)(M),USER:W,USER_ARRAY:(0,E.CT)(W)},ne=N()("CALL_API"),ie=function(q,ve){return q&&ve?normalize(q,ve):{}};const V=function(Qe){return function(q){return function(ve){var P=ve[ne];if(typeof P>"u")return q(ve);var te=P.types;if(!Array.isArray(te)||te.length!==3)throw new Error("Expected an array of three action types.");var he=function(an){var rn=_extends({},ve,an);return delete rn[ne],rn},ke=_slicedToArray(te,3),He=ke[0],je=ke[1],Je=ke[2];q(he({type:He}));var it=P.params,xt=P.afterRequest,Ft=Y(He,it);return R&&b.includes(He)&&b.includes(w)&&R.abort(),R=Ft(_Object$assign({},it,{projectId:Config.projectId})),w=He,R.then(function(Nt){if(R&&R.state&&R.state()==="abort")return!1;q(he({response:Nt,type:je})),je==="INACTIVE_USER_SUCCESS"&&!_.isUndefined(Nt.allCount)&&q(he({response:Nt.allCount,type:"INACTIVE_SUCCESS"})),je==="APPROVAL_USER_SUCCESS"&&!_.isUndefined(Nt.users.allCount)&&q(he({response:Nt.users.allCount,type:"APPROVAL_SUCCESS"})),_.isFunction(xt)&&xt.call(null)},function(Nt){return q(he({error:Nt,type:Je}))}),R}}};var me="",_e=50,de={importDepartment:"\u5BFC\u5165\u90E8\u95E8",exportDepartment:"\u5BFC\u51FA\u90E8\u95E8",importPosition:"\u5BFC\u5165\u804C\u4F4D",exportPosition:"\u5BFC\u51FA\u804C\u4F4D"},Le={FAILED:0,SUCCESS:1,OVERINVITELIMITCOUNT:4},ge=function(q){var ve=q.split("/");return ve.length<=3?q:ve[0]+"/.../"+ve[ve.length-2]+"/"+ve[ve.length-1]},Oe=function(q,ve){return q?isNaN(Number(q))?RegExp.isEmail(q)?null:_l("\u90AE\u7BB1\u586B\u5199\u9519\u8BEF"):ve&&ve.isValidNumber()?null:_l("\u624B\u673A\u53F7\u586B\u5199\u9519\u8BEF"):_l("\u8BF7\u8F93\u5165\u624B\u673A\u6216\u8005\u90AE\u7BB1")},nt={userName:function(q){return $.trim(q)===""?_l("\u59D3\u540D\u4E0D\u80FD\u4E3A\u7A7A"):""},email:function(q){return $.trim(q)===""?_l("\u90AE\u7BB1\u4E0D\u80FD\u4E3A\u7A7A"):RegExp.isEmail(q)?"":_l("\u90AE\u7BB1\u586B\u5199\u9519\u8BEF")},mobile:function(q,ve){return $.trim(q)===""?_l("\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A"):ve&&!ve.isValidNumber()?_l("\u624B\u673A\u53F7\u586B\u5199\u9519\u8BEF"):""},contactPhone:function(q){return q&&!RegExp.isPhoneNumberWithAreaCode(q)&&!RegExp.isPhoneNumber(q)?_l("\u5DE5\u4F5C\u7535\u8BDD\u683C\u5F0F\u4E0D\u6B63\u786E"):""},autonomously:Oe,invite:Oe,autonomouslyPasswrod:function(q){var ve=_.get(md,"global.SysSettings")||{},P=ve.passwordRegexTip,te=ve.passwordRegex;return $.trim(q)?RegExp.isPasswordValid(q,te)?"":P||_l("\u5BC6\u7801\u8FC7\u4E8E\u7B80\u5355\uFF0C\u81F3\u5C118~20\u4F4D\u4E14\u542B\u5B57\u6BCD+\u6570\u5B57"):_l("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A")},mobilePhone:function(q,ve){return q?ve&&!ve.isValidNumber()?_l("\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF"):"":_l("\u8BF7\u8F93\u5165\u624B\u673A\u53F7")}},lt={2:_l("\u7528\u6237\u5DF2\u5B58\u5728\u5F53\u524D\u7EC4\u7EC7"),3:_l("\u7528\u6237\u672A\u6FC0\u6D3B"),4:_l("\u7528\u6237\u5F85\u5BA1\u6838"),5:_l("\u7528\u6237\u5DF2\u79BB\u804C"),6:_l("\u5DF2\u5B58\u5728\u5F53\u524D\u90E8\u95E8"),7:_l("\u7528\u6237\u5F85\u5BA1\u6838")},Ve="DEPARTMENT_REQUEST",De="DEPARTMENT_SUCCESS",ze="DEPARTMENT_FAILURE",st=function(q,ve,P){var te={departmentId:q,returnCount:!0,pageIndex:ve,pageSize:100};return _defineProperty({departmentId:q},CALL_API,{types:[Ve,De,ze],params:te,afterRequest:P})},ht=function(q,ve,P){return function(te){return te(st(q,ve,P))}},Ie="DEPARTMENT_UPDATE",le=function(q,ve,P){return{type:Ie,newDepartments:q,department:ve,id:P}},we="EXPANDED_KEYS_UPDATE",We=function(q){return{type:we,expandedKeys:q}},at="USER_REQUEST",At="USER_SUCCESS",dt="USER_FAILURE",mt=function(q,ve){var P={departmentId:q,pageIndex:ve,pageSize:_e};return(0,O.default)({departmentId:q,pageIndex:ve},ne,{types:[at,At,dt],params:P})},It=function(q,ve){return function(P){return P(mt(q,ve||1))}},_t="INIT_ROOT",Pt=function(q){var ve=getCurrentProject(Config.projectId,!0).companyName;return{type:_t,response:[{departmentName:ve,departmentId:q,isExpired:!0,collapsed:!1,haveSubDepartment:!0}]}},ct="DEPARTMENT_TOGGLE",qe=function(q){return{type:ct,departmentId:q}},ut="DELETE_DEPARTMENT",Dt=function(q){var ve=q.departmentId,P=q.parentId,te=q.expandedKeys;return{type:ut,departmentId:ve,parentId:P,expandedKeys:te}},ot="EDIT_DEPARTMENT",be=function(q){var ve=q.newDepartments,P=q.expandedKeys;return{type:ot,newDepartments:ve,expandedKeys:P}},Ae="FULL_TREE_REQUEST",A="FULL_TREE_SUCCESS",j="FULL_TREE_FAILURE",H=function(q){var ve=q.departmentId,P=q.collapseAll,te=P===void 0?!1:P,he=q.expandedKeys,ke=he===void 0?[]:he,He=q.afterRequest,je=q.isGetAll;return function(Je){return Je((0,O.default)({departmentId:me,curDepartmentId:ve,collapseAll:te,expandedKeys:ke,isGetAll:je},ne,{types:[Ae,A,j],params:{departmentId:ve,isGetAll:je},afterRequest:He}))}},Q="APPROVAL_USER_REQUEST",se="APPROVAL_USER_SUCCESS",Ee="APPROVAL_USER_FAILURE",ue=function(q,ve,P){var te={pageIndex:ve,projectId:q,userStatus:P,pageSize:PAGE_SIZE};return _defineProperty({projectId:q,pageIndex:ve},CALL_API,{types:[Q,se,Ee],params:te})},Ce=function(q,ve){return function(P,te){var he=te().current.userStatus;return P(ue(q,ve||1,he))}},Ue="INACTIVE_USER_REQUEST",$e="INACTIVE_USER_SUCCESS",gt="INACTIVE_USER_FAILURE",rt=function(q,ve){var P={pageIndex:ve,projectId:q,pageSize:PAGE_SIZE};return _defineProperty({projectId:q,pageIndex:ve},CALL_API,{types:[Ue,$e,gt],params:P})},vt=function(q,ve){return function(P){return P(rt(q,ve||1))}},Ct="ALL_USER_REQUEST",yt="ALL_USER_SUCCESS",Et="ALL_USER_FAILURE",Rt={DEFAULT:0,NORMAL:1,LOGOFF:2,INACTIVE:3,REMOVED:4},zt=function(q,ve){var P={pageIndex:ve,projectId:q,pageSize:PAGE_SIZE,userStatus:Rt.NORMAL};return _defineProperty({projectId:q,pageIndex:ve},CALL_API,{types:[Ct,yt,Et],params:P})},mn=function(q,ve){return function(P){return P(zt(q,ve||1))}},on=function(q){return{type:"UPDATE_SHOW_EXPORT",isShowExport:q}},vn=function(q){return{type:"UPDATE_IMPORT_EXPORT_TYPE",importExportType:q}},Zn=function(q){return{type:"UPDATE_IMPORT_EXPORT_RESULT",importExportResult:q}},_n=function(q,ve){return function(P,te){var he=te().entities.fullDepartmentInfo,ke=he===void 0?{}:he;ve=ve.filter(function(He){return!ke[He]}),!_.isEmpty(ve)&&departmentController.getDepartmentFullNameByIds({projectId:q,departmentIds:ve}).then(function(He){(He||[]).forEach(function(je){ke[je.id]=je.name}),P({type:"UPDATE_FULL_DEPARTMENT_INFO",fullDepartmentInfo:ke})})}},Un="UPDATE_CURSOR",Rn="REMOVE_CURSOR",kn="ADD_TO_USERSET",pn="REMOVE_FROM_USERSET",gn="EMPTY_USERSET",ln="APPROVAL_LOAD",xn="APPROVAL_SUCCESS",In="APPROVAL_FAILED",En="INACTIVE_LOAD",yn="INACTIVE_SUCCESS",bn="INACTIVE_FAILED",An="UPDATE_ACTIVE_OPLIST",Cn="UPDATE_PROJECT_ID",Ln="UPDATE_TYPE",Nn="UPDATE_TYPE_CURSOR",Sn="UPDATE_SELECT_ALL",qt=function(q){return{type:Cn,projectId:q}},zn=function(q){return{type:Ln,typeNum:q}},en=function(q){return{type:Nn,typeCursor:q}},fn=function(q){return{type:Un,departmentId:q}},Tn=function(){return{type:Rn}},On=function(q){return{type:An,accountId:q}},jt=function(q){return{type:kn,accountIds:q}},tn=function(q){return{type:pn,accountIds:q}},wn=function(){return{type:gn}},Mn=function(q){return{type:Sn,isSelectAll:q}},Dn=function(q){return function(ve){return ve(_defineProperty({},CALL_API,{types:[ln,xn,In],params:{projectId:q}}))}},kt=function(q){return function(ve){return ve(_defineProperty({},CALL_API,{types:[En,yn,bn],params:{projectId:q}}))}},Lt=function(q){return{type:"UPDATE_SELECTED_ACCOUNTIDS",selectedAccountIds:q}},Ut=function(q){return{type:"UPDATE_USER_TATUS",userStatus:q}},Wt=function(q){return{type:"UPDATE_NO_DEPARTMENT_USERS",noDepartmentUsers:q}},Yt=function(q,ve){return function(P,te){var he=te().current.projectId;importUserAjax.reInviteImportUser({accounts:q,projectId:he}).then(function(ke){_.isFunction(ve)&&ve(),ke?alert(_l("\u91CD\u65B0\u9080\u8BF7\u6210\u529F")):alert(_l("\u91CD\u65B0\u9080\u8BF7\u5931\u8D25"),2)})}},Bt=function(q,ve){return function(P,te){var he=te().current.projectId;importUserAjax.cancelImportUser({accounts:q,projectId:he}).then(function(ke){ke?_.isFunction(ve)&&ve():alert(_l("\u53D6\u6D88\u5931\u8D25"),2)})}},Qt=a(17187),un=a.n(Qt),Fn=a(70714),ra=a(71893),sa=a(42509),oa=a(30381),Yn=a.n(oa),ia=(0,T.Z)([`
  padding: 12px 0;
  border-top: 1px solid #eaeaea;
  display: flex;
  align-items: center;
`],[`
  padding: 12px 0;
  border-top: 1px solid #eaeaea;
  display: flex;
  align-items: center;
`]),la=ra.ZP.div(ia),Qn=new(un()),ua=function(Qe){(0,y.default)(q,Qe);function q(ve){(0,c.default)(this,q);var P=(0,h.default)(this,(q.__proto__||U()(q)).call(this,ve));return P.exportDepartmentList=function(){var te=P.props.projectId,he=(0,oe.vo)(te,!0).companyName;fetch(md.global.Config.AjaxApiUrl+"download/exportProjectDepartmentList",{method:"POST",headers:{"content-type":"application/json",Authorization:"md_pss_id "+(0,Fn.qz)()},body:u()({userStatus:"1",projectId:te})}).then(function(ke){return ke.blob()}).then(function(ke){var He=Yn()().format("YYYYMMDDHHmmss"),je=he+"_"+_l("\u90E8\u95E8")+"_"+He+".xlsx",Je=document.createElement("a");Je.href=window.URL.createObjectURL(ke),Je.download=je,Je.click(),window.URL.revokeObjectURL(Je.href)})},P.handleClick=P.handleClick.bind(P),Qn.addListener("handleClick",P.handleClick),P}return(0,S.default)(q,[{key:"componentDidMount",value:function(){var P=this,te=this.props,he=te.autoShow,ke=te.dispatch;he&&(setTimeout(function(){P.handleClick()},0),ke({type:"UPDATE_AUTO_SHOW"}))}},{key:"handleClick",value:function(P){P&&P.stopPropagation();var te=this.props,he=te.departmentId,ke=te.projectId,He=te.dispatch;(0,sa.$)({type:"create",projectId:ke,departmentId:"",isLevel0:!0,callback:function(Je){var it=Je.response.departmentId;He(H({departmentId:it,isGetAll:!0,afterRequest:function(){He(fn(it)),He(It(it))}}))}})}},{key:"render",value:function(){var P=this.props,te=P.newDepartments,he=P.dispatch;return l.createElement(la,null,l.createElement("span",{className:"bold mLeft12"},_l("\u90E8\u95E8")),l.createElement(F.Z,{text:l.createElement("span",null,_l("\u5728\u8FDB\u884C\u5DE5\u4F5C\u8868\u548C\u5DE5\u4F5C\u6D41\u7684\u6240\u6709\u4E0B\u7EA7\u90E8\u95E8\u68C0\u7D22\u65F6\uFF0C\u82E5\u6240\u6709\u4E0B\u7EA7\u90E8\u95E8\u603B\u6570\u8D85\u8FC72000\uFF08\u542B\uFF09\uFF0C\u7CFB\u7EDF\u5C06\u9ED8\u8BA4\u4EC5\u83B7\u53D6\u5F53\u524D\u90E8\u95E8\u7684\u201C\u4E00\u7EA7\u5B50\u90E8\u95E8\u201D\u6240\u6709\u90E8\u95E8\u3002")),action:["hover"]},l.createElement(X.Z,{className:"Font16 Gray_bd Hand mLeft4",icon:"info_outline"})),l.createElement("div",{className:"flex"}),l.createElement("span",{className:"Hand ThemeColor mRight12",onClick:this.handleClick},l.createElement("i",{className:"mRight3 icon-add Font18 TxtMiddle"}),_l("\u6DFB\u52A0")),l.createElement(B.default,{overlayClassName:"createMoreDropDown",trigger:["click"],placement:"bottomLeft",overlay:l.createElement(p.default,null,l.createElement(p.default.Item,{key:"0",onClick:function(){he(on(!0)),he(vn("importDepartment"))}},_l("\u5BFC\u5165\u90E8\u95E8")),l.createElement(p.default.Item,{key:"1",disabled:I().isEmpty(te),onClick:this.exportDepartmentList},_l("\u5BFC\u51FA\u90E8\u95E8")))},l.createElement(X.Z,{icon:"moreop",className:"Gray_9e Hand Font20 iconHover mRight12"})))}}]),q}(l.Component),da=function(q){var ve=q.current,P=q.entities.newDepartments,te=P===void 0?[]:P;return(0,J.default)({},ve,{newDepartments:te})},Ba=(0,d.$j)(da)(ua);const ja=null;var ca=a(36021),ma=function(Qe){(0,y.default)(q,Qe);function q(ve){(0,c.default)(this,q);var P=(0,h.default)(this,(q.__proto__||U()(q)).call(this,ve));return P.getData=function(){var te={projectId:P.props.projectId};L.Z.getPrivacy(te).then(function(he){P.setState({regCode:he.regCode,userAuditEnabled:he.userAuditEnabled,allowProjectCodeJoin:he.allowProjectCodeJoin,userFillCompanyEnabled:he.userFillCompanyEnabled,userFillDepartmentEnabled:he.userFillDepartmentEnabled,userFillJobEnabled:he.userFillJobEnabled,userFillWorkSiteEnabled:he.userFillWorkSiteEnabled,userFillJobNumberEnabled:he.userFillJobNumberEnabled})})},P.tipAnimation=function(te){te.show()},P.state={regCode:"",projectId:ve.projectId,rulesData:{userAuditEnabled:!0,allowProjectCodeJoin:!0,userFillCompanyEnabled:!1,userFillDepartmentEnabled:!1,userFillJobEnabled:!1,userFillWorkSiteEnabled:!1,userFillJobNumberEnabled:!1}},P}return(0,S.default)(q,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var P=this,te=this.props,he=te.showDialogSettingInviteRules,ke=te.setValue,He=te.updateType,je=te.dispatch,Je=te.projectId;return l.createElement(e.Z,{width:640,title:_l("\u7528\u6237\u52A0\u5165\u89C4\u5219"),okText:_l("\u4FDD\u5B58"),cancelText:_l("\u53D6\u6D88"),className:"showRulesDialog",onCancel:function(){ke({showDialogSettingInviteRules:!1})},onOk:function(){L.Z.setPrivacys({projectId:P.props.projectId,settings:[{setting:"projectUserAuditEnabled",settingValue:P.state.userAuditEnabled},{setting:"allowProjectCodeJoin",settingValue:P.state.allowProjectCodeJoin},{setting:"userFillCompanyEnabled",settingValue:P.state.userFillCompanyEnabled},{setting:"userFillDepartmentEnabled",settingValue:P.state.userFillDepartmentEnabled},{setting:"userFillJobEnabled",settingValue:P.state.userFillJobEnabled},{setting:"userFillWorkSiteEnabled",settingValue:P.state.userFillWorkSiteEnabled},{setting:"userFillJobNumberEnabled",settingValue:P.state.userFillJobNumberEnabled}]}).then(function(xt){switch(xt){case 1:ke({showDialogSettingInviteRules:!1}),alert(_l("\u4FDD\u5B58\u6210\u529F"));break;case 2:ke({showDialogSettingInviteRules:!1}),alert(_l("\u4FDD\u5B58\u5931\u8D25"),2);break;case 3:alert(_l("\u5C1A\u672A\u914D\u7F6E\u90E8\u95E8\uFF0C\u8BF7\u524D\u5F80\u521B\u5EFA"),3),P.tipAnimation($(".warnTip.dept"));break;case 4:alert(_l("\u5C1A\u672A\u914D\u7F6E\u5DE5\u4F5C\u5730\u70B9\uFF0C\u8BF7\u524D\u5F80\u521B\u5EFA"),3),P.tipAnimation($(".warnTip.workSite"));break;case 5:alert(_l("\u5C1A\u672A\u914D\u7F6E\u804C\u4F4D"),3);break;default:break}},function(){alert(_l("\u4FDD\u5B58\u5931\u8D25"),2)})},visible:he},l.createElement("div",{className:"listBox"},l.createElement("h3",null,_l("\u4EBA\u5458\u52A0\u5165\u5BA1\u6838")),l.createElement("div",{className:"listText"},l.createElement("span",{className:"iconBox"},l.createElement(F.Z,{text:l.createElement("span",null,_l("\u5F00\u542F\u540E\u9700\u8981\u5BA1\u6838\uFF0C\u5173\u95ED\u540E\u4E0D\u9700\u8981")),action:["hover"]},l.createElement("span",null,l.createElement(K.Z,{checked:this.state.userAuditEnabled,onClick:function(){P.setState({userAuditEnabled:!P.state.userAuditEnabled})}})))),l.createElement("span",{className:"text"},l.createElement("p",{className:"Gray Font13"},_l("\u9080\u8BF7\u5BA1\u6838"),l.createElement(F.Z,{text:l.createElement("span",null,_l("\u901A\u8FC7\u9080\u8BF7\u94FE\u63A5\u3001\u641C\u7D22\u4F01\u4E1A\u53F7\u7684\u65B9\u5F0F\u52A0\u5165\u4F01\u4E1A\u7F51\u7EDC\uFF0C\u9ED8\u8BA4\u5747\u9700\u8981\u7BA1\u7406\u5458\u5BA1\u6838\uFF1B\u4F01\u4E1A\u7F51\u7EDC\u7BA1\u7406\u5458\u901A\u8FC7\u624B\u673A\u6216\u90AE\u7BB1\u9080\u8BF7\u7528\u6237\u52A0\u5165\u7F51\u7EDC\u65E0\u9700\u5BA1\u6279")),action:["hover"]},l.createElement("span",null,l.createElement(X.Z,{className:"Font14 Hand Gray_bd mLeft5",icon:"help"})))),l.createElement("p",{className:"Gray_9e Font13 mTop13"},_l("\u975E\u7BA1\u7406\u5458\u901A\u8FC7\u90AE\u7BB1\u6216\u624B\u673A\u53F7\u9080\u8BF7\u4ED6\u4EBA\u52A0\u5165\u7EC4\u7EC7\u662F\u5426\u9700\u8981\u5BA1\u6838"))))),l.createElement("div",{className:"listBox borderTopLine"},l.createElement("h3",null,_l("\u641C\u7D22\u52A0\u5165")),l.createElement("div",{className:"listText"},l.createElement("span",{className:"iconBox"},l.createElement(K.Z,{checked:this.state.allowProjectCodeJoin,onClick:function(){P.setState({allowProjectCodeJoin:!P.state.allowProjectCodeJoin})}})),l.createElement("span",{className:"text"},l.createElement("p",{className:"Gray Font13"},_l("\u7EC4\u7EC7\u95E8\u724C\u53F7 %0",this.state.regCode),l.createElement("span",{className:"copyBtn Gray_75 Hand mLeft15 regCode",onClick:function(){re()(P.state.regCode),alert(_l("\u5DF2\u590D\u5236\u5230\u526A\u5207\u677F"))}},_l("\u590D\u5236"))),l.createElement("p",{className:"Gray_9e Font13 mTop13"},_l("\u5F00\u542F\u540E\u5141\u8BB8\u901A\u8FC7\u641C\u7D22\u7EC4\u7EC7\u95E8\u724C\u53F7\u5230\u7EC4\u7EC7")))),l.createElement("div",{className:"listBox borderTopLine"},l.createElement("h3",null,_l("\u4EBA\u5458\u52A0\u5165\u7EC4\u7EC7\u9700\u8981\u586B\u5199\u7684\u4FE1\u606F")),l.createElement("p",{className:"Gray_9e Font13 mTop12"},_l("\u5F00\u542F\u540E\u6210\u5458\u52A0\u5165\u7EC4\u7EC7\u65F6\u5219\u9700\u8981\u586B\u5199")),l.createElement("div",{className:"listText"},l.createElement("span",{className:"iconBox"},l.createElement(F.Z,{text:l.createElement("span",null,_l("\u5F00\u542F\u540E\u6210\u5458\u53EF\u81EA\u4E3B\u9009\u62E9")),action:["hover"]},l.createElement("span",null,l.createElement(K.Z,{checked:this.state.userFillDepartmentEnabled,onClick:function(){P.setState({userFillDepartmentEnabled:!P.state.userFillDepartmentEnabled})}})))),l.createElement("span",{className:"text"},l.createElement("p",{className:"Gray Font13"},_l("\u90E8\u95E8"),l.createElement("span",{className:"warnTip dept Hidden"},l.createElement("span",{className:"icon-knowledge-message Red"}),l.createElement("span",{className:"Red"},_l("\u5C1A\u672A\u914D\u7F6E\u90E8\u95E8")),l.createElement("span",{className:"Gray_9e Hand",onClick:function(){ke({showDialogSettingInviteRules:!1,ischage:!0}),Qn.emit("handleClick")}},_l("\u524D\u5F80\u521B\u5EFA")))),l.createElement("p",{className:"Gray_9e Font13 mTop13"},_l("\u52A0\u5165\u7EC4\u7EC7\u9700\u8981\u586B\u5199\u90E8\u95E8")))),l.createElement("div",{className:"listText"},l.createElement("span",{className:"iconBox"},l.createElement(F.Z,{text:l.createElement("span",null,_l("\u5F00\u542F\u540E\u6210\u5458\u53EF\u81EA\u4E3B\u9009\u62E9")),action:["hover"]},l.createElement("span",null,l.createElement(K.Z,{checked:this.state.userFillJobEnabled,onClick:function(){P.setState({userFillJobEnabled:!P.state.userFillJobEnabled})}})))),l.createElement("span",{className:"text"},l.createElement("p",{className:"Gray Font13"},_l("\u804C\u4F4D")),l.createElement("p",{className:"Gray_9e Font13 mTop13"},_l("\u9700\u8981\u9009\u62E9\u804C\u4F4D")))),l.createElement("div",{className:"listText"},l.createElement("span",{className:"iconBox"},l.createElement(F.Z,{text:l.createElement("span",null,_l("\u5F00\u542F\u540E\u6210\u5458\u53EF\u81EA\u4E3B\u9009\u62E9")),action:["hover"]},l.createElement("span",null,l.createElement(K.Z,{checked:this.state.userFillWorkSiteEnabled,onClick:function(){P.setState({userFillWorkSiteEnabled:!P.state.userFillWorkSiteEnabled})}})))),l.createElement("span",{className:"text"},l.createElement("p",{className:"Gray Font13"},_l("\u5DE5\u4F5C\u5730\u70B9"),l.createElement("span",{className:"warnTip workSite Hidden"},l.createElement("span",{className:"icon-knowledge-message Red"}),l.createElement("span",{className:"Red"}," ",_l("\u5C1A\u672A\u914D\u7F6E\u5DE5\u4F5C\u5730\u70B9")),l.createElement("span",{className:"Gray_9e Hand",onClick:function(){ke({showDialogSettingInviteRules:!1,ischage:!0}),(0,ca.T8)("/admin/sysinfo/"+Je)}},_l("\u524D\u5F80\u521B\u5EFA")))),l.createElement("p",{className:"Gray_9e Font13 mTop13"},_l("\u9700\u8981\u9009\u62E9\u5DE5\u4F5C\u5730\u70B9")))),l.createElement("div",{className:"listText"},l.createElement("span",{className:"iconBox"},l.createElement(F.Z,{text:l.createElement("span",null,_l("\u5F00\u542F\u540E\u9700\u8981\u586B\u5199\uFF0C\u5173\u95ED\u540E\u4E0D\u9700\u8981")),action:["hover"]},l.createElement("span",null,l.createElement(K.Z,{checked:this.state.userFillJobNumberEnabled,onClick:function(){P.setState({userFillJobNumberEnabled:!P.state.userFillJobNumberEnabled})}})))),l.createElement("span",{className:"text"},l.createElement("p",{className:"Gray Font13"},_l("\u5DE5\u53F7")),l.createElement("p",{className:"Gray_9e Font13 mTop13"},_l("\u9700\u8981\u586B\u5199\u5DE5\u53F7")))))))}}]),q}(l.Component);const Gn=ma;var pa=function(Qe){(0,y.default)(q,Qe);function q(ve){(0,c.default)(this,q);var P=(0,h.default)(this,(q.__proto__||U()(q)).call(this,ve));return P.handleInviteMember=function(){var te=P.state.selectUsers,he=P,ke=[md.global.Account.accountId].concat(te.map(function(He){return He.accountId}));(0,Te.Z)({zIndex:11,fromType:he.props.fromType,SelectUserSettings:{filterAccountIds:ke,callback:function(je){he.setState({selectUsers:te.concat(je)})}}})},P.deleteFn=function(te){P.setState({selectUsers:P.state.selectUsers.filter(function(he){return he.accountId!==te})})},P.submit=function(){var te=P.props,he=te.projectId,ke=te.onCancel,He=te.fromType,je=P.state,Je=je.selectUsers,it=Je===void 0?[]:Je,xt=je.loading;xt||(P.setState({loading:!0}),Pe.Z.inviteUser({sourceId:he,accountIds:it.map(function(Ft){return Ft.accountId}),fromType:He}).then(function(Ft){(0,oe.sH)(Ft),ke(),P.setState({loading:!1})}).catch(function(){alert(_l("\u9080\u8BF7\u5931\u8D25"),2),P.setState({loading:!1})}))},P.state={selectUsers:[],loading:!1,showDialogSettingInviteRules:!1},P}return(0,S.default)(q,[{key:"render",value:function(){var P=this,te=this.props.projectId,he=this.state,ke=he.selectUsers,He=he.loading,je=he.showDialogSettingInviteRules;return l.createElement("div",{className:"addFriendsContent"},l.createElement("div",{className:"Gray_75 mBottom12"},_l("\u4ECE\u8054\u7CFB\u4EBA\u4E2D\u9009\u62E9\u7528\u6237\uFF0C\u9080\u8BF7\u52A0\u5165\u5230\u5F53\u524D\u7EC4\u7EC7")),l.createElement("div",{className:"resultContent",style:{minHeight:280}},ke.map(function(Je){var it={avatar:l.createElement("img",{src:Je.avatar,alt:"\u5934\u50CF",className:"GSelect-result-subItem__avatar"}),id:Je.accountId,name:Je.fullname,deleteFn:P.deleteFn};return l.createElement(Z.Z,(0,J.default)({},it,{key:Je.accountId}))}),l.createElement("div",{className:"addBox ThemeColor3",onClick:this.handleInviteMember},l.createElement("span",null,l.createElement(X.Z,{icon:"add1"}),_l("\u9009\u62E9")))),l.createElement("div",{className:"footContainer"},l.createElement("div",{className:"addBox Gray_9e"},l.createElement("span",{onClick:function(){return P.setState({showDialogSettingInviteRules:!0})}},l.createElement(X.Z,{icon:"settings1"}),_l("\u9080\u8BF7\u8BBE\u7F6E"))),l.createElement(ae.ZP,{disabled:!ke.length||He,onClick:function(it){it.nativeEvent.stopImmediatePropagation(),P.submit()}},_l("\u53D1\u9001\u9080\u8BF7"))),je&&l.createElement(Gn,{showDialogSettingInviteRules:je,setValue:function(it){var xt=it.showDialogSettingInviteRules;return P.setState({showDialogSettingInviteRules:xt})},projectId:te}))}}]),q}(l.Component),ga=a(47426),fa=a(14260),ha=a.n(fa),va=a(60300),Ia=a.n(va),Ea=function(Qe){(0,y.default)(q,Qe);function q(){var ve,P,te,he;(0,c.default)(this,q);for(var ke=arguments.length,He=Array(ke),je=0;je<ke;je++)He[je]=arguments[je];return he=(P=(te=(0,h.default)(this,(ve=q.__proto__||U()(q)).call.apply(ve,[this].concat(He))),te),te.onChange=function(){var Je=te.iti.getSelectedCountryData(),it=void 0;I().keys(Je).length?it=te.iti.getNumber():it=$(te.input).val().replace(/ /g,""),te.iti.isValidNumber()&&$(te.input).removeClass("err"),(te.props.data||{}).value!==it&&te.props.onChange({value:it,isErr:!te.iti.isValidNumber()})},P),(0,h.default)(te,he)}return(0,S.default)(q,[{key:"componentDidMount",value:function(){var P=this,te=this.props.data.value;this.iti=ha()(this.input,{customPlaceholder:"",autoPlaceholder:"off",loadUtils:"",utilsScript:Ia(),separateDialCode:!0,showSelectedDialCode:!0,initialCountry:this.props.allowDropdown&&I().get(md,"global.Config.DefaultConfig.initialCountry")||"cn",onlyCountries:this.props.allowDropdown?[]:["cn"],allowDropdown:this.props.allowDropdown||!1}),this.setValue(te),$(this.input).on("close:countrydropdown keyup paste",function(){P.destroy||setTimeout(function(){P.onChange()},10)})}},{key:"componentWillReceiveProps",value:function(P,te){(P.data||{}).value!==(this.props.data||{}).value&&(P.value||(this.props.data||{}).value!==void 0)&&this.input&&this.setValue((P.data||{}).value)}},{key:"componentWillUnmount",value:function(){this.destroy=!0,this.iti&&this.iti.destroy()}},{key:"setValue",value:function(P){this.iti&&this.iti.setNumber(P||"")}},{key:"render",value:function(){var P=this,te=this.props,he=te.inputClassName,ke=te.onInputKeydown,He=te.clickCallback;return l.createElement("div",{className:z()({})},l.createElement("input",{type:"tel",className:z()(he),ref:function(Je){P.input=Je},placeholder:_l("\u586B\u5199\u624B\u673A\u53F7"),onBlur:function(){if(P.iti.getNumber()&&!P.iti.isValidNumber()){$(P.input).addClass("err"),alert(_l("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7"),3);return}},onKeyDown:ke,onClick:He}))}}]),q}(l.Component),ya=a(82527),Aa=function(Qe){(0,y.default)(q,Qe);function q(){return(0,c.default)(this,q),(0,h.default)(this,(q.__proto__||U()(q)).apply(this,arguments))}return(0,S.default)(q,[{key:"render",value:function(){var P=this,te=this.props,he=te.inputClassName,ke=te.onInputKeydown,He=te.clickCallback;return l.createElement("div",{className:z()({})},l.createElement("input",{type:"tel",className:z()(he),ref:function(Je){P.input=Je},placeholder:_l("\u586B\u5199\u90AE\u7BB1"),onBlur:function(Je){var it=/^[\u4e00-\u9fa5\w-]+(\.[\u4e00-\u9fa5\w-]+)*@[\u4e00-\u9fa5\w-]+(\.[\u4e00-\u9fa5\w-]+)*\.[\u4e00-\u9fa5\w-]+$/i;if(Je.target.value.trim()&&!it.test(Je.target.value.trim())){$(P.input).addClass("err"),P.props.onChange({value:Je.target.value.trim(),isErr:!0}),alert(_l("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u90AE\u7BB1"),3);return}$(P.input).removeClass("err"),P.props.onChange({value:Je.target.value.trim(),isErr:!1})},onKeyDown:ke,onClick:He}))}}]),q}(l.Component),Ca=a(86559),Sa=[{text:_l("\u624B\u673A"),value:1},{text:_l("\u90AE\u7BB1"),value:2}],Bn={MOBILE:1,EMAIL:2},Jn=[{phone:"",isErr:!1}],Ta=function(Qe){(0,y.default)(q,Qe);function q(ve){(0,c.default)(this,q);var P=(0,h.default)(this,(q.__proto__||U()(q)).call(this,ve));return P.getValue=function(){return P.state.keywords.indexOf("@")>-1||(P.state.keywords||"").startsWith("+")?P.state.keywords:"+86"+P.state.keywords},P.handleSearch=function(){var te=P.props.isPayUsers;if(!te){alert(_l("\u975E\u4ED8\u8D39\u7528\u6237\u4E0D\u5141\u8BB8\u6DFB\u52A0"),2);return}var he=P,ke=function(je){je.ret===0&&ya.Z.getAccountByAccount({account:he.getValue(),ticket:je.ticket,randStr:je.randstr,captchaType:md.global.getCaptchaType()}).then(function(Je){he.setState({searchData:Je.list})}).catch(function(Je){Je&&alert(_l("\u8BF7\u8F93\u5165\u624B\u673A\u53F7/\u90AE\u7BB1\u5730\u5740"),3)})};md.global.getCaptchaType()===1?new Ca.Z(ke):new TencentCaptcha(md.global.Config.CaptchaAppId.toString(),ke).show()},P.handleAdd=function(){var te=P.state.list,he=te===void 0?[]:te;P.setState({list:he.concat({phone:"",isErr:!1})})},P.handleChange=function(te,he){P.setState({list:P.state.list.map(function(ke,He){return He===he?(0,J.default)({},ke,{phone:te.value,isErr:!!te.isErr}):ke})})},P.invite=function(te,he){var ke=P.props,He=ke.projectId,je=ke.onCancel,Je=ke.fromType;Pe.Z.inviteUser({sourceId:He||md.global.Account.accountId,accounts:te,fromType:Je}).then(function(it){(0,oe.sH)(it),it&&it.sendMessageResult===1&&je(),P.setState({loading:!1}),I().isFunction(he)&&he()}).catch(function(){alert("\u9080\u8BF7\u5931\u8D25",2),P.setState({loading:!1})})},P.inviteFriend=function(te){if(te.accountId===md.global.Account.accountId){alert(_l("\u4E0D\u80FD\u6DFB\u52A0\u81EA\u5DF1\u4E3A\u597D\u53CB"),3);return}P.state.loading||(P.setState({loading:!0}),P.invite((0,O.default)({},(0,oe.HI)(P.getValue()),""),function(){P.setState({searchData:P.state.searchData.map(function(he){return he.accountId===te.accountId?(0,J.default)({},he,{disabled:!0}):he})})}))},P.submit=function(){var te=P.state,he=te.list,ke=he===void 0?[]:he,He=te.loading;if(!He){P.setState({loading:!0});for(var je={},Je=0,it=ke.length;Je<it;Je++)ke[Je]&&ke[Je].phone&&(je[(0,oe.HI)(ke[Je].phone)]="");Pe.Z.getInviteAccountInfo({accounts:je}).then(function(xt){P.invite(je)}).catch(function(){alert(_l("\u9080\u8BF7\u53D1\u9001\u5931\u8D25"),2),P.setState({loading:!1})})}},P.renderItem=function(te,he){var ke="";return P.state.selectType===Bn.MOBILE?ke=l.createElement(Ea,{data:te,inputClassName:"rowTel",allowDropdown:!0,onChange:function(je){return P.handleChange(je,he)}}):ke=l.createElement(Aa,{data:o,inputClassName:"rowTel pLeft8",onChange:function(je){return P.handleChange(je,he)}}),l.createElement("div",{className:"row"},ke,l.createElement(X.Z,{className:z()("Font16  del ThemeColor3 Hand",{op0:he===0,Hand:he!==0}),icon:"close",onClick:function(){he!==0&&P.setState({list:P.state.list.filter(function(je,Je){return Je!==he})})}}))},P.renderUserItem=function(te){var he=I().isEmpty(P.state.searchData);return l.createElement("div",{className:"userItem"},l.createElement("img",{src:te.avatarBig}),l.createElement("div",{className:"userInfo ellipsis"},l.createElement("div",{className:"Font17 Bold"},te.fullname),te.subInfo&&l.createElement("div",{className:"Gray_75 mTop8"},te.subInfo)),l.createElement(ae.ZP,{disabled:te.disabled,className:"inviteButton",onClick:function(){return P.inviteFriend(te)}},te.disabled?_l("\u5DF2\u9080\u8BF7"):he?_l("\u53D1\u9001\u9080\u8BF7"):_l("\u52A0\u4E3A\u597D\u53CB")))},P.state={list:Jn,loading:!1,keywords:"",searchData:null,selectType:md.global.SysSettings.enableSmsCustomContent?Bn.MOBILE:Bn.EMAIL},P}return(0,S.default)(q,[{key:"render",value:function(){var P=this,te=this.props,he=te.projectId,ke=te.fromType,He=te.setDetailMode,je=this.state,Je=je.selectType,it=je.list,xt=je.loading,Ft=je.keywords,Nt=je.searchData,an=je.showDialogSettingInviteRules,rn=it.some(function(bt){return bt.phone&&!bt.isErr});if(ke===Mt.PERSONAL){var $t=Ft&&Nt?Nt.length>0?Nt:[{accountId:"default",avatarBig:md.global.FileStoreConfig.pictureHost.replace(/\/$/,"")+"/UserAvatar/default.gif",fullname:this.getValue(),subInfo:_l("\u8BE5\u7528\u6237\u672A\u6CE8\u518C\uFF0C\u4F60\u53EF\u4EE5\u9080\u8BF7TA\u52A0\u5165\u5E76\u6210\u4E3A\u597D\u53CB")}]:null;return l.createElement("div",{className:"addFriendsContent"},l.createElement("div",{class:"addFriendHeader"},l.createElement("div",{class:"inputWrapper"},l.createElement("span",{class:"icon-search searchIcon"}),l.createElement("input",{type:"text",value:Ft,onChange:function(Ht){return P.setState({keywords:Ht.target.value.trim()})},placeholder:_l("\u641C\u7D22\u624B\u673A\u53F7 / \u90AE\u7BB1\u6DFB\u52A0\u597D\u53CB")}),Ft&&l.createElement("span",{class:"searchClear icon-delete Hand",onClick:function(){P.setState({keywords:"",searchData:null})}})),l.createElement(ae.ZP,{className:"searchBtn",disabled:!Ft,onClick:function(){return P.handleSearch()}},_l("\u641C\u7D22"))),$t&&l.createElement("div",{className:"resultContent flex"},$t.map(function(bt){return P.renderUserItem(bt)})))}return l.createElement("div",{className:"addFriendsContent"},l.createElement("div",{className:"Gray_75 mBottom20 flexRow"},l.createElement("span",{className:"flex"},_l("\u9080\u8BF7\u540E\uFF0C\u6210\u5458\u4F1A\u6536\u5230\u9080\u8BF7\u94FE\u63A5\uFF0C\u9A8C\u8BC1\u540E\u53EF\u52A0\u5165\u7EC4\u7EC7")),ke!==Mt.GROUPS&&l.createElement("div",{className:"addBox mLeft10"},l.createElement("span",{onClick:function(){return He(nn.INVITE)}},l.createElement(X.Z,{icon:"overdue_network"}),_l("\u9080\u8BF7\u8BB0\u5F55")))),md.global.SysSettings.enableSmsCustomContent&&l.createElement(ga.ZP,{size:"middle",className:"mBottom20",checkedValue:Je,data:Sa,onChange:function(Ht){return P.setState({selectType:Ht,list:Jn})}}),l.createElement("div",{className:"resultContent",style:{minHeight:230,overflow:"unset"}},it.map(function(bt,Ht){return P.renderItem(bt,Ht)}),l.createElement("div",{className:"addBox ThemeColor3"},l.createElement("span",{onClick:this.handleAdd},l.createElement(X.Z,{icon:"add1"}),_l("\u6DFB\u52A0")))),l.createElement("div",{className:"footContainer"},l.createElement("div",{className:"flexRow flexCenter"},ke!==Mt.GROUPS&&l.createElement("div",{className:"addBox Gray_9e"},l.createElement("span",{onClick:function(){return P.setState({showDialogSettingInviteRules:!0})}},l.createElement(X.Z,{icon:"settings1"}),_l("\u9080\u8BF7\u8BBE\u7F6E"))),ke!==Mt.GROUPS&&l.createElement("div",{className:"addBox Gray_9e mLeft16"},l.createElement("span",{onClick:function(){return window.open(location.origin+"/admin/structure/"+he+"/importusers")}},l.createElement(X.Z,{icon:"add_software"}),_l("\u6279\u91CF\u5BFC\u5165")))),l.createElement(ae.ZP,{disabled:!rn||xt,onClick:function(Ht){Ht.nativeEvent.stopImmediatePropagation(),P.submit()}},_l("\u53D1\u9001\u9080\u8BF7"))),an&&l.createElement(Gn,{showDialogSettingInviteRules:an,setValue:function(Ht){var Vn=Ht.showDialogSettingInviteRules;return P.setState({showDialogSettingInviteRules:Vn})},projectId:he}))}}]),q}(l.Component),Da=a(31546),Xn=a(54208),Pa=a(60866),_a=a(36964),qn=a.n(_a),Ua=[{text:_l("\u6C38\u4E45"),value:0},{text:_l("24\u5C0F\u65F6"),value:24}],Ra=function(Qe){(0,y.default)(q,Qe);function q(ve){(0,c.default)(this,q);var P=(0,h.default)(this,(q.__proto__||U()(q)).call(this,ve));return P.getLink=function(){var te=P.props,he=te.projectId,ke=te.fromType,He=te.setInfo,je=te.tokens,Je=je===void 0?[]:je;Pe.Z.getInviteLink({sourceId:he||md.global.Account.accountId,fromType:ke,linkFromType:3,hours:P.state.expireHours||0}).then(function(it){He({url:it.linkUrl,tokens:Je.concat(it.token)})})},P.getInfo=function(){I().includes([Mt.PERSONAL,Mt.GROUPS],P.props.fromType)||!P.props.projectId||P.props.code||(P.setState({loading:!0}),L.Z.getPrivacy({projectId:P.props.projectId}).then(function(te){P.props.setInfo({code:te.regCode}),P.setState({loading:!1})}))},P.updateHours=function(te){var he=P.props.tokens;P.setState({expireHours:te},function(){Pe.Z.updateAuthDeadtime({hours:P.state.expireHours||0,tokens:he})})},P.handleCopyTextSuccess=function(){alert(_l("\u590D\u5236\u6210\u529F"))},P.state={loading:!1,expireHours:0,showDialogSettingInviteRules:!1},P}return(0,S.default)(q,[{key:"componentDidMount",value:function(){this.getInfo()}},{key:"render",value:function(){var P=this,te=this.props,he=te.projectId,ke=te.fromType,He=te.setDetailMode,je=te.code,Je=te.url,it=te.tokens,xt=this.state,Ft=xt.loading,Nt=xt.expireHours,an=xt.showDialogSettingInviteRules,rn=ke===Mt.NORMAL,$t=ke===Mt.PERSONAL;return Ft?l.createElement("div",{className:"addFriendsContent"},l.createElement(Xn.Z,null)):l.createElement("div",{className:"addFriendsContent"},l.createElement("div",{className:"resultContent flex"},l.createElement("div",{className:"Bold Font14 mBottom8"},_l("\u901A\u8FC7\u94FE\u63A5")),l.createElement("div",{className:"Gray_9e"},_l("\u7528\u6237\u53EF\u901A\u8FC7\u70B9\u51FB\u94FE\u63A5\u7533\u8BF7\u52A0\u5165")),Je?l.createElement(Pa.Z,{theme:"light",copyShowText:!0,className:"mTop13 shareUrl",url:Je,inputBtns:[{tip:_l("\u91CD\u65B0\u83B7\u53D6\u9080\u8BF7\u94FE\u63A5"),icon:"refresh",onClick:this.getLink}]}):l.createElement("div",{className:"getLinkBtn mTop13",onClick:this.getLink},_l("\u83B7\u53D6\u9080\u8BF7\u94FE\u63A5")),l.createElement("div",{className:"flexRow flexCenter mTop13"},Je&&l.createElement(l.Fragment,null,l.createElement("span",{className:"Gray_9e Font12"},_l("\u94FE\u63A5\u6709\u6548\u671F\uFF1A")),l.createElement(Da.Z,{className:"inviteDrop mRight16",border:!0,value:Nt,data:Ua,onChange:this.updateHours})),!$t&&l.createElement("div",{className:"addBox recordIcon Gray_9e"},l.createElement("span",{onClick:function(){return He(nn.LINK)}},l.createElement(X.Z,{icon:"overdue_network"}),_l("\u67E5\u770B\u4F7F\u7528\u4E2D\u7684\u94FE\u63A5")))),rn&&l.createElement(l.Fragment,null,l.createElement("div",{className:"Bold Font14 mBottom8 mTop36"},_l("\u901A\u8FC7\u7EC4\u7EC7\u95E8\u724C\u53F7\u9080\u8BF7")),l.createElement("div",{className:"Gray_9e"},_l("\u6210\u5458\u53EF\u901A\u8FC7\u641C\u7D22\u7EC4\u7EC7\u95E8\u724C\u53F7\u7533\u8BF7\u52A0\u5165")),l.createElement("div",{className:"numberBox"},l.createElement(qn(),{className:"Hand",component:"span","data-clipboard-text":je,onSuccess:this.handleCopyTextSuccess},l.createElement("span",{className:"Font24"},je),l.createElement(X.Z,{icon:"content-copy",className:"Font16 mLeft15"}))))),rn&&l.createElement("div",{className:"footContainer"},l.createElement("div",{className:"addBox Gray_9e"},l.createElement("span",{onClick:function(){return P.setState({showDialogSettingInviteRules:!0})}},l.createElement(X.Z,{icon:"manage_accounts"}),_l("\u7528\u6237\u52A0\u5165\u89C4\u5219")))),an&&l.createElement(Gn,{showDialogSettingInviteRules:an,setValue:function(Ht){var Vn=Ht.showDialogSettingInviteRules;return P.setState({showDialogSettingInviteRules:Vn})},projectId:he}))}}]),q}(l.Component),ka=a(25273),Ke=a(28829),xa={1:_l("\u6682\u65E0\u4F7F\u7528\u4E2D\u7684\u9080\u8BF7\u94FE\u63A5"),2:_l("\u6682\u65E0\u9080\u8BF7\u8BB0\u5F55")},ea=function(Qe){(0,y.default)(q,Qe);function q(ve){(0,c.default)(this,q);var P=(0,h.default)(this,(q.__proto__||U()(q)).call(this,ve));return P.getInviteList=function(){var te=P.state,he=te.pageIndex,ke=te.pageSize,He=te.loading,je=te.isMore,Je=te.list;he>1&&(He&&je||!je)||(P.postList&&P.postList.abort(),P.setState({loading:!0}),P.postList=Ke.Z.getInvitedUsersJoinProjectLog({projectId:P.props.projectId,pageIndex:he,pageSize:ke}),P.postList.then(function(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};P.setState({list:Je.concat(it.listDetail),isMore:(it.listDetail||[]).length<it.allCount,allCount:it.allCount,pageIndex:he+1})}).finally(function(){P.setState({loading:!1})}))},P.getLinkList=function(){P.state.isMore&&Pe.Z.getAllValidTokenByAccountId({sourceId:P.props.projectId}).then(function(te){P.setState({list:te,loading:!1,isMore:!1})})},P.searchDataList=function(){P.props.detailMode===1?P.getLinkList():P.getInviteList()},P.handleCopyTextSuccess=function(){alert(_l("\u590D\u5236\u6210\u529F"))},P.handleRemove=function(te){!te.token||P.state.subLoading||(P.setState({subLoading:!0}),Pe.Z.updateAuthToExpire({token:te.token}).then(function(he){he?P.setState({list:P.state.list.filter(function(ke){return ke.token!==te.token})}):alert(_l("\u64CD\u4F5C\u5931\u8D25"),2)}).finally(function(){P.setState({subLoading:!1})}))},P.renderLinkList=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=Yn()(te.deadTime);return l.createElement("div",{className:"linkListItem"},l.createElement("div",{className:"ellipsis Font14 Bold"},_l("%0\u521B\u5EFA\u4E86\u9080\u8BF7\u94FE\u63A5%1",I().get(te.createAccount,"fullname"),te.linkFromType===4?_l("(\u4E8C\u7EF4\u7801)"):"")),l.createElement("div",{className:"flexRow flexCenter mTop10 mBottom10"},l.createElement("div",{className:"linkInput Font12"},l.createElement(qn(),{className:"ellipsis",component:"div","data-clipboard-text":te.inviteUrl,onSuccess:P.handleCopyTextSuccess},te.inviteUrl)),l.createElement("div",{className:"trashBox"},l.createElement(X.Z,{className:"Font14",icon:"trash",onClick:function(){return P.handleRemove(te)}}))),l.createElement("div",{className:"flexRow Font12"},l.createElement("span",{className:"Gray_9e"},_l("\u94FE\u63A5\u622A\u6B62\u65F6\u95F4\uFF1A")),l.createElement("span",null,he.format("YYYY")==="9999"?_l("\u6C38\u4E45\u6709\u6548"):he.format("YYYY\u5E74MM\u6708DD\u65E5 HH:mm"))))},P.reInvite=function(te){!te||P.state.subLoading||(P.setState({subLoading:!0}),Pe.Z.inviteUser({accountIds:[te],sourceId:P.props.projectId,fromType:P.props.fromType}).then(function(he){(0,oe.sH)(he)}).finally(function(){P.setState({subLoading:!1})}))},P.renderInviteList=function(te){return l.createElement("div",{className:"inviteListItem"},l.createElement("span",{className:"ellipsis flex Font14 Bold"},te.fullName),te.isMember?l.createElement("span",{className:"Hand Green"},_l("\u5DF2\u52A0\u5165")):l.createElement("span",{className:"Hand ThemeColor3",onClick:function(){return P.reInvite(te.accountId)}},_l("\u518D\u6B21\u53D1\u9001")))},P.state={list:[],pageIndex:1,pageSize:10,allCount:0,isMore:!0,loading:!0,subLoading:!1},P}return(0,S.default)(q,[{key:"componentDidMount",value:function(){this.searchDataList()}},{key:"render",value:function(){var P=this,te=this.state,he=te.list,ke=he===void 0?[]:he,He=te.loading,je=this.props.detailMode;return!He&&I().isEmpty(ke)?l.createElement("div",{className:"addFriendsContent flexRow alignItemsCenter justifyContentCenter"},xa[this.props.detailMode]):l.createElement("div",{className:"addFriendsContent pTop0"},l.createElement(ka.Z,{className:"flex ViewDeatil",onScrollEnd:this.searchDataList},ke.map(function(Je){return je===1?P.renderLinkList(Je):P.renderInviteList(Je)}),He&&l.createElement("div",{className:"flexRow alignItemsCenter justifyContentCenter"},l.createElement(Xn.Z,null))))}}]),q}(l.Component),Mt={PERSONAL:0,GROUPS:1,NORMAL:4},jn={PUBLIC_LINK:1,MOBILE_EMAIL:2,ADDRESS_BOOK:3},nn={NORMAL:0,LINK:1,INVITE:2},ba={1:_l("\u67E5\u770B\u4F7F\u7528\u4E2D\u7684\u94FE\u63A5"),2:_l("\u9080\u8BF7\u8BB0\u5F55")},dn=function(Qe){(0,y.default)(q,Qe);function q(ve){(0,c.default)(this,q);var P=(0,h.default)(this,(q.__proto__||U()(q)).call(this,ve));return P.setDetailMode=function(te){P.setState({detailMode:te})},P.setInfo=function(te){P.setState((0,J.default)({},te))},P.onCancel=function(){P.setState({visible:!1})},P.renderHeader=function(){var te=P.props,he=te.fromType,ke=te.fromText,He=te.projectId,je="";return he===Mt.PERSONAL?je=l.createElement("div",{className:"headerText ellipsis"},l.createElement("span",{className:"Gray_75"},_l("\u9080\u8BF7\u7528\u6237\u4E3A")),l.createElement("span",{className:"mLeft3 mRight3"},_l("\u4E2A\u4EBA\u597D\u53CB")),l.createElement("span",{className:"Gray_75"},"(",_l("\u975E\u540C\u4E8B"),")")):je=l.createElement("div",{className:"headerText ellipsis w100 TxtCenter"},l.createElement("span",{className:"Gray_75"},_l("\u9080\u8BF7\u7528\u6237\u52A0\u5165")),l.createElement("span",{className:"mLeft3"},ke||I().get(I().find(md.global.Account.projects,function(Je){return Je.projectId===He}),"companyName"))),l.createElement("div",{className:"addFriendsHeader"},l.createElement(X.Z,{icon:"airplane"}),je)},P.renderTabs=function(){var te=P.state.selectTab,he=P.props.fromType,ke=he===Mt.PERSONAL;return l.createElement("ul",{className:"AddFriends-head-navbar"},P.DEFAULT_TABS.map(function(He){return(ke||he===Mt.GROUPS)&&He.value===jn.ADDRESS_BOOK?null:l.createElement("li",{key:He.value,onClick:function(){return P.setState({selectTab:He.value})},className:z()("AddFriends-head-navbar__item",{"AddFriends-head-navbar__item--active":te===He.value})},ke?He.subText:He.text)}))},P.renderContent=function(){var te=P.state,he=te.selectTab,ke=te.isPayUsers,He=te.url,je=te.code,Je=te.tokens,it={onCancel:P.onCancel,projectId:P.props.projectId,fromType:P.props.fromType,isPayUsers:ke,setDetailMode:P.setDetailMode};return he===jn.PUBLIC_LINK?l.createElement(Ra,(0,J.default)({},it,{url:He,code:je,tokens:Je,setInfo:P.setInfo})):he===jn.MOBILE_EMAIL?l.createElement(Ta,it):l.createElement(pa,it)},P.state={visible:!0,selectTab:P.DEFAULT_TABS[0].value,isPayUsers:!0,detailMode:0,url:"",code:"",tokens:[]},P}return(0,S.default)(q,[{key:"componentDidMount",value:function(){var P=md.global,te=P.Config;te=te===void 0?{}:te;var he=te.IsLocal,ke=P.Account;ke=ke===void 0?{}:ke;var He=ke.projects,je=He===void 0?[]:He;this.setState({isPayUsers:je.some(function(Je){return Je.licenseType!==0})||he})}},{key:"render",value:function(){var P=this,te=this.props.onClose,he=this.state,ke=he.isPayUsers,He=he.detailMode;return l.createElement(e.Z,{className:"dialogAddFriendsBox",width:640,visible:this.state.visible,title:null,footer:null,onCancel:te},l.createElement("div",{className:"dialogAddFriendsContainer"},this.renderHeader(),!ke&&l.createElement("div",{class:"safeWarning"},_l("\u8FD1\u671F\u6709\u4E0D\u6CD5\u5206\u5B50\u5229\u7528\u5E73\u53F0\u8FDB\u884C\u8BC8\u9A97\u6D3B\u52A8\u3002\u4E3A\u4E86\u4FDD\u969C\u5E73\u53F0\u5B89\u5168\uFF0C\u6682\u65F6\u53EA\u5141\u8BB8\u4ED8\u8D39\u7EC4\u7EC7\u4E2D\u7684\u7528\u6237\u53D1\u8D77\u9080\u8BF7\u3002\u5BF9\u60A8\u4F7F\u7528\u9020\u6210\u7684\u4E0D\u4FBF\uFF0C\u6DF1\u8868\u6B49\u610F\uFF01")),this.renderTabs(),this.renderContent()),l.createElement(e.Z,{width:640,visible:He,title:l.createElement("div",{className:"inviteBackIcon"},l.createElement("div",{className:"iconBox",onClick:function(){return P.setDetailMode(nn.NORMAL)}},l.createElement(X.Z,{icon:"arrow_back"})),ba[He]),footer:null,onCancel:function(){return P.setDetailMode(nn.NORMAL)}},l.createElement("div",{className:"dialogAddFriendsContainer pTop0",style:{height:510}},l.createElement(ea,(0,J.default)({detailMode:He},this.props)))))}},{key:"DEFAULT_TABS",get:function(){var P=this.props.projectId,te=md.global,he=te.Account;he=he===void 0?{}:he;var ke=he.projects,He=ke===void 0?[]:ke,je=te.SysSettings,Je=je.enableSmsCustomContent,it=I().find(He,{projectId:P})||{},xt=it.isProjectAdmin,Ft=it.isProjectAppManager;return[xt&&Ft?{text:_l("\u516C\u5F00\u9080\u8BF7"),value:1,subText:_l("\u94FE\u63A5\u6DFB\u52A0")}:null,{text:Je?_l("\u624B\u673A/\u90AE\u7BB1\u9080\u8BF7"):_l("\u90AE\u7BB1\u9080\u8BF7"),value:2,subText:_l("\u641C\u7D22\u7528\u6237")},{text:_l("\u4ECE\u901A\u8BAF\u5F55\u9080\u8BF7"),value:3}].filter(function(Nt){return Nt})}}]),q}(l.Component),Wn=function(Qe){(0,y.default)(q,Qe);function q(ve){(0,c.default)(this,q);var P=(0,h.default)(this,(q.__proto__||U()(q)).call(this,ve));return P.defaultProps={friendVisible:!0},P}return(0,S.default)(q,[{key:"onSelect",value:function(P){(0,t.Z)(dn,(0,J.default)({},this.props,{onClose:function(){},fromType:P?4:0,projectId:P}))}},{key:"render",value:function(){var P=this,te=this.props,he=te.friendVisible,ke=te.onClose;return l.createElement(e.Z,{className:"inviteDialog",width:420,visible:!0,title:_l("\u9080\u8BF7\u5230"),footer:null,onCancel:ke},l.createElement("div",{className:"inviteList"},l.createElement("ul",{className:"projectList"},md.global.Account.projects.concat(he?{projectId:""}:[]).map(function(He,je){var Je=je%5+2;return l.createElement(l.Fragment,{key:je},!He.projectId&&he&&l.createElement("li",{className:"splitLine"}),l.createElement("li",{className:"projectItem flexRow pointer",onClick:function(){return P.onSelect(He.projectId)}},He.projectId?l.createElement(l.Fragment,null,l.createElement("span",{className:z()("Font18","icon-chatnetwork-type"+Je)}),l.createElement("span",{className:"flex pLeft12 ellipsis"},He.companyName)):l.createElement(l.Fragment,null,l.createElement("span",{className:"icon-task-select-other Font18 ThemeColor3"}),l.createElement("span",{className:"flex pLeft12 ellipsis"},_l("\u4E2A\u4EBA\u597D\u53CB"),l.createElement("span",{className:"Font12"},_l("(\u975E\u540C\u4E8B)")))),l.createElement("span",{className:"icon-arrow-right-border"})))}))))}}]),q}(l.Component);function Hn(Qe){Qe.selectProject&&md.global.Account.projects.length?(0,t.Z)(Wn,r()({friendVisible:!0},Qe)):(0,t.Z)(dn,r()({projectId:"",fromType:0},Qe))}},98110:(Ze,Re,a)=>{"use strict";var pe=a(52945),r=a.n(pe),t=a(96486),e=a.n(t),X=".autoTextarea",J="keydown"+X,ce=e().map(["keyup","blur","focus"],function(c){return c+X}).join(" "),U=function(c){c.fn.autoTextarea=function(S){return c(this).each(function(){var h=c(this),y=c.extend({maxHeight:h.height(),minHeight:h.height(),gap:h.outerHeight()-h.height()},S),l=function(){h.css("height",0);var ae=c.trim(h.val())===""?y.minHeight:h.get(0).scrollHeight-y.gap;ae>y.maxHeight?ae=y.maxHeight:ae<y.minHeight&&(ae=y.minHeight),h.height(ae).scrollTop(h.scrollTop()),h.data("autoTextarea",{setOpts:function(Pe){y=r()({},y,Pe)}}),h.on(J,function(Z){if(Z.keyCode===13){var Pe=this.scrollHeight-y.gap;Pe>y.maxHeight&&(Pe=y.maxHeight),h.height(Pe)}}),h.on(ce,function(){h.val()||h.height(y.minHeight);var Z;this.scrollHeight>y.minHeight+y.gap?(y.maxHeight&&this.scrollHeight>y.maxHeight+y.gap?(Z=y.maxHeight,c(this).css("overflowY","scroll"),c.isFunction(y.onChange)&&y.onChange(y.maxHeight)):(Z=this.scrollHeight-y.gap,c(this).css("overflowY","hidden")),c(this).height(Z),c.isFunction(y.onChange)&&y.onChange(Z)):(c(this).height(y.minHeight),c(this).css("overflowY","hidden"),c.isFunction(y.onChange)&&y.onChange(y.minHeight))})},ee=h.data("autoTextarea");ee&&(ee.setOpts(y),e().forEach(ce.split(" "),function(z){h.off(z)}),h.off(J)),l()})}}($)},70794:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>N});var pe=a(63239),r=a.n(pe),t=a(70264),e=a(32422),X=a(31546),J=a(52945),ce=a.n(J),U=a(69288),c=a(59962),S=a(67294),h=a(73935),y=a(61987),l=a(94780);const ee=[{text:"(GMT-11:00) "+_l("\u8428\u6469\u4E9A\u65F6\u95F4"),value:660},{text:"(GMT-10:00) "+_l("\u590F\u5A01\u5937-\u963F\u7559\u7533\u6807\u51C6\u65F6\u95F4"),value:600},{text:"(GMT-09:30) "+_l("\u9A6C\u514B\u8428\u65AF\u7FA4\u5C9B\u65F6\u95F4"),value:570},{text:"(GMT-09:00) "+_l("\u963F\u62C9\u65AF\u52A0\u65F6\u95F4-\u5B89\u514B\u96F7\u5947"),value:540},{text:"(GMT-08:00) "+_l("\u5317\u7F8E\u592A\u5E73\u6D0B\u65F6\u95F4-\u6E29\u54E5\u534E"),value:480},{text:"(GMT-07:00) "+_l("\u58A8\u897F\u54E5\u592A\u5E73\u6D0B\u65F6\u95F4-\u9A6C\u8428\u7279\u5170"),value:420},{text:"(GMT-06:00) "+_l("\u5317\u7F8E\u4E2D\u90E8\u6807\u51C6\u65F6\u95F4-\u54E5\u65AF\u8FBE\u9ECE\u52A0"),value:360},{text:"(GMT-05:00) "+_l("\u5317\u7F8E\u4E1C\u90E8\u6807\u51C6\u65F6\u95F4-\u5DF4\u62FF\u9A6C"),value:300},{text:"(GMT-04:00) "+_l("\u5927\u897F\u6D0B\u6807\u51C6\u65F6\u95F4-\u6CE2\u591A\u9ECE\u5404"),value:240},{text:"(GMT-03:30) "+_l("\u7EBD\u82AC\u5170\u65F6\u95F4"),value:210},{text:"(GMT-03:00) "+_l("\u963F\u6839\u5EF7\u897F\u90E8\u6807\u51C6\u65F6\u95F4"),value:180},{text:"(GMT-02:00) "+_l("\u5357\u4E54\u6CBB\u4E9A\u5C9B\u65F6\u95F4"),value:120},{text:"(GMT+01:00) "+_l("\u683C\u9675\u5170\u5C9B\u4E1C\u90E8\u65F6\u95F4"),value:60},{text:"(GMT+00:00) "+_l("\u683C\u6797\u5C3C\u6CBB\u6807\u51C6\u65F6\u95F4"),value:0},{text:"(GMT+01:00) "+_l("\u4E2D\u6B27\u65F6\u95F4-\u67CF\u6797"),value:-60},{text:"(GMT+02:00) "+_l("\u4E1C\u6B27\u65F6\u95F4-\u7D22\u83F2\u4E9A"),value:-120},{text:"(GMT+03:00) "+_l("\u83AB\u65AF\u79D1\u6807\u51C6\u65F6\u95F4-\u83AB\u65AF\u79D1"),value:-180},{text:"(GMT+03:30) "+_l("\u4F0A\u6717\u65F6\u95F4"),value:-210},{text:"(GMT+04:00) "+_l("\u6BDB\u91CC\u6C42\u65AF\u6807\u51C6\u65F6\u95F4"),value:-240},{text:"(GMT+04:30) "+_l("\u963F\u5BCC\u6C57\u65F6\u95F4"),value:-270},{text:"(GMT+05:00) "+_l("\u5DF4\u57FA\u65AF\u5766\u6807\u51C6\u65F6\u95F4"),value:-300},{text:"(GMT+05:30) "+_l("\u5370\u5EA6\u65F6\u95F4-\u52A0\u5C14\u5404\u7B54"),value:-330},{text:"(GMT+05:45) "+_l("\u5C3C\u6CCA\u5C14\u65F6\u95F4"),value:-345},{text:"(GMT+06:00) "+_l("\u5B5F\u52A0\u62C9\u6807\u51C6\u65F6\u95F4"),value:-360},{text:"(GMT+06:30) "+_l("\u7F05\u7538\u65F6\u95F4"),value:-390},{text:"(GMT+07:00) "+_l("\u5370\u5EA6\u652F\u90A3\u65F6\u95F4-\u66FC\u8C37"),value:-420},{text:"(GMT+08:00) "+_l("\u4E2D\u56FD\u6807\u51C6\u65F6\u95F4"),value:-480},{text:"(GMT+09:00) "+_l("\u65E5\u672C\u6807\u51C6\u65F6\u95F4"),value:-540},{text:"(GMT+09:30) "+_l("\u6FB3\u5927\u5229\u4E9A\u4E2D\u90E8\u6807\u51C6\u65F6\u95F4"),value:-570},{text:"(GMT+10:00) "+_l("\u6FB3\u5927\u5229\u4E9A\u4E1C\u90E8\u6807\u51C6\u65F6\u95F4-\u5E03\u91CC\u65AF\u73ED"),value:-600},{text:"(GMT+10:30) "+_l("\u6FB3\u5927\u5229\u4E9A\u4E2D\u90E8\u65F6\u95F4-\u963F\u5FB7\u83B1\u5FB7"),value:-630},{text:"(GMT+11:00) "+_l("\u6240\u7F57\u95E8\u7FA4\u5C9B\u65F6\u95F4"),value:-660},{text:"(GMT+12:00) "+_l("\u56FE\u74E6\u5362\u65F6\u95F4"),value:-720},{text:"(GMT+13:00) "+_l("\u6590\u6D4E\u65F6\u95F4"),value:-780},{text:"(GMT+13:45) "+_l("\u67E5\u5766\u65F6\u95F4"),value:-825},{text:"(GMT+14:00) "+_l("\u840A\u6069\u7FA4\u5C9B\u65F6\u95F4"),value:-840}];var z=a(85105),ae=a.n(z),Z=a(99663),Pe=a(22600),oe=a(49135),Te=a(93196),F=function(E){(0,Te.default)(D,E);function D(){var I,R,w,b;(0,Z.default)(this,D);for(var Y=arguments.length,W=Array(Y),M=0;M<Y;M++)W[M]=arguments[M];return b=(R=(w=(0,oe.default)(this,(I=D.__proto__||ae()(D)).call.apply(I,[this].concat(W))),w),w.handleChange=function(f){w.props.selectTimezone(f)},w.getDefaultTimezone=function(){var f=new Date().getTimezoneOffset();return w.props.data.find(function(ne){return ne.value===f})||{text:"(GMT+00:00) "+_l("\u683C\u6797\u5C3C\u6CBB\u6807\u51C6\u65F6\u95F4"),value:0}},R),(0,oe.default)(w,b)}return(0,Pe.default)(D,[{key:"render",value:function(){var R=this.props.data,w=this.getDefaultTimezone(),b=w.value,Y=w.text;return S.createElement("div",{className:"timezoneWrap"},S.createElement("div",{className:"timezoneLabel Gray_9e"},_l("\u65F6\u533A")),S.createElement(X.Z,{className:"timezoneDropdown",isAppendBody:!0,data:R,onChange:this.handleChange,placeholder:Y,defaultValue:b}))}}]),D}(S.PureComponent),K=a(15577),v=a(38197),re=a.n(v),L=a(53135),m=a.n(L),B=a(40440),C=a(12282),p=a(98110),g=a(99452),u=a(68085),T=a(30381),d=a.n(T),O=a(96486),k=a.n(O),x=function E(D){var I=this,R={frameid:"createCalendar",Start:null,End:null,AllDay:!1,MemberArray:[],Message:null,ColorClass:["calendarColorRed","calendarColorViolet","calendarColorBrown","calendarColorOrange","calendarColorBlue","calendarColorGreen","calendarColorYellow"],isShowHoverMember:!1,timer:"",timezone:-d()().utcOffset(),isAttachComplete:!0,calendarMembers:null,defaultAttachmentData:[],defaultKcAttachmentData:[],createCalendarAttachments:{attachmentData:[],kcAttachmentData:[]},callback:null,createShare:!0};I.settings=$.extend(R,D);var w=I.settings;w.ColorClass[99]="calendarColorYellow",w.ColorClass[100]="calendarColorBlue";var b=w.Start,Y=w.End,W=w.Message,M=W?E.methods.getDate(W):null;M&&M!=="Invalid Date"&&(w.Start=M),!b&&!Y?(w.Start=d()().minute()<30?d()().set("minute",30).toDate():d()().set("minute",60).toDate(),w.End=d()(w.Start).add(1,"hour").toDate()):(w.Start=d()(b).toDate(),w.End=d()(Y).toDate()),E.settings=w,I.init()};$.extend(x.prototype,{init:function(){var D=this,I=this.settings;$("."+I.frameid).length>0||(U.Z.confirm({dialogClasses:I.frameid+" createCalendar_container",title:_l("\u521B\u5EFA\u65E5\u7A0B"),width:570,noFooter:!0,onOk:function(){D.send(),$("#txtBeginDate, #txtEndDate, #txtOverDate").mdDatePicker("destroy")},onCancel:function(){$("#txtBeginDate, #txtEndDate, #txtOverDate").mdDatePicker("destroy")},handleClose:function(){$("#txtBeginDate, #txtEndDate, #txtOverDate").mdDatePicker("destroy"),$(".createCalendar_container").parent().remove()},children:S.createElement("div",{className:"dialogContent",dangerouslySetInnerHTML:{__html:re().template(m())(ce()({},I,{moment:d()}))}})}),D.eventInit(),$("#txtCalendarName").focus())},eventInit:function(){var D=this,I=this.settings;D.initCategoryEvent(),D.initDateEvent(),D.initMemberEvent(),D.initRemindEvent(),D.initIsPrivate(),D.initAttachmentEvent(),$("#calendarTabs span").on("click",function(R){var w=$(this),b=w.attr("data-type");switch(R.stopPropagation(),b){case"repeat":D.initUpdateRepeat(w);break;case"addMember":$("#addCalendarMembers").removeClass("Hidden"),R.stopPropagation(),w.remove();break;case"address":$("#addressContent").removeClass("Hidden"),$("#txtAddress").focus(),w.remove();break;case"desc":$("#createCalendarDesc").removeClass("Hidden"),$("#txtDesc").focus(),w.remove();break;default:break}}),$("#repeatContent .createCalendarLabel").on("click",function(){$(this).find(".chekboxIcon").toggleClass("checked"),$("#noRepeatContent,#existRepeatContent").toggleClass("Hidden")}),$("#updateRepeatBtn").on("click",function(){D.initUpdateRepeat()}),I.Message&&($("#txtDesc").val((0,K.Qu)(I.Message)),$("#createCalendarDesc").show(),$("#calendarTabs span[data-type=desc]").remove()),$("#txtCalendarName").on("keypress",function(R){R.keyCode===13&&$("."+I.frameid).find("#calendarSubmitBtn").click()}),$("#calendarSubmitBtn").on("click",function(){if($(this).attr("disabled"))return!1;$(this).attr("disabled","disabled"),x.methods.send()}),$("#calendarSubmitBtn").hover(function(){$(this).removeClass("ThemeBGColor3").addClass("ThemeBGColor2")},function(){$(this).removeClass("ThemeBGColor2").addClass("ThemeBGColor3")}),$(document).on("click",function(R){var w=$(R.target);!w.closest("#calendarColorMain").length&&!w.closest("#createCategoryID").length&&$("#calendarColorMain").hide()})},initCategoryEvent:function(){var D=this.settings;$("#createCategoryID").on("click",function(){var I=$("#calendarColorMain");I.html()===""?x.methods.getCategory():I.show()}),$("#calendarColorMain").on("click","li",function(){var I=$(this).attr("data-catid"),R=$(this).find("i").attr("class"),w=$(this).find("span").text(),b=$("#createCategoryID");I!==b.attr("data-catid")&&($(this).addClass("selected").siblings().removeClass("selected"),b.attr({"data-catid":I,title:w}).removeClass().addClass("calendarColorModel boderRadAll_3 "+R),$(this).parent().find(".selectIcon").prependTo($(this))),$("#calendarColorMain").hide()})},initDateEvent:function(){var D=this.settings;$("#txtBeginDatebox span, #txtEndDatebox span").on("click",function(w){$(this).siblings("input").click()}),$("#txtBeginDate").mdDatePicker({dialogStyle:{offsetLeft:-85,offsetTop:20},isShowClear:!1,zIndex:1002,onChange:function(b){$("#txtOverDate").attr("value",d()(b).add(1,"day").format("YYYY-MM-DD")),x.methods.checkDateTimeOption(),x.methods.checkAllUserBusy();var Y=d()($("#txtBeginDate").mdDatePicker("getDate")).day();$("#repeatTypeGroup .repeatTypeGroupBtn").removeClass("today").eq(Y).addClass("ThemeBGColor3 today"),x.methods.repeatResult()}}),$("#txtBeginTimeCreate").timepicker({timeFormat:"H:i","selectOnBlur ":"true",closeOnWindowScroll:"true",forceRoundTime:!1,step:15}).change(function(){x.methods.checkDateTimeOption(1),x.methods.checkAllUserBusy(),$("#txtBeginTimeCreate").blur()}),$("#txtEndDate").mdDatePicker({dialogStyle:{offsetLeft:-85,offsetTop:20},isShowClear:!1,zIndex:1002,onChange:function(b){x.methods.checkDateTimeOption(),x.methods.checkAllUserBusy(),$(this).blur()}}),$("#txtEndTimeCreate").timepicker({timeFormat:"H:i",closeOnWindowScroll:"true",forceRoundTime:!1,disableTimeRanges:[["0:00",d()(D.Start).format("HH:mm")]],minTime:d()(D.Start).format("HH:mm"),maxTime:"23:45",step:15,showDuration:!0,lang:{decimal:".",mins:_l("\u5206\u949F"),hr:_l("\u5C0F\u65F6"),hrs:_l("\u5C0F\u65F6")}}).change(function(){x.methods.checkDateTimeOption(2),x.methods.checkAllUserBusy(),$("#txtEndTimeShow").find("span:first").text($("#txtEndTimeCreate").val()),$("#txtEndTimeCreate").blur()}),$("#txtEndDate").mdDatePicker("setMinDate",D.Start),$("#txtBeginDate").next().click(function(){$("#txtBeginDate").focus()}),$("#txtEndDate").next().click(function(){$("#txtEndDate").focus()});var I=new Date;D.Start&&($("#txtBeginDate").mdDatePicker("setDate",d()(D.Start).format("YYYY-MM-DD")),$("#txtBeginTimeCreate option[text='"+d()(D.Start).format("HH:mm")+"']").attr("selected",!0),$("#txtBeginTimeCreate").children().each(function(w,b){$(b).text()===d()(D.Start).format("HH:mm")&&$(b).attr("selected",!0)}),$("#txtBeginTimeCreate").val(d()(D.Start).format("HH:mm"))),D.End&&($("#txtEndDate").mdDatePicker("setDate",d()(D.End).format("YYYY-MM-DD")),$("#txtEndTimeCreate option[text='"+d()(D.End).format("H:mm")+"']").attr("selected",!0),$("#txtEndTimeCreate").children().each(function(w,b){$(b).text()===d()(D.End).format("H:mm")&&$(b).attr("selected",!0)}),$("#txtEndTimeCreate").val(d()(D.End).format("HH:mm"))),D.AllDay&&($("#allDay").prop("checked",!0).addClass("selected ThemeBorderColor3 ThemeColor3"),$("#txtBeginTimeCreate,#txtEndTimeCreate").hide(),$("#remindSelectCreate").val("2").siblings().find(".txtBox").attr("title","\u5C0F\u65F6").html("\u5C0F\u65F6")),$("#allDay").on("click",function(){$(this).hasClass("selected")?($("#txtBeginTimeCreate,#txtEndTimeCreate").show(),$("#remindSelectCreate").val("1").siblings().find(".txtBox").attr("title","\u5206\u949F").html("\u5206\u949F"),$("#remindTextCreate").val("15")):($("#txtBeginTimeCreate,#txtEndTimeCreate").hide(),$("#remindSelectCreate").val("2").siblings().find(".txtBox").attr("title","\u5C0F\u65F6").html("\u5C0F\u65F6"),$("#remindTextCreate").val("15")),$("#remindTextLableCreate, #remindTextCreate").show(),$(".ui-timepicker-list").hide(),$(this).toggleClass("selected")}),$(".timezone").click(function(){$(".timezoneWrap").length?$(".timezoneWrap").show():h.render(S.createElement(F,{data:ee,selectTimezone:function(b){return D.timezone=b}}),document.getElementById("selectTimezone")),$(this).hide()}),$("#allDay").click(function(){var w=$(this).prop("checked");w?($(".timezone").hide(),$(".timezoneWrap").hide()):$(".timezone").show()});var R=d()($("#txtBeginDate").mdDatePicker("getDate")).day();$("#repeatTypeGroup .repeatTypeGroupBtn").eq(R).addClass("ThemeBGColor3 today"),$("#txtOverDate").attr("value",d()($("#txtBeginDate")).add(1,"day").format("YYYY-MM-DD"))},initRemindEvent:function(){var D=this.settings.AllDay;$("#remindSelectCreate").val(D?"2":"1"),h.render(S.createElement(X.Z,{data:[{text:_l("\u5206\u949F"),value:"1"},{text:_l("\u5C0F\u65F6"),value:"2"},{text:_l("\u5929"),value:"3"},{text:_l("\u65E0"),value:"0"}],defaultValue:D?"2":"1",onChange:function(R){var w=$("#remindTextCreate"),b=$("#remindTextLableCreate"),Y=$(".telRemindLabel");R==0?(b.hide(),w.hide(),Y.addClass("Hidden").removeClass("InlineBlock")):(R==="1"?w.val("15"):w.val("1"),w.show().focus(),b.show(),Y.removeClass("Hidden").addClass("InlineBlock")),$("#remindSelectCreate").val(R)}}),document.getElementById("remindSelectCreateBox")),$(".telRemindLabel").find("label").on("click",function(){$(this).find(".chekboxIcon").toggleClass("checked")}),$(".calendarRemind").on("mouseover",".customSelect",function(){$(this).find("span").addClass("ThemeColor3")}),$("#remindTextCreate").blur(function(){var I=parseInt($(this).val(),10)||1;$(this).val(I),I>99?$(this).val(99):I<1?$(this).val(1):I>=1&&I<=99||$(this).val(1)})},initIsPrivate:function(){md.global.Account.projects.length||$("#calendarPrivate").hide(),$(".isPrivateLabel").on("click",function(){$(this).find(".chekboxIcon").toggleClass("checked")})},initRepeatEvent:function(){h.render(S.createElement(X.Z,{data:[{text:_l("\u6BCF\u5929"),value:"0"},{text:_l("\u6BCF\u5468"),value:"1"},{text:_l("\u6BCF\u6708"),value:"2"},{text:_l("\u6BCF\u5E74"),value:"3"}],defaultValue:$(".repeatDialogConfirm #tab_repeatType").val(),isAppendToBody:!0,onChange:function(I){I==1?$(".repeatDialogConfirm #repeatTypeGroup").show():$(".repeatDialogConfirm #repeatTypeGroup").hide();var R=$(".repeatDialogConfirm #createRepeatTypeLabel");switch(parseInt(I,10)){case 0:R.text(_l("\u5929"));break;case 1:R.text(_l("\u5468"));break;case 2:R.text(_l("\u6708"));break;case 3:R.text(_l("\u5E74"));break;default:break}$(".repeatDialogConfirm #tab_repeatType").val(I),$(".repeatDialogConfirm #tab_repeatType").siblings(".customSelect").find(".txtBox").attr("itemvalue",I),x.methods.repeatResult()}}),$(".repeatDialogConfirm #tab_repeatTypeBox")[0]),$(".repeatDialogConfirm #repetitionFrequency").keyup(function(){if(!k().isNumber(parseInt($(this).val()))||k().isNaN($(this).val()))return $(this).val().trim()?($(this).attr("value",$(this).attr("defaultValue")),!1):void 0;var D=$(this).val(),I=D.length;if(I>2){$(this).attr("value",D.substring(0,2));return}if(parseInt(D,10)>30){$(this).attr("value",30);return}$(this).attr({defaultValue:D,value:D})}).blur(function(){(!k().isNumber(parseInt($(this).val()))||k().isNaN($(this).val()))&&$(this).attr("value",$(this).attr("defaultValue")),parseInt($(this).val(),10)===0&&$(this).attr("value",1),x.methods.repeatResult()}),$(".repeatDialogConfirm #repeatTypeGroup .repeatTypeGroupBtn").on("click",function(){$(this).toggleClass("ThemeBGColor3"),x.methods.repeatResult()}),h.render(S.createElement(X.Z,{data:[{text:_l("\u6C38\u4E0D"),value:"0"},{text:_l("\u6B21\u6570"),value:"1"},{text:_l("\u65E5\u671F"),value:"2"}],defaultValue:$(".repeatDialogConfirm #tab_repeatTime").val(),isAppendToBody:!0,onChange:function(I){switch(parseInt(I,10)){case 0:$(".repeatDialogConfirm #overCount").hide(),$(".repeatDialogConfirm #overTime").hide();break;case 1:$(".repeatDialogConfirm #overTime").hide(),$(".repeatDialogConfirm #overCount").show();break;case 2:$(".repeatDialogConfirm #overCount").hide(),$(".repeatDialogConfirm #overTime").show();break;default:break}$(".repeatDialogConfirm #tab_repeatTime").val(I),$(".repeatDialogConfirm #tab_repeatTime").siblings(".customSelect").find(".txtBox").attr("itemvalue",I),x.methods.repeatResult()}}),$(".repeatDialogConfirm #tab_repeatTimeBox")[0]),$(".repeatDialogConfirm #txtOverCount").keyup(function(){if($(this).val().trim()){if(!k().isNumber(parseInt($(this).val(),10))||k().isNaN(parseInt($(this).val(),10)))return $(this).attr("value",$(this).attr("defaultValue")),!1;var D=$(this).val(),I=D.length;if(I>2){$(this).attr("value",D.substring(0,2));return}if(parseInt(D,10)>30){$(this).attr("value",30);return}$(this).attr({defaultValue:D,value:D})}}).blur(function(){(!k().isNumber(parseInt($(this).val(),10))||k().isNaN(parseInt($(this).val(),10)))&&$(this).attr("value",$(this).attr("defaultValue")),parseInt($(this).val(),10)===0&&$(this).attr("value",1),x.methods.repeatResult()}),$(".repeatDialogConfirm #txtOverDate").removeClass("hasDatepicker").mdDatePicker({dialogStyle:{offsetLeft:-85,offsetTop:20},isShowClear:!1,zIndex:1002,onChange:function(I,R){$("#txtOverDate").attr("value",I),x.methods.repeatResult()}}),$(".repeatDialogConfirm #txtOverDate").mdDatePicker("setMinDate",$("#txtBeginDate").mdDatePicker("getDate")),x.methods.repeatResult()},initUpdateRepeat:function(D){var I=this;U.Z.confirm({dialogClasses:"repeatDialogConfirm createCalendar_container",title:_l("\u91CD\u590D"),width:570,okText:_l("\u786E\u5B9A"),children:S.createElement("div",{className:"dialogContent",dangerouslySetInnerHTML:{__html:$("#repeatDialog").html()}}),onOk:function(){$("#repeatContent").removeClass("Hidden").find(".chekboxIcon").addClass("checked"),D&&D.remove(),$(".repeatDialogConfirm .customSelect").remove(),$("#repeatDialog.Hidden").html(""),$("#repeatDialog.Hidden").html($(".repeatDialogConfirm .dialogContent").html())},onCancel:function(){$(".repeatDialogConfirm .customSelect").remove()},handleClose:function(){$(".repeatDialogConfirm .customSelect").remove(),$(".repeatDialogConfirm").parent().remove()}}),I.initRepeatEvent()},initMemberEvent:function(){var D=this.settings,I="",R=[],w=D.MemberArray,b,Y;$("#addCalendarMembers").on("click",".imgMemberBox .removeMember",function(W){var M=$(this).parents(".imgMemberBox"),f=M.attr("data-id");$(".imgMemberMessage_"+f)&&$(".imgMemberMessage_"+f).parents("div[style]").remove(),M.remove(),W.stopPropagation()}),w.length&&(w.forEach(function(W){R.push({accountId:W.accountId,avatar:W.avatar,fullname:W.fullname})}),$("#addCalendarMembers").removeClass("Hidden"),$("#calendarTabs span[data-type=addMember]").remove(),x.methods.insertMembers(R)),$("#addCalendarMembers .createAddMember").on({click:function(){var M=$(this),f=[],ne=function(V){if(V.length===1&&md.global.Account.accountId===V[0].accountId){alert(_l("\u4E0D\u80FD\u6DFB\u52A0\u81EA\u5DF1"));return}x.methods.insertMembers(V)};$(".createAddMemberBox .createMember").each(function(){$(this).data("id")&&f.push($(this).data("id"))}),(0,y.ZP)(M[0],{sourceId:"",projectId:"",offset:{top:27,left:0},fromType:5,zIndex:1111,filterAccountIds:f,isDynamic:!0,SelectUserSettings:{filterAccountIds:f,projectId:D.ProjectID,callback:function(V){ne(V)}},selectCb:function(V){ne(V)}})}})},initAttachmentEvent:function(){var D=this.settings;$("#txtDesc").autoTextarea({minHeight:24,maxHeight:72}),D.createCalendarAttachments.attachmentData=D.defaultAttachmentData,D.createCalendarAttachments.kcAttachmentData=D.defaultKcAttachmentData,h.render(S.createElement(c.Z,{isInitCall:!0,maxWidth:220,onUploadComplete:function(R){D.isAttachComplete=R},temporaryData:D.createCalendarAttachments.attachmentData,kcAttachmentData:D.createCalendarAttachments.kcAttachmentData,onTemporaryDataUpdate:function(R){D.createCalendarAttachments.attachmentData=R},onKcAttachmentDataUpdate:function(R){D.createCalendarAttachments.kcAttachmentData=R}}),document.getElementById("createCalendarAttachment_updater")),(D.defaultAttachmentData.length||D.defaultKcAttachmentData.length)&&($("#createCalendarDesc").removeClass("Hidden"),$("#calendarTabs span[data-type=desc]").remove())}}),x.methods={insertMembers:function(D){var I="",R,w=[],b=[];$(".createAddMemberBox .createMember").each(function(){$(this).data("id")?w.push($(this).data("id")):b.push($(this).data("account"))});for(var Y=function(ie,V){if(V===D[ie].accountId)return R=!0,!1},W=function(ie,V){if(V===D[ie].account){R=!0;var me=$(".imgMemberBox[data-account='"+V+"']");return me.attr("data-name",(0,K.u1)(D[ie].fullname)),me.find(".createMember").attr({"data-name":(0,K.u1)(D[ie].fullname),src:D[ie].avatar}),!1}},M=0;M<D.length;M++){if(R=!1,D[M].accountId===md.global.Account.accountId){R=!0;continue}$.each(w,function(ne,ie){Y(M,ie)}),$.each(b,function(ne,ie){W(M,ie)}),R||(I+='<span class="imgMemberBox noInsert" data-id="'+(D[M].accountId||"")+'" data-account="'+(D[M].account||"")+'" data-name="'+((0,K.u1)(D[M].fullname)||"")+'"></span>')}var f=$(I);f.each(function(ne,ie){x.methods.checkUserBusyState($(ie))}),$(".createAddMember").before(f),$(".createAddMemberBox").find(".imgMemberBox.noInsert").each(function(ne,ie){var V=D[ne];$(ie).removeClass("noInsert"),h.render(S.createElement("span",null,S.createElement(e.Z,{className:"imgMemberMessage_"+V.accountId,sourceId:V.accountId},S.createElement("span",null,S.createElement("span",{className:"removeMember circle "},S.createElement("i",{className:"icon-delete Icon"})),S.createElement("img",{className:"createMember circle imgWidth",src:V.avatar,"data-account":V.account,"data-id":V.accountId||"","data-name":(0,K.u1)(V.fullname)||""}))),S.createElement("span",{className:"busyIconWrap"},S.createElement("span",{className:"busyIcon pointer"}))),ie)})},getDate:function(D){for(var I=null,R=null,w=/(今天)|(明天)|(后天)|下周([一二三四五六日])|周([一二三四五六日])|(([0-9]{2,4})年)?([0-9]{1,2})月([0-9]{1,2})[日,号]|([0-9]{1,2})[日,号]|([0-9]{1,2}[号,日])|([0-9]{1,2})[.]([0-9]{1,2})/g,b=null,Y,W;b=w.exec(D),!!w.lastIndex;)if(I===null)if(b[1])I=x.methods.addDay(0);else if(b[2])I=x.methods.addDay(1);else if(b[3])I=x.methods.addDay(2);else if(b[4]){Y=x.methods.getWeekDay(b[4]);var M=new Date,f=-M.getDay();I=x.methods.addDay(f+7+Y)}else if(b[5]){Y=x.methods.getWeekDay(b[5]);var ne=new Date().getDay();I=x.methods.addDay(Y-ne)}else if(b[8]&&b[9])W=b[7]?b[7]:new Date().getFullYear(),I=b[8]+"/"+b[9]+"/"+W;else if(b[10]){W=b[7]?b[7]:new Date().getFullYear();var ie=b[8]?b[7]:new Date().getMonth();I=ie+1+"/"+b[10]+"/"+W}else b[12]&&b[13]&&(W=b[7]?b[7]:new Date().getFullYear(),I=b[12]+"/"+b[13]+"/"+W);for(var V=/(([上|下])午)?([0-9]{1,2})点(([0-9]{1,2}))?|(([0-9]{1,2}):([0-9]{1,2}))/g,me=null;me=V.exec(D),!!V.lastIndex;)if(R===null)if(me[3])if(me[2]=="\u4E0A")R=me[3],R+=me[4]?":"+me[5]:":00";else if(me[2]=="\u4E0B"){var _e=parseInt(me[3],10)+12;R+=me[4]?_e+":"+me[5]:_e+":00"}else R=me[3],R+=me[4]?":"+me[5]:":00";else me[6]&&me[7]&&me[8]&&(R=me[7]+":"+me[8]);R===null&&(R="00:00");var de=null;return I&&(de=new Date(I+" "+R)),de||null},addDay:function(D){var I=new Date(new Date-0+D*864e5);return I=I.getMonth()+1+"/"+I.getDate()+"/"+I.getFullYear(),I},getWeekDay:function(D){switch(D){case"\u4E00":return 1;case"\u4E8C":return 2;case"\u4E09":return 3;case"\u56DB":return 4;case"\u4E94":return 5;case"\u516D":return 6;case"\u65E5":return 7;default:break}},repeatResult:function(){var D=x.settings,I=parseInt($(".repeatDialogConfirm #tab_repeatType").val(),10),R=parseInt($(".repeatDialogConfirm #tab_repeatTime").val(),10),w=$(".repeatDialogConfirm #repetitionFrequency").val(),b=$(".repeatDialogConfirm #txtOverCount").val(),Y="",W=[],M=[0,1,2,3,4,5,6].map(function(ie){return d()().day(ie).format("dd")}),f;if(I===0)Y+=_l("\u6BCF")+(w==1?"":" "+w+" ")+_l("\u5929");else if(I===1){Y+=_l("\u6BCF")+(w==1?"":" "+w+" ")+_l("\u5468")+" ";for(var ne=0;ne<$(".repeatDialogConfirm #repeatTypeGroup .ThemeBGColor3").length;ne++)f=$(".repeatDialogConfirm #repeatTypeGroup .ThemeBGColor3").eq(ne).attr("index"),f=f==7?0:f,W.push(f);$(".repeatDialogConfirm #repeatTypeGroup .ThemeBGColor3").length===0&&(f=$(".repeatDialogConfirm #repeatTypeGroup .today").attr("index"),f=f==7?0:f,W.push(f)),W=W.sort(),W.length===5&&W[0]==1&&W[4]==5?Y+=_l("\u5728 \u5DE5\u4F5C\u65E5"):$.map(W,function(ie,V){V===0?Y+=_l("\u661F\u671F"):Y+="\u3001",Y+=M[W[V]]})}else I===2?Y+=_l("\u6BCF%0\u6708 \u5728\u7B2C %1 \u5929",w==1?"":" "+w+" ",d()($("#txtBeginDate").mdDatePicker("getDate")).date()):I===3&&(Y+=_l("\u6BCF%0\u5E74 \u5728 %1",w==1?"":" "+w+" ",d()($("#txtBeginDate").mdDatePicker("getDate")).format(_l("MM\u6708DD\u65E5"))));if(R==1)Y+="\uFF0C"+_l("\u5171 %0 \u6B21",b);else if(R==2){var w=d()($("#txtOverDate").val()).format(_l("YYYY\u5E74MM\u6708DD\u65E5"));Y+="\uFF0C"+_l("\u622A\u6B62\u5230 %0",w)}$("#repeatReault,#existRepeatContent .repeatResultText").text(Y)},getCategory:function(){l.Z.getUserAllCalCategories().then(function(D){if(D.code===1){for(var I=D.data||[],R='<li class="ThemeBGColor3 selected" data-catid="1"><i class="icon-ok selectIcon"></i><i class="calendarColorBlue"></i><span class="ThemeColor3">'+_l("\u5DE5\u4F5C\u65E5\u7A0B")+"</span></li>",w=0;w<I.length;w++)R+='<li class="ThemeBGColor3" data-catid="'+I[w].catID+'"><i class="'+x.settings.ColorClass[I[w].color]+'"></i><span class="ThemeColor3">'+(0,K.u1)(I[w].catName)+"</span></li>";$("#calendarColorMain").html(R).show()}}).catch(function(){alert(_l("\u64CD\u4F5C\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"),3)})},checkAllUserBusy:function(){$(".createAddMemberBox .imgMemberBox").each(function(){x.methods.checkUserBusyState($(this))})},checkUserBusyState:function(D){if(md.global.Account.projects.length){var I=x.settings,R=x.methods.getDialogTime(),w=R.start,b=R.end,Y=D.attr("data-id"),W=$(".imgMemberMessage_"+Y),M=function(ne,ie){var V=d()(new Date).years(),me=d()(ne).years()===V?ie.replace("YYYY-",""):ie;return me};if(!Y)return!1;l.Z.getUserBusyStatus({accountID:Y,startDate:d()(w).toISOString(),endDate:d()(b).toISOString()}).then(function(f){if(f.code===1){var ne=f.data;if(ne.isBusy){D.attr("busy","busy").addClass("imgMemberBusy");var ie=ne.calendars;h.render(S.createElement(t.Z,{placement:"bottom",themeColor:"white",tooltipStyle:{width:280},text:S.createElement("div",{className:"memberBusyCalendarsWrap"},S.createElement("div",{style:{color:"#de2c00"},className:"mBottom5"},_l("\u4ED6\u7684\u65E5\u7A0B\u4E0E\u60A8\u521B\u5EFA\u7684\u65E5\u7A0B\u6709\u51B2\u7A81")),S.createElement("div",{className:"memberCalendars mBottom20"},ie.map(function(V){var me="";return V.allDay=="true"?me=d()(V.startTime).format(M(V.startTime,"YYYY-MM-DD"))+" - "+d()(V.endTime).format(M(V.endTime,"YYYY-MM-DD"))+_l(" (\u5168\u5929)"):me=d()(V.startTime).format(M(V.startTime,"YYYY-MM-DD HH:mm"))+" - "+d()(V.endTime).format(M(V.endTime,"YYYY-MM-DD HH:mm")),S.createElement("div",{className:"memberCalendarItem"},S.createElement("div",{className:"memberCalendarTime Gray_9e"},me),S.createElement("div",{className:"memberCalendarName overflow_ellipsis"},S.createElement("a",{className:"overflow_ellipsis",target:"_blank",href:"/apps/calendar/detail_"+V.calendarID},(0,K.u1)(V.calendarName))))})),S.createElement("div",{className:"loobCalendars"},S.createElement("a",{className:"lookAllCalendars",target:"_blank",href:"/apps/calendar/home?userID="+Y+"&date="+w+"&view=agendaWeek"},_l("\u67E5\u770B\u4ED6\u7684\u7A7A\u95F2\u65F6\u95F4 >"))))},S.createElement("span",{className:"busyIcon pointer"})),D.find(".busyIconWrap")[0])}else W.find(".hoverMemberContainer").hide(),D.attr("busy","").removeClass("imgMemberBusy")}})}},getDialogTime:function(){var D=$("#txtBeginDate").mdDatePicker("getDate"),I=$("#txtEndDate").mdDatePicker("getDate"),R=$("#txtBeginTimeCreate").val(),w=$("#txtEndTimeCreate").val(),b="",Y="";return $("#allDay").hasClass("selected")?(b=d()(D).format("YYYY-MM-DD")+" 00:00",Y=d()(I).format("YYYY-MM-DD")+" 23:59"):(b=d()(D).format("YYYY-MM-DD")+" "+R,Y=d()(I).format("YYYY-MM-DD")+" "+w),{start:b,end:Y}},checkDateTimeOption:function(D){var I=d()($("#txtBeginDate").val()),R=d()($("#txtEndDate").val());if($("#txtEndDate").mdDatePicker("setMinDate",I.format("YYYY-MM-DD")),D==1&&!I.isBefore(R))x.methods.checkDateTimeOptionFun(I,R);else if(D==2){if(I.isSame(R)){var w=d()($("#txtBeginTimeCreate").timepicker("getTime")).format("HH:mm"),b=d()($("#txtEndTimeCreate").timepicker("getTime")).format("HH:mm"),Y=parseInt(w.split(":")[0]*60,10)+parseInt(w.split(":")[1],10),W=parseInt(b.split(":")[0]*60,10)+parseInt(b.split(":")[1],10);W<Y&&($("#txtEndDate").val(I.add(1,"day").format("YYYY-MM-DD")),x.methods.txtEndTimeRemoveFun())}}else I.isBefore(R)?x.methods.txtEndTimeRemoveFun():x.methods.checkDateTimeOptionFun(I,R)},txtEndTimeRemoveFun:function(){$("#txtEndTimeCreate").timepicker("remove"),$("#txtEndTimeCreate").timepicker({timeFormat:"H:i",closeOnWindowScroll:"true",forceRoundTime:!1})},checkDateTimeOptionFun:function(D,I){var R=d()("2016-01-01 "+$("#txtBeginTimeCreate").val()),w=d()("2016-01-01 "+$("#txtEndTimeCreate").val());if($("#txtEndTimeCreate").timepicker("remove"),$("#txtEndTimeCreate").timepicker({timeFormat:"H:i",closeOnWindowScroll:"true",forceRoundTime:!1,disableTimeRanges:[["0:00",R.format("HH:mm")]],minTime:R.format("HH:mm"),maxTime:"23:45",step:15,showDuration:!0,lang:{decimal:".",mins:_l("\u5206\u949F"),hr:_l("\u5C0F\u65F6"),hrs:_l("\u5C0F\u65F6")}}),(D.isSame(I)||D.isAfter(I))&&R.unix()>=w.unix()){var b=R.hours()+1;R.add(1,"hour"),b>=24&&($("#txtEndDate").val(D.add(1,"day").format("YYYY-MM-DD")),x.methods.txtEndTimeRemoveFun()),$("#txtEndTimeCreate").timepicker("setTime",R.format("HH:mm"))}},yesSelCalendar:function(D){(0,u.Z)({linkURL:md.global.Config.WebUrl+"apps/calendar/detail_"+D.calendarID,content:_l("\u65E5\u7A0B\u521B\u5EFA\u6210\u529F"),isCalendar:!0,calendarOpt:{title:_l("\u5206\u4EAB\u65E5\u7A0B"),openURL:md.global.Config.WebUrl+"m/detail/calendar/",isAdmin:!0,keyStatus:!0,name:D.name,startTime:D.startDate,endTime:D.endDate,address:D.address,shareID:D.calendarID,recurTime:"",token:D.token}})},send:function(){var D=x.settings,I=$("#calendarSubmitBtn");if(!D.isAttachComplete)return alert(_l("\u6587\u4EF6\u4E0A\u4F20\u4E2D\uFF0C\u8BF7\u7A0D\u7B49"),3),I.removeAttr("disabled"),!1;var R=$.trim($("#txtCalendarName").val());if(R==="")return alert(_l("\u8BF7\u8F93\u5165\u65E5\u7A0B\u6807\u9898"),3),$("#txtCalendarName").focus(),I.removeAttr("disabled"),!1;var w=$.trim($("#txtAddress").val()),b=$.trim($("#txtDesc").val()),Y=$("#txtBeginDate").val(),W=$("#txtEndDate").val(),M=$("#txtBeginTimeCreate").val(),f=$("#txtEndTimeCreate").val(),ne=$("#allDay").hasClass("selected"),ie=$("#repeatContent .chekboxIcon").hasClass("checked"),V=$("#createCategoryID").attr("data-catid"),me=$("#remindSelectCreate").val(),_e=me==0?0:$("#remindTextCreate").val(),de=$(".telRemindLabel").is(":visible")&&$(".telRemindLabel .chekboxIcon").hasClass("checked"),Le=$(".isPrivateLabel .chekboxIcon").hasClass("checked"),ge=0,Oe="",nt=0,lt="",Ve=0;ne&&(M="00:00",f="23:59");var De=D.timezone,ze=ne?0:De+d()().utcOffset(),st=d()(Y+" "+M).add(ze,"m"),ht=d()(W+" "+f).add(ze,"m");if(!d()(ht).isAfter(d()(st)))return $("#calendarSubmitBtn").removeAttr("disabled"),alert(_l("\u5F00\u59CB\u65F6\u95F4\u4E0D\u80FD\u5C0F\u4E8E\u7ED3\u675F\u65F6\u95F4"),3),!1;if(ie){if(ge=parseInt($("#tab_repeatType").val(),10)+1,Ve=0,ge===2){for(var Ie=0,le=$("#repeatTypeGroup .ThemeBGColor3"),we=0;we<le.length;we++)Ie+=parseInt(le.eq(we).attr("week"),10);Ie==0&&(Ie+=parseInt($("#repeatTypeGroup .today").attr("week"),10)),Ve=Ie;var We=d()(st).utcOffset(8).format("YYYY-MM-DD"),at=d()(st).utcOffset(De/60*-1).format("YYYY-MM-DD"),At=(d()(We)-d()(at))/24/60/60/1e3;if(At!==0){var dt=Ve.toString(2).split(""),mt=void 0,It=0;dt.forEach(function(qe,ut){qe=parseInt(qe),qe===1&&(mt=dt.length-ut-1+At,mt>6?mt=mt-7:mt<0&&(mt=mt+7),It+=Math.pow(2,mt))}),Ve=It}}Oe=$("#repetitionFrequency").val();var _t=$("#tab_repeatTime").val();nt=_t==1?parseInt($("#txtOverCount").val(),10):0,lt=_t==2?d()($("#txtOverDate").val()).toISOString():""}var Pt=[],ct={};$("#addCalendarMembers .createMember").each(function(qe,ut){$(ut).attr("data-id")?Pt.push($(ut).attr("data-id")):ct[$(ut).attr("data-account")]=$(ut).attr("data-name")}),l.Z.insertCalendar({name:R,address:w,desc:b,startDate:d()(st).toISOString(),endDate:d()(ht).toISOString(),isAll:ne,membersIDs:Pt.join(","),specialAccounts:ct,categoryID:V,isRecur:ie,attachments:r()(D.createCalendarAttachments.attachmentData),knowledgeAtt:r()(D.createCalendarAttachments.kcAttachmentData),remindTime:_e,remindType:me,frequency:ge,interval:Oe,recurCount:nt,untilDate:lt,weekDay:Ve,isPrivate:Le,voiceRemind:de}).then(function(qe){if(qe.code===1){if(qe.data.name=R,window.location.href.indexOf("calendar")>=0&&$("#calendar").length>0){var ut=$("#calendar").fullCalendar("getView").name;ut==="list"?$(".fc-list-button").trigger("refreshList"):$("#calendar").fullCalendar("refetchEvents")}qe.data.address=w,qe.data.startDate=st,qe.data.endDate=ht,qe.data.isRecur=ie,$(".createCalendar_container").parent().remove(),$.isFunction(D.callback)&&D.callback(qe.data)}else qe.code===9&&alert(_l("\u9080\u8BF7\u77ED\u4FE1\u53D1\u9001\u6570\u91CF\u5DF2\u8FBE\u6700\u5927\u9650\u5236\uFF0C\u8BF7\u79FB\u9664\u5916\u90E8\u7528\u6237\u521B\u5EFA\u65E5\u7A0B"))}).catch(function(){alert(_l("\u64CD\u4F5C\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"),2)})}};function N(E){return new x(E)}(function(E){E.CreateCalendar||(E.CreateCalendar=function(D){return new x(D)})})(jQuery)},23002:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>Te});var pe=a(31546),r=a(69288),t=a(15577),e=a(38197),X=a.n(e),J=a(14837),ce=a.n(J),U=a(72130),c=a.n(U),S=a(60510),h=a(16461),y=a(65406),l=a(22731),ee=a(67294),z=a(73935),ae={},Z=$.extend({},md.global.Account).projects,Pe=Z&&Z.length?Z[0]:{},oe={selectDepartment:_l("\u9009\u62E9\u5173\u8054\u90E8\u95E8"),btnCreate:_l("\u521B\u5EFA"),btnCreating:_l("\u521B\u5EFA\u4E2D..."),createErrorTip:_l("\u521B\u5EFA\u5931\u8D25"),nameTooLongTip:_l("\u7FA4\u7EC4\u540D\u79F0\u8FC7\u957F\uFF0C\u6700\u591A\u4E0D\u8D85\u51FA64\u4E2A\u5B57\u7B26"),nameNullTip:_l("\u7FA4\u7EC4\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"),uploadingTip:_l("\u4E0A\u4F20\u4E2D..."),customAvatarTip:"+ "+_l("\u4F7F\u7528\u81EA\u5B9A\u4E49\u5934\u50CF")};ae.createInit=function(F){var K={selectedDeptSetting:null,defaultAvatar:md.global.FileStoreConfig.pictureHost+"GroupAvatar/default.png?imageView2/1/w/100/h/100/q/90",settings:{projectId:Pe.projectId||"",createGroupInProject:!1,openApproval:!1,callback:function(){}}};ae.options=$.extend(!0,{},K,{settings:F}),ae.options.selectedDeptSetting=null;var v=ae.options.settings.projectId,re=((md.global.Account.projects||[]).find(function(m){return m.projectId===v})||{}).licenseType;if(re===0){(0,t.Yg)({projectId:v,explainText:_l("\u8BF7\u5347\u7EA7\u81F3\u4ED8\u8D39\u7248\u89E3\u9501\u5F00\u542F"),isFree:!0});return}ae.options.settings.projectId?ae.options.isProject=!0:ae.options.isProject=!1;var L=X().template(ce())({createGroupInProject:ae.options.settings.createGroupInProject,isProject:ae.options.isProject,openApproval:ae.options.settings.openApproval,defaultAvatar:ae.options.defaultAvatar});r.Z.confirm({dialogClasses:"dialogBoxCreateGroup",width:446,children:ee.createElement("div",{dangerouslySetInnerHTML:{__html:L}}),noFooter:!0}),ae.$content=$(".dialogBoxCreateGroup"),ae.checkIsProjectAdmin(),ae.bindHeadAvatar(),ae.bindEvent()},ae.bindEvent=function(){var F=ae.$content,K=F.find(".groupType"),v=F.find(".selectDep"),re=K.find(":radio"),L=F.find(".deptCheckbox"),m=F.find(".groupProjectSelect"),B=F.find(".hiddenCompanys"),C=F.find("#createGroupApproval"),p=[];$.each(md.global.Account.projects,function(g,u){p.push({value:u.projectId,text:u.companyName})}),z.render(ee.createElement(pe.Z,{className:"w100",border:!0,data:p,isAppendToBody:!0,onChange:function(u){ae.options.settings.projectId=u,ae.checkIsProjectAdmin()}}),document.getElementById("hiddenCompanysBox")),re.on("change",function(){var g=ae.options.settings;ae.options.isProject=$(this).hasClass("official")&&$(this).prop("checked"),ae.options.isProject?(g.projectId=B.val(),m.show()):(g.projectId="",m.hide()),ae.checkIsProjectAdmin()}),C.on("change",function(){var g=ae.options.settings;g.openApproval=$(this).prop("checked")}),L.on("change",function(){$(this).prop("checked")?v.show():(ae.options.selectedDeptSetting=null,v.html(oe.selectDepartment).hide())}),v.on("click",function(){(0,S.Z)({projectId:ae.options.settings.projectId,unique:!0,selectFn:function(u){ae.options.selectedDeptSetting=u,v.html(_l("\u5173\u8054\u90E8\u95E8\uFF1A\u3010%0\u3011",u.departmentName))}})}),F.on("click",".cancelCreate",function(){$(".dialogBoxCreateGroup").parent().remove()}),F.on("click",".btnCreate",function(){if($(this).prop("disbled"))return!1;var g=$(".dialogBoxCreateGroup .txtGroupName"),u=g.val().trim();if(u){if((0,t.wz)(u)>64)return alert(oe.nameTooLongTip,3);ae.createGroupConfirm()}else alert(oe.nameNullTip,3),g.focus()})},ae.bindHeadAvatar=function(){var F=ae.$content.find(".groupTopContent"),K=ae.$content.find(".groupHeader"),v=F.find(".groupAvatar"),re;ae.$avatar=v,y.Z.getGroupAvatarSelectList().then(function(B){re=B.basePath,K.append(`<div class="z-depth-1-half createGroupAvatarSelect">
        `+X().template(c())(B)+`
        <i class="icon-close Font20 pointer Gray_9e ThemeHoverColor3" />
      </div>`),L()});function L(){var B=$(".createGroupAvatarSelect .settingPictureLayer"),C=B.find(".uploadGroupAvatar"),p=B.find(".hiddenUploadGroupAvatar");$(".createGroupAvatarSelect").on("click",".icon-close",function(){$(".createGroupAvatarSelect").hide()}),B.on("click",".singleHead",function(){var g=$(this),u=g.data("name");u&&(v.attr("src",re+u+"?imageView2/1/w/100/h/100/q/90"),ae.options.avatar=u),$(".createGroupAvatarSelect").hide()}),p.on("click",function(g){g.stopPropagation()}),p.uploadAttachment({filterExtensions:"gif,png,jpg,jpeg,bmp",pluploadID:"#uploadGroupAvatar",multiSelection:!1,maxTotalSize:4,folder:"GroupAvatar",fileNamePrefix:"GroupAvatarImage_",onlyFolder:!0,onlyOne:!0,styleType:"0",tokenType:2,checkProjectLimitFileSizeUrl:"",filesAdded:function(){C.html("<i class='uploadTip'>"+oe.uploadingTip+"</i>")},createPicProgressBar:"",callback:function(u){if(C.html(oe.customAvatarTip),u.length>0){var T=u[0],d=T.fileName+T.fileExt;ae.options.avatar=d,v.attr("src",re+d+"?imageView2/1/w/100/h/100/q/90"),$(".createGroupAvatarSelect").hide()}}})}var m=ae.$content.find(".groupHead,.modifyGroupAvatar");m.on("click",function(B){$(".createGroupAvatarSelect").show(),B.stopPropagation()})},ae.checkIsProjectAdmin=function(){var F=ae.$content,K=F.find(".officialGroup");F.find(".selectDep").html(oe.selectDepartment).hide(),F.find(".deptCheckbox").prop("checked",!1),ae.options.selectedDeptSetting=null,ae.options.settings.projectId?l.Z.validateUserIsProjectAdmin({projectId:ae.options.settings.projectId}).then(function(v){v?K.show():K.hide()}):K.hide(),ae.disableBtn()},ae.disableBtn=function(){var F=ae.$content,K=F.find(".btnCreate"),v=ae.options.settings.projectId;(0,t.pF)(v).then(function(){K.prop("disabled",!1).removeAttr("style")}).catch(function(){K.prop("disabled",!0).css("cursor","not-allowed")})},ae.createGroupConfirm=function(){var F=ae.$content,K=F.find(".txtGroupAbout").val().trim(),v=F.find(".txtGroupName").val().trim(),re=F.find(".btnCreate"),L=null;ae.options.selectedDeptSetting&&(L=ae.options.selectedDeptSetting.departmentId),re.prop("disabled",!0).val(oe.btnCreating),y.Z.addGroup({groupName:v,groupAbout:K,groupAvatar:ae.options.avatar,isApproval:ae.options.settings.openApproval,projectId:ae.options.settings.projectId||"",mapDepartmentId:L||""}).then(function(m){m?($(".dialogBoxCreateGroup").parent().remove(),typeof ae.options.settings.callback=="function"&&ae.options.settings.callback.call(null,m)):(alert(oe.createErrorTip,2),re.prop("disabled",!1).val(oe.btnCreate))})};const Te=ae},40440:(Ze,Re,a)=>{"use strict";var pe=a(72444),r=a(30381),t=a.n(r);(function(e){e.fn.mdDatePicker=function(){var ce=arguments[0],U=arguments;if(X[ce])ce=X[ce],U=Array.prototype.slice.call(U,1);else if((typeof ce>"u"?"undefined":(0,pe.default)(ce))==="object"||!ce)ce=function(S){return this.each(function(){if(!e(this).data("settings")){var h=new J(S);h.$el=e(this),h.init()}})};else return e.error("Method"+ce+"does not exist on jQuery.mdDatePicker"),this;return ce.apply(this,U)};var X={destroy:function(){return e(this).each(function(){var U=e(this).data("settings");U&&(e("#warpDatePicker_"+U.uid).remove(),e(this).removeData("settings"),e(document).off("click.mdDatePicker"+U.uid))})},hide:function(){return e(this).each(function(){var U=e(this).data("settings");e("#warpDatePicker_"+U.uid).hide()})},getDate:function(U){return U||(U="YYYY-MM-DD"),e(this).data("settings")&&e(this).data("settings").selectDate?t()(e(this).data("settings").selectDate).format(U):""},setDate:function(U){return e(this).each(function(){var c=e(this).data("settings");c&&(U?c.selectDate=t()(U.replaceH()):c.selectDate="",e(this).val(U).data("settings",c))})},setMinDate:function(U){return e(this).each(function(){var c=e(this).data("settings");c&&(U?(c.minDate=U,c.selectDate&&c.selectDate.isBefore(t()(U))&&(e(this).val(t()(U).format("YYYY-MM-DD")),c.selectDate=t()(U.replaceH()))):c.minDate="",e(this).data("settings",c))})},setMaxDate:function(U){var c=e(this).data("settings");c.maxDate=U,e(this).data("settings",c)}},J=function(U){this._defaults={showOn:"click",selectDate:"",titleFormat:"YYYY-MM",format:"YYYY-MM-DD",leftTitle:_l("\u4E0A\u4E00\u6708"),rightTitle:_l("\u4E0B\u4E00\u6708"),isdialog:!0,isClickHide:!0,selectToday:!0,dialogStyle:{offsetLeft:0,offsetTop:0},position:"absolute",weekArr:[0,1,2,3,4,5,6].map(function(c){return t()().day(c).format("dd")}),isElastic:!0,minDate:"",maxDate:"",date:new Date,isShowToday:!0,isShowTomorrow:!0,isShowClear:!0,zIndex:"10",toDayTitle:_l("\u4ECA\u5929"),tomorrowTitle:_l("\u660E\u5929"),clearTitle:_l("\u6E05\u9664"),hideCalendarCallback:function(){},onChange:function(){}},this.$el=null,this.$cal=null,this.settings=e.extend({},this._defaults,U)};e.extend(J.prototype,{init:function(){this.getDefaultDate(),this.createDom(),this.createDatePicker(this.settings.year,this.settings.month,this.settings.selectDate),this.bindEvents()},getDefaultDate:function(){var U=this.$el,c=this.settings,S="";U.val()==""||isNaN(new Date(U.val().replaceH()).getDate())?S=t()(c.date):(S=t()(U.val().replaceH()),c.selectDate=S),c.uid=new Date().getTime(),c.oldValue=U.val(),c.year=S.format("YYYY"),c.month=S.format("MM"),U.data("settings",c)},createDom:function(){var U=this,c=U.settings,S=U.$el;U.$cal=e("<div/>").attr({id:"warpDatePicker_"+c.uid,class:"warpDatePicker"}),U.createCalHeader(),U.createFooterBtns(),U.updatePosition()},createCalHeader:function(){var U=e("<div/>").addClass("warpWeek clearfix"),c=this.settings,S=e("<div/>").addClass("warpYearAndMonth").html('<span class="Left LeftSelect" title="'+c.leftTitle+'"><i class="icon-arrow-left-border"></i></span><span class="lbYearAndMonth"></span><span class="Right RightSelect" title="'+c.rightTitle+'"><i class="icon-arrow-right-border"></i></span>');e.each(c.weekArr,function(h,y){U.append(e("<li>").addClass("weekItem").html(y))}),this.$cal.append(S.add(U))},createFooterBtns:function(){var U=this.settings,c=U.isShowToday,S=U.isShowTomorrow,h=U.isShowClear,y=e("<div/>").addClass("warpDatePickerOperator"),l=e("<span/>").html(e('<span class="warpDatePickerToday">'+U.toDayTitle+"</span>")),ee=e("<span/>").html(e('<span class="warpDatePickerTomorrow">'+U.tomorrowTitle+"</span>")),z=e("<span/>").html(e('<span class="warpDatePickerClear">'+U.clearTitle+"</span>"));c&&y.append(l),S&&y.append(ee),h&&y.append(z),this.$cal.append(y)},createDatePicker:function(U,c,S){var h=this,y=h.$el,l=h.$cal,ee=h.settings;ee.year=U,ee.month=c,ee.selectDate=S,l.find(".lbYearAndMonth").html(t()(new Date(U+"/"+c+"/1")).format(ee.titleFormat));var z=e("<div/>").addClass("warpDay").html(h.createDayDom());l.find(".warpDay").empty().end().find(".warpWeek").after(z)},createDayArr:function(){for(var U=this,c=U.settings,S=[],h=[],y=1,l=new Date(c.year+"/"+c.month+"/1").getDay(),ee=U.getLastDay(),z=0;z<Math.ceil((l+ee)/7);z++){h=[];for(var ae=0;ae<7;ae++){var Z=z*7+ae,Pe=Z-l+1;if(Pe<=0){h.push(0);continue}else if(Pe>ee)break;var oe=U.renderDayModel(Pe,ae);h.push(oe)}S.push(h.slice(0))}return S},getLastDay:function(){var U=this.settings,c=U.year,S=U.month;return new Date(c,S,"0").getDate()},DayModel:function(U,c,S,h,y,l,ee){this.year=U,this.week=S,this.day=h,this.month=c,this.isToday=y,this.isSelect=l,this.isOverdue=ee},renderDayModel:function(U,c){var S=this,h=S.settings,y=U,l=new Date,ee=!1,z=!1,ae=!1;return t()(new Date(h.year,parseInt(h.month)-1,y)).isSame(new Date,"day")&&(ee=!0),h.selectDate!==""&&y==parseInt(h.selectDate.format("DD"))&&h.month==h.selectDate.format("MM")&&h.year==h.selectDate.format("YYYY")&&(z=!0),(h.minDate&&t()(h.year+"/"+h.month+"/"+y)<t()(h.minDate)||h.maxDate&&t()(h.year+"/"+h.month+"/"+y)>t()(h.maxDate.replaceH()))&&(ae=!0),new S.DayModel(h.year,h.month,c,y,ee,z,ae)},createDayDom:function(){for(var U=this.createDayArr(),c="",S="",h="",y="",l=0;l<U.length;l++){c+='<ul class="clearfix">';for(var ee=0;ee<U[l].length;ee++)U[l][ee]===0?c+='<li class="dayItemNone"></li>':(S=U[l][ee].isToday?"toDay":"",h=U[l][ee].isSelect?"currSelect":"",y=U[l][ee].isOverdue?"overdue":"",c+='<li class="ThemeColor3 ThemeBGColor3 ThemeBorderColor3 dayItem '+h+" "+S+" "+y+'" data-day="'+U[l][ee].day+'">'+U[l][ee].day+"</li>");c+="</ul>"}return c},updatePosition:function(){var U=this,c=U.settings;if(c.isdialog?e("body").append(U.$cal):U.$el.append(U.$cal),c.isdialog){var S=U.$cal,h=U.$el.offset(),y="",l="",ee=S.width(),z=S.height()+17,ae=e(window).width(),Z=e(window).height(),Pe=c.dialogStyle.offsetTop,oe=c.dialogStyle.offsetLeft;h.left+ee+oe>ae&&ee+oe<=h.left?l=h.left-ee-oe:l=h.left+oe,h.top+z+Pe>Z&&z+Pe<=h.top?y=h.top-z:y=h.top+Pe,S.css({left:l,top:y,"z-index":c.zIndex,position:c.position})}},bindEvents:function(){var U=this,c=U.$el,S=U.$cal,h=U.settings;c.on(h.showOn,function(){console.time("showon"),h.oldValue=c.val();var z=h.selectDate?h.selectDate:"";U.createDatePicker(z?z.format("YYYY"):t()(new Date).format("YYYY"),z?z.format("MM"):t()(new Date).format("MM"),z),U.updatePosition(),S.show(),console.timeEnd("showon")}),S.find(".LeftSelect").on("click",function(z){var ae=t()([h.year,h.month-1]).subtract(1,"M");h.year=ae.year(),h.month=ae.month()+1,U.createDatePicker(h.year,h.month,h.selectDate),z.stopPropagation()}),S.find(".RightSelect").on("click",function(z){var ae=t()([h.year,h.month-1]).add(1,"M");h.year=ae.year(),h.month=ae.month()+1,U.createDatePicker(h.year,h.month,h.selectDate),z.stopPropagation()});var y=function(ae){h.isClickHide&&S.hide();var Z=new Date().getFullYear(),Pe=new Date().getMonth()+1;if(ae&&(h.year!=Z||h.month!=Pe)){var oe=c.val().replaceH();h.selectDate=oe!=""?t()(oe):"",h.year=Z,h.month=Pe,U.createDatePicker(h.year,h.month,h.selectDate)}},l=function(){h.oldValue=c.val(),e.isFunction(h.onChange)&&h.onChange.call(U,c.val())},ee=function(){S.find(".dayItem").removeClass("currSelect")};S.on("click",'.dayItem:not(".overdue,.currSelect")',function(z){var ae=h.year+"/"+h.month+"/"+e(this).data("day");c.val(t()(ae).format(h.format)),h.selectDate=t()(ae),y(!1),ee(),e(this).addClass("currSelect"),l(),h.selectDate=t()(ae),c.data("settings",h),z.stopPropagation()}),S.on("click",".warpDatePickerToday",function(z){c.val(t()(new Date).format(h.format)),y(!0),ee(),S.find(".toDay").addClass("currSelect"),l(),h.selectDate=t()(new Date),c.data("settings",h),z.stopPropagation()}),S.on("click",".warpDatePickerTomorrow",function(z){c.val(t()(new Date).add("days",1).format(h.format)),y(!0),ee();var ae=S.find(".warpDay li"),Z=S.find(".toDay");if(Z.length){var Pe=ae.index(Z)+1;ae.eq(Pe).addClass("currSelect")}l(),h.selectDate=t()(new Date).add("days",1),c.data("settings",h),z.stopPropagation()}),S.on("click",".warpDatePickerClear",function(z){c.val()!=""?(S.find(".dayItem").removeClass("currSelect"),c.val(""),h.selectDate="",c.data("settings",h),y(!1),l()):e.isFunction(h.onClean)&&h.onClean(""),z.stopPropagation()}),e(document).on("click.mdDatePicker"+h.uid,function(z){!e(z.target).is(c)&&!e(z.target).parents().is(c)&&!e(z.target).prev().is(c)&&!e(z.target).closest(".warpDatePicker").length&&e(".warpDatePicker").is(":visible")&&(h.isdialog&&S.hide(),e.isFunction(h.hideCalendarCallback)&&h.hideCalendarCallback.call(U),t()(c.val().replaceH()).unix()!=t()(h.oldValue).unix()&&c.val()!=h.oldValue&&l())})}}),String.prototype.replaceH=function(){return this.replace(/-/g,"/")}})(jQuery)},91744:(Ze,Re,a)=>{"use strict";var pe=a(72444),r=a(63239),t=a.n(r),e=a(88239),X=a(54416),J=a(15577),ce=a(38197),U=a.n(ce),c=a(32613);const S={autoCompleteCategory:function(z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("Category","AutoCompleteCategory",z,ae)}};var h=a(22731),y=a(96486),l=a.n(y);(function(ee){function z(){var Z=ee(this);window.event.propertyName=="value"&&!Z.data("triggering.inputEvent")&&(Z.data("triggering.inputEvent",!0).trigger("input"),window.setTimeout(function(){Z.data("triggering.inputEvent",!1)},0))}ee.event.special.input={setup:function(Pe,oe){var Te,F=this,K=F.value,v=document.createElement(this.tagName),re="oninput"in v||ae(v),L="onpropertychange"in v,m="inputEventNS"+~~(Math.random()*1e7),B=["focus","blur","paste","cut","keydown","drop",""].join("."+m+" ");function C(){var g=ee(F);F.value!=K&&!g.data("triggering.inputEvent")&&(K=F.value,g.data("triggering.inputEvent",!0).trigger("input"),window.setTimeout(function(){g.data("triggering.inputEvent",!1)},0))}function p(g){g.type==="focus"?(C(),clearInterval(Te),Te=window.setInterval(C,250)):g.type==="blur"?window.clearInterval(Te):window.setTimeout(C,0)}if(re)return!1;ee(this).find("input, textarea").andSelf().filter("input, textarea").bind(B,p),ee(this).data("inputEventHandlerNS",m)},teardown:function(){var Pe=ee(this);Pe.find("input, textarea").unbind(Pe.data("inputEventHandlerNS")),Pe.data("inputEventHandlerNS","")}},ee.fn.input=function(Z){return Z?this.bind("input",Z):this.trigger("input")};function ae(Z){if(Z.setAttribute("oninput","return"),typeof Z.oninput=="function")return!0;try{var Pe=document.createEvent("KeyboardEvent"),oe=!1,Te=function(K){oe=!0,K.preventDefault(),K.stopPropagation()};return document.body.appendChild(Z),Z.addEventListener("input",Te,!1),Z.removeEventListener("input",Te,!1),document.body.removeChild(Z),oe}catch(F){}}})(jQuery),function(ee,z,ae){var Z={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188,SPACE:32,HOME:36,END:35},Pe={triggerChar:"@",onDataRequest:ee.noop,minChars:0,showAvatars:!0,showCategory:!1,submitBtn:"",zIndex:5,position:"bottom",reset:!0,isAtAll:!1,sourceType:X.F.POST,searchType:0,classes:{autoCompleteItemActive:"active"},templates:{wrapper:z.template('<div class="mentions-input-box"></div>'),autocompleteList:z.template('<div class="mentions-autocomplete-list"></div>'),autocompleteListItem:z.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><%= content %></li>'),autocompleteListItemAvatar:z.template('<img src="<%= avatar %>" />'),mentionsOverlay:z.template('<div class="mentions"><div></div></div>'),mentionItemSyntax:z.template("<%= type %>:<%= id %>"),mentionItemHighlight:z.template("<strong><span>@<%= value %></span></strong>"),categoryListItem:z.template('<li class="mentions-autocomplete-list-category ellipsis"><%= content %></li>')}},oe={highlightTerm:function(K,v){return!v&&!v.length?K:K.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+v+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>")},rtrim:function(K){return K.replace(/\s+$/,"")}},Te=function(K){var v,re,L,m,B,C,p=[],g={},u=[],T=!1,d=0,O,k,x=window.store||window.localStorage,N=null,E=["#","\uFF03"],D=["@","\uFF20"];K=ee.extend(!0,{},Pe,{templates:{mentionItemSyntax:K.sourceType===X.F.POST?z.template("<%= type %>:<%= id %>"):z.template("[aid]<%= id %>[/aid]"),mentionAllSyntax:K.sourceType===X.F.POST?z.template("<%= type %>:<%= id %>"):z.template("[all]<%= id %>[/all]")}},K);function I(){if(ee(v).addClass("emojiFontFace"),re=ee(v),re.attr("data-mentions-input")!="true"){var Ie="mentions-input-box",le=ee(K.templates.wrapper()).addClass(Ie);re.wrapAll(le),m=re.closest("."+Ie),re.attr("data-mentions-input","true"),re.bind("keydown",_e),re.bind("keyup",V),re.bind("focus",V),re.bind("blur",ie)}}function R(){L=ee(K.templates.autocompleteList()).css("zIndex",K.zIndex),L.appendTo(m),L.delegate("li","mousedown",ne)}function w(){B=ee(K.templates.mentionsOverlay()),B.prependTo(m)}function b(){var Ie=f(),le=(0,J.u1)(Ie);z.each(p,function(we){var We=K.templates.mentionItemSyntax(we),at=z.extend({},we,{value:(0,J.u1)(we.value)}),At=K.templates.mentionItemHighlight(at);(we.id==="atAll"||we.id==="isCommentAtAll")&&(We=K.templates.mentionAllSyntax(we)),Ie=Ie.replace("@"+we.value,We),le=le.replace(We,At)}),le=le.replace(/\n/g,"<br />"),le=le.replace(/ {2}/g,"&nbsp; "),B.find("div").html(le),re.data("messageText",Ie)}function Y(){u=[]}function W(){var Ie=f();p=z.reject(p,function(le,we){return!le.value||Ie.indexOf(le.value)==-1}),p=z.compact(p)}function M(Ie){var le=f(),we=(0,J.qK)(re[0]),We=0;T&&d<we?We=we-k.length-1:We=we-1;var at=we,At=le.substr(0,We),dt=le.substr(at,le.length),mt;D.indexOf(O)>-1?(mt=(At+"@"+Ie.value).length+1,p.push(Ie)):K.showCategory&&E.indexOf(O)>-1&&(mt=(At+"#"+Ie.value+"#").length+1),T=!1,d=0,k="",de();var It;D.indexOf(O)>-1?It=At+"@"+Ie.value+" "+dt:K.showCategory&&E.indexOf(O)>-1&&(It=At+"#"+Ie.value+"# "+dt),It&&(O="",re.val(It),b(),re.focus(),(0,J.Mq)(re[0],mt))}function f(){return re.val()}function ne(Ie){var le=ee(this),we=g[le.attr("data-uid")];return M(we),!1}function ie(Ie){de()}function V(Ie){if(b(),W(),!([38,40,16].indexOf(Ie.keyCode)>-1)){var le=(0,J.qK)(re[0]),we=f(),We=we.substring(le-1,le);if(D.indexOf(We)>-1||K.showCategory&&E.indexOf(We)>-1?(d=le,T=!0,O=We):(We==" "||We=="")&&(T=!1,O=""),!T){var at=we.substring(d,le);at.indexOf(" ")==-1&&at.indexOf(`
`)==-1&&(T=!0,O=we.substring(d-1,d))}T&&d<=(0,J.qK)(re[0])?(k=we.substring(d,(0,J.qK)(re[0])),z.defer(z.bind(Ve,this,k))):(de(),O="")}}function me(Ie){if(Ie.keyCode!==Z.BACKSPACE){var le=String.fromCharCode(Ie.which||Ie.keyCode);u.push(le)}}function _e(Ie){if(Ie.ctrlKey&&(Ie.keyCode===13||Ie.keyCode===108)){K.submitBtn&&(ie(Ie),document.getElementById(K.submitBtn).click());return}if(Ie.keyCode===Z.LEFT||Ie.keyCode===Z.RIGHT||Ie.keyCode===Z.HOME||Ie.keyCode===Z.END){z.defer(Y);return}if(Ie.keyCode===Z.BACKSPACE){u=u.slice(0,-1+u.length);return}if(!L.is(":visible"))return!0;switch(Ie.keyCode){case Z.UP:case Z.DOWN:var le=null;return Ie.keyCode===Z.DOWN?C&&C.length?le=C.next():le=L.find("li").first():le=ee(C).prev(),le.length&&(ge(le),Le()),!1;case Z.RETURN:case Z.TAB:if(C&&C.length)return C.trigger("mousedown"),!1;break;default:break}return!0}function de(){C=null,L.empty().hide()}function Le(){var Ie=C.height(),le=L.height(),we=L.scrollTop();(C.index()+1)*Ie-we>le&&L.scrollTop((C.index()+1)*Ie-le+6),C.index()*Ie<we&&L.scrollTop(C.index()*Ie)}function ge(Ie){Ie.addClass(K.classes.autoCompleteItemActive),Ie.siblings().removeClass(K.classes.autoCompleteItemActive),C=Ie}function Oe(Ie,le){var we=ee(window).height(),We=B.outerHeight(),at=B.offset().top,At=we-at-We;if(K.position==="top"?L.css({bottom:We+5,maxHeight:at-130}):L.css({maxHeight:At-15}),L.show(),L.empty(),!le.accounts.length&&!le.groups.length){var dt=ee('<div class="mentionNoData">');if(le.isNewAccount)dt.append('<div class="invite"><i class="icon-invite"></i><p>'+_l("\u60A8\u8FD8\u6CA1\u6709\u4E00\u8D77\u534F\u4F5C\u7684\u5C0F\u4F19\u4F34\uFF0C")+'<br/><span class="ThemeColor3 Hand">'+_l("\u9080\u8BF7\u66F4\u591A\u7684\u540C\u4E8B")+" </span>"+_l("\u52A0\u5165\u5427\uFF01")+" </p></div>");else if(k===""){var mt=_l("\u8F93\u5165\u59D3\u540D\u6216\u7FA4\u7EC4\u540D\uFF0C\u63D0\u9192TA\u67E5\u770B");dt.append('<div class="noOne">'+mt+"</div>")}else md.global.Account.isPortal?dt.append('<div class="invite"><p>'+_l("\u6CA1\u6709\u627E\u5230")+" </p></div>"):dt.append('<div class="invite"><i class="icon-invite"></i><p>'+_l("\u6CA1\u6709\u627E\u5230\uFF0C")+'<span class="ThemeColor3 Hand">'+_l("\u9080\u8BF7\u66F4\u591A\u7684\u540C\u4E8B")+" </span>"+_l("\u52A0\u5165\u5427\uFF01")+" </p></div>");dt.find(".invite").on("mousedown",function(ct){(0,c.ZP)({fromType:0}),ct.stopPropagation()}),L.append(dt);return}var It=ee("<ul>").appendTo(L).hide();if(le.accounts&&le.accounts.length>0){var _t=null,Pt=null;le.accounts.map(function(ct,qe){ct.isAtData&&!_t&&(_t=qe),!ct.isAtData&&!ct.isAll&&!Pt&&(Pt=qe)}),z.each(le.accounts,function(ct,qe){var ut=z.uniqueId("mention_"),Dt="";ct.isAll?Dt='<div class="itemContent"><span class="wMax100 InlineBlock pTop5 ThemeColor3" title={{! it.fullname }}>{{! it.fullname}}</span><br/><span class="Gray_9e pBottom5 InlineBlock">'+_l("\u6240\u6709\u8BB0\u5F55\u6210\u5458\u4E0E\u53C2\u4E0E\u8BA8\u8BBA\u7684\u4EBA")+"</span></div>":K.forReacordDiscussion?ct.isAtData?Dt=`<div class="itemContent">
                {{? !it.job && !it.companyName}}
                <div style="line-height:38px" >
                {{??}}
                <div>
                {{?}}
                <span class="fullname Gray" title={{! it.fullname }}>{{! it.fullname}}</span>
                </div>
                {{? it.job || it.companyName}}
                <div>
                <span class="Gray_a"  title={{! it.job}}>{{! it.job || ""}}</span>
                {{? it.job && it.companyName}}
                  <span class="Gray_a">/</span>
                {{?}}
                {{? !it.isAll}}
                  <span class="Gray_a">{{! it.companyName}}</span>
                {{?}}
                </div>
                {{?}}
              </div>`:Dt='<div class="itemContent">{{? !it.profession && !it.companyName}}<div style="line-height:38px">{{??}}<div>{{?}}<span class="fullname Gray" title={{! it.fullname }}>{{! it.fullname}}</span></div>{{? it.profession || it.companyName}} <div>{{? it.profession}}<span class="Gray_a" title={{! it.profession}}>{{! it.profession}}</span>{{?}}{{? it.profession && it.companyName}}<span class="Gray_a">/</span>{{?}}{{? !it.isAll}}<span class="Gray_a">{{! it.companyName}}</span>{{?}}</div>{{?}}</div>':Dt='<div class="itemContent"><div><span class="fullname ThemeColor3" title={{! it.fullname }}>{{! it.fullname}}</span>{{? it.profession}}<span class="Gray_a" title={{! it.profession}}>{{! it.profession}}</span>{{?}}</div><div>{{? !it.isAll}}<span class="Gray_a">{{! it.companyName}}</span>{{?}}</div></div>',g[ut]={id:(0,J.u1)(ct.accountId||ct.id),value:ct.fullname,avatar:ct.isAtData?ct.avatar:ct.avatarMiddle,display:(0,J.u1)(ct.fullname),type:"user",content:oe.highlightTerm(U().template(Dt)(ct),Ie)};var ot=ee(K.templates.autocompleteListItem(g[ut])).attr("data-uid",ut);if(qe===0&&ge(ot),K.forReacordDiscussion&&_t===qe&&!Ie){var be=ee("<div class='title mTop6 Bold Gray_9e'>"+_l("\u53C2\u4E0E\u8005")+"</div>");be.appendTo(It)}if(K.forReacordDiscussion&&Pt===qe&&!Ie){var Ae=ee("<div class='title mTop6 Bold Gray_9e'>"+_l("\u6700\u5E38\u534F\u4F5C")+"</div>");Ae.appendTo(It)}if(K.showAvatars){var A=ee(K.templates.autocompleteListItemAvatar(g[ut]));A.prependTo(ot)}ot=ot.appendTo(It)})}le.groups&&le.groups.length>0&&z.each(le.groups,function(ct,qe){var ut=z.uniqueId("mention_");g[ut]={id:(0,J.u1)(ct.groupId),value:ct.name,avatar:ct.avatar,display:(0,J.u1)(ct.name),type:"group",content:oe.highlightTerm(U().template('<div class="itemContent"><div><span class="Gray_a">[\u7FA4]</span><span class="ThemeColor3">{{! it.name}}</span><span class="Gray_a"></span></div><div><span class="Gray_a">{{! it.isAll ? "" : (it.project ? it.project.companyDisplayName : "\u597D\u53CB")}}</span></div></div>')(ct),Ie)};var Dt="";ct.isVerified=="1"&&(Dt="<span class='groupTag Font16 icon-official-group' title='\u5B98\u65B9\u7FA4\u7EC4'></span>");var ot=ee(K.templates.autocompleteListItem(g[ut])).attr("data-uid",ut);if(!le.accounts.length&&qe===0&&ge(ot),K.showAvatars){var be=ee(K.templates.autocompleteListItemAvatar(g[ut]));be.prependTo(ot)}ot=ot.appendTo(It)}),L.show(),It.show(),le.accounts&&le.accounts.length>0&&le.groups&&le.groups.length>0&&L.find("li:eq("+(le.accounts.length-1)+")").css("borderBottom","1px dashed #e3e3e3")}function nt(Ie,le){if(L.show(),!le||!le.length){de();return}L.empty();var we=ee("<ul>").appendTo(L).hide();le&&le.length>0&&z.each(le,function(We,at){var At=z.uniqueId("mention_");g[At]=z.extend({},We);var dt=ee(K.templates.categoryListItem({content:oe.highlightTerm(We.value,Ie)})).attr("data-uid",At);at===0&&ge(dt),dt=dt.appendTo(we)}),L.show(),we.show()}function lt(Ie){var le=arguments.length>1&&arguments[1]!==ae?arguments[1]:[];if(N&&N.abort&&N.abort(),le.length>15&&K.forReacordDiscussion){var we={};return we.accounts=[{isAll:!0,avatarMiddle:"/staticfiles/images/atAllUser.png",id:"atAll",fullname:X.v[K.sourceType],type:"user"}].concat(le),Oe(Ie,we)}N=h.Z.getUsersByKeywords({search:K.searchType,keywords:Ie}),N.then(function(at){if(!Ie){var At=null;K.isAtAll&&(At={id:"atAll",fullname:X.v[K.sourceType]}),K.isAtAll&&K.sourceType===X.F.POST&&(At={id:"isCommentAtAll",fullname:X.v[K.sourceType]});var dt=[];if(At&&(dt=[{isAll:!0,avatarMiddle:"/staticfiles/images/atAllUser.png",id:At.id,fullname:At.fullname,type:"user"}]),le.length>0&&K.forReacordDiscussion){var mt=le.map(function(It){return It.accountId});at.accounts=dt.concat(le).concat(at.accounts.filter(function(It){return!mt.includes(It.accountId)}).map(function(It){return(0,e.default)({},It,{isAtData:!1})}))}else at.accounts=dt.concat(at.accounts)}Oe(Ie,at)})}function Ve(Ie){if(D.indexOf(O)>-1){if(K.forReacordDiscussion&&!Ie){var le=sessionStorage.getItem("atData")||"[]",we=JSON.parse(le)||[];we=we.map(function(We){return(0,e.default)({},We,{isAtData:!0})}),lt(Ie,we)}else lt(Ie)}else K.showCategory&&E.indexOf(O)>-1&&(N=S.autoCompleteCategory({keywords:Ie}),N.then(function(We){nt(Ie,We)}))}function De(){K.reset&&re.val(""),p=[],b()}function ze(){if(!re.val())return ht();var Ie="mentionsInputCache_"+md.global.Account.accountId+"_"+(K.cacheKey||""),le={text:re.val(),messageText:re.data("messageText"),mentionsCollection:p};safeLocalStorageSetItem(Ie,t()(le))}function st(Ie){var le="mentionsInputCache_"+md.global.Account.accountId+"_"+(K.cacheKey||""),we=x.getItem(le),We;try{We=we&&JSON.parse(we)}catch(at){We=null}return!We||!We.text?(De(),Ie(!1)):(p=We.mentionsCollection,re.val(We.text),re.data("messageText",We.messageText),b(),Ie(!0,We))}function ht(){var Ie="mentionsInputCache_"+md.global.Account.accountId+"_"+(K.cacheKey||"");x.removeItem(Ie)}return{init:function(le){v=le,I(),R(),w(),De(),K.prefillMention&&M(K.prefillMention)},val:function(le){if(z.isFunction(le)){var we=p.length?re.data("messageText"):f();le.call(this,we)}},setValue:function(le,we,We){p=We,re.val(le),re.data("messageText",we),b()},reset:function(){De()},store:function(){ze()},restore:function(le){st(le)},clearStore:function(){ht()},getMentions:function(le){z.isFunction(le)&&le.call(this,p)}}};ee.fn.mentionsInput=function(F,K){var v=arguments;return((typeof F>"u"?"undefined":(0,pe.default)(F))==="object"||!F)&&(K=F),this.each(function(){var re=ee.data(this,"mentionsInput")||ee.data(this,"mentionsInput",new Te(K));if(z.isFunction(re[F]))return re[F].apply(this,Array.prototype.slice.call(v,1));if((typeof F>"u"?"undefined":(0,pe.default)(F))==="object"||!F)return re.init.call(this,this);ee.error("Method "+F+" does not exist")})}}(jQuery,l())},37846:(Ze,Re,a)=>{"use strict";var pe=a(32422),r=a(12424),t=a(46593),e=a.n(t),X=a(85315),J=a(88902),ce=a.n(J),U=a(72444),c=a(18585),S=a(15577),h=a(65406),y=a(38197),l=a.n(y),ee=a(23999),z=a.n(ee),ae=a(92481),Z=a.n(ae),Pe=a(35836),oe=a.n(Pe),Te=a(23002),F=a(96486),K=a.n(F),v=a(67294),re=a(73935),L=l().template(z());function m(g,u){var T=this,d={defaultValueAllowChange:!0,maxHeight:370,defaultValue:{project:[],group:[]},position:"bottom",defaultIsNone:!1,isAll:!0,isMe:!0,isRadio:!0,isAllAttendees:!1,everyoneOnly:!1,isShowIcon:!0,reloadAfterCreateGroup:!1,createGroupInProject:!1,noCreateGroup:!1,filterDisabledGroup:!1,renderWhenBegin:!1,showCompanyName:!1,onLoad:function(){},reSize:function(){},changeCallback:function(){}};this.projectItemPos=[],this.setting=u,this.options=K().assign({},{pluginId:Math.random().toString(),menuWidth:230},d,u),this.value={shareProjectIds:[],groups:[],radioProjectIds:[],map:{}},u&&(0,U.default)(u.defaultValue)==="object"&&u.defaultValue.project&&u.defaultValue.group&&u.defaultValue.project.length===0&&u.defaultValue.group.length===0&&this.options.isMe&&(this.value.personal=!0),typeof this.options.defaultValue=="string"?this.value.groups=K().compact(this.options.defaultValue.split(",")):(this.value.shareProjectIds=this.options.defaultValue.project?this.options.defaultValue.project:[],this.value.groups=this.options.defaultValue.group?this.options.defaultValue.group:[]),this.value.map={},this.value.personal?this.value.map={li_personal:!0}:(this.value.groups.forEach(function(O){T.value.map["li_normal_"+O]=!0}),this.value.shareProjectIds.forEach(function(O){T.value.map["li_allproject_"+O]=!0}),this.value.radioProjectIds.forEach(function(O){T.value.map["li_radio_"+O]=!0})),this.init(g)}m.prototype={init:function(u){var T=this,d=K().get(md,["global","Account","projects"])||[];if(T.options.filterDisabledGroup&&(d=d.filter(function(k){return k.licenseType!==0})),this.$el=$(u),this.$viewTo=this.$el.next("div.viewTo"),this.$viewTo.length&&this.$viewTo.remove(),this.clearData(),typeof this.options.projectId=="string"){this.renderType="single",this.singleRender();return}var O=K().assign({},this.options,{projects:d,projectsList:K().get(md,["global","Account","projects"]),hideMostUsed:(T.options||{}).projectId==="",noCreateGroup:T.options.noCreateGroup});this.$viewTo=$(L(O)),this.$el.after(this.$viewTo),T.options.reSize&&T.options.reSize(),this.setDataFromValue(),this.setSelectedNum(),this.bindEvent(),$.isFunction(T.options.onLoad)&&T.options.onLoad()},singleRender:function(){var u=this,T=l().template(Z());u.options.isRadio=!1,u.$viewTo=$(T(K().assign({},u.options,{projectId:u.options.projectId,companyName:u.options.showCompanyName&&u.options.projectId!==""?md.global.Account.projects.filter(function(d){return d.projectId===u.options.projectId})[0].companyName:"",showCompanyName:u.options.showCompanyName}))),u.$el.after(u.$viewTo),u.options.renderWhenBegin&&u.fetchSingleWhenRenderProject(),u.setDataFromValue(),u.setSelectedNum(),u.bindEvent()},bindEvent:function(){var u=this,T=this.$viewTo;T.find(".SelectAllGroup-selectGroup").on("click",function(){var d=T.find(".SelectAllGroup-groupListDiv"),O=u.options.position==="top"?T.offset().top:window.innerHeight-T.offset().top;O<u.options.maxHeight&&(u.options.maxHeight=O-50<150?150:O-50),T.find(".groupListCon").css("maxHeight",u.options.maxHeight),d.is(":visible")?d.slideUp("fast"):u.showAndBindClickaway(d)}).end().find(".SelectAllGroup-groupListDiv").on("click",".addNewGroup,.noGroup .createGroup2",function(){u.options.noCreateGroup||Te.Z.createInit({projectId:u.options.projectId,createGroupInProject:u.options.createGroupInProject,callback:function(O){if(u.options.reloadAfterCreateGroup)window.location.pathname.indexOf("/feed")>-1?window.location.href="/feed?groupId="+O.groupId:window.location.reload();else{var k=u.$el.SelectGroup("getScope"),x={defaultValue:{project:[],group:[]}};k&&(x.defaultValue.project=k.shareProjectIds,x.defaultValue.group=k.shareGroupIds),x.defaultValue.group.push(O.groupId),u.$el.SelectGroup(K().assign({},u.setting,x))}}})}).find(".groupListCon").on("scroll",function(){u.changeFixedProjectItem()}).on("wheel",function(d){$(this).hasClass("nano")||u.disableScrollParent(d)}).find(".mostUsed").on("change",".groupList .groupItem input",function(d){var O=$(this).parents(".groupItem"),k=O.data("groupid"),x=d.currentTarget.checked;if(O.hasClass("everybody")){u.$viewTo.find(".projectItem").filter(function(N,E){return $(E).data("projectid")===k}).find(".everybody input").prop("checked",x);return}u.$viewTo.find(".projectItem:not(.mostUsed) .groupList .groupItem").filter(function(N,E){return $(E).data("groupid")===k}).find("input").prop("checked",x)}).end().find(".projectItem").on("click",".projectTitle:not(.disabled)",function(d){var O=$(this),k=O.closest(".projectItem");k.hasClass("mostUsed")||(k.find(".groupList").slideToggle(function(){if(k.find(".groupList .groupItem").length===0){var x=k.data("projectid");x||(k.hasClass("mostUsed")&&(x="mostUsed"),k.hasClass("personItem")&&(x="personItem")),u.fetchGroup(x).then(function(){k.is(":visible")&&(u.getProjectItemPos(),u.changeFixedProjectItem())})}}),$(this).toggleClass("open"),u.$viewTo.find(".projectItem .projectTitle.open").length||u.$viewTo.find(".projectTitle").removeClass("fixed").css("top","0px"),d.stopPropagation())}).on("change",".groupList .groupItem input",function(d){u.clearData();var O=$(this),k=d.currentTarget.checked,x=O.closest(".groupItem"),N=!!x.parents(".projectItem.mostUsed").length,E=x.data("idStr"),D=x.data("type");u.value.map.li_personal=!1,x.siblings(".radio").toArray().forEach(function(I){u.value.map[$(I).data("idStr")]=!1}),x.hasClass("radio")||x.hasClass("allproject")?u.$viewTo.find(".groupItem").removeClass("gray"):x.parent().children().removeClass("gray"),u.value.map[E]=k,D==="personal"?ce()(u.value.map).forEach(function(I){u.value.map[I]=I==="li_personal"?k:!1}):D==="radio"?(x.siblings().toArray().forEach(function(I){u.value.map[$(I).data("idStr")]=!1}),ce()(u.value.map).forEach(function(I){new RegExp(/^li_radio_(\w{8}-(\w{4}-){3}\w{12})$/).test(I)&&I!==E&&(u.value.map[I]=!1),new RegExp(/^li_allproject_(\w{8}-(\w{4}-){3}\w{12})$/).test(I)&&(u.value.map[I]=!1)}),x.siblings().addClass("gray")):D==="allproject"?(u.options.everyoneOnly&&!N&&x.siblings().toArray().forEach(function(I){u.value.map[$(I).data("idStr")]=!1}),ce()(u.value.map).forEach(function(I){new RegExp(/^li_radio_(\w{8}-(\w{4}-){3}\w{12})$/).test(I)&&I!==E&&(u.value.map[I]=!1)})):u.options.everyoneOnly&&!N&&x.siblings(".allproject").toArray().forEach(function(I){u.value.map[$(I).data("idStr")]=!1}),ce()(u.value.map).forEach(function(I){u.$viewTo.find("."+I).find("input").prop("checked",u.value.map[I]),u.value.map[I]||delete u.value.map[I]}),u.setSGValue(),u.setDataFromValue(),u.setSelectedNum()}),u.$viewTo.on("click",".projectItem:not(.mostUsed) .groupItem.disabled",function(){var d=$(this).closest(".projectItem").data("projectid");(0,S.Yg)({projectId:d,explainText:_l("\u8BF7\u5347\u7EA7\u81F3\u4ED8\u8D39\u7248\u89E3\u9501\u5F00\u542F"),isFree:!0})})},setSGValue:function(){var u=this,T=new RegExp(/^li_allproject_(\w{8}-(\w{4}-){3}\w{12})$/),d=new RegExp(/^li_normal_(\w{8}-(\w{4}-){3}\w{12})$/),O=new RegExp(/^li_radio_(\w{8}-(\w{4}-){3}\w{12})$/),k=[],x=[],N=[];ce()(u.value.map).forEach(function(E){T.test(E)?k.push(E.match(T)[1]):O.test(E)?x.push(E.match(O)[1]):d.test(E)&&N.push(E.match(d)[1])}),u.value.map.li_personal?this.value.personal=!0:this.value.personal=!1,this.value.groups=N,this.value.shareProjectIds=k,this.value.radioProjectIds=x},fetchGroup:function(u){var T=this;if(u==="personItem")return T.fetchSingle("",T.$viewTo.find(".projectItem.personItem"));var d=T.$viewTo.find("#projectItem_"+u);return T.fetchSingle(u,d)},getGroupType:function(u){if(u.extra){if(u.extra.isMe)return"personal";if(u.extra.isRadio)return"radio";if(u.extra.isProject)return"allproject"}else return"normal";return"normal"},formatGroups:function(u){var T=this;return u.map(function(d){return{value:d.value,id:d.id,type:T.getGroupType(d),disabled:d.extra&&d.extra.licenseType===0,id_str:"li_"+T.getGroupType(d)+(T.getGroupType(d)==="personal"?"":"_"+d.id)}})},fetchSingle:function(u,T){var d=this,O=l().template(oe()),k=T.data("licensetype");return h.Z.selectGroup({projectId:u,withRadio:d.options.isRadio}).then(function(x){u===""&&d.options.filterDisabledGroup&&(x=x.filter(function(E){return!(E.extra&&E.extra.licenseType===0)}));var N=d.formatGroups(x);return d.options.isAll&&u&&(N=[{value:d.options.isAllAttendees?_l("\u6240\u6709\u51FA\u5E2D\u4EBA\u5458"):_l("\u6240\u6709\u540C\u4E8B"),id:u,type:"allproject",id_str:"li_allproject_"+u}].concat((0,X.Z)(N))),!u&&d.options.isMe&&(N=[{value:_l("\u6211\u81EA\u5DF1"),id:md.global.Account.accountId,type:"personal",id_str:"li_personal"}].concat((0,X.Z)(N))),T.find(".groupList").html(O({list:N,projectId:u,everyoneOnly:d.options.everyoneOnly})),T.find(".groupList").append(T.find(".groupItem.disabled")),d.defaultSelectInit(),u===""&&d.bindBusinessCard(T),x})},setSelectedNumHtml:function(u,T){T=T||"";var d=this,O=T+('<i class="icon-eye"></i><span class="ThemeColor3 ellipsis InlineBlock" style="max-width: 100px">'+u+'</span><i class="icon-arrow-down-border font8"></i>');d.$viewTo.find(".SelectAllGroup-selectedGroup").html(O)},setSelectedNum:function(){var u=this,T=u.value.shareProjectIds.length+u.value.groups.length;if(u.value.radioProjectIds&&u.value.radioProjectIds.length>0){var d=u.value.radioProjectIds,O=d.map(function(N){return u.getCompanyNameOfProject(N)||""}),k=_l("\u53D1\u6D88\u606F\u901A\u77E5 ")+'<span class="ThemeColor3"><span class="InlineBlock ellipsis" style="max-width: 200px">'+O.join(",")+"</span></span>"+_l(" \u5168\u5458\uFF0C\u5E76\u7F6E\u9876\u52A8\u6001");u.setSelectedNumHtml(T?_l("\u5DF2\u9009\u62E9 %0 \u9879",T):_l("\u5168\u5458\u5E7F\u64AD"),k);return}if(u.value.personal){u.setSelectedNumHtml(_l("\u6211\u81EA\u5DF1"));return}if(T===1)if(u.value.shareProjectIds.length>0)u.setSelectedNumHtml(_l("\u6240\u6709\u540C\u4E8B"));else{var x=u.$viewTo.find(".groupItem").filter(function(N,E){return $(E).data("groupid")===u.value.groups[0]});x.length?u.setSelectedNumHtml((0,S.u1)(x.eq(0).text())):h.Z.getGroupInfo({groupId:u.value.groups[0]}).then(function(N){N&&u.setSelectedNumHtml((0,S.u1)(N.name))})}else T!==0?u.setSelectedNumHtml(_l("\u5DF2\u9009\u62E9 %0 \u9879",T)):u.setSelectedNumHtml(_l("\u9009\u62E9\u5206\u4EAB\u8303\u56F4"))},getProjectItemPos:function(){var u=this.$viewTo.find(".projectItem").map(function(d,O){return $(O).height()}),T=u.toArray().map(function(d,O){return K().sum(u.slice(0,O))});this.projectItemPos=T,this.emitNanoScroll()},changeFixedProjectItem:function(){var u,T=this,d=T.$viewTo.find(".SelectAllGroup-groupListDiv .projectTitle"),O=T.$viewTo.find(".SelectAllGroup-groupListDiv .groupListCon");O.hasClass("nano")?u=O.find(".nano-content").scrollTop():u=O.scrollTop();function k(N,E){for(var D,I=0,R=E.length;I<R;I++)E[I+1]&&K().inRange(N,E[I],E[I+1])&&(D=E.indexOf(E[I]));return typeof D>"u"&&N>E[E.length-1]&&(D=E.length-1),D}var x=k(u,T.projectItemPos);T.$viewTo.find(".projectItem .projectTitle.open").length&&d.removeClass("fixed").css("top","0px").eq(x).addClass("fixed").css("top",u+"px")},emitNanoScroll:function(){var u=this,T=u.$viewTo.find(".SelectAllGroup-groupListDiv .groupListCon");u.$viewTo.find(".SelectAllGroup-groupListDiv .groupListCon").height()>=u.options.maxHeight?(T.hasClass("nano")||(T.addClass("nano").height(u.options.maxHeight).children("ul").wrap($('<div class="nano-content">')),T.find(".nano-content").on("scroll",function(){u.changeFixedProjectItem()}).on("wheel",u.disableScrollParent)),u.$viewTo.find(".nano").nanoScroller()):T.hasClass("nano")&&T.removeClass("nano").height("auto").nanoScroller({destroy:!0})},disableScrollParent:function(u){var T=u.currentTarget.clientHeight,d=u.currentTarget.scrollTop,O=u.currentTarget.scrollHeight,k=u.originalEvent.deltaY<0&&d===0,x=u.originalEvent.deltaY>0&&T+d>=O;(k||x)&&u.preventDefault()},defaultSlide:function(){var u=this,T=u.$viewTo.find(".projectItem.mostUsed");e().all([md.global.Account.projects.length?!0:h.Z.selectGroup({projectId:""}),h.Z.selectGroupMostFrequent()]).then(function(d){var O=(0,r.Z)(d,2),k=O[0],x=O[1],N=u.$viewTo.find(".SelectAllGroup-groupListDiv");if(K().isArray(k)&&!k.length&&!md.global.Account.projects.length&&N.addClass("isNew"),!x.length)N.addClass("noMostUsed");else{var E=l().template(oe()),D=u.formatGroups(x.filter(function(R){return!(R.extra&&R.extra.licenseType===0)}).slice(0,8));T.find(".groupList").html(E({list:D,mostUsed:!0,licenseType:1,isAll:u.options.isAll,isMe:u.options.isMe,isAllAttendees:u.options.isAllAttendees,everyoneOnly:u.options.everyoneOnly})),T.find(".groupItem.personal .groupName").text(_l("\u6211\u81EA\u5DF1")),T.find(".groupList").append(T.find(".groupItem.personal")),T.find(".groupList").append(T.find(".groupItem.disabled")),u.defaultSelectInit(),u.bindBusinessCard(T)}N.removeClass("isLoading"),T.find(".groupList").show(),u.options.reSize&&u.options.reSize(),u.getProjectItemPos(),u.changeFixedProjectItem();var I=u.$viewTo.find(".projectItem");I.length===2&&I.eq(1).find(".projectTitle").click(),I.length===3&&(I.eq(2).find(".projectTitle").hasClass("disabled")?I.eq(1).find(".projectTitle").click():I.eq(2).find(".projectTitle").click()),u.options.projectId===""&&u.$viewTo.find(".projectItem.personItem .projectTitle").click(),u.loaded=!0}).catch(function(){alert(_l("\u83B7\u53D6\u7FA4\u7EC4\u5931\u8D25"),3)})},defaultSelectInit:function(u){var T=this,d=!T.options.defaultValueAllowChange;ce()(T.value.map).forEach(function(O){T.$viewTo.find("."+O).find("input").prop("checked",T.value.map[O]).attr("disabled",d)}),T.options.reSize&&T.options.reSize()},getCompanyNameOfProject:function(u){var T=md.global.Account.projects.filter(function(d){return d.projectId===u})[0];return T&&T.companyName},showAndBindClickaway:function(u){var T=this,d="fast";if(!u.is(":visible")){u.slideDown(d,function(){T.renderType!=="single"?T.loaded?(T.getProjectItemPos(),T.changeFixedProjectItem()):T.defaultSlide():T.fetchSingleWhenRenderProject()});var O=function(x){$(x.target).closest(u).length||(u.slideUp(d),$(document).off("click.selectGroup"))};setTimeout(function(){$(document).on("click.selectGroup",O)},100)}},fetchSingleWhenRenderProject:function(){var u=this;u.fetchSingle(u.options.projectId,u.$viewTo.find(".projectItem")).then(function(T){var d=T.map(function(O){return O.id});u.defaultSelectInit(),u.options.filterByProjects&&(u.value.groups=u.value.groups.filter(function(O){return K().includes(d,O)})),u.setSelectedNum(),u.setDataFromValue(),u.emitNanoScroll()})},clearData:function(){var u=this;u.$el.data("shareProjectIds",""),u.$el.data("radioProjectIds",""),u.$el.data("selected",0),u.$el.val("")},clearValue:function(){var u=this;u.value={shareProjectIds:[],groups:[],radioProjectIds:[]}},setDataFromValue:function(){var u=this,T=u.value.shareProjectIds,d=u.value.radioProjectIds,O=u.value.groups,k=u.value.personal;u.$el.val(O.join(",")),u.$el.data("shareGroupIds",O.join(",")),u.$el.data("shareProjectIds",T.join(",")),u.$el.data("radioProjectIds",d.join(",")),u.$el.data("selected",!O.length&&!T.length&&!d.length&&!k?0:1),u.options.changeCallback&&u.options.changeCallback(u.value)},bindBusinessCard:function(u){u.find(".groupItem:not(.personal,.everybody) .groupInfoWrap").each(function(T,d){var O=$(d).data("groupid");$(d).data("bindUserCard")||($(d).data("bindUserCard",!0),re.render(v.createElement(pe.Z,{type:2,sourceId:O},v.createElement("span",{className:"groupInfo"})),d))})}};const B=null;function C(g){return $(this).each(function(u,T){var d=new m(T,g)})}var p={getScope:function(){var u=$(this);if(!u.next(".viewTo").length)return null;var T=K().compact((u.data("shareGroupIds")||"").split(",")),d=K().compact((u.data("shareProjectIds")||"").split(",")),O=K().compact(u.data("radioProjectIds").split(",")),k=u.data("selected");return k?{shareGroupIds:T,shareProjectIds:d,radioProjectIds:O}:null},slideDown:function(){var u=$(this),T=u.next(".viewTo").find(".SelectAllGroup-selectGroup");T.length?T.click():console.error(_l("\u6CA1\u627E\u5230\u8BE5\u7EC4\u4EF6"))}};$.fn.SelectGroup=function(){var g=arguments,u=g[0];if(p[u])u=p[u],g=Array.prototype.slice.call(g,1);else if((typeof u>"u"?"undefined":(0,U.default)(u))==="object"||!u)u=C;else return $.error("Method"+u+"does not exist on selectAllGroup"),this;return u.apply(this,g)}},16461:(Ze,Re,a)=>{"use strict";var pe=a(69288),r=a(38197),t=a.n(r),e=a(48446),X=a(30781),J=a.n(X),ce=a(4350),U=a.n(ce),c=a(42506),S=a(99452),h=a(15577),y=a(96486),l=a.n(y),ee=a(67294),z=20971520;const ae=function(Z){function Pe(oe,Te){var F=this,K={currentFile:"",pluploadID:"",newPluploadID:"",maxTotalSize:md.global.SysSettings.fileUploadLimitSize,uploadUrl:md.global.FileStoreConfig.uploadHost,uploadFrom:1,dropPasteElement:"",multiSelection:!0,fileDataName:"file",attachmentData:[],kcAttachmentData:[],defaultAttachmentData:[],defaultKcAttachmentData:[],styleType:"1",tokenType:0,folder:"",fileNamePrefix:"",onlyFolder:!1,onlyOne:!1,bucketType:null,showDownload:!0,showArrow:!0,arrowLeft:9,hidePrograss:!1,kcFilesAdded:function(){},filesAdded:function(){},beforeUpload:function(){},fileUploaded:function(){},uploadProgress:function(){},error:function(){},isUploadComplete:function(m){},callback:function(m,B){}},v=Z.extend(K,Te);F.init=function(){var L,m,B="",C=v.showKcAttachmentEntry?"uploadAttaachmentsContainer":"attachmentList";if(v.styleType=="2"&&(B="commentAttachment"),v.showKcAttachmentEntry&&(m="uploadAttaachmentsBtn_"+F.getRandStr(15)+"_"+F.getHashCode(new Date),L=t().template(J())({pluploadID:m,showArrow:v.showArrow,arrowLeft:v.arrowLeft,hidePrograss:v.hidePrograss})),Z(oe).next("div."+C).length==0){var p="UAC"+Math.random().toString().slice(2);v.attachmentsConId=p;var g=`
        <div class="attachmentList `+B+`">
        `+(v.styleType=="2"?"<div class='commentArrowTop'></div>":"")+`
        <div class="uploadDocList">
        <div class="Clear clearFloat"></div>
        </div>
        <div class="uploadPicList">
        <div class="Clear clearFloat"></div>
        </div>
        <div class="kcFileList">
        <div class="Clear clearFloat"></div>
        </div>
        </div>
        `,u='<hr class="updaterAttachmentSplitter ThemeBorderColor5 Hidden" /><div class="kcAttachmentList mLeft10"></div>',T=v.showKcAttachmentEntry?'<div class="uploadAttaachmentsContainer '+(v.controlBtn?"Hidden":"")+'" id="'+p+'">'+L+g+U()+u+"</div>":g;Z(oe).after(T)}if(v.showKcAttachmentEntry&&(F.bindCallKcDailog(),F.bindKcAttachmentsEvent(),Z(v.controlBtn).on("click.controlBtn",function(){var k=Z("#"+p);k.is(":hidden")?k.show(0,function(){v.pluploadObj&&v.pluploadObj.refresh()}):(k.hide(),F.clear(),v.callback&&v.callback.call(this,{attachmentData:v.attachmentData,kcAttachmentData:v.kcAttachmentData},F.getAttachmentTotalSize())),v.toggleFn&&v.toggleFn()}),v.initedCallback&&v.initedCallback()),F.bindPlupload(v.showKcAttachmentEntry?"#"+m:v.pluploadID),v.siblingPluploadID&&F.bindPlupload(v.siblingPluploadID),v.attachmentData.length>0&&F.initAttactments(v.attachmentData),v.defaultAttachmentData.length>0&&(v.attachmentData=v.defaultAttachmentData,F.initAttactments(v.attachmentData)),v.defaultKcAttachmentData.length>0){var d=Z(oe).next(".uploadAttaachmentsContainer").find(".kcAttachmentList"),O=F.renderKcAttachments(v.defaultKcAttachmentData);d.append(O),v.callback&&v.callback.call(this,{attachmentData:v.attachmentData,kcAttachmentData:v.kcAttachmentData},F.getAttachmentTotalSize()),v.initAttactmentsComplete&&v.initAttactmentsComplete()}},F.withKcInit=function(){console.log("withKcInit")},F.findAttachmentList=function(){var L=Z(oe);return v.showKcAttachmentEntry?L.next(".uploadAttaachmentsContainer").find("div.attachmentList"):L.next("div.attachmentList")},F.findContainer=function(){var L=Z(oe);return v.showKcAttachmentEntry?L.next(".uploadAttaachmentsContainer"):L.next("div.attachmentList")},F.bindCallKcDailog=function(){F.findContainer().find("#kcAttachment").on("click",function(){var L=F.findAttachmentList(),m=Z(oe).next(".uploadAttaachmentsContainer").find(".kcAttachmentList");(0,c.default)({isFolderNode:2}).then(function(B){if((!B||!B.node||!B.node.length)&&alert(_l("\u672A\u9009\u62E9\u6587\u4EF6"),3),v.kcAttachmentData.length+B.node.length>10)return alert(_l("\u9644\u4EF6\u6570\u91CF\u8D85\u8FC7\u9650\u5236\uFF0C\u4E00\u6B21\u4E0A\u4F20\u4E0D\u5F97\u8D85\u8FC710\u4E2A\u9644\u4EF6"),3),!1;for(var C=[],p=!1,g=0;g<B.node.length;g++)m.find("[data-node-id="+B.node[g].id+"]").length?p=!0:C.push(B.node[g]);if(p&&alert(_l("\u5DF2\u5F15\u7528\u8BE5\u6587\u4EF6"),3),C.length)B.node=C;else return;var u=F.renderKcAttachments(B.node);m.append(u),v.kcFilesAdded&&v.kcFilesAdded(),v.attachmentData.length&&Z(oe).next().find(".updaterAttachmentSplitter").show(),v.callback&&v.callback.call(this,v.showKcAttachmentEntry?{attachmentData:v.attachmentData,kcAttachmentData:v.kcAttachmentData}:v.attachmentData,F.getAttachmentTotalSize())})})},F.bindKcAttachmentsEvent=function(){Z(oe).next(".uploadAttaachmentsContainer").find(".kcAttachmentList").on("click",".docDelete",function(){Z(this).closest(".kcDocItem").fadeOut(300,function(){var L=Z(this).data("nodeId"),m=v.kcAttachmentData;l().remove(m,function(B){return B.refId===L}),v.kcAttachmentData=m,v.callback&&v.callback.call(this,v.showKcAttachmentEntry?{attachmentData:v.attachmentData,kcAttachmentData:v.kcAttachmentData}:v.attachmentData,F.getAttachmentTotalSize()),Z(this).remove(),m.length||Z(oe).next().find(".updaterAttachmentSplitter").hide()})})},F.renderKcAttachments=function(L){var m="";return L.forEach(function(B){v.kcAttachmentData.push({refId:B.id,originalFileName:B.name,fileExt:B.ext?"."+B.ext:"",fileSize:B.size,allowDown:B.isDownloadable,viewUrl:File.isPicture("."+B.ext)?B.viewUrl:null,type:B.type===1?1:void 0}),m+="<div class='docItem kcDocItem' data-name='"+(0,h.u1)(B.name)+"' data-node-id='"+B.id+"' id='docItem_"+B.id+"'>",m+="<div class='progress'>",File.isPicture("."+B.ext)?m+="<div class='Left nodeIconContainer nodeImg'><img src='"+B.previewUrl+"' alt='"+(0,h.u1)(B.ext)+"' /></div>":m+="<div class='Left nodeIconContainer nodeDoc'><span class='nodeIcon "+(0,h.kQ)("."+B.ext)+"'></span></div>",m+="<div class='Left docMessage'>",m+="<div class='TxtLeft'>",m+="<span class='overflow_ellipsis titleLimitWidth TxtTop Left' title='"+(0,h.u1)(B.name+(B.ext?"."+B.ext:""))+"'>"+(0,h.u1)(B.name+(B.ext?"."+B.ext:""))+"</span><span class='Right ThemeColor4 Font16 mLeft10 Hand docDelete Bold' title='"+_l("\u5220\u9664")+"'>\xD7</span><div class='Clear'></div>",m+="</div>",m+="<div class='TxtLeft shareUrl ThemeColor3 overflow_ellipsis'>",m+="<a href='"+B.shareUrl+"' target='_blank'>"+B.shareUrl+"</a>",m+="<div class='Clear'></div>",m+="</div>",m+="</div>",m+="<div class='Clear'></div>",m+="</div>",m+="</div>"}),m},F.clear=function(){v.attachmentData=[],F.findAttachmentList().hide(),Z(oe).next().find(".currentUploadSize").html("0M"),Z(oe).next().find(".uploadDocList .docItem").remove(),Z(oe).next().find(".uploadPicList .picItem").remove(),v.showKcAttachmentEntry&&(v.kcAttachmentData=[],Z(oe).next().find(".updaterAttachmentSplitter").hide(),Z(oe).next(".uploadAttaachmentsContainer").find(".kcAttachmentList").children().remove()),v.currentFile&&(v.currentFile.stop(),v.currentFile.splice(0,v.currentFile.files.length)),v.isUploadComplete&&v.isUploadComplete.call(this,F.isUploadComplete())},F.bindPlupload=function(L){var m=Z(L).plupload({url:v.uploadUrl,drop_element:v.dropPasteElement,paste_element:v.dropPasteElement,multi_selection:v.multiSelection,file_data_name:v.fileDataName,filters:v.filterExtensions?[{title:v.filterTitle,extensions:v.filterExtensions}]:void 0,max_file_size:v.maxTotalSize+"m",method:{StateChanged:function(C){return!1},FilesAdded:function(C,p){var g=!1,u=0,T=0,d;for(d=0;d<p.length;d++)File.isValid("."+File.GetExt(p[d].name))&&u++,T+=p[d].size;u!==p.length&&(alert(_l("\u542B\u6709\u4E0D\u652F\u6301\u683C\u5F0F\u7684\u6587\u4EF6"),3),g=!0);var O=v.attachmentData.length+p.length,k=Z(oe).next().find(".kcFileList .kcDocItem").length;if(v.currentFile){var x=v.currentFile.files.slice(0,v.currentFile.files.length-p.length).filter(function(I){return I.status==1||I.status==2});x&&(O=O+x.length)}O+k>10&&(alert(_l("\u9644\u4EF6\u6570\u91CF\u8D85\u8FC7\u9650\u5236\uFF0C\u4E00\u6B21\u4E0A\u4F20\u4E0D\u5F97\u8D85\u8FC710\u4E2A\u9644\u4EF6"),3),g=!0);var N=F.getAttachmentTotalSize(),E=parseFloat(N)+parseFloat(T/1024/1024);E>v.maxTotalSize&&(alert(_l("\u9644\u4EF6\u603B\u5927\u5C0F\u8D85\u8FC7 %0\uFF0C\u8BF7\u60A8\u5206\u6279\u6B21\u4E0A\u4F20",(0,h.sS)(v.maxTotalSize*1024*1024)),3),g=!0),!g&&v.filesAdded&&v.filesAdded(C,p)===!1&&(g=!0);var D=Z("#"+v.attachmentsConId);return D.length&&D.is(":hidden")&&(D.show(0,function(){v.pluploadObj&&v.pluploadObj.refresh()}),v.toggleFn&&v.toggleFn()),g?(C.stop(),C.splice(C.files.length-p.length,C.files.length),!1):(F.checkAccountUploadLimit(p.reduce(function(I,R){return I+R.size||0},0)).then(function(I){if(I){v.newPluploadID&&(v.dropPasteElement="",F.bindPlupload(v.newPluploadID)),v.onlyOne&&(v.attachmentData=[]),F.findAttachmentList().is(":visible")||F.findAttachmentList().show();var R=[];if(v.styleType!="0"){var w;for(w=0;w<p.length;w++){var b=p[w];File.isPicture("."+File.GetExt(b.name))?v.onlyOne&&F.findAttachmentList().find(".uploadPicList .picItem").length>0?F.findAttachmentList().find(".uploadPicList .picItem").replaceWith(F.createPicProgressBar(b)):F.findAttachmentList().find(".uploadPicList .clearFloat").before(F.createPicProgressBar(b)):F.findAttachmentList().find(".uploadDocList .clearFloat").before(F.createDocProgressBar(b));var Y="."+File.GetExt(b.name),W=File.isPicture(Y);R.push({bucket:v.bucketType?v.bucketType:W?4:3,ext:Y}),F.cancelUploadEvent(b.id)}}else for(w=0;w<p.length;w++){var b=p[w],M="."+File.GetExt(p[w].name),f=File.isPicture(M);R.push({bucket:v.bucketType?v.bucketType:f?4:3,ext:M})}(0,h.LP)(R,v.tokenType).then(function(ne){p.forEach(function(ie,V){ie.token=ne[V].uptoken,ie.key=ne[V].key,ie.serverName=ne[V].serverName,ie.fileName=ne[V].fileName,ie.url=ne[V].url}),C.start()}),v.currentFile=C,v.isUploadComplete&&v.isUploadComplete.call(this,!1)}else C.stop(),C.splice(0,p.length),pe.Z.confirm({width:450,noFooter:!0,children:ee.createElement("div",{id:"uploadStorageOverDialog"},ee.createElement("div",{className:"mTop20 mLeft30"},ee.createElement("div",{className:"uploadStorageOverLogo Left"}),ee.createElement("div",{className:"uploadStorageOverTxt Left"},_l("\u60A8\u5DF2\u7ECF\u6CA1\u6709\u8DB3\u591F\u7684\u6D41\u91CF\u6765\u4E0A\u4F20\u8BE5\u9644\u4EF6\uFF01")),ee.createElement("div",{className:"Clear"})),ee.createElement("div",{className:"mTop20 mBottom20 TxtCenter"},ee.createElement("a",{href:"/personal?type=enterprise",className:"uploadStorageOverBtn btnBootstrap btnBootstrap-primary btnBootstrap-small"},_l("\u5347\u7EA7\u81F3\u4ED8\u8D39\u7248"))))})}),!1)},BeforeUpload:function(C,p){var g="."+File.GetExt(p.name);C.settings.multipart_params={token:p.token},C.settings.multipart_params.key=p.key,C.settings.multipart_params["x:serverName"]=p.serverName,C.settings.multipart_params["x:filePath"]=p.key.replace(p.fileName,""),C.settings.multipart_params["x:fileName"]=p.fileName.replace(/\.[^\.]*$/,""),C.settings.multipart_params["x:originalFileName"]=encodeURIComponent(p.name.indexOf(".")>-1?p.name.split(".").slice(0,-1).join("."):p.name),C.settings.multipart_params["x:fileExt"]=g;var u=null;return File.isPicture(g)?u=Z("#picItem_"+p.id):u=Z("#docItem_"+p.id),Z("#complete_"+p.id).show(),u.find(".progressBefore").hide(),v.beforeUpload(C,p)},FileUploaded:function(C,p,g){if(g.response=="1")F.uploadFailed(p);else{var u=F.formatResponseData(p,decodeURIComponent(g.response));F.uploadSuccess(u)}v.fileUploaded(C,p,g)},UploadProgress:function(C,p){if(v.styleType!="0"){var g=parseInt(p.loaded/(p.size||0)*100,10);Z("#complete_"+p.id).text(g+"%"),Z("#file_"+p.id).find(".progressbar").css("width",g+"%")}v.uploadProgress(C,p)},Error:function(C,p){p.code===window.plupload.FILE_SIZE_ERROR?alert(_l("\u5355\u4E2A\u6587\u4EF6\u5927\u5C0F\u8D85\u8FC7 %0\uFF0C\u65E0\u6CD5\u652F\u6301\u4E0A\u4F20",(0,h.sS)(v.maxTotalSize*1024*1024)),2):alert(_l("\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5\u3002"),2),p.file&&F.uploadFailed(p.file),v.error(C,p)}}});v.pluploadObj||(v.pluploadObj=m.data("plupload"))},F.checkAccountUploadLimit=function(L){return e.Z.getUsage().then(function(m){return m.used+L<m.total})},F.cancelUploadEvent=function(L){Z("#cancelUpload_"+L).on("click",function(){var m=Z(this).attr("fileID"),B=Z(this).attr("type"),C="";B==="doc"?C="#docItem_"+m:B==="pic"&&(C="#picItem_"+m),F.removeFile(C,m)})},F.initAttactments=function(L){if(L&&L.length>0)for(var m=0;m<L.length;m++){var B=L[m],C={};C.id=B.fileID,C.name=B.originalFileName+B.fileExt,File.isPicture(B.fileExt)?F.findAttachmentList().find(".uploadPicList .clearFloat").before(F.createPicProgressBar(C)):F.findAttachmentList().find(".uploadDocList .clearFloat").before(F.createDocProgressBar(C)),F.findAttachmentList().addClass("show").show(),F.uploadSuccess(B)}v.initAttactmentsComplete&&v.initAttactmentsComplete()},F.uploadSuccess=function(L){if(v.styleType!="0"){var m=L.fileID,B=L.originalFileName,C=L.fileExt,p=L.fileSize;if(File.isPicture(L.fileExt))if(L.isDelete)Z("#picItem_"+m).removeClass("ThemeBorderColor4").css({border:"1px solid #eee"}).html("<div class='TxtCenter Gray_c' style='line-height:90px;'>"+_l("\u539F\u56FE\u7247\u5DF2\u5220\u9664")+"</div>");else{var g="";L.fileSize>z?g="/staticfiles/images/noimage.png":g=L.url+"&imageView2/1/w/119/h/83";var u=`
            <div id="pic_`+m+`" class="picContainer">
            <div>
            <img class="uploadThumbPic" alt="`+B+C+'" src="'+g+`" />
            <img src='' class='nullImage' />
            </div>
            <a class="ThemeColor4 picDelete" fileID="`+m+'" title="'+_l("\u5220\u9664")+`" href="javascript:;">\xD7</a>
            </div>
            `;Z("#picItem_"+m).html(u),Z("#picItem_"+m+" .picDelete").on("click",function(){m=Z(this).attr("fileID"),F.removeFile("#picItem_"+m,m)})}else if(L.isDelete)Z("#docUploadStatus_"+m).html(F.formatFileSize(p)+"<span class='Gray_c mLeft10'>"+_l("\u6587\u4EF6\u5DF2\u5220\u9664")+"</span>");else{Z("#docItem_"+m).find(".uploadDocTag").addClass("uploadSuc");var T=`
            <div class='InlineBlock'>
            <span class='icon-edit ThemeColor4 Font16 Hand docEdit' title='`+_l("\u7F16\u8F91")+"' fileID='"+m+`'></span>
            `+(v.showDownload?L.allowDown?"<span class='icon-kc-download ThemeColor4 Font16 mLeft10 Hand docDownload' title='"+_l("\u5141\u8BB8\u4E0B\u8F7D")+`'
                fileID='`+m+"'></span>":"<span class='icon-kc-disable-download Gray_c Font16 mLeft10 Hand docDownload' title='"+_l("\u53EA\u5141\u8BB8\u5728\u7EBF\u6D4F\u89C8")+`'
                fileID='`+m+`'></span>
                `:"")+`
            <span  class='ThemeColor4 Font16 mLeft10 Hand docDelete Bold' title='`+_l("\u5220\u9664")+"' fileID='"+m+`'>\xD7</span>
            </div>
            `;Z("#uploadCompleteOp_"+m).html(T);var d=`
            <span class='Hidden eidtFileNameContainer' id='newFileName_`+m+`'>
            <input value='originalFileName' id='txtNewFileName_`+m+`' class='editFileNameBox Left' />
            <span class='Left' id='fileExt_`+m+"'>"+C+`</span>
            <a id='newFileNameCancel_`+m+"' fileID='"+m+`' class='Gray_c mLeft5 Right' href='javascript:;'>
            `+_l("\u53D6\u6D88")+`</a>
            <a id='newFileNameSave_`+m+"' fileID='"+m+`' class='ThemeColor4 mLeft5 Right' href='javascript:;'>
            `+_l("\u4FDD\u5B58")+`</a>
            <div class='Clear'></div>
            </span>
            `;Z("#uploadCompleteOp_"+m).before(d),Z("#docUploadStatus_"+m).html(F.formatFileSize(p)),Z("#docItem_"+m+" .docEdit").on("click",function(k){m=Z(this).attr("fileID"),Z("#newFileName_"+m).show(),Z("#oldFileName_"+m).hide(),Z("#uploadCompleteOp_"+m).hide(),Z("#newFileNameCancel_"+m).attr("oldName",Z("#txtNewFileName_"+m).val().trim());var x=l().findIndex(v.attachmentData,function(N){return N.fileID==m});v.attachmentData[x].inEdit=!0,k.stopPropagation()}),Z("#newFileNameSave_"+m).on("click",function(){m=Z(this).attr("fileID");var k=Z("#txtNewFileName_"+m).val().trim()+Z("#fileExt_"+m).html(),x=l().findIndex(v.attachmentData,function(E){return E.fileID==m}),N=Z("#txtNewFileName_"+m).val().trim();Z("#newFileName_"+m).hide(),Z("#oldFileName_"+m).show().html((0,h.u1)(k)).attr("title",(0,h.u1)(k)),Z("#uploadCompleteOp_"+m).show(),Z("#newFileNameCancel_"+m).removeClass("Visibility"),v.attachmentData[x].inEdit=!1,v.attachmentData[x].originalFileName=N}),Z("#newFileNameCancel_"+m).on("click",function(){m=Z(this).attr("fileID");var k=Z(this).attr("oldName"),x=k+Z("#fileExt_"+m).html();Z("#newFileName_"+m).hide(),Z("#txtNewFileName_"+m).val(k),Z("#oldFileName_"+m).show().html(x).attr("title",x),Z("#uploadCompleteOp_"+m).show();var N=l().findIndex(v.attachmentData,function(E){return E.fileID==m});v.attachmentData[N].inEdit=!1}),Z("#docItem_"+m+" .docDownload").on("click",function(k){m=Z(this).attr("fileID");var x=Z(this),N=Z(this).clone(!0),E=!0;x.hasClass("icon-kc-download")?(N.removeClass("icon-kc-download").removeClass("ThemeColor4").addClass("Gray_c").addClass("icon-kc-disable-download").attr("title",_l("\u53EA\u5141\u8BB8\u5728\u7EBF\u6D4F\u89C8")),E=!1):(N.removeClass("icon-kc-disable-download").removeClass("Gray_c").addClass("ThemeColor4").addClass("icon-kc-download").attr("title",_l("\u5141\u8BB8\u4E0B\u8F7D")),E=!0),x.after(N),x.remove();var D=l().findIndex(v.attachmentData,function(I){return I.fileID==m});v.attachmentData[D].allowDown=E,v.callback&&v.callback.call(this,v.showKcAttachmentEntry?{attachmentData:v.attachmentData,kcAttachmentData:v.kcAttachmentData}:v.attachmentData),k.stopPropagation()}),Z("#docItem_"+m+" .docDelete").on("click",function(){m=Z(this).attr("fileID"),F.removeFile("#docItem_"+m,m)})}}var O=F.findAttachmentList();O.find(".uploadDocList .docItem, .uploadPicList .picItem").length>0&&O.find(".kcFileList .kcDocItem").length>0?O.find(".updaterAttachmentSplitter").show():O.find(".updaterAttachmentSplitter").hide(),v.callback&&v.callback.call(this,v.showKcAttachmentEntry?{attachmentData:v.attachmentData,kcAttachmentData:v.kcAttachmentData}:v.attachmentData,F.getAttachmentTotalSize()),v.isUploadComplete&&v.isUploadComplete.call(this,F.isUploadComplete())},F.uploadFailed=function(L){if(File.isPicture("."+File.GetExt(L.name))){var m=`
        <div id="pic_`+L.id+`" class="TxtCenter">
        <div class="Red" style="line-height:90px;">`+_l("\u56FE\u7247\u4E0A\u4F20\u5931\u8D25")+`</div>
        <a class="ThemeColor4 picDelete" fileID="`+L.id+'" title="'+_l("\u5220\u9664")+`" href="javascript:;">\xD7</a>
        </div>
        `;Z("#picItem_"+L.id).html(m),Z("#picItem_"+L.id+" .picDelete").on("click",function(){var C=Z(this).attr("fileID");F.removeFile("#picItem_"+C,C)})}else{Z("#docItem_"+L.id).find(".uploadDocTag").addClass("uploadFail"),Z("#docUploadStatus_"+L.id).html("<span class='Red'>"+_l("\u6587\u6863\u4E0A\u4F20\u5931\u8D25")+"</span>"),Z("#uploadCompleteOp_"+L.id).removeClass("Right").addClass("Left");var B=`
        <div class='InlineBlock'>
        <span class='ThemeColor4 Font16 mLeft10 Hand docDelete Bold' title='`+_l("\u5220\u9664")+"' fileID='"+L.id+`'>\xD7</span>
        </div>
        `;Z("#uploadCompleteOp_"+L.id).html(B),Z("#docItem_"+L.id+" .docDelete").on("click",function(){var C=Z(this).attr("fileID");F.removeFile("#docItem_"+C,C)})}},F.removeFile=function(L,m){if(l().remove(v.attachmentData,function(g){return g.fileID===m}),v.currentFile){var B={id:m},C=v.currentFile.getFile(m);C&&C.status==2&&v.currentFile.stop(),v.currentFile.removeFile(B)}var p=F.findContainer();Z(L).fadeOut("1000",function(){Z(L).remove(),v.attachmentData.length==0&&p.find(".uploadDocList .docItem").length==0&&p.find(".uploadPicList .picItem").length==0&&p.find(".kcFileList .kcDocItem").length==0&&F.clear(),p.find(".uploadDocList .docItem, .uploadPicList .picItem").length>0&&p.find(".kcAttachmentList .kcDocItem").length>0?p.find(".updaterAttachmentSplitter").show():p.find(".updaterAttachmentSplitter").hide()}),v.callback&&v.callback.call(this,v.showKcAttachmentEntry?{attachmentData:v.attachmentData,kcAttachmentData:v.kcAttachmentData}:v.attachmentData,F.getAttachmentTotalSize()),v.isUploadComplete&&v.isUploadComplete.call(this,F.isUploadComplete())},F.createDocProgressBar=function(L){var m=`
      <div class='docItem'  id='docItem_`+L.id+`'>
      <div class='progress'>
      <div class='Left'>
      <span class='fileIcon `+(0,h.u1)((0,h.kQ)(L.name))+`'></span>
      <span class='uploadDocTag'></span></div>
      <div class='Left docMessage'>
      <div class='TxtLeft'>
      <span class='overflow_ellipsis titleLimitWidth TxtTop Left'
      id='oldFileName_`+L.id+`'
      title='`+(0,h.u1)(L.name)+`'>
      `+(0,h.u1)(L.name)+`
      </span><span id='uploadCompleteOp_`+L.id+`' class='Right'></span>
      <div class='Clear'></div>
      </div>
      <div class='TxtLeft' id='docUploadStatus_`+L.id+`'>
      <div class='progressPanel mTop7 Left' id='file_`+L.id+`'>
      <div class='progressbar'></div>
      </div>
      <div class='speedProgress mLeft5'>
      <span class='Hidden' id='complete_`+L.id+`'>0%</span>
      <span class='progressBefore'>`+_l("\u6392\u961F\u4E2D")+`</span>
      <a href='javascript:;' class='mLeft10 ThemeColor4'
      id='cancelUpload_`+L.id+"' type='doc' fileID='"+L.id+`'>
      `+_l("\u53D6\u6D88")+`</a></div>
      <div class='Clear'></div>
      </div>
      </div>
      <div class='Clear'></div>
      </div>
      </div>
      `;return m},F.createPicProgressBar=function(L){var m=`
      <div id='picItem_`+L.id+`' class='picItem ThemeBorderColor4'>
      <div class='progressImg'>
      <div>
      <div class='progressPanel mTop7 mBottom10 Left' id='file_`+L.id+`'>
      <div class='progressbar'></div>
      </div>
      <div class='imgQueuing Right'><span class='Hidden' id='complete_`+L.id+`'>0%</span>
      <span class='progressBefore'>`+_l("\u6392\u961F\u4E2D")+`</span></div>
      <div class='Clear'></div>
      </div>
      <div>
      <a class='imgCancel' href='javascript:;' id='cancelUpload_`+L.id+"' type='pic' fileID='"+L.id+`' class='ThemeColor4'>
      `+_l("\u53D6\u6D88")+`</a>
      </div>
      </div>
      `;return m},F.formatFileSize=function(L){var m=Math.round(L/1024*100)/100,B="KB";return m>1024&&(m=Math.round(m/1024*100)/100,B="MB"),m+B},F.formatNumber=function(L,m){return Math.round(L*Math.pow(10,m))/Math.pow(10,m)},F.getAttachmentTotalSize=function(){for(var L=0,m=0;m<v.attachmentData.length;m++){var B=v.attachmentData[m];L+=parseInt(B.fileSize,10)}if(L=F.formatNumber(L/1024/1024,2),v.showKcAttachmentEntry&&(L||L==0)){var C=F.findContainer();C.find(".currentUploadSize").html(L+"M");var p=F.formatNumber(L/1024/1024/1e3*100,2);C.find("#Attachment_updater .currentPrograss").width((L>0&&p<10?10:p)+"%")}return L},F.isUploadComplete=function(){return v.currentFile?!v.currentFile.files.some(function(L){return L.status==1||L.status==2}):!0},F.formatResponseData=function(L,m){var B={};B.fileID=L.id,B.fileSize=L.size||0;var C=m.split("|");if(C.length==5){var p=C[0],g=C[1],u=C[2],T=C[3],d=C[4];B.serverName=p,B.filePath=g,B.fileName=u,B.fileExt=T,B.originalFileName=d,File.isPicture(T)||(B.allowDown=!0,B.docVersionID="",B.oldOriginalFileName=d)}else{var O=JSON.parse(m);B.serverName=O.serverName,B.filePath=O.filePath,B.fileName=O.fileName,B.fileExt=O.fileExt,B.originalFileName=O.originalFileName,B.key=O.key,File.isPicture(B.fileExt)||(B.allowDown=!0,B.docVersionID="",B.oldOriginalFileName=B.originalFileName)}return B.url=L.url,v.attachmentData.push(B),B},F.getHashCode=function(L){L=L+"";for(var m=0,B=0,C=L.length,p=0;p<C;p++)m=31*m+L.charCodeAt(B++),(m>2147483647||m<2147483648)&&(m=m&4294967295);return m},F.getRandStr=function(L){for(var m=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],B=[],C=0;C<L;C++)B.push(m[Math.floor(Math.random()*m.length)]);return B.join("")},F.enter=function(){F.init()},F.enter();var re={clearAttachment:function(){F.clear()},unmount:function(){F.findContainer().remove(),v.pluploadObj.destroy(),Z(v.controlBtn).off("click.controlBtn")},getPluploadObj:function(){return v.pluploadObj}};return re}Z.fn.uploadAttachment=function(oe){return new Pe(this,oe)}}(jQuery)},60967:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>Pe});var pe=a(85105),r=a.n(pe),t=a(99663),e=a(22600),X=a(49135),J=a(93196),ce=a(45697),U=a.n(ce),c=a(67294),S=a(93967),h=a.n(S),y=a(33867),l=a(10361),ee,z,ae=["small","default"],Z=(z=ee=function(oe){(0,J.default)(Te,oe);function Te(F){(0,t.default)(this,Te);var K=(0,X.default)(this,(Te.__proto__||r()(Te)).call(this,F)),v=F.checked||F.defaultChecked;return K.state={checked:!!v},K}return(0,e.default)(Te,[{key:"componentWillReceiveProps",value:function(K){K.checked!==void 0&&this.setState({checked:K.checked})}},{key:"handleClick",value:function(K){if(this.props.disabled)return!1;if(this.props.checked!==void 0)this.props.onClick(this.props.checked,this.props.value,K);else{var v=!this.state.checked;this.setState({checked:v}),this.props.onClick(v,this.props.value,K)}}},{key:"render",value:function(){var K=this,v=this.props,re=v.text,L=v.children,m=v.disabled,B=v.className,C=v.size,p=v.indeterminate,g=v.clearselected,u=v.title,T=v.style,d=v.styleType,O=d===void 0?"":d,k=null;return!p&&this.state.checked&&(k=c.createElement(y.Z,{icon:"ok"})),g&&(k=c.createElement(y.Z,{icon:"minus"})),c.createElement("label",{style:T,checked:this.state.checked,className:h()(m?"Checkbox--disabled":"",O==="light"?"Checkbox--light":"","ming Checkbox overflow_ellipsis",{checked:!p&&this.state.checked,indeterminate:p,clearselected:g},B),onClick:function(N){N.nativeEvent.stopImmediatePropagation(),K.handleClick(N)},title:u},c.createElement("span",{className:h()(ae.indexOf(C)>=0?"Checkbox-box--"+C:"","Checkbox-box")},k),c.createElement("span",{className:"Font13"},re),L)}}]),Te}(c.Component),ee.propTypes={text:U().any,defaultChecked:U().bool,checked:U().bool,onClick:U().func.isRequired,value:U().any,size:U().oneOf(["small","default"]),children:U().any,disabled:U().bool,name:U().string,isGroup:U().bool,indeterminate:U().bool,clearselected:U().bool,className:U().string,styleType:U().oneOf(["light","default"])},ee.defaultProps={onClick:function(){},indeterminate:!1},z);const Pe=Z},31546:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>m});var pe=a(88239),r=a(85105),t=a.n(r),e=a(99663),X=a(22600),J=a(49135),ce=a(93196),U=a(45697),c=a.n(U),S=a(67294),h=a(93967),y=a.n(h),l=a(62521),ee=a(16469),z=a(33867),ae=a(29314),Z=a(59375),Pe=a(96486),oe=a.n(Pe),Te=a(54208),F,K,v,re={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},topRight:{points:["br","tr"]},bottomRight:{points:["tr","br"]},bottomLeft:{points:["tl","bl"]}},L=(K=F=function(B){(0,ce.default)(C,B);function C(p){(0,e.default)(this,C);var g=(0,J.default)(this,(C.__proto__||t()(C)).call(this,p));v.call(g);var u=void 0;return p.defaultValue!==void 0&&(u=p.defaultValue),p.value!==void 0&&(u=p.value),g.state={value:u,showMenu:!1,keywords:""},g}return(0,X.default)(C,[{key:"componentWillReceiveProps",value:function(g){g.value!==this.props.value&&this.setState({value:g.value}),oe().isBoolean(g.popupVisible)&&this.setState({showMenu:g.popupVisible})}},{key:"getTextFromDataById",value:function(g,u){var T=this.props.placeholder,d=function O(k){k.forEach(function(x){if(x.value!=null&&x.value===u)return T=x.text,!1;x.children?O(x.children):oe().isArray(x)&&O(x)})};return d(g),T}},{key:"handleClick",value:function(){var g=this;if(!this.props.disabled){var u=!this.state.showMenu;this.setState({showMenu:u,keywords:""},function(){g.props.onVisibleChange(u),g.state.showMenu&&g.search&&g.search.focus()})}}},{key:"handleChange",value:function(g,u){u.disabled||(this.props.value==null&&!this.props.noChangeValue&&this.setState({value:u.value}),this.props.selectClose&&(this.setState({showMenu:!1}),this.props.onVisibleChange(!1)),this.props.onChange&&this.props.onChange(u.value))}},{key:"componentDidUpdate",value:function(){this.trigger&&this.trigger.forcePopupAlign()}},{key:"filterFun",value:function(g){var u=this.state.keywords,T=typeof g.text=="string"?g.text:g.searchText||"";return String(T).toLowerCase().indexOf(u.toLowerCase())>-1}},{key:"checkIsNull",value:function(g){return!!(!g.length||g.length&&oe().isArray(g[0])&&!g.filter(function(u){return u.length}).length)}},{key:"renderListItem",value:function(g){var u=this,T=this.props,d=T.showItemTitle,O=T.currentItemClass,k=T.value,x=T.renderItem;return g.map(function(N,E){return oe().isArray(N)?S.createElement(S.Fragment,{key:E},u.renderListItem(N),!!N.length&&S.createElement("div",{className:"Dropdown--hr"})):S.createElement(S.Fragment,{key:E},N.title?S.createElement("li",{className:"ming MenuItem ming Item title"},S.createElement("div",{className:"pLeft16 pRight16 Gray_9e ellipsis"},N.title)):null,N.isTip?S.createElement("li",{className:"ming MenuItem ming Item title"},S.createElement("div",{className:"pLeft16 pRight16"},N.text)):S.createElement(ee.Z,(0,pe.default)({},N,{className:y()(N.className,k===N.value&&O?O:""),"data-value":N.value,icon:N.iconName||N.icon?S.createElement(z.Z,{icon:N.iconName||N.icon,hint:N.iconHint}):null,iconAtEnd:N.iconAtEnd,iconHint:N.iconHint,onClick:function(I){I.stopPropagation(),u.handleChange(I,N)},title:d&&N.text}),x?x(N):S.createElement("div",{className:"itemText"},N.text)))})}},{key:"render",value:function(){var g=this,u=this.props,T=u.isAppendToBody,d=u.className,O=u.menuClass,k=u.disabled,x=u.style,N=u.onVisibleChange;return S.createElement("div",{className:"ming Dropdown pointer "+(d||"")+" "+(k?"disabled":""),style:x},T?S.createElement(ae.Z,{ref:function(D){return g.trigger=D},action:["click"],popup:this.displayMenu(),popupClassName:y()("dropdownTrigger",O),popupVisible:this.state.showMenu,popupAlign:{points:["tl","bl"],offset:[0,1],overflow:{adjustX:!0,adjustY:!0}}},this.displayPointer()):S.createElement("div",null,this.displayPointer(),this.displayMenu()))}}]),C}(S.Component),F.propTypes={placeholder:c().string,onChange:c().func,defaultValue:c().any,value:c().any,disabled:c().bool,menuStyle:c().object,menuClass:c().string,currentItemClass:c().object,name:c().string,maxHeight:c().number,className:c().string,hoverTheme:c().bool,noData:c().node,style:c().object,showItemTitle:c().bool,border:c().bool,noChangeValue:c().bool,data:c().arrayOf(c().oneOfType([c().shape({type:c().oneOf(["hr","default"]),text:c().any,value:c().any,disabled:c().bool,desc:c().string,iconName:c().string,iconAtEnd:c().bool,iconHint:c().string,Children:c().array,renderValue:c().string,searchText:c().string}),c().arrayOf(c().shape({type:c().oneOf(["hr","default"]),text:c().any,value:c().any,disabled:c().bool,desc:c().string,iconName:c().string,iconAtEnd:c().bool,iconHint:c().string,Children:c().array,renderValue:c().string}))])),onVisibleChange:c().func,itemLoading:c().bool,renderTitle:c().func,isAppendToBody:c().bool,selectClose:c().bool,openSearch:c().bool,cancelAble:c().bool,renderError:c().func,disabledClickElement:c().string,renderItem:c().func},F.defaultProps={noData:_l("\u65E0\u6570\u636E"),placeholder:_l("\u8BF7\u9009\u62E9"),renderValue:"{{value}}",isAppendToBody:!1,selectClose:!0,openSearch:!1,onVisibleChange:function(){},disabledClickElement:""},v=function(){var C=this;this.getInputWidth=function(){return C.props.isAppendToBody&&C._input?{width:C._input.getBoundingClientRect().width}:{}},this.displayMenu=function(){var p=C.state,g=p.showMenu,u=p.keywords,T=C.props,d=T.data,O=T.maxHeight,k=T.menuStyle,x=T.menuClass,N=T.noData,E=T.children,D=T.isAppendToBody,I=T.openSearch,R=T.searchNull,w=T.itemLoading,b=[];return(d||[]).forEach(function(Y){oe().isArray(Y)?b.push(Y.filter(function(W){return C.filterFun(W)})):C.filterFun(Y)&&b.push(Y)}),g?S.createElement(l.Z,{className:x,isAppendToBody:D,parentMenuItem:C,style:(0,pe.default)({maxHeight:O||300,overflowY:"auto",overflowX:"hidden"},C.getInputWidth(),k),onClickAway:function(){C.setState({showMenu:!1}),C.props.onVisibleChange(!1)},onClickAwayExceptions:[C._input],fixedHeader:I&&!!d.length&&S.createElement("div",{className:"flexRow",style:{padding:"0 16px 0 14px",height:36,alignItems:"center",borderBottom:"1px solid #e0e0e0",marginBottom:5}},S.createElement("i",{className:"icon-search Gray_75 Font14"}),S.createElement("input",{type:"text",ref:function(W){C.search=W},autoFocus:!0,className:"mLeft5 flex Border0 placeholderColor w100",placeholder:_l("\u641C\u7D22"),onChange:function(W){return C.setState({keywords:W.target.value.trim()})}}))},b&&!C.checkIsNull(b)?C.renderListItem(b):w?S.createElement(Te.Z,null):S.createElement(ee.Z,{disabled:!0},S.createElement("div",null,u?R?R():_l("\u6682\u65E0\u641C\u7D22\u7ED3\u679C"):N)),E):S.createElement("div",null)},this.displayPointer=function(){var p=C.state.value,g=C.props,u=g.dropIcon,T=g.placeholder,d=g.data,O=g.cancelAble,k=g.disabledClickElement,x=oe().find(oe().flatten(d),function(N){return N.value===p});return S.createElement("div",{className:y()("Dropdown--input",{"Dropdown--border":!!C.props.border},{active:C.state.showMenu}),ref:function(E){C._input=E},onClick:function(E){E.stopPropagation(),k?!$(E.target).closest(k).length&&C.handleClick():C.handleClick()}},p!=null?S.createElement("span",{className:y()("value",{ThemeHoverColor3:C.props.hoverTheme,ThemeHoverBorderColor3:C.props.hoverTheme})},C.props.renderError&&!C.props.data.map(function(N){return N.value}).includes(p)?C.props.renderError():C.props.renderTitle?C.props.renderTitle(x):C.props.renderValue.replace(/{{value}}/g,C.getTextFromDataById(C.props.data,C.state.value))):S.createElement("span",{className:"Dropdown--placeholder Gray_bd ellipsis InlineBlock"},T),O&&p!=null?S.createElement(S.Fragment,null,S.createElement(z.Z,{icon:"cancel1",className:"Gray_9e mLeft8 clearIcon",onClick:function(E){E.stopPropagation(),p!=null&&C.setState({value:void 0}),C.props.selectClose&&(C.setState({showMenu:!1}),C.props.onVisibleChange(!1)),C.props.onChange&&C.props.onChange(void 0)}}),S.createElement(z.Z,{icon:u||"arrow-down-border",className:"Gray_9e mLeft8 dropArrow"})):S.createElement(z.Z,{icon:u||"arrow-down-border",className:"mLeft8 Gray_9e"}))}},K);const m=L},3540:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>oe});var pe=a(88239),r=a(42723),t=a(85105),e=a.n(t),X=a(99663),J=a(22600),ce=a(49135),U=a(93196),c=a(45697),S=a.n(c),h=a(67294),y=a(93967),l=a.n(y),ee=a(15577),z,ae,Z=["small","default"],Pe=(ae=z=function(Te){(0,U.default)(F,Te);function F(K){(0,X.default)(this,F);var v=(0,ce.default)(this,(F.__proto__||e()(F)).call(this,K)),re="";return"defaultValue"in K&&(re=K.defaultValue),"value"in K&&(re=K.value),v.state={value:re},v}return(0,J.default)(F,[{key:"componentWillReceiveProps",value:function(v){"value"in v&&this.setState({value:v.value})}},{key:"onChange",value:function(v){var re=v.target.value;this.props.valueFilter&&(re=this.props.valueFilter(re)),this.props.value===void 0&&this.setState({value:re}),this.props.onChange&&this.props.onChange(re),this.props.onChangeText&&this.props.onChangeText(re)}},{key:"render",value:function(){var v=this,re=this.props,L=re.size,m=re.type,B=re.defaultValue,C=re.value,p=re.manualRef,g=(0,r.Z)(re,["size","type","defaultValue","value","manualRef"]);return h.createElement("input",(0,pe.default)({},g,{type:m,ref:p,value:this.state.value,className:l()(Z.indexOf(L)>=0?"Input--"+L:"","ming Input",this.props.className),onChange:function(T){return v.onChange(T)}}))}}]),F}(h.Component),z.propTypes={type:S().string,defaultValue:S().string,value:S().string,placeholder:S().string,className:S().string,onChange:S().func,onChangeText:S().func,size:S().oneOf(Z),name:S().string,manualRef:S().oneOfType([S().object,S().func])},z.defaultProps={type:"text"},ae);Pe.NumberInput=function(Te){var F=Te.value,K=Te.onChange,v=Te.onBlur,re=(0,r.Z)(Te,["value","onChange","onBlur"]);return h.createElement(Pe,(0,pe.default)({},re,{value:F,onBlur:function(m){v(m.target.value==="-"?"":parseFloat(m.target.value))},onChange:function(m){K((0,ee.pu)(m.target.value))}}))};const oe=Pe},54022:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>re});var pe=a(88239),r=a(88106),t=a(42723),e=a(85105),X=a.n(e),J=a(99663),ce=a(22600),U=a(49135),c=a(93196),S=a(45697),h=a.n(S),y=a(67294),l=a(93967),ee=a.n(l),z,ae,Z=(ae=z=function(L){(0,c.default)(m,L);function m(){var B,C,p,g;(0,J.default)(this,m);for(var u=arguments.length,T=Array(u),d=0;d<u;d++)T[d]=arguments[d];return g=(C=(p=(0,U.default)(this,(B=m.__proto__||X()(m)).call.apply(B,[this].concat(T))),p),p.getStrokePathStyle=function(){var O=p.props,k=O.diameter,x=O.isAnimation,N=Math.PI*k;return{strokeDasharray:N+"px",strokeDashoffset:N+"px",transition:x?"stroke-dashoffset 1200ms cubic-bezier(.99,.01,.62,.94)":"0"}},C),(0,U.default)(p,g)}return(0,ce.default)(m,[{key:"componentDidMount",value:function(){this.setStrokeDashoffset()}},{key:"componentDidUpdate",value:function(){this.setStrokeDashoffset()}},{key:"setStrokeDashoffset",value:function(){var C=this;setTimeout(function(){var p=C.props,g=p.diameter,u=p.percent,T=Math.PI*g;C._circlePath&&C._circlePath.style&&(C._circlePath.style.strokeDashoffset=T-u/100*T+"px")},1e3)}},{key:"render",value:function(){var C=this,p=this.props,g=p.className,u=p.diameter,T=p.theme,d=p.percent,O=p.format,k=p.strokeWidth,x=p.foregroundColor,N=p.backgroundColor,E=p.isRound,D=p.isAnimation,I=(0,t.Z)(p,["className","diameter","theme","percent","format","strokeWidth","foregroundColor","backgroundColor","isRound","isAnimation"]),R=x&&N?0:1,w=ee()("ming Progress",(0,r.default)({"Progress--circle":!0,"Progress--circle-zero":d===0},"Progress--"+T,!!R),g),b=parseInt(u*.16,10)+"px",Y={stroke:x},W={stroke:N};return y.createElement("div",(0,pe.default)({},I,{className:w}),y.createElement("div",{style:{width:u,height:u},className:"Progress--circle-inner"},y.createElement("svg",{width:u,height:u},y.createElement("circle",{style:W,r:(u-k)/2,cy:u/2,cx:u/2,fill:"none",className:"Progress--circle-trail",strokeWidth:k}),y.createElement("circle",{ref:function(f){return C._circlePath=f},r:(u-k)/2,cy:u/2,cx:u/2,fill:"none",strokeLinejoin:E?"round":"initial",strokeLinecap:E?"round":"initial",style:(0,pe.default)({},this.getStrokePathStyle(),Y),className:"Progress--circle-path",strokeWidth:k})),y.createElement("span",{style:{fontSize:b},className:"Progress--circle-content"},O?O(d):d+"%")))}}]),m}(y.Component),z.propTypes={className:h().string,diameter:h().number,strokeWidth:h().number,theme:h().oneOf(["success","warning","danger","primary"]),percent:h().number,format:h().func,foregroundColor:h().string,backgroundColor:h().string,isRound:h().bool,isAnimation:h().bool},z.defaultProps={percent:0,theme:"primary",strokeWidth:6,diameter:132,isRound:!0,isAnimation:!0},ae);const Pe=Z;var oe,Te,F=(Te=oe=function(L){(0,c.default)(m,L);function m(){return(0,J.default)(this,m),(0,U.default)(this,(m.__proto__||X()(m)).apply(this,arguments))}return(0,ce.default)(m,[{key:"render",value:function(){var C=this.props,p=C.className,g=C.theme,u=C.percent,T=C.active,d=(0,t.Z)(C,["className","theme","percent","active"]),O=ee()("ming Progress",(0,r.default)({"Progress--line":!0,"Progress--active":T},"Progress--"+g,g),p);return y.createElement("div",(0,pe.default)({},d,{className:O}),y.createElement("div",{className:"Progress--line-outer"},y.createElement("div",{className:"Progress--line-inner"},y.createElement("div",{style:{width:(u>=100?100:u)+"%"},className:"Progress--line-bg"}))))}}]),m}(y.Component),oe.propTypes={className:h().string,theme:h().oneOf(["success","warning","danger","primary"]),percent:h().number,active:h().bool},oe.defaultProps={percent:0,active:!1,theme:"primary"},Te),v={Circle:Pe,Line:F};const re=v},95679:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>oe,t:()=>Z});var pe=a(85105),r=a.n(pe),t=a(99663),e=a(22600),X=a(49135),J=a(93196),ce=a(45697),U=a.n(ce),c=a(67294),S=a(93967),h=a.n(S),y=a(22464),l=a(96486),ee=a.n(l),z,ae,Z=["small","default","middle"],Pe=(ae=z=function(Te){(0,J.default)(F,Te);function F(){var K,v,re,L;(0,t.default)(this,F);for(var m=arguments.length,B=Array(m),C=0;C<m;C++)B[C]=arguments[C];return L=(v=(re=(0,X.default)(this,(K=F.__proto__||r()(F)).call.apply(K,[this].concat(B))),re),re.state={checked:re.props.checked||re.props.defaultChecked},re.handleClick=function(){var p=re.props,g=p.onClick,u=p.value,T=p.disabled;T||(0,l.isFunction)(g)&&g(u)},v),(0,X.default)(re,L)}return(0,e.default)(F,[{key:"componentWillReceiveProps",value:function(v){this.setState({checked:v.checked})}},{key:"render",value:function(){var v=this.state.checked,re=this.props,L=re.disabled,m=re.className,B=re.size,C=re.icon,p=re.text,g=re.children,u=re.title,T=re.disableTitle;return c.createElement("label",{checked:v,className:h()("ming Radio",{"Radio--disabled":L,checked:v},m),onClick:this.handleClick,title:!T&&(u||p)},c.createElement("span",{className:h()(Z.includes(B)?"Radio-box--"+B:"","Radio-box")},c.createElement("span",{className:"Radio-box-round"})),c.createElement("span",{className:"Radio-text"},C&&c.createElement("i",{className:h()("icon",C)}),p,g))}}]),F}(c.Component),z.propTypes={text:U().any,value:U().any,checked:U().bool,defaultChecked:U().bool,onClick:U().func,disabled:U().bool,children:U().any,size:U().oneOf(Z),className:U().string,disableTitle:U().bool},ae);const oe=Pe},47426:(Ze,Re,a)=>{"use strict";a.d(Re,{ZP:()=>oe});var pe=a(88239),r=a(88106),t=a(85105),e=a.n(t),X=a(99663),J=a(22600),ce=a(49135),U=a(93196),c=a(45697),S=a.n(c),h=a(67294),y=a(93967),l=a.n(y),ee=a(95679),z,ae,Z=function(F,K){return F==null||F===""?K:(K||[]).map(function(v){return v.checked=v.value===F,v})},Pe=(ae=z=function(Te){(0,U.default)(F,Te);function F(K){(0,X.default)(this,F);var v=(0,ce.default)(this,(F.__proto__||e()(F)).call(this,K)),re=v.props.defaultCheckedValue!==void 0?v.props.defaultCheckedValue:v.props.checkedValue!==void 0?v.props.checkedValue:null;return v.state={data:Z(re,v.props.data)},v}return(0,J.default)(F,[{key:"componentDidMount",value:function(){this.props.needDefaultUpdate&&typeof this.props.checkedValue<"u"&&this.handleClick(this.props.checkedValue)}},{key:"componentWillReceiveProps",value:function(v){this.refreshId(v.checkedValue,v.data)}},{key:"handleClick",value:function(v){var re=this.props.onChange;this.refreshId(v,this.state.data),re&&re(v)}},{key:"refreshId",value:function(v,re){this.setState({data:Z(v,re)})}},{key:"render",value:function(){var v,re=this,L=this.props,m=L.className,B=L.vertical,C=L.style,p=L.radioItemClassName,g=l()("ming RadioGroup",(v={},(0,r.default)(v,m,!!m),(0,r.default)(v,"RadioGroup--vertical",B),v));return h.createElement("div",{style:C,className:g},this.state.data.map(function(u,T){return h.createElement(ee.Z,(0,pe.default)({},re.props,u,{className:p,onClick:function(){return re.handleClick.apply(re,arguments)},key:T,disabled:re.props.disabled||u.disabled}))}))}}]),F}(h.Component),z.propTypes={data:S().arrayOf(S().shape({text:S().any,value:S().oneOfType([S().string,S().number,S().object])})),checked:S().string,defaultCheckedValue:S().string,checkedValue:S().oneOfType([S().string,S().number]),onChange:S().func,size:S().oneOf(ee.t),children:S().node,disabled:S().bool,name:S().string,className:S().string,vertical:S().bool,radioItemClassName:S().string},ae);const oe=Pe},25273:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>Te});var pe=a(85105),r=a.n(pe),t=a(99663),e=a(22600),X=a(49135),J=a(93196),ce=a(45697),U=a.n(ce),c=a(67294),S=a(96486),h=a.n(S),y=a(93967),l=a.n(y),ee=a(96774),z=a.n(ee),ae=a(18585),Z=a.n(ae),Pe,oe,Te=(oe=Pe=function(F){(0,J.default)(K,F);function K(){return(0,t.default)(this,K),(0,X.default)(this,(K.__proto__||r()(K)).apply(this,arguments))}return(0,e.default)(K,[{key:"componentDidMount",value:function(){this.triggerNanoScroller()}},{key:"shouldComponentUpdate",value:function(re){return!z()(re,this.props)}},{key:"componentDidUpdate",value:function(){this.triggerNanoScroller()}},{key:"componentWillUnmount",value:function(){$(this.nanoScroller)&&$(this.nanoScroller).nanoScroller&&$(this.nanoScroller).nanoScroller instanceof Function&&$(this.nanoScroller).nanoScroller({destroy:!0})}},{key:"onWheel",value:function(re){var L=re.currentTarget,m=L.clientHeight,B=L.scrollTop,C=L.scrollHeight,p=re.deltaY<0&&B===0,g=re.deltaY>0&&m+B>=C;(p||g)&&re.preventDefault()}},{key:"triggerNanoScroller",value:function(){var re=this,L=this;$(this.nanoScroller).nanoScroller({scrollendOffset:60}),$(this.nanoScroller).off("update").on("update",function(m,B){var C=document.createEvent("Event");C.initEvent("scroll",!1,!1),window.dispatchEvent(C),L.props.updateEvent&&typeof L.props.updateEvent=="function"&&L.props.updateEvent(m,B)}),$(this.nanoScroller).bind("scrollend",function(m){typeof re.props.onScrollEnd=="function"&&re.props.onScrollEnd(m)})}},{key:"render",value:function(){var re=this;return c.createElement("div",{style:this.props.style,id:this.props.id,ref:function(m){re.nanoScroller=m},className:l()("nano",this.props.className)},c.createElement("div",{className:l()("nano-content",this.props.scrollContentClassName),onScroll:this.props.scrollEvent,ref:function(m){re.content=m},onWheel:this.props.disableParentScroll?this.onWheel:function(L){return L.stopPropagation()}},this.props.children))}}]),K}(c.Component),Pe.propTypes={className:U().string,id:U().string,children:U().node,scrollEvent:U().func,disableParentScroll:U().bool,scrollContentClassName:U().string,onScrollEnd:U().func,style:U().object},oe)},66215:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>z});var pe=a(85105),r=a.n(pe),t=a(99663),e=a(22600),X=a(49135),J=a(93196),ce=a(45697),U=a.n(ce),c=a(67294),S=a(93967),h=a.n(S),y,l,ee=(l=y=function(ae){(0,J.default)(Z,ae);function Z(Pe){(0,t.default)(this,Z);var oe=(0,X.default)(this,(Z.__proto__||r()(Z)).call(this,Pe)),Te=Pe.checked||Pe.defaultChecked||!1;return oe.state={checked:Te},oe}return(0,e.default)(Z,[{key:"componentWillReceiveProps",value:function(oe){oe.checked!==void 0&&this.setState({checked:oe.checked})}},{key:"handleClick",value:function(){if(this.props.disabled)return!1;if(this.props.checked!==void 0)this.props.onClick(this.props.checked,this.props.value);else{var oe=!this.state.checked;this.setState({checked:oe}),this.props.onClick(oe,this.props.value)}}},{key:"render",value:function(){var oe=this,Te=this.props,F=Te.disabled,K=Te.text,v=Te.size,re=Te.primaryColor,L=this.state.checked;return c.createElement("label",{className:h()("ming Switch",L?"Switch--on":"Switch--off",v||"",{hasText:K},this.props.className,{"Switch--disabled":F}),onClick:function(B){B.stopPropagation(),oe.handleClick()},checked:this.state.checked,style:re&&{background:L&&re}},c.createElement("span",{className:"txt ellipsis"},K),c.createElement("span",{className:"dot"}))}}]),Z}(c.Component),y.propTypes={onClick:U().func,disabled:U().bool,defaultChecked:U().bool,checked:U().bool,value:U().string,name:U().string,className:U().string,text:U().string,size:U().string,primaryColor:U().string},y.defaultProps={onClick:function(){},text:""},l);const z=ee},70264:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>v});var pe=a(52945),r=a.n(pe),t=a(12424),e=a(85105),X=a.n(e),J=a(99663),ce=a(22600),U=a(49135),c=a(93196),S=a(67294),h=a(93967),y=a.n(h),l=a(45697),ee=a.n(l),z=a(29314),ae=a(37578),Z=a(96486),Pe=a.n(Z),oe,Te,F={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},topRight:{points:["br","tr"]},bottomRight:{points:["tr","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","cl"]},leftTop:{points:["tr","cl"]},rightBottom:{points:["bl","cr"]},rightTop:{points:["tl","cr"]}},K=(Te=oe=function(re){(0,c.default)(L,re);function L(m){(0,J.default)(this,L);var B=(0,U.default)(this,(L.__proto__||X()(L)).call(this,m));return B.contentIsFunction=Pe().isFunction(m.text),B.state={loading:B.contentIsFunction},B}return(0,ce.default)(L,[{key:"componentWillReceiveProps",value:function(B){this.contentIsFunction&&B.flag!==this.props.flag&&!this.state.loading&&this.setState({loading:!0})}},{key:"renderPopup",value:function(){var B=this.props,C=B.text,p=B.tooltipClass,g=B.tooltipStyle,u=this.state,T=u.loading,d=u.value,O=C;return this.contentIsFunction?O=S.createElement("span",null,T?_l("\u52A0\u8F7D\u4E2D..."):d):typeof C=="string"&&(O=S.createElement("span",null,C)),S.createElement("div",{className:y()("Tooltip-wrapper",p),style:g},S.createElement("div",{className:"Tooltip-arrow"}),S.createElement("div",{className:"Tooltip-content",onScroll:function(x){x.stopPropagation()}},(0,S.cloneElement)(O)))}},{key:"render",value:function(){var B=this,C=this.props,p=C.action,g=C.children,u=C.text,T=C.popupPlacement,d=C.themeColor,O=C.offset,k=C.overflow,x=C.disable,N=C.destroyPopupOnHide,E=C.disableAnimation,D=C.onToolTipVisibleChange,I=this.state.loading,R=(0,t.Z)(k,2),w=R[0],b=R[1];if(!u)return g;var Y=r()({},{popupClassName:"ming Tooltip-"+d,prefixCls:"Tooltip",action:p,popup:this.renderPopup(),popupTransitionName:E?"":"Tooltip-move-"+T,builtinPlacements:F,destroyPopupOnHide:N,popupAlign:{offset:O,overflow:{adjustX:w,adjustY:b}},onPopupVisibleChange:function(M){if(M&&B.contentIsFunction&&I&&Pe().isFunction(u)){var f=u();typeof f=="string"?B.setState({loading:!1,value:f}):Pe().isFunction(Pe().get(f,"then"))&&f.then(function(ne){B.setState({loading:!1,value:ne})})}Pe().isFunction(D)&&D(M)}},this.props);return x&&(Y.popupVisible=!1),S.createElement(z.Z,Y,(0,S.cloneElement)(g))}}]),L}(S.Component),oe.propTypes={flag:l.string,action:(0,l.arrayOf)(l.string),popupPlacement:ee().string,text:ee().element,children:ee().element,themeColor:ee().string,tooltipClass:ee().string,tooltipStyle:ee().string,offset:ee().array,overflow:ee().array,disable:ee().bool,disableAnimation:ee().bool},oe.defaultProps={action:["hover"],text:S.createElement("span",null),popupPlacement:"top",themeColor:"black",offset:[1,3],overflow:[1,1],disable:!1,tooltipStyle:{}},Te);const v=K},32422:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>R});var pe=a(54208),r=a(88106),t=a(88239),e=a(85105),X=a.n(e),J=a(99663),ce=a(22600),U=a(49135),c=a(93196),S=a(86735),h=a(67294),y=a(45697),l=a.n(y),ee=a(29314),z=a(22731),ae=a(65406),Z={adjustX:1,adjustY:1},Pe=[0,0],oe={topLeft:{points:["bl","tl"],overflow:Z,offset:[0,-4],targetOffset:Pe},topRight:{points:["br","tr"],overflow:Z,offset:[0,-4],targetOffset:Pe},bottomRight:{points:["tr","br"],overflow:Z,offset:[0,4],targetOffset:Pe},bottomLeft:{points:["tl","bl"],overflow:Z,offset:[0,4],targetOffset:Pe}};const Te=oe;var F=a(93967),K=a.n(F),v=a(96486),re=a.n(v),L=a(71893),m=a(15577),B=a(22013),C=a(25265),p=a(91247),g=function(b,Y){return b===2?_l("\u6570\u636E\u6B63\u5728\u521D\u59CB\u5316\uFF0C\u8BF7\u8010\u5FC3\u7B49\u5F85"):b===3?"\u201D"+Y+"\u201C "+_l("\u5F53\u524D\u7248\u672C\u6CA1\u6709\u6B64\u529F\u80FD\uFF0C\u8BF7\u5347\u7EA7\u7248\u672C"):null},u=function(){if(!re().get(md,"global.Account.projects")||re().get(md,"global.Account.projects").length===0)return"";var b=localStorage.getItem("currentProjectId");return!b||!md.global.Account.projects.find(function(Y){return Y.projectId===b})?md.global.Account.projects[0].projectId:localStorage.getItem("currentProjectId")},T=function(b){return b?b.replace(/imageView2\/\d\/w\/\d+\/h\/\d+(\/q\/\d+)?/,"imageView2/1/w/100/h/100/q/90"):""},d,O,k=(0,S.Z)([`
  position: relative;
  box-shadow: 0 9px 12px -6px rgba(0, 0, 0, 0.2), 0 19px 29px 2px rgba(0, 0, 0, 0.14),
    0 7px 36px 6px rgba(0, 0, 0, 0.12);
  border-radius: 4px;
  background: #fff;

  .arrowBoxUserCard {
    position: absolute;
    display: inline-block;
    width: 16px;
    height: 10px;
  }
  .arrowBoxUserCard.arrowTop {
    top: -8px;
  }
  .arrowBoxUserCard .arrow {
    border: 8px transparent solid;
    display: inline-block;
    vertical-align: top;
  }

  .cardContent {
    padding: 16px 16px 16px 16px;
    > .TxtCenter {
      margin: 0 !important;
      padding: 0 0 10px;
    }
  }

  .cardContent-wrapper {
    flex: 1;
    min-width: 0;
  }
`],[`
  position: relative;
  box-shadow: 0 9px 12px -6px rgba(0, 0, 0, 0.2), 0 19px 29px 2px rgba(0, 0, 0, 0.14),
    0 7px 36px 6px rgba(0, 0, 0, 0.12);
  border-radius: 4px;
  background: #fff;

  .arrowBoxUserCard {
    position: absolute;
    display: inline-block;
    width: 16px;
    height: 10px;
  }
  .arrowBoxUserCard.arrowTop {
    top: -8px;
  }
  .arrowBoxUserCard .arrow {
    border: 8px transparent solid;
    display: inline-block;
    vertical-align: top;
  }

  .cardContent {
    padding: 16px 16px 16px 16px;
    > .TxtCenter {
      margin: 0 !important;
      padding: 0 0 10px;
    }
  }

  .cardContent-wrapper {
    flex: 1;
    min-width: 0;
  }
`]),x=(0,S.Z)([`
  display: flex;
  flex-direction: row;
  .imgLink {
    padding-right: 15px;
    .avatar {
      width: 47px;
      height: 47px;
    }
    &:hover {
      text-decoration: none;
    }
  }
  .name {
    color: #000;
    font-weight: bold;
    font-size: 15px;
    width: 170px;
    display: inline-block;
    vertical-align: top;
    margin-top: 3px;
    &:hover {
      text-decoration: none;
    }
  }

  .smallEarth {
    color: rgba(0, 0, 0, 0.32) !important;
  }

  .cardContentDesc {
    color: #aaa;
    padding: 7px 0 0 0;
    word-wrap: break-word;
    word-break: break-all;
    .cardContentTag {
      display: inline-block;
      min-width: 36px;
      padding: 0 4px;
      height: 19px;
      line-height: 19px;
      text-align: center;
      background: #f0f0f0;
      border-radius: 4px;
      color: #757575;
    }
  }

  .cardContentDesc.userCard {
    min-height: 35px;
  }

  .cardContentDesc .contentItem {
    width: 100%;
    color: #757575;
    display: block;
    margin-top: 4px;
    .label {
      max-width: 88px;
      display: inline-block;
      vertical-align: bottom;
    }
  }

  .cardContent-wrapper {
    position: relative;
  }

  .actionButtons {
    position: absolute;
    top: 0;
    right: 0;
    display: flex;
    gap: 10px;
    align-items: center;
    .actionButton {
      display: inline-block;
      cursor: pointer;
      color: #0091ea;
      font-size: 20px;

      vertical-align: top;
      text-decoration: none;
      &:hover {
        color: #0084e6;
      }
    }
  }

  .overflow_ellipsis_line2 {
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box !important;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }
`],[`
  display: flex;
  flex-direction: row;
  .imgLink {
    padding-right: 15px;
    .avatar {
      width: 47px;
      height: 47px;
    }
    &:hover {
      text-decoration: none;
    }
  }
  .name {
    color: #000;
    font-weight: bold;
    font-size: 15px;
    width: 170px;
    display: inline-block;
    vertical-align: top;
    margin-top: 3px;
    &:hover {
      text-decoration: none;
    }
  }

  .smallEarth {
    color: rgba(0, 0, 0, 0.32) !important;
  }

  .cardContentDesc {
    color: #aaa;
    padding: 7px 0 0 0;
    word-wrap: break-word;
    word-break: break-all;
    .cardContentTag {
      display: inline-block;
      min-width: 36px;
      padding: 0 4px;
      height: 19px;
      line-height: 19px;
      text-align: center;
      background: #f0f0f0;
      border-radius: 4px;
      color: #757575;
    }
  }

  .cardContentDesc.userCard {
    min-height: 35px;
  }

  .cardContentDesc .contentItem {
    width: 100%;
    color: #757575;
    display: block;
    margin-top: 4px;
    .label {
      max-width: 88px;
      display: inline-block;
      vertical-align: bottom;
    }
  }

  .cardContent-wrapper {
    position: relative;
  }

  .actionButtons {
    position: absolute;
    top: 0;
    right: 0;
    display: flex;
    gap: 10px;
    align-items: center;
    .actionButton {
      display: inline-block;
      cursor: pointer;
      color: #0091ea;
      font-size: 20px;

      vertical-align: top;
      text-decoration: none;
      &:hover {
        color: #0084e6;
      }
    }
  }

  .overflow_ellipsis_line2 {
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box !important;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }
`]),N={DEFAULT:0,NORMAL:1,LOGOFF:2,INACTIVE:3,REMOVED:4},E=L.ZP.div(k),D=L.ZP.div(x),I=(O=d=function(w){(0,c.default)(b,w);function b(Y){(0,J.default)(this,b);var W=(0,U.default)(this,(b.__proto__||X()(b)).call(this,Y));return W.formatData=function(M){var f=this.props,ne=f.type,ie=f.sourceId,V=ie===void 0?"":ie,me=f.accountId,_e=f.groupId,de=(ne===1?me:_e)||V,Le=ne===1?M.accountStatus:null;return(0,t.default)({},M,(0,r.default)({detail_closed:M.accountStatus==2,sameProjectIds:M.sameProjectIds||[],status:Le,groupName:ne===2?M.name:null},ne===1?"accountId":"groupId",M[ne===1?"accountId":"groupId"]||de))},W.getUserLink=function(){var M=W.props,f=M.sourceId,ne=f===void 0?"":f,ie=M.type,V=W.state.data,me=ne.includes("#");return V.status===N.INACTIVE||md.global.Account.isPortal||me||ie!==1?"javascript:void(0);":"/user_"+V.accountId},W.openChat=function(){var M=W.props.type,f=W.state.data;W.setState({visible:!1}),M===1?f.accountId!==md.global.Account.accountId&&B.Z.dispatch(C.Wu(f.accountId)):M===2&&B.Z.dispatch(C.Pr(f.groupId))},W.state={isLoading:!1,isSourceValid:!0,visible:Y.visible||!1,data:{},appId:Y.appId,isMobile:(0,m.Q9)(),wrapKey:(0,p.Z)(),preSourceId:Y.sourceId},W}return(0,ce.default)(b,[{key:"componentDidMount",value:function(){this.state.visible&&this.fetchData()}},{key:"componentWillUpdate",value:function(W,M){var f=this.state,ne=f.data,ie=f.preSourceId;(!this.state.visible&&M.visible&&re().isEmpty(ne)||W.sourceId&&ie&&W.sourceId!==ie&&!this.state.visible&&M.visible)&&this.fetchData()}},{key:"fetchData",value:function(){var W=this,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,f=this.props,ne=f.sourceId,ie=ne===void 0?"":ne,V=f.disabled,me=f.accountId,_e=f.groupId,de=f.type,Le=f.projectId,ge=this.state.isMobile,Oe=(de===1?me:_e)||ie,nt=location.pathname.startsWith("/public/")||location.pathname.startsWith("/app/lib/");ge||V||!Oe||nt||(this.setState({isLoading:!0,isSourceValid:!0,preSourceId:ie}),this.promise=de===1?z.Z.getAccountBaseInfo({accountId:Oe,appId:ie.includes("#")?this.state.appId:void 0,refresh:M,onProjectId:ie.includes("#")?void 0:Le}):ae.Z.getGroupCardInfo({groupId:Oe}),this.promise.then(function(lt){lt?W.setState({isLoading:!1,data:(0,t.default)({},W.props.data,W.formatData(lt))}):W.setState({isSourceValid:!1})}))}},{key:"getPopupNode",value:function(){var W=this.props,M=W.operation,f=W.sourceId,ne=W.accountId,ie=W.groupId,V=this.state,me=V.isLoading,_e=V.visible,de=V.data;if(this.haveOpened=this.haveOpened||_e,!this.haveOpened)return h.createElement("div",null);var Le=!f&&!ne&&!ie;return h.createElement(E,{className:"cardContentBox",onClick:function(Oe){return Oe.stopPropagation()}},h.createElement("div",{className:"cardContent"},me||re().isEmpty(de)&&!Le?h.createElement(pe.Z,null):this.renderContent()),!!M&&h.createElement("div",{className:"userOperatorCon"},M),h.createElement("span",{className:"arrowBoxUserCard"},h.createElement("span",{className:"arrow"})))}},{key:"renderInfo",value:function(W){var M=this,f=(this.props.sourceId||"").includes("#");return W.map(function(ne){return h.createElement("span",{className:"overflow_ellipsis_line2 contentItem",key:"userCard-contentItem-"+(M.props.sourceId||"")+"-"+ne.value},f?h.createElement(h.Fragment,null,h.createElement("span",{className:"label overflow_ellipsis"},ne.key),"\uFF1A",ne.value):ne.value)})}},{key:"renderContent",value:function(){var W=this,M=this.props,f=M.type,ne=M.sourceId,ie=ne===void 0?"":ne,V=M.accountId,me=M.groupId,_e=M.chatButton,de=M.projectId,Le=this.state,ge=Le.data,Oe=Le.isSourceValid,nt=ie.includes("#"),lt=this.getUserLink(),Ve=!ie&&!V&&!me,De=md.global.Account.accountId.includes("#")&&!nt,ze=u();if(Oe){if(Ve)return h.createElement(D,{className:"cardHeader BusinessCard"},h.createElement("span",{className:"imgLink"},h.createElement("img",{src:md.global.FileStoreConfig.pictureHost.replace(/\/$/,"")+"/UserAvatar/littleSecretary.png",className:"circle avatar"})),h.createElement("div",{className:"cardContent-wrapper"},h.createElement("span",{className:"name overflow_ellipsis TxtCenter"},_l("\u4F01\u4E1A\u5C0F\u79D8\u4E66"))));var ht=[{key:_l("\u7EC4\u7EC7"),value:de&&!ge.currentProjectName&&!nt?ge.companyName:ze===de?"":ge.currentProjectName},{key:_l("\u804C\u4F4D"),value:""+(ge.currentDepartmentName||"")+(ge.currentDepartmentName&&ge.profession?" | ":"")+(ge.profession||"")},{key:"",value:ge.currentJobNumber},{key:_l("\u624B\u673A"),value:ge.mobilePhone},{key:_l("\u90AE\u7BB1"),value:ge.email}].filter(function(we){return we.value}),Ie=(ge.portalValues||[]).filter(function(we){return we.value}),le=nt||ge.status===N.INACTIVE||f!==1||md.global.Account.isPortal;return h.createElement(D,{className:"cardHeader BusinessCard"},h.createElement("a",{href:lt,className:"imgLink",target:"_blank",onClick:function(We){return le&&We.preventDefault()}},h.createElement("img",{src:ge.avatar,className:"circle avatar"})),h.createElement("div",{className:"cardContent-wrapper"},h.createElement("a",{className:K()("name overflow_ellipsis",{ThemeColor3:le,ThemeHoverColor3:!le}),target:"_blank",href:lt,title:f===2?ge.groupName:ge.fullname,onClick:function(We){return le&&We.preventDefault()}},f===2?ge.groupName:ge.fullname,ge.status===N.INACTIVE&&h.createElement("span",{className:"icon-folder-public smallEarth mLeft8"}),ge.status===N.LOGOFF&&_l(" \u5E10\u53F7\u5DF2\u6CE8\u9500")),h.createElement("div",{className:"cardContentDesc userCard"},f===1&&!De&&h.createElement(h.Fragment,null,de&&!ge.currentProjectName&&!nt&&h.createElement("div",{className:"cardContentTag"},_l("\u5916\u534F")),this.renderInfo(ht),this.renderInfo(Ie),f===1&&!ht.length&&!Ie.length&&h.createElement("span",{className:"overflow_ellipsis contentItem Gray_c"},nt?_l("\u6CA1\u6709\u53EF\u89C1\u4FE1\u606F"):_l("\u8FD9\u4E2A\u5BB6\u4F19\u4EC0\u4E48\u4E5F\u6CA1\u6709\u7559\u4E0B"))),f===2&&ge.project&&h.createElement("span",null,h.createElement("span",{class:"icon-company Font18 mRight5"}),ge.project.companyName)),h.createElement("div",{className:"actionButtons"},h.createElement("span",{className:"Hand","data-tip":_l("\u5237\u65B0"),onClick:function(We){We.stopPropagation(),W.fetchData(!0)}},h.createElement("span",{className:"actionButton icon-task-later ThemeHoverColor3 Gray_9e"})),ge.status===N.NORMAL&&md.global.Account&&![md.global.Account.accountId,"user-workflow"].includes(ge.accountId)&&!md.global.Account.isPortal&&!nt&&_e&&h.createElement("span",{className:"Hand","data-tip":_l("\u53D1\u6D88\u606F"),onClick:this.openChat},h.createElement("span",{className:"actionButton icon-chat-session ThemeColor3"})))))}else{if(![1,2].includes(f))return null;var st=f===1?_l("\u7528\u6237"):ge&&ge.isPost===!1?_l("\u804A\u5929"):_l("\u7FA4\u7EC4");return h.createElement("div",{className:"Gray_c pLeft15 pBottom15"},_l("\u672A\u627E\u5230\u6B64%0",st))}}},{key:"render",value:function(){var W=this,M=this.state,f=M.isMobile,ne=M.visible,ie=M.wrapKey,V=this.props,me=V.className,_e=V.disabled,de=location.pathname.includes("/public/")||location.href.includes("#publicapp"),Le={popupClassName:K()("userCardSite",me),popup:this.getPopupNode(),popupVisible:ne,action:["hover"],builtinPlacements:Te,popupPlacement:"topLeft",destroyPopupOnHide:!0,getPopupContainer:function(){return document.body},mouseEnterDelay:.1,mouseLeaveDelay:.3,onPopupVisibleChange:function(Oe){W.setState({visible:Oe}),Oe||W.setState({wrapKey:(0,p.Z)()}),!Oe&&W.props.onClose&&W.props.onClose()},zIndex:10002};return f||_e||de?this.props.children:h.createElement(ee.Z,(0,t.default)({key:ie},Le),this.props.children)}}]),b}(h.Component),d.propTypes={projectId:l().string,appId:l().string,sourceId:l().string,type:l().number,disabled:l().bool,chatButton:l().bool},d.defaultProps={type:1,chatButton:!0},O);const R=I},15759:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>Pe});var pe=a(32422),r=a(85105),t=a.n(r),e=a(99663),X=a(22600),J=a(49135),ce=a(93196),U=a(67294),c=a(45697),S=a.n(c),h=a(93967),y=a.n(h),l,ee,z=(ee=l=function(oe){(0,ce.default)(Te,oe);function Te(F){return(0,e.default)(this,Te),(0,J.default)(this,(Te.__proto__||t()(Te)).call(this,F))}return(0,X.default)(Te,[{key:"render",value:function(){var K=this.props,v=K.src,re=K.shape,L=K.size,m=K.className;return U.createElement("span",{style:{width:L,height:L},className:y()("avatarBox",m)},U.createElement("img",{style:{width:"100%",height:"100%"},className:""+re,src:v||md.global.FileStoreConfig.pictureHost.replace(/\/$/,"")+"/UserAvatar/default.gif",alt:"avatar"}))}}]),Te}(U.Component),l.propTypes={src:S().string,size:S().number,shape:S().string},l.defaultProps={size:36,shape:"circle"},ee),ae,Z,Pe=(Z=ae=function(oe){(0,ce.default)(Te,oe);function Te(){var F,K,v,re;(0,e.default)(this,Te);for(var L=arguments.length,m=Array(L),B=0;B<L;B++)m[B]=arguments[B];return re=(K=(v=(0,J.default)(this,(F=Te.__proto__||t()(Te)).call.apply(F,[this].concat(m))),v),v.getDefaultImg=function(C){var p=md.global.FileStoreConfig.pictureHost.replace(/\/$/,"")+"/UserAvatar/";switch(C){case"user-self":return p+"user-self.png";case"user-sub":return p+"user-sub.png";case"user-workflow":return p+"workflow.png";case"user-publicform":return p+"publicform.png";case"user-api":return p+"worksheetapi.png";case"user-integration":return p+"user-integration.png";default:return p+"default.gif"}},K),(0,J.default)(v,re)}return(0,X.default)(Te,[{key:"render",value:function(){var K=this.props,v=K.user,re=K.appId,L=K.projectId,m=K.operation,B=K.headClick,C=K.chatButton,p=K.size;if(!v)return!1;var g=v.userHead||this.getDefaultImg(v.accountId),u=g.indexOf("?")>0?g.replace(/imageView2\/\d\/w\/\d+\/h\/\d+(\/q\/\d+)?/,"imageView2/1/w/100/h/100/q/90"):g?g+"?imageView2/1/w/100/h/100/q/90":"",T=U.createElement("div",{className:y()("pointer",this.props.className),rel:"noopener noreferrer",style:{display:"block",width:p,height:p},onClick:function(k){B&&(B(v.accountId),k.stopPropagation())}},U.createElement(z,{size:p,src:u||""})),d=this.props.disabled||["user-self","user-sub","user-undefined","user-workflow","user-publicform","user-api","user-integration","2","4","isEmpty"].includes(v.accountId);return U.createElement(pe.Z,{type:this.props.secretType||1,sourceId:v.accountId,operation:m,projectId:L,appId:re,disabled:d,chatButton:C},T)}}]),Te}(U.Component),ae.propTypes={user:S().shape({accountId:S().string,userHead:S().string}).isRequired,size:S().number,className:S().string,type:S().string,headClick:S().func,projectId:S().string,appId:S().string,operation:S().element,chatButton:S().bool},ae.defaultProps={chatButton:!0,size:48},Z)},78499:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>y});var pe=a(88239),r=a(1952),t=a(69288),e=a(3540),X=a(70264),J=a(33867),ce=a(12424),U=a(67294),c=a(16572),S=a.n(c);function h(l){var ee=l.isEdit,z=l.showTitleTip,ae=z===void 0?!0:z,Z=l.data,Pe=Z===void 0?{}:Z,oe=l.callback,Te=(0,U.useState)(Pe.name),F=(0,ce.Z)(Te,2),K=F[0],v=F[1],re=(0,U.useState)(Pe.originLinkUrl),L=(0,ce.Z)(re,2),m=L[0],B=L[1],C=function(d){var O=/[\/\\\:\*\?\"\<\>\|]/g,k=O.test(d);return k?(alert(_l("\u94FE\u63A5\u540D\u79F0\u4E0D\u80FD\u5305\u542B\u4EE5\u4E0B\u5B57\u7B26\uFF1A")+'\\ / : * ? " < > |',3),!1):!0},p=function(d){return!d.match("://")&&!d.match(/^mailto:/)||d.match(/^http/)?!0:(alert(_l("\u5F53\u524D\u53EA\u652F\u6301 http:// \u548C https:// \u5F00\u5934\u7684\u94FE\u63A5"),3),!1)},g=function(){if(K==="")return alert(_l("\u94FE\u63A5\u540D\u4E0D\u80FD\u4E3A\u7A7A"),3),!1;if(m==="")return alert(_l("\u94FE\u63A5url\u4E0D\u80FD\u4E3A\u7A7A"),3),!1;if(!C(K)||!p(m))return!1;typeof oe=="function"&&oe({linkName:K,linkContent:m}),u()},u=function(){$(".addLinkFileDialog").parent().remove()};return U.createElement(t.Z,{visible:!0,dialogClasses:"addLinkFileDialog",width:540,okText:ee?_l("\u4FDD\u5B58"):_l("\u521B\u5EFA"),title:U.createElement(U.Fragment,null,U.createElement("div",{className:"titleCon"},U.createElement("span",{className:"Font17 mRight8"},ee?_l("\u7F16\u8F91\u94FE\u63A5"):_l("\u6DFB\u52A0\u94FE\u63A5")),ae&&U.createElement(X.Z,{placement:"bottom",title:_l("\u521B\u5EFA\u94FE\u63A5\u683C\u5F0F\u6587\u4EF6\uFF0C\u4FDD\u5B58\u4E00\u4E2A\u94FE\u63A5\u3002\u60A8\u53EF\u4EE5\u5206\u4EAB\u6B64\u6587\u4EF6\u6216\u5EFA\u7ACB\u6587\u4EF6\u5939\u6765\u7BA1\u7406\u3002")},U.createElement(J.Z,{icon:"help",className:"icon"}))),U.createElement("div",{className:"HeaderImgCon"},U.createElement("img",{src:S()}))),onOk:g,onCancel:u},U.createElement("div",null,U.createElement("div",{className:"linkItem mTop24"},U.createElement("div",{className:"itemLabel"},_l("\u6587\u4EF6\u540D")),U.createElement("div",{className:"itemContent"},U.createElement(e.Z,{className:"w100 addLinkInput",placeholder:_l("\u5728\u4E0B\u65B9\u8D34\u5165\u94FE\u63A5\uFF0C\u81EA\u52A8\u8BFB\u53D6\u6807\u9898"),value:K,onChange:function(d){return v(d)}}))),U.createElement("div",{className:"linkItem mTop24"},U.createElement("div",{className:"itemLabel"},_l("\u94FE\u63A5")),U.createElement("div",{className:"itemContent"},U.createElement(e.Z,{className:"w100 addLinkInput",placeholder:"http://",value:m,onChange:function(d){return B(d)},onMouseUp:function(d){var O=d.target;O.selectionEnd-O.selectionStart===0&&O.select()}})))))}const y=function(l){(0,r.Z)(h,(0,pe.default)({},l,{onClose:function(){}}))}},86559:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>c});var pe=a(46593),r=a.n(pe),t=a(69288),e=a(67294),X=a(10457),J=a(15577),ce=a(96486),U=a.n(ce);const c=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},y=(0,J.ne)(16),l=function(){return __api_server__.main+"code/CreateVerifyCodeImage?width=320&height=130&fontSize=30&randstr="+y+"&"+Math.random()};t.Z.confirm({title:_l("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"),closable:!1,anim:!1,width:368,description:e.createElement(e.Fragment,null,e.createElement("input",{type:"text",className:"captchaInput",autoFocus:!0}),e.createElement("div",{className:"captchaImg"},e.createElement("img",{src:l()})),e.createElement("div",{className:"mTop10"},e.createElement("span",{className:"ThemeColor3 ThemeHoverColor2 pointer",onClick:function(){$(".captchaImg img").attr("src",l())}},_l("\u770B\u4E0D\u6E05\uFF0C\u6362\u4E00\u5F20")))),onOk:function(){return new(r())(function(z,ae){var Z=$(".captchaInput").val().trim();Z?(S({ret:0,ticket:Z,randstr:y}),z()):(alert(_l("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"),3),ae(!0))})},onCancel:h})}},60510:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>L});var pe=a(1952),r=a(69288),t=a(60967),e=a(95679),X=a(54208),J=a(85315),ce=a(88239),U=a(85105),c=a.n(U),S=a(99663),h=a(22600),y=a(49135),l=a(93196),ee=a(67294),z=a(3735),ae=a(25978),Z=a(12975),Pe=a(42509),oe=a(30539),Te=a(93967),F=a.n(Te),K=a(96486),v=a.n(K),re=function(m){(0,l.default)(B,m);function B(C){(0,S.default)(this,B);var p=(0,y.default)(this,(B.__proto__||c()(B)).call(this,C));return p.promise=null,p.scroll=ee.createRef(),p.setMoreList=function(g,u){var T=p.state.departmentMoreIds,d=T===void 0?[]:T,O=d.find(function(k){return k.departmentId===g});u?p.setState({departmentMoreIds:d.filter(function(k){return k.departmentId!==g})}):O?p.setState({departmentMoreIds:d.map(function(k){return k.departmentId!==g?k:(0,ce.default)({},k,{pageIndex:O.pageIndex+1})})}):p.setState({departmentMoreIds:d.concat({departmentId:g,pageIndex:1})})},p.getParentId=function(g,u){for(var T in g){if(g[T].departmentId==u)return[g[T]];if(g[T].subDepartments){var d=p.getParentId(g[T].subDepartments,u);if(d!==void 0)return d.concat(g[T])}}},p.state={loading:!1,keywords:"",showCreateBtn:!1,project:(md.global.Account.projects||[]).filter(function(g){return g.projectId===C.projectId}).length&&md.global.Account.projects.filter(function(g){return g.projectId===C.projectId})[0]||{},selectedDepartment:C.selectedDepartment||[],pageSize:100,departmentMoreIds:[],rootPageIndex:1,rootPageAll:!1,rootLoading:!1,showProjectAll:!1,activeIds:[],activeIndex:0},p.search=v().debounce(p.fetchData.bind(p),500),p.handleKeydown=p.handleKeydown.bind(p),p}return(0,h.default)(B,[{key:"componentDidMount",value:function(){document.body.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillMount",value:function(){var p=this;this.fetchData(),this.props.showCreateBtn&&oe.Z.isProjectAdmin({projectId:this.props.projectId}).then(function(g){g===!0&&p.setState({showCreateBtn:!0})})}},{key:"componentWillUnmount",value:function(){this.search&&this.search.cancel&&this.search.cancel(),document.body.removeEventListener("keydown",this.handleKeydown)}},{key:"handleKeydown",value:function(p){if(v().includes(["ArrowUp","ArrowDown","Enter"],p.key)){var g=this.state,u=g.activeIds,T=g.activeIndex,d=g.list;if(p.stopPropagation(),p.preventDefault(),p.key==="Enter"){var O=d[T];O&&this.toggle(O)}else{var k=void 0;p.key==="ArrowUp"?k=T-1:p.key==="ArrowDown"&&(k=T+1);var x=v().get(d,k+".departmentId");if(!v().isUndefined(x)){this.setState({activeIds:[x],activeIndex:k});var N=40.39,E=this.scroll.current,D=k*N;k>T?D+N>E.scrollTop+E.clientHeight&&(E.scrollTop=D+44-E.offsetHeight):D<E.scrollTop&&(E.scrollTop=D)}}}}},{key:"getDepartmentPath",value:function(p){var g=this.getParentId(this.state.list,p.departmentId);return g.filter(function(u){return u.departmentId!==p.departmentId}).map(function(u,T){return{departmentId:u.departmentId,departmentName:u.departmentName,depth:T+1}})}},{key:"selectFn",value:function(){var p=this,g=this.state.selectedDepartment,u=this.props,T=u.checkIncludeChilren,d=u.allPath,O=this.props.selectFn;O.call(null,v().map(g.filter(function(k){return!k.checkIncludeChilren||k.departmentId.indexOf("orgs_")>-1}),function(k){return(0,ce.default)({departmentId:k.departmentId,departmentName:k.departmentName,haveSubDepartment:k.haveSubDepartment,userCount:k.userCount},d?{departmentPath:p.getDepartmentPath(k)}:{})}),T?v().map(g.filter(function(k){return k.checkIncludeChilren&&k.departmentId.indexOf("orgs_")<0}),function(k){return(0,ce.default)({departmentId:k.departmentId,departmentName:k.departmentName,haveSubDepartment:k.haveSubDepartment,userCount:k.userCount},d?{departmentPath:p.getDepartmentPath(k)}:{})}):null)}},{key:"getDepartmentTree",value:function(p,g){return p.map(function(u){var T=u.departmentId,d=u.departmentName,O=u.userCount,k=u.haveSubDepartment,x=u.subDepartments,N=x===void 0?[]:x;return{departmentId:T,departmentName:d,userCount:O,haveSubDepartment:k,open:N.length>0,subDepartments:N,parentId:g}})}},{key:"getSearchDepartmentTree",value:function(p){var g=this;return p.map(function(u){var T=u.departmentId,d=u.departmentName,O=u.userCount,k=u.haveSubDepartment,x=u.subDepartments,N=x===void 0?[]:x;return N.length&&(N=g.getSearchDepartmentTree(N)),{departmentId:T,departmentName:d,userCount:O,haveSubDepartment:k,open:N&&N.length,subDepartments:N}})}},{key:"fetchData",value:function(){var p=this,g=this.props,u=g.isAnalysis,T=g.fromAdmin,d=T===void 0?!1:T,O=g.projectId;this.setState({loading:!0});var k=O&&(v().find(md.global.Account.projects,function(I){return I.projectId===O})||{}).isSuperAdmin&&d;this.promise&&v().isFunction(this.promise.abort)&&this.promise.abort();var x=void 0;this.state.keywords?x=this.getSearchDepartmentTree.bind(this):x=this.getDepartmentTree.bind(this);var N=u?{keyword:this.state.keywords}:{keywords:this.state.keywords},E=(0,ce.default)({projectId:this.props.projectId,returnCount:this.props.returnCount},N),D=!this.state.keywords;E=D?(0,ce.default)({},E,{pageIndex:this.state.rootPageIndex,pageSize:this.state.pageSize}):E,this.promise=z.Z[u&&k?"pagedProjectDepartmentTrees":u?"pagedDepartmentTrees":k?"searchProjectDepartment2":"searchDepartment2"](E).then(function(I){var R=!0;u?(R=!0,I=I):k||(R=!I.item1,I=I.item2);var w=D?D&&p.state.rootPageIndex<=1?x(I):p.state.list.concat(x(I)):x(I),b=p.state.keywords?{rootPageIndex:1,departmentMoreIds:[]}:{allList:w};p.setState((0,ce.default)({list:w,activeIds:v().isEmpty(w)?[]:[w[0].departmentId],loading:!1,rootLoading:!1,rootPageAll:D&&(w.length%p.state.pageSize>0||I.length<=0),showProjectAll:R},b))}).catch(function(I){p.setState({loading:!1,rootLoading:!1})})}},{key:"getDepartmentById",value:function(p,g){for(var u=0;u<p.length;u++){var T=p[u];if(T.departmentId===g)return T;if(T.subDepartments.length){var d=this.getDepartmentById(T.subDepartments,g);if(d)return this.getDepartmentById(T.subDepartments,g)}}}},{key:"fetchSubDepartment",value:function(p){var g=this,u=[].concat((0,J.Z)(this.state.list)),T=this.getDepartmentById(u,p),d=T.subDepartments,O=d===void 0?[]:d;if(!T.haveSubDepartment)return!1;var k=!!localStorage.getItem("parentId");if(!T.open||k)if(O.length&&!k)T.open=!0;else{var x={projectId:this.props.projectId},N=this.state.departmentMoreIds.find(function(D){return D.departmentId===T.departmentId}),E=N?N.pageIndex+1:1;return x=location.href.indexOf("admin")>-1?(0,ce.default)({},x,{pageIndex:E,pageSize:this.state.pageSize,parentId:T.departmentId}):(0,ce.default)({},x,{pageIndex:E,pageSize:this.state.pageSize,departmentId:T.departmentId,returnCount:this.props.returnCount}),z.Z[this.props.isAnalysis&&location.href.indexOf("admin")>-1?"pagedProjectDepartmentTrees":this.props.isAnalysis?"pagedDepartmentTrees":location.href.indexOf("admin")>-1?"pagedSubDepartments":"getProjectSubDepartmentByDepartmentId"](x).then(function(D){localStorage.removeItem("parentId"),T.subDepartments=E>1?T.subDepartments.concat(g.getDepartmentTree(D,T.departmentId)):g.getDepartmentTree(D,T.departmentId),T.open=!0,g.setMoreList(T.departmentId,D.length<g.state.pageSize),g.setState({list:u})}),!1}else T.open=!1;this.setState({list:u})}},{key:"toggle",value:function(p,g){var u=this,T=this.state.selectedDepartment,d=this.props.checkIncludeChilren,O=v().findIndex(this.state.list,{departmentId:p.departmentId});if(v().isUndefined(O)||this.setState({activeIndex:O,activeIds:[p.departmentId]}),p=d?(0,ce.default)({},p,{checkIncludeChilren:g===!0?!1:p.checkIncludeChilren===void 0?!0:p.checkIncludeChilren}):p,T.filter(function(x){return x.departmentId===p.departmentId}).length)this.props.unique?this.setState({selectedDepartment:[]}):this.setState({selectedDepartment:v().filter(T,function(x){return x.departmentId!==p.departmentId})});else if(this.props.unique)this.setState({selectedDepartment:[p]});else{var k=v().cloneDeep(T);d&&(p.departmentId==="orgs_"+this.state.project.projectId?k=[]:T.map(function(x){var N=u.getParentId(u.state.allList,x.departmentId)||[];N=N.map(function(E){return E.departmentId}),N.includes(p.departmentId)&&(k=k.filter(function(E){return E.departmentId!==x.departmentId}))})),this.setState({selectedDepartment:k.concat([p])})}}},{key:"onChangeSelectedOnly",value:function(p){var g=this.state.selectedDepartment;g.filter(function(u){return u.departmentId===p.departmentId}).length?this.setState({selectedDepartment:g.map(function(u){return p.departmentId===u.departmentId?(0,ce.default)({},u,{checkIncludeChilren:!1}):u})}):this.toggle(p,!0)}},{key:"handleChange",value:function(p){var g=p.target.value;this.setState({keywords:g}),this.search()}},{key:"clearKeywords",value:function(p){this.setState({keywords:""})}},{key:"renderContent",value:function(){var p=this,g=this.state.activeIds;if(this.state.loading&&this.state.rootPageIndex<=1)return ee.createElement(X.Z,null);if(this.state.list&&this.state.list.length){var u=this.state,T=u.selectedDepartment,d=u.list,O=u.keywords,k=u.departmentMoreIds,x={selectedDepartment:T,toogleDepargmentSelect:this.toggle.bind(this),toggleDepartmentList:this.fetchSubDepartment.bind(this),data:d,keywords:O,showUserCount:!1,unique:this.props.unique,departmentMoreIds:k,checkIncludeChilren:this.props.checkIncludeChilren,treeData:d,onChangeSelectedOnly:this.onChangeSelectedOnly.bind(this)},N=!this.state.keywords;return ee.createElement(ee.Fragment,null,ee.createElement(ae.Z,(0,ce.default)({},x,{activeIds:g})),N&&!this.state.rootPageAll&&ee.createElement("span",{className:"mLeft24 Hand moreBtn",onClick:function(){p.setState({rootPageIndex:p.state.rootPageIndex+1,rootLoading:!0},function(){p.fetchData()})}},this.state.rootLoading&&ee.createElement(X.Z,{size:"small"}),this.state.rootLoading?_l("\u52A0\u8F7D\u4E2D"):_l("\u66F4\u591A")))}else{var E=this.state.keywords;return ee.createElement(Z.Z,null,E?_l("\u641C\u7D22\u65E0\u7ED3\u679C"):_l("\u65E0\u7ED3\u679C"))}}},{key:"renderResult",value:function(){var p=this;return this.state.selectedDepartment.map(function(g){var u=null,T=null,d=null,O=function(){};return u=ee.createElement("div",{className:F()("GSelect-result-subItem__avatar",{"GSelect-result-subItem__avatar__onlySelf":p.props.checkIncludeChilren&&!g.checkIncludeChilren})},ee.createElement("i",{className:"icon-department1"})),T=g.departmentId,d=g.departmentName,O=function(x){p.setState({selectedDepartment:v().filter(p.state.selectedDepartment,function(N){return N.departmentId!==x})})},ee.createElement("div",{className:"GSelect-result-subItem",key:"subItem-"+T},u,ee.createElement("div",{className:"GSelect-result-subItem__name overflow_ellipsis"},d),ee.createElement("div",{className:"GSelect-result-subItem__remove ",onClick:function(){return O(T)}},ee.createElement("span",{className:"icon-close"})))})}},{key:"getChecked",value:function(){return!!this.state.selectedDepartment.filter(function(p){return p.departmentId===""}).length}},{key:"getCurrentUserDeptChecked",value:function(){return!!this.state.selectedDepartment.filter(function(p){return p.departmentId==="user-departments"}).length}},{key:"getCurrentAllDeptChecked",value:function(){return!!this.state.selectedDepartment.filter(function(p){return p.departmentId.indexOf("orgs_")>-1}).length}},{key:"render",value:function(){var p=this,g=this.props,u=g.title,T=g.width,d=g.onClose,O=g.className,k=this.state.showProjectAll;return ee.createElement(r.Z,{visible:!0,type:"scroll",title:u,width:T,className:F()("mobileDepartmentPickerDialog",O),ref:function(N){p.dialog=N},onCancel:d,onOk:function(){p.selectFn(),d()}},ee.createElement("div",null,ee.createElement("div",{className:"selectDepartmentContainer"},ee.createElement("div",{className:"selectDepartmentContainer_search"},ee.createElement("span",{className:"searchIcon icon-search"}),ee.createElement("input",{type:"text",className:"searchInput",placeholder:_l("\u641C\u7D22\u90E8\u95E8"),value:this.state.keywords,onChange:this.handleChange.bind(this)}),ee.createElement("span",{className:"searchClose icon-closeelement-bg-circle",onClick:this.clearKeywords.bind(this)})),this.props.showCurrentUserDept&&ee.createElement("div",{className:"mTop24 Font13 overflow_ellipsis Hand pBottom10",onClick:this.toggle.bind(this,{departmentId:"user-departments",departmentName:_l("\u5F53\u524D\u7528\u6237\u6240\u5728\u7684\u90E8\u95E8")})},this.props.unique?ee.createElement(e.Z,{className:"GSelect-department--checkbox mRight0",checked:this.getCurrentUserDeptChecked(),text:_l("\u5F53\u524D\u7528\u6237\u6240\u5728\u7684\u90E8\u95E8")}):ee.createElement(t.Z,{className:"GSelect-department--checkbox",checked:this.getCurrentUserDeptChecked(),text:_l("\u5F53\u524D\u7528\u6237\u6240\u5728\u7684\u90E8\u95E8")})),this.props.allProject&&k&&ee.createElement("div",{className:"mTop24 Font13 overflow_ellipsis Hand pBottom10",onClick:this.toggle.bind(this,{departmentId:"orgs_"+this.state.project.projectId,departmentName:_l("\u5168\u7EC4\u7EC7")})},this.props.unique?ee.createElement(e.Z,{className:"GSelect-department--checkbox mRight0",checked:this.getCurrentAllDeptChecked(),text:this.state.project.companyName||_l("\u5168\u7EC4\u7EC7")}):ee.createElement(t.Z,{className:"GSelect-department--checkbox",checked:this.getCurrentAllDeptChecked(),text:this.state.project.companyName||_l("\u5168\u7EC4\u7EC7")})),function(){return!p.state.project||p.props.allProject&&k?null:p.props.includeProject?ee.createElement("div",{className:"mTop12 Font13 overflow_ellipsis Hand",onClick:p.toggle.bind(p,{departmentId:"",departmentName:p.state.project.companyName})},p.props.unique?ee.createElement(e.Z,{className:"GSelect-department--checkbox mRight0",checked:p.getChecked(),text:p.state.project.companyName}):ee.createElement(t.Z,{className:"GSelect-department--checkbox",checked:p.getChecked(),text:p.state.project.companyName})):ee.createElement("div",{className:"mTop12 Font13 overflow_ellipsis"},p.state.project.companyName)}(),ee.createElement("div",{className:"selectDepartmentContent",ref:this.scroll},this.renderContent()),ee.createElement("div",{className:"GSelect-result-box"},this.renderResult()),this.state.showCreateBtn&&ee.createElement("div",{className:"selectDepartmentCreateBtn pointer ThemeColor3",onClick:function(){(0,Pe.$)({type:"create",projectId:p.props.projectId,departmentId:"",callback:function(E){p.toggle(E.response),p.fetchData()}}),p.dialog&&p.dialog.closeDialog&&p.dialog.closeDialog()}},"+ "+_l("\u521B\u5EFA\u90E8\u95E8")))))}}]),B}(ee.Component);function L(m){var B={title:_l("\u9009\u62E9\u90E8\u95E8"),dialogBoxID:"dialogSelectDept",projectId:"",selectedDepartment:[],unique:!0,showCreateBtn:!0,includeProject:!1,checkIncludeChilren:!1,allProject:!1,selectFn:function(u){}},C=v().extend({},B,m),p={className:C.className,title:C.title,width:C.displayType==="mobile"?"100%":480,unique:C.unique,projectId:C.projectId,returnCount:C.returnCount,allPath:C.allPath,selectedDepartment:C.selectedDepartment,selectFn:C.selectFn,showCreateBtn:C.showCreateBtn,includeProject:C.includeProject,showCurrentUserDept:C.showCurrentUserDept,allProject:C.allProject,checkIncludeChilren:C.checkIncludeChilren,isAnalysis:C.isAnalysis,fromAdmin:C.fromAdmin,onClose:C.onClose};(0,pe.Z)(re,(0,ce.default)({},p))}},25978:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>T});var pe=a(8177),r=a.n(pe),t=a(54208),e=a(85105),X=a.n(e),J=a(99663),ce=a(22600),U=a(49135),c=a(93196),S=a(86735),h=a(67294),y=a(60967),l=a(44894),ee=a(45697),z=a.n(ee),ae=a(95679),Z=a(93967),Pe=a.n(Z),oe=a(71893),Te=a(96486),F=a.n(Te),K,v,re,L,m,B,C,p=(0,S.Z)([`
  .onlySelf {
    display: none;
  }
  &:hover {
    .onlySelf {
      display: inline-block;
    }
  }
`],[`
  .onlySelf {
    display: none;
  }
  &:hover {
    .onlySelf {
      display: inline-block;
    }
  }
`]);function g(O,k,x,N,E){var D={};return Object.keys(N).forEach(function(I){D[I]=N[I]}),D.enumerable=!!D.enumerable,D.configurable=!!D.configurable,("value"in D||D.initializer)&&(D.writable=!0),D=x.slice().reverse().reduce(function(I,R){return R(O,k,I)||I},D),E&&D.initializer!==void 0&&(D.value=D.initializer?D.initializer.call(E):void 0,D.initializer=void 0),D.initializer===void 0&&(Object.defineProperty(O,k,D),D=null),D}var u=oe.ZP.div(p),T=(v=K=function(O){(0,c.default)(k,O);function k(){var x,N,E,D;(0,J.default)(this,k);for(var I=arguments.length,R=Array(I),w=0;w<I;w++)R[w]=arguments[w];return D=(N=(E=(0,U.default)(this,(x=k.__proto__||X()(k)).call.apply(x,[this].concat(R))),E),E.getParentId=function(b,Y){for(var W in b){if(b[W].departmentId==Y)return[b[W]];if(b[W].subDepartments){var M=E.getParentId(b[W].subDepartments,Y);if(M!==void 0)return M.concat(b[W])}}},E.getIsIncludesByParent=function(b){var Y=E.getParentId(E.props.treeData,b.departmentId).map(function(M){return M.departmentId}),W=E.props.selectedDepartment.filter(function(M){return(Y.includes(M.departmentId)||M.departmentId.indexOf("orgs_")>-1)&&M.checkIncludeChilren&&M.departmentId!==b.departmentId});return!!W.length},E.getChecked=function(b){var Y=E.props.selectedDepartment.filter(function(W){return W.departmentId===b.departmentId});return!!Y.length||E.props.checkIncludeChilren&&E.getIsIncludesByParent(b)},E.getDisable=function(b){return E.props.checkIncludeChilren&&E.getIsIncludesByParent(b)},N),(0,U.default)(E,D)}return(0,ce.default)(k,[{key:"render",value:function(){var N=this,E=this.props.activeIds,D=E===void 0?[]:E,I=this.props.data;return I&&I.length?h.createElement("div",{className:"GSelect-departmentList"},I.map(function(R,w){return h.createElement(d,{active:F().includes(D,R.departmentId),key:R.departmentId+w,department:R,selectedDepartment:N.props.selectedDepartment,toogleDepargmentSelect:N.props.toogleDepargmentSelect,onChangeSelectedOnly:N.props.onChangeSelectedOnly,toggleDepartmentList:N.props.toggleDepartmentList,checked:N.getChecked(R),isIncludesByParent:N.getIsIncludesByParent(R),keywords:N.props.keywords,showUserCount:N.props.showUserCount,unique:N.props.unique,departmentMoreIds:N.props.departmentMoreIds,treeData:N.props.treeData,checkIncludeChilren:N.props.checkIncludeChilren})})):null}}]),k}(h.Component),K.propTypes={selectedDepartment:z().array,toogleDepargmentSelect:z().func,onChangeSelectedOnly:z().func,toggleDepartmentList:z().func,data:z().array,keywords:z().string,showUserCount:z().bool,checkIncludeChilren:z().bool,unique:z().bool},v),d=(m=(C=B=function(O){(0,c.default)(k,O);function k(x){(0,J.default)(this,k);var N=(0,U.default)(this,(k.__proto__||X()(k)).call(this,x));return N.state={moreIdLoading:""},N}return(0,ce.default)(k,[{key:"componentWillReceiveProps",value:function(N){F().isEqual(this.props.departmentMoreIds,N.departmentMoreIds)||this.setState({moreIdLoading:""})}},{key:"toogleDepargmentSelect",value:function(N){var E=this.props.department,D=E.open,I=E.disabled,R=E.departmentId;N.stopPropagation(),I||this.props.toogleDepargmentSelect(this.props.department)}},{key:"toggleDepartmentList",value:function(N){N.stopPropagation(),this.props.toggleDepartmentList(this.props.department.departmentId)}},{key:"render",value:function(){var N=this,E=this.state.moreIdLoading,D=this.props,I=D.active,R=D.department,w=D.checked,b=D.keywords,Y=D.isIncludesByParent,W=D.checkIncludeChilren,M=R.haveSubDepartment,f=R.subDepartments,ne=R.disabled,ie=R.open,V=R.departmentName;ne=ne||Y;var me=V,_e=[me];if(this.props.keywords){var de=me.match(b),Le=b.length;if(de){for(_e=[];de;)_e.push(me.slice(0,de.index)),_e.push(me.slice(de.index,de.index+Le)),me=me.slice(de.index+Le),de=me.match(b);me&&_e.push(me)}}return h.createElement("div",{className:"GSelect-department"},h.createElement("div",{className:Pe()("GSelect-department-row flexRow",I?"focused":""),onClick:this.toggleDepartmentList},h.createElement("div",{className:Pe()("GSelect-arrow",{"GSelect-arrow--transparent":!M,pointer:M})},h.createElement("i",{className:Pe()("GSelect-arrow__arrowIcon",R.open?"GSelect-arrow__arrowIcon--open":"GSelect-arrow__arrowIcon--close")})),h.createElement(u,{className:"flex flexRow GSelect-department-box pointer",onClick:function(Oe){ne||N.toogleDepargmentSelect(Oe)}},this.props.unique?h.createElement(ae.Z,{disabled:ne,className:"GSelect-department--checkbox",checked:w}):h.createElement(y.Z,{disabled:ne,className:"GSelect-department--checkbox",styleType:w&&W&&!(this.props.selectedDepartment.find(function(ge){return ge.departmentId===R.departmentId})||{}).checkIncludeChilren?"light":"",checked:w}),h.createElement("div",{className:Pe()("GSelect-department__name overflow_ellipsis")},_e.map(function(ge,Oe){return ge===b?h.createElement("span",{key:ge+Oe,className:"GSelect-department__name--hightlight"},ge):h.createElement("span",{key:ge+Oe},ge)})),this.props.showUserCount?h.createElement("div",{className:Pe()("GSelect-department__count")},"\uFF08"+R.userCount+"\u4EBA\uFF09"):null,W&&!ne&&h.createElement("span",{className:"Hand onlySelf ThemeColor3 pRight5",onClick:function(Oe){Oe.stopPropagation(),N.props.onChangeSelectedOnly(R)}},_l("\u4EC5\u5F53\u524D\u90E8\u95E8")))),!M||!ie?null:h.createElement(T,{selectedDepartment:this.props.selectedDepartment,onChangeSelectedOnly:this.props.onChangeSelectedOnly,toogleDepargmentSelect:this.props.toogleDepargmentSelect,toggleDepartmentList:this.props.toggleDepartmentList,data:f,checkIncludeChilren:this.props.checkIncludeChilren,keywords:this.props.keywords,showUserCount:this.props.showUserCount,unique:this.props.unique,departmentMoreIds:this.props.departmentMoreIds,treeData:this.props.treeData}),ie&&(f[0]||{}).parentId&&(this.props.departmentMoreIds||[]).find(function(ge){return ge.departmentId===f[0].parentId})?h.createElement("span",{className:"mLeft60 Hand moreBtn",onClick:function(){safeLocalStorageSetItem("parentId",f[0].parentId),N.props.toggleDepartmentList(f[0].parentId),N.setState({moreIdLoading:f[0].parentId})}},E===f[0].parentId&&h.createElement(t.Z,{size:"small"}),E===f[0].parentId?_l("\u52A0\u8F7D\u4E2D"):_l("\u66F4\u591A")):"")}}]),k}(h.Component),B.defaultProps={showUserCount:!0},B.propTypes={toogleDepargmentSelect:z().func,toggleDepartmentList:z().func,selectedDepartment:z().array,checked:z().bool,department:z().object,showUserCount:z().bool,unique:z().bool,checkIncludeChilren:z().bool,onChangeSelectedOnly:z().func},C),g(m.prototype,"toogleDepargmentSelect",[l.Nj],r()(m.prototype,"toogleDepargmentSelect"),m.prototype),g(m.prototype,"toggleDepartmentList",[l.Nj],r()(m.prototype,"toggleDepartmentList"),m.prototype),m)},12975:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>t});var pe=a(67294),r=function(X){return pe.createElement("div",{className:"GSelect-NoData"},pe.createElement("i",{className:"icon-person GSelect-iconNoData"}),pe.createElement("p",{className:"GSelect-noDataText"},X.children))};const t=r},7584:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>r});var pe=a(67294);function r(t){var e=t.id,X=t.avatar,J=t.name,ce=t.deleteFn;return pe.createElement("div",{className:"GSelect-result-subItem",key:"subItem-"+e},X,pe.createElement("div",{className:"GSelect-result-subItem__name overflow_ellipsis"},J),pe.createElement("div",{className:"GSelect-result-subItem__remove",onClick:function(){return ce(e)}},pe.createElement("span",{className:"icon-delete"})))}},75809:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>Dt});var pe=a(1952),r=a(31546),t=a(33867),e=a(69288),X=a(88239),J=a(85105),ce=a.n(J),U=a(99663),c=a(22600),S=a(49135),h=a(93196),y=a(67294),l=a(73935),ee=a(8177),z=a.n(ee),ae=a(54208),Z=a(52945),Pe=a.n(Z),oe=a(85315),Te=a(93967),F=a.n(Te),K=a(22731),v=a(3735),re=a(65406),L=a(14898),m=a(45697),B=a.n(m),C=a(62521),p=a(16469),g,u,T=(u=g=function(ot){(0,h.default)(be,ot);function be(Ae){(0,U.default)(this,be);var A=(0,S.default)(this,(be.__proto__||ce()(be)).call(this,Ae)),j=void 0;return Ae.defaultValue!==void 0&&(j=Ae.defaultValue),Ae.value!==void 0&&(j=Ae.value),A.state={value:j,showMenu:!1},A}return(0,c.default)(be,[{key:"componentWillReceiveProps",value:function(A){A.value!=null&&this.setState({value:A.value})}},{key:"getTextFromDataById",value:function(A,j){var H=this.props.placeholder,Q=function se(Ee){Ee.forEach(function(ue){if(ue.value!=null&&ue.value===j)return H=ue.text,!1;ue.children&&se(ue.children)})};return Q(A),H}},{key:"handleClick",value:function(){this.props.onClick()&&this.setState({showMenu:!this.state.showMenu})}},{key:"handleChange",value:function(A,j){this.props.value==null&&this.setState({value:j}),this.setState({showMenu:!1}),this.props.onChange&&this.props.onChange(j)}},{key:"render",value:function(){var A=this,j=this.props,H=this.state,Q=H.value,se=j.placeholder,Ee=j.maxHeight,ue=j.menuStyle;return y.createElement("div",{className:"GSelect-Dropdown pointer "+(this.props.className||""),style:this.props.style},y.createElement("div",{className:"GSelect-Dropdown--input",ref:function(Ue){A._input=Ue},onClick:function(){A.handleClick()}},y.createElement("div",null,Q!=null?y.createElement("span",{className:F()("value",{ThemeHoverColor3:this.props.hoverTheme,ThemeHoverBorderColor3:this.props.hoverTheme})},this.props.renderValue.replace(/{{value}}/g,this.getTextFromDataById(this.props.data,this.state.value))):y.createElement("span",{className:"GSelect-Dropdown--placeholder"},se)),y.createElement(t.Z,{icon:"arrow-down-border"})),this.state.showMenu?y.createElement(C.Z,{parentMenuItem:this,style:(0,X.default)({maxHeight:Ee||300,overflowY:"auto",overflowX:"hidden"},ue),onClickAway:function(){A.setState({showMenu:!1})},onClickAwayExceptions:[this._input]},this.props.data&&this.props.data.length?this.props.data.map(function(Ce,Ue){return y.createElement(p.Z,(0,X.default)({},Ce,{key:Ue,"data-value":Ce.value,icon:Ce.iconName?y.createElement(t.Z,{icon:Ce.iconName}):null,onClick:function(gt){A.handleChange(gt,Ce.value)}}),y.createElement("div",null,Ce.text))}):y.createElement(p.Z,{disabled:!0},y.createElement("div",null,this.props.noData))):null)}}]),be}(y.Component),g.propTypes={onClick:B().func,placeholder:B().string,onChange:B().func,defaultValue:B().any,value:B().any,menuStyle:B().object,name:B().string,maxHeight:B().number,className:B().string,hoverTheme:B().bool,noData:B().node,style:B().object,data:B().arrayOf(B().shape({type:B().oneOf(["hr","default"]),text:B().string,value:B().any,disabled:B().bool,desc:B().string,iconName:B().string,Children:B().array}))},g.defaultProps={noData:"\u65E0\u6570\u636E",placeholder:"\u8BF7\u9009\u62E9",renderValue:"{{value}}",onClick:function(){return!0}},u);const d=T;var O=a(25273),k=a(97373),x=a(94055),N=a(15759),E=a(60967),D=a(96486),I=a.n(D),R=function(ot){(0,h.default)(be,ot);function be(Ae){(0,U.default)(this,be);var A=(0,S.default)(this,(be.__proto__||ce()(be)).call(this,Ae));return A.getFullDepartment=function(j){var H=A.props.projectId;A.promise&&A.promise.abort(),A.promise=v.Z.getDepartmentFullNameById({departmentId:j,projectId:H}),A.promise.then(function(Q){A.setState({currentFullDepartment:Q,departmentId:j})})},A.state={},A.handleClick=A.handleClick.bind(A),A.promise=null,A}return(0,c.default)(be,[{key:"handleClick",value:function(){this.props.onChange(this.props.user)}},{key:"render",value:function(){var A=this,j=this.props,H=j.projectId,Q=j.user,se=j.checked,Ee=j.includeMySelf,ue=j.includeUndefinedAndMySelf,Ce=j.currentId,Ue=!((Ee||ue)&&Q.accountId===md.global.Account.accountId),$e=I().get(Q,"departmentInfo")||{},gt=$e.departmentName,rt=$e.departmentId,vt=this.state.currentFullDepartment,Ct=vt===void 0?"":vt;return Q.accountId?y.createElement("div",{className:F()("GSelect-User",{hoverSearchUserItem:Ce===Q.accountId}),onClick:this.handleClick,id:"GSelect-User-"+Q.accountId},y.createElement(E.Z,{className:"GSelect-User--checkbox",checked:se}),y.createElement("div",{className:"GSelect-User__avatar"},y.createElement(N.Z,{className:"circle",user:{userHead:Q.avatar,accountId:Q.accountId},size:28,projectId:H})),Ue?y.createElement("div",{className:"GSelect-User__fullname"},y.createElement("span",{className:"Gray"},Q.fullname)):y.createElement("div",{className:"GSelect-User__fullname"},_l("\u6211\u81EA\u5DF1")),Ue&&(gt||Q.job||Q.companyName)&&y.createElement("div",{className:"GSelect-User__companyName"},H?y.createElement(y.Fragment,null,y.createElement(x.default,{title:Ct,mouseEnterDelay:.8},y.createElement("span",{onMouseEnter:function(){A.timer=setTimeout(function(){return A.getFullDepartment(rt)},500)},onMouseLeave:function(){clearTimeout(A.timer),A.promise&&A.promise.abort()}},gt)),gt&&Q.job&&" | ",y.createElement("span",null,Q.job)):[Q.companyName,Q.job].filter(function(yt){return yt}).join(" | "))):null}}]),be}(y.Component),w=a(12975),b=function(ot){(0,h.default)(be,ot);function be(){return(0,U.default)(this,be),(0,S.default)(this,(be.__proto__||ce()(be)).apply(this,arguments))}return(0,c.default)(be,[{key:"getChecked",value:function(A){return!!this.props.selectedUsers.filter(function(j){return j.accountId===A.accountId}).length}},{key:"render",value:function(){var A=this,j=this.props.data,H={includeMySelf:this.props.includeMySelf||!1,includeUndefinedAndMySelf:this.props.includeUndefinedAndMySelf||!1};if(j.oftenUsers&&j.oftenUsers.list&&j.oftenUsers.list.length||j.users&&j.users.list.length){var Q=(I().get(j,"oftenUsers.list")||[]).concat(I().get(j,"users.list")||[]),se=I().get(I().find(Q,function(ue,Ce){return Ce===A.props.currentIndex}),"accountId"),Ee=this.props.currentIndex<=(I().get(j,"oftenUsers.list")||[]).length-1;return y.createElement("div",{className:"GSlect-defaultUsersContent"},j.oftenUsers&&j.oftenUsers.list&&j.oftenUsers.list.length?y.createElement("div",null,y.createElement("div",{className:"GSelect-navTitle"},_l("\u6700\u5E38\u534F\u4F5C")),j.oftenUsers.list.map(function(ue){return y.createElement(R,(0,X.default)({},H,{user:ue,onChange:A.props.onChange,projectId:A.props.projectId,checked:A.getChecked(ue),key:"oftenUser"+ue.accountId,currentId:Ee?se:""}))})):null,j.users&&j.users.list.length?y.createElement("div",null,y.createElement("div",{className:"GSelect-navTitle"},_l("\u6309\u62FC\u97F3A-Z\u6392\u5E8F")),j.users.list.map(function(ue){return y.createElement(R,(0,X.default)({},H,{user:ue,onChange:A.props.onChange,projectId:A.props.projectId,checked:A.getChecked(ue),key:"user"+ue.accountId,currentId:Ee?"":se}))})):null)}return y.createElement(w.Z,null,this.props.keywords?_l("\u65E0\u641C\u7D22\u7ED3\u679C"):_l("\u6682\u65E0\u6210\u5458"))}}]),be}(y.Component),Y=function(ot){(0,h.default)(be,ot);function be(){return(0,U.default)(this,be),(0,S.default)(this,(be.__proto__||ce()(be)).apply(this,arguments))}return(0,c.default)(be,[{key:"getChecked",value:function(A){return!!this.props.selectedUsers.filter(function(j){return j.accountId===A.accountId}).length}},{key:"render",value:function(){var A=this,j=this.props.data.list,H=j===void 0?[]:j,Q=this.props.selectedUsers,se=Q===void 0?[]:Q,Ee=this.props.getKeys(this.props.tabType),ue=Ee.ID,Ce=Ee.NAME,Ue=Ee.COUNT;return H.length?y.createElement("div",null,H.map(function($e){var gt=se.length&&($e.users||[]).length?I().every($e.users||[],function(rt){return I().find(se,function(vt){return vt.accountId===rt.accountId})}):!1;return y.createElement("div",{key:$e[ue]},y.createElement("div",{className:"GSelect-treeItem"},y.createElement("div",{className:"GSelect-arrow",onClick:function(){return A.props.toggleUserItem($e[ue])}},y.createElement("i",{className:F()("GSelect-arrow__arrowIcon",$e.open?"GSelect-arrow__arrowIcon--open":"GSelect-arrow__arrowIcon--close")})),y.createElement(E.Z,{className:"GSelect-treeItem--checkbox",disabled:A.props.unique,checked:gt,onClick:function(){return A.props.allSelectUserItem($e[ue],gt)}}),y.createElement("div",{className:"flex flexRow pointer",onClick:function(){return A.props.toggleUserItem($e[ue])}},y.createElement("div",{className:"GSelect-treeItem-name overflow_ellipsis"},$e[Ce]),y.createElement("div",{className:"GSelect-treeItem-number"},"\uFF08"+$e[Ue]+"\u4EBA\uFF09"))),$e.open?y.createElement("div",{className:"GSelect-userList"},$e.users.map(function(rt){return y.createElement(R,{user:rt,checked:A.getChecked(rt),projectId:A.props.projectId,onChange:A.props.onChange,key:rt.accountId})})):null)})):y.createElement(w.Z,null,this.props.keywords?_l("\u65E0\u641C\u7D22\u7ED3\u679C"):_l("\u6682\u65E0\u6210\u5458"))}}]),be}(y.Component),W=a(86735),M=a(71893),f=(0,W.Z)([`
  overflow: auto;
  .subs {
    margin-left: 10px;
  }
`],[`
  overflow: auto;
  .subs {
    margin-left: 10px;
  }
`]),ne=(0,W.Z)([`
  .justifyCenter {
    justify-content: center;
  }
  .GSelect-User {
    padding-left: 15px !important;
  }
`],[`
  .justifyCenter {
    justify-content: center;
  }
  .GSelect-User {
    padding-left: 15px !important;
  }
`]),ie=(0,W.Z)([`
  width: 100%;
  padding: 4px;
  border-radius: 3px;
  &:hover {
    background-color: #f5f5f5;
  }
  &.active {
    background-color: #d6ecfe;
    .icon,
    div {
      color: #2196f3 !important;
    }
    .icon:hover {
      background-color: #f5f5f5 !important;
    }
  }
  .iconArrow {
    display: flex;
    padding: 7px 0px 5px 2px;
    border-radius: 4px;
    &:hover {
      background-color: #eaeaea;
    }
  }
`],[`
  width: 100%;
  padding: 4px;
  border-radius: 3px;
  &:hover {
    background-color: #f5f5f5;
  }
  &.active {
    background-color: #d6ecfe;
    .icon,
    div {
      color: #2196f3 !important;
    }
    .icon:hover {
      background-color: #f5f5f5 !important;
    }
  }
  .iconArrow {
    display: flex;
    padding: 7px 0px 5px 2px;
    border-radius: 4px;
    &:hover {
      background-color: #eaeaea;
    }
  }
`]),V=M.ZP.div(f),me=M.ZP.div(ne),_e=M.ZP.div(ie),de=function(ot){(0,h.default)(be,ot);function be(Ae){(0,U.default)(this,be);var A=(0,S.default)(this,(be.__proto__||ce()(be)).call(this,Ae));A.handleScrollEnd=function(){var H=A.state,Q=H.groupId,se=H.loading,Ee=H.isMore,ue=A.props.projectId;!se&&Ee&&(ue===Q?A.handleLoadAll(Q):A.handleSelectGroup(Q))},A.getNextPageDepartmentTrees=function(H){var Q=A.state,se=Q.pagedDepartmentIndex,Ee=Q.pagedDepartmentSize,ue=A.props,Ce=ue.projectId,Ue=ue.isNetwork;A.setState({departmentLoading:!0}),v.Z[Ue?"pagedProjectDepartmentTrees":"pagedDepartmentTrees"]({projectId:Ce,pageIndex:se+1,pageSize:Ee,parentId:H}).then(function($e){var gt=I().isArray($e)&&$e.map(function(vt){return(0,X.default)({},vt,{name:vt.departmentName,id:vt.departmentId,subs:[]})})||[],rt=A.state.department.concat(gt);A.setState({isMoreDepartment:rt.length%Ee<=0,departmentLoading:!1,pagedDepartmentIndex:se+1,department:rt})})},A.handleLoadAll=function(H){var Q=A.state.pageIndex,se=A.props.projectId;A.setState({groupId:H,loading:!0}),v.Z.getNotInDepartmentUsers({projectId:se,pageIndex:Q,pageSize:20}).then(function(Ee){var ue=Ee.listUser,Ce=A.state.groupList.concat(ue.list);A.setState({isMore:Ce.length!==ue.allCount,loading:!1,pageIndex:Q+1,groupList:Ce})})},A.handleSelectGroup=function(H){var Q=A.state.pageIndex,se=A.props,Ee=se.userSettings,ue=se.projectId;A.setState({groupId:H,loading:!0}),v.Z.getDepartmentUsers({filterAccountIds:Ee.filterAccountIds,departmentId:H,projectId:ue,pageIndex:Q,pageSize:20}).then(function(Ce){var Ue=A.state.groupList.concat(Ce.list);A.setState({isMore:Ue.length!==Ce.allCount,loading:!1,pageIndex:Q+1,groupList:Ue})})},A.updateTreeData=function(H,Q,se){return H.map(function(Ee){return Ee.id===Q?(0,X.default)({},Ee,{subs:se}):Ee.subs?(0,X.default)({},Ee,{subs:A.updateTreeData(Ee.subs,Q,se)}):Ee})},A.expandNext=function(H){var Q=A.props,se=Q.projectId,Ee=Q.isNetwork,ue=A.state.department;A.setState({departmentLoading:!0}),v.Z[Ee?"pagedProjectDepartmentTrees":"pagedDepartmentTrees"]({projectId:se,pageIndex:1,pageSize:100,parentId:H}).then(function(Ce){var Ue=Ce.map(function($e){return(0,X.default)({},$e,{name:$e.departmentName,id:$e.departmentId,subs:[]})});A.setState({department:A.updateTreeData(ue,H,Ue),departmentLoading:!1})})},A.onlyShowJoinDepartment=function(H){A.setState({onlyJoinDepartmentChecked:!H}),safeLocalStorageSetItem("isCheckedOnlyMyJoin",!H),A.props.userAction()};var j=I().find(md.global.Account.projects,{projectId:Ae.projectId});return A.state={groupId:null,selects:[j.projectId],groupList:[],loading:!1,pageIndex:1,isMore:!0,pagedDepartmentIndex:1,pagedDepartmentSize:100,isMoreDepartment:!0,department:Ae.data||[],departmentLoading:!1,onlyJoinDepartmentChecked:localStorage.getItem("isCheckedOnlyMyJoin")?JSON.parse(localStorage.getItem("isCheckedOnlyMyJoin")):!1},A}return(0,c.default)(be,[{key:"componentDidMount",value:function(){this.props.defaultCheckedDepId&&this.handleSelectGroup(this.props.defaultCheckedDepId)}},{key:"getChecked",value:function(A){return!!this.props.selectedUsers.filter(function(j){return j.accountId===A.accountId}).length}},{key:"renderDepartment",value:function(A){var j=this,H=this.props.projectId,Q=this.state,se=Q.selects,Ee=Q.groupId,ue=se.includes(A.id);return y.createElement(y.Fragment,{key:A.id},y.createElement(_e,{className:F()("flexRow valignWrapper pointer",{active:Ee===A.id}),onClick:function(){j.setState({groupList:[],pageIndex:1,isMore:!0},function(){H===A.id?j.handleLoadAll(A.id):j.handleSelectGroup(A.id)})}},y.createElement(t.Z,{icon:ue?"arrow-down":"arrow-right-tip",className:F()("Gray_75 iconArrow",{Visibility:!A.haveSubDepartment}),onClick:function(Ue){Ue.stopPropagation(),j.expandNext(A.id);var $e=j.state.selects;$e.includes(A.id)?j.setState({selects:$e.filter(function(gt){return gt!==A.id})}):j.setState({selects:$e.concat(A.id)})}}),y.createElement(t.Z,{className:"Gray_9e Font16 mLeft2 mRight5",icon:"folder"}),y.createElement("div",{className:"ellipsis Font13"},A.name)),ue&&y.createElement("div",{className:"subs"},A.subs.map(function(Ce){return j.renderDepartment(Ce)})))}},{key:"renderDepartmentTree",value:function(){var A=this,j=this.state,H=j.department,Q=H===void 0?[]:H,se=j.departmentLoading,Ee=j.onlyJoinDepartmentChecked;return y.createElement(V,{className:"flexColumn flex"},y.createElement(E.Z,{className:"mBottom10 pLeft7 mTop10",checked:Ee,onClick:this.onlyShowJoinDepartment},_l("\u53EA\u770B\u6211\u52A0\u5165\u7684\u90E8\u95E8")),y.createElement("div",{className:"flex"},!se&&I().isEmpty(Q)?y.createElement(w.Z,null,_l("\u65E0\u7ED3\u679C")):y.createElement(O.Z,{className:"flex asdsad",onScrollEnd:function(){var Ce=A.state.isMoreDepartment;!se&&Ce&&Q.length>=A.state.pagedDepartmentSize&&A.getNextPageDepartmentTrees()}},Q.map(function(ue){return A.renderDepartment(ue)}),se&&y.createElement("div",{className:"justifyCenter flexRow valignWrapper"},y.createElement(ae.Z,null)))))}},{key:"renderUsers",value:function(){var A=this,j=this.props.pageIndex,H=this.state,Q=H.groupId,se=H.loading,Ee=H.groupList;if(se&&!Ee.length)return y.createElement("div",{className:"justifyCenter flexRow valignWrapper h100"},y.createElement(ae.Z,null));var ue=this.props.selectedUsers.map(function(Ue){return Ue.accountId}),Ce=Ee.filter(function(Ue){return ue.includes(Ue.accountId)});return y.createElement(O.Z,{className:"flex",onScrollEnd:this.handleScrollEnd},Ee.length?y.createElement(y.Fragment,null,y.createElement("div",{className:"flexRow valignWrapper pLeft15 pBottom5"},y.createElement(E.Z,{checked:Ce.length===Ee.length,disabled:this.props.unique,onClick:function(){var $e=Ce.length!==Ee.length;if($e){var gt=A.props.selectedUsers.map(function(Ct){return Ct.accountId}),rt=Ee.filter(function(Ct){return!gt.includes(Ct.accountId)}).map(function(Ct){return{data:Ct,type:"user"}});A.props.addSelectedData(rt)}else{var vt=A.props.selectedUsers.map(function(Ct){return Ct.accountId});A.props.removeSelectedData(Ee.filter(function(Ct){return vt.includes(Ct.accountId)}).map(function(Ct){return Ct.accountId}))}}}),y.createElement("div",{className:"Gray_75"},Ce.length?_l("\u5DF2\u9009 %0/%1",Ce.length,Ee.length):_l("\u5168\u9009"))),Ee.map(function(Ue){return y.createElement(R,{key:Ue.accountId,user:Ue,projectId:A.props.projectId,checked:A.getChecked(Ue),onChange:A.props.onChange})}),se&&y.createElement("div",{className:"justifyCenter flexRow valignWrapper"},y.createElement(ae.Z,null))):y.createElement("div",{className:"Gray_9e TxtCenter justifyCenter flexRow valignWrapper h100"},Q?_l("\u90E8\u95E8\u4E0B\u6CA1\u6709\u53EF\u9009\u6210\u5458"):_l("\u4ECE\u5DE6\u4FA7\u9009\u62E9\u90E8\u95E8\u540E\u663E\u793A\u6210\u5458")))}},{key:"render",value:function(){var A=this.state,j=A.departmentLoading,H=A.department,Q=H===void 0?[]:H;return y.createElement("div",{className:"flexRow h100"},this.renderDepartmentTree(),y.createElement(me,{className:"flex"},!j&&!I().isEmpty(Q)?this.renderUsers():null))}}]),be}(y.Component),Le=function(ot){(0,h.default)(be,ot);function be(){return(0,U.default)(this,be),(0,S.default)(this,(be.__proto__||ce()(be)).apply(this,arguments))}return(0,c.default)(be,[{key:"getChecked",value:function(A){return!!this.props.selectedUsers.filter(function(j){return j.accountId===A.accountId}).length}},{key:"render",value:function(){var A=this,j=this.props.data;if(j.list&&j.list.length){var H=I().get(I().find(j.list||[],function(Q,se){return se===A.props.currentIndex}),"accountId");return y.createElement("div",null,j.list.length?y.createElement("div",null,j.list.map(function(Q){return y.createElement(R,{user:Q,projectId:A.props.projectId,onChange:A.props.onChange,checked:A.getChecked(Q),key:"user"+Q.accountId,currentId:H})})):null)}return y.createElement(w.Z,null,this.props.keywords?_l("\u65E0\u641C\u7D22\u7ED3\u679C"):_l("\u6682\u65E0\u6210\u5458"))}}]),be}(y.Component),ge=a(25978),Oe=a(7584),nt=a(42185),lt={ALL:1,FREND:1,PROJECT:2},Ve={CONTACK_USER:1,DEPARTMENT_USER:2,OTHER_USER:4,DEPARTMENT:5,GROUP:6,RESIGNED:7},De={USER:"user",DEPARTMENT:"department",GROUP:"group",RESIGNED:"resigned"},ze={CONACT_USER:"conactUser",DEPARTMENT:"department",GROUP:"group",SUBORDINATE_USER:"subordinateUser",RESIGNED:"resigned"},st=a(44894),ht,Ie,le,we,We;function at(ot,be,Ae,A,j){var H={};return Object.keys(A).forEach(function(Q){H[Q]=A[Q]}),H.enumerable=!!H.enumerable,H.configurable=!!H.configurable,("value"in H||H.initializer)&&(H.writable=!0),H=Ae.slice().reverse().reduce(function(Q,se){return se(ot,be,Q)||Q},H),j&&H.initializer!==void 0&&(H.value=H.initializer?H.initializer.call(j):void 0,H.initializer=void 0),H.initializer===void 0&&(Object.defineProperty(ot,be,H),H=null),H}var At=function(be){return[{id:ze.CONACT_USER,name:_l("\u5168\u90E8"),type:1,page:!0,actions:{getContactUsers:be?K.Z.getProjectContactUserList:K.Z.getContactUserList}},{id:ze.DEPARTMENT,name:_l("\u6309\u90E8\u95E8"),type:2,page:!1,actions:{getDepartments:be?v.Z.getProjectContactDepartments:v.Z.getContactProjectDepartments,getDepartmentUsers:be?v.Z.getProjectDepartmentUsers:v.Z.getDepartmentUsers}},{id:ze.GROUP,name:_l("\u6309\u7FA4\u7EC4"),type:6,page:!0,actions:{getGroups:re.Z.getContactGroups,getGroupUsers:re.Z.getGroupEffectUsers}},{id:ze.SUBORDINATE_USER,name:_l("\u6309\u4E0B\u5C5E"),type:4,page:!0,actions:{getUsers:L.Z.getSubordinateUsers}}]},dt=[{id:ze.RESIGNED,name:_l("\u5DF2\u79BB\u804C"),type:7,page:!0,actions:{getResigned:K.Z.getProjectResignedUserList}}],mt=(le=(We=we=function(ot){(0,h.default)(be,ot);function be(Ae){(0,U.default)(this,be);var A=(0,S.default)(this,(be.__proto__||ce()(be)).call(this,Ae));A.promiseObj=null,A._scrollView=null,A._searchInput=null,A.userSettings=null,A.departmentSettings=null,A.handleKeyDown=function(H){if(A.promiseObj)return!1;var Q=A.state,se=Q.currentIndex,Ee=Q.chooseType,ue=A.getResultData();if(Ee===De.USER&&$("#dialogBoxSelectUser")&&A.scrollView&&ue.length){var Ce=H.which,Ue=H.ctrlKey;Ce===38?A.setState({currentIndex:se===-1||se===0?ue.length-1:se-1},function(){A.adjustViewport("up",ue)}):Ce===40?A.setState({currentIndex:se===ue.length-1?0:se+1},function(){A.adjustViewport("down",ue)}):Ue&&Ce==13&&A.userSettings.unique?A.submit():Ce===13&&A.state.currentIndex>=0&&A.toogleUserSelect(ue[A.state.currentIndex])}},A.userAction=function(){var H=A.userSettings,Q=A.commonSettings,se=H.defaultTabs.filter(function(Ce){return Ce.id===A.state.selectedUserTabId})[0];if(se){var Ee={keywords:A.state.keywords,projectId:Q.projectId,dataRange:Q.dataRange,filterAccountIds:H.filterAccountIds,prefixAccountIds:H.prefixAccountIds,filterFriend:H.filterFriend,filterProjectId:H.filterProjectId,includeUndefinedAndMySelf:se.type===Ve.CONTACK_USER?H.includeUndefinedAndMySelf:void 0,includeSystemField:se.type===Ve.CONTACK_USER?H.includeSystemField:void 0,includeMySelf:H.includeMySelf};if(se.page&&(Ee.pageIndex=A.state.pageIndex,Ee.pageSize=A.state.pageSize,!A.state.haveMore))return!1;var ue=null;se.type==Ve.CONTACK_USER?ue=se.actions.getContactUsers:se.type==Ve.DEPARTMENT_USER?A.state.keywords?ue=se.actions.getDepartments:(ue=v.Z[Q.isSuperWork?"pagedProjectDepartmentTrees":"pagedDepartmentTrees"],Ee.pageIndex=1,Ee.pageSize=100,Ee.parentId="",Ee.onlyMyJoin=localStorage.getItem("isCheckedOnlyMyJoin")?JSON.parse(localStorage.getItem("isCheckedOnlyMyJoin")):!1):se.type==Ve.GROUP?ue=se.actions.getGroups:ue=se.actions.getUsers,(!se.page||Ee.pageIndex===1)&&A.setState({loading:!0}),A.handlePromise(ue(Ee)).then(function(Ce){se.type===Ve.DEPARTMENT_USER&&localStorage.getItem("isCheckedOnlyMyJoin")&&JSON.parse(localStorage.getItem("isCheckedOnlyMyJoin"))&&!A.state.keywords&&A.setState({defaultCheckedDepId:!I().isEmpty(Ce)&&Ce[0].departmentId||null});var Ue=!0;if(Ee.pageIndex>1){var $e=A.state.mainData;se.type===Ve.CONTACK_USER?(Ce.users.list.length<A.state.pageSize&&(Ue=!1),$e.data.users.list=[].concat((0,oe.Z)($e.data.users.list),(0,oe.Z)(Ce.users.list)),Ce=$e.data):se.type!==Ve.DEPARTMENT_USER&&(Ce.list.length<A.state.pageSize&&(Ue=!1),Ce.list=[].concat((0,oe.Z)($e.data.list),(0,oe.Z)(Ce.list)))}H.filterSystemAccountId.forEach(function(gt){Ce.oftenUsers&&I().remove(Ce.oftenUsers.list,function(rt){return rt.accountId===gt})}),A.setState({mainData:{renderType:se.type,data:Ce},haveMore:Ue,loading:!1,isSearch:!1})})}},A.searchDefault=I().debounce(function(){return A.defaultAction()},500),A.getCount=function(H){var Q=A.state.mainData;Q=Q===void 0?{}:Q;var se=Q.data,Ee=se===void 0?{}:se,ue=Q.renderType,Ce=A.getRenderTypeByTabId(H);if(Ce===ue)return H===ze.CONACT_USER?((Ee.users||{}).list||[]).concat((Ee.oftenUsers||{}).list||[]).length:H===ze.RESIGNED?Ee.allCount:H===ze.GROUP?(Ee.list||[]).length:(Ee.list||[]).length},A.getDefaultSearchTabs=function(){return(A.userSettings.defaultTabs||[]).filter(function(H){return I().includes([ze.CONACT_USER,ze.DEPARTMENT,ze.GROUP],H.id)})},A.state=Pe()(A.receiveProps(Ae),{selectedData:[].concat((0,oe.Z)(Ae.departmentSettings.departments.map(function(H){return{type:De.DEPARTMENT,data:H}})))});var j=location.href;return A}return(0,c.default)(be,[{key:"handlePromise",value:function(A){return this.promiseObj&&(this.promiseObj.abort(),this.promiseObj=""),this.promiseObj=A,this.promiseObj}},{key:"componentWillReceiveProps",value:function(A){var j=this,H=A.commonSettings.projectId!==this.commonSettings.projectId||A.commonSettings.dataRange!==this.commonSettings.dataRange,Q=this.receiveProps(A);this.setState(Q,function(){H&&j.defaultAction()})}},{key:"componentWillMount",value:function(){this.defaultAction()}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"updateEvent",value:function(A,j){var H=this,Q=j.position,se=j.maximum,Ee=j.direction;if(Ee==="down"&&se-Q<=50){var ue=!1;this.state.chooseType===De.USER?ue=this.getTabItem().page:this.state.chooseType===De.RESIGNED&&(ue=this.state.haveMore),ue&&this.setState({pageIndex:this.state.pageIndex+1},function(){H.defaultAction()})}}},{key:"getResultData",value:function(){var A=this.state.mainData;if(!A)return[];switch(A.renderType){case Ve.CONTACK_USER:var j=A.data||{};return((j.oftenUsers||{}).list||[]).concat((j.users||{}).list||[]);case Ve.RESIGNED:case Ve.OTHER_USER:return(A.data||{}).list||[];default:return[]}}},{key:"adjustViewport",value:function(A,j){var H=this.state.currentIndex,Q=l.findDOMNode(this.scrollView),se=$(Q),Ee=j[H]||{},ue=$("#GSelect-User-"+Ee.accountId);if(!(!Q.nanoscroller.isActive||H===-1)){if(A==="up")(ue.position().top<0||ue.position().top+ue.height()>=se.height())&&se.nanoScroller({scrollTo:ue});else if(A==="down")if(ue.position().top+ue.height()>=se.height()){var Ce=se.find(".nano-content").get(0).scrollHeight-se.find(".nano-content").get(0).scrollTop-ue.position().top-ue.height();se.nanoScroller({scrollBottom:Ce})}else ue.position().top<0&&se.nanoScroller({scrollTo:ue})}}},{key:"getTabItem",value:function(){var A=this;return this.userSettings.defaultTabs.filter(function(j){return j.id===A.state.selectedUserTabId})[0]}},{key:"receiveProps",value:function(A){var j={projectId:"",dataRange:0,btnName:_l("\u786E\u8BA4"),selectModes:A.commonSettings.selectModes||[De.USER],callback:function(gt,rt,vt){}},H={_id:0,defaultTabs:At(A.commonSettings.isSuperWork),showTabs:["conactUser","department","group","subordinateUser"],extraTabs:[],allowSelectNull:!1,filterAccountIds:[],filterProjectId:"",filterFriend:!1,filterResigned:!0,unique:!1,pageIndex:1,pageSize:50,isMore:!0},Q={disabledDepartmentIds:[],departmentIds:[]};this.commonSettings=$.extend(j,A.commonSettings||{}),this.userSettings=$.extend(H,A.userSettings||{}),this.departmentSettings=$.extend(Q,A.departmentSettings||{}),this.commonSettings.selectModes.length===1&&this.commonSettings.selectModes[0]===De.USER&&(this.userSettings.allowSelectNull=!1);var se=this.userSettings;se.extraTabs&&se.extraTabs.length&&se.extraTabs.forEach(function($e){se.defaultTabs.push($e)});var Ee=[],ue=se.showTabs,Ce=ue===void 0?[]:ue;Ce.forEach(function($e){Ee=Ee.concat(se.defaultTabs.filter(function(gt){return gt.id===$e}))}),se.defaultTabs=Ee;var Ue={chooseType:A.chooseType,keywords:"",isProject:this.checkIsProject(),selectedUserTabId:se.defaultTabs[0].id,pageSize:50,pageIndex:1,mainData:null,loading:!1,haveMore:!0,isSearch:!1,currentIndex:-1};return Ue}},{key:"checkIsProject",value:function(){return this.commonSettings.projectId!==""}},{key:"defaultAction",value:function(){this.state.chooseType===De.USER?this.userAction():this.state.chooseType===De.DEPARTMENT?this.departmentAction():this.state.chooseType===De.RESIGNED&&this.resignedAction()}},{key:"departmentAction",value:function(){var A=this,j=this.userSettings,H=this.commonSettings;this.setState({loading:!0});var Q=void 0;this.state.keywords?Q=this.getSearchDepartmentTree.bind(this):Q=this.getDepartmentTree.bind(this),v.Z.searchDepartment({projectId:H.projectId,keywords:this.state.keywords}).then(function(se){A.setState({loading:!1,mainData:{renderType:Ve.DEPARTMENT,data:Q(se)}})})}},{key:"groupAction",value:function(){var A=this,j=this.state,H=j.pageSize,Q=j.pageIndex,se=j.firstLetter,Ee=j.keywords;if(!this.state.haveMore)return!1;Q===1&&this.setState({loading:!0}),re.Z.getGroupsSearch({projectId:this.commonSettings.projectId,pageSize:H,pageIndex:Q,firstLetter:se,keyword:Ee}).then(function(ue){if(Q>1){var Ce=[].concat((0,oe.Z)(A.state.mainData.data.normalGroups.list),(0,oe.Z)(A.getGroupTree(ue).normalGroups.list)),Ue=A.state.mainData.data.normalGroups.allCount,$e=!0;Ce.length===Ue&&($e=!1),A.setState({loading:!1,mainData:{renderType:Ve.GROUP,data:{normalGroups:{allCount:Ue,list:Ce},sharedGroups:A.state.mainData.data.sharedGroups,haveMore:$e}}})}else A.setState({loading:!1,mainData:{renderType:Ve.GROUP,data:A.getGroupTree(ue)}})})}},{key:"resignedAction",value:function(){var A=this,j=this.state,H=j.pageSize,Q=j.pageIndex,se=j.keywords,Ee=j.mainData,ue=Ee===void 0?{}:Ee;if(!this.state.haveMore)return!1;Q===1&&this.setState({loading:!0});var Ce=K.Z.getProjectResignedUserList({projectId:this.commonSettings.projectId,pageSize:H,pageIndex:Q,keywords:se});this.handlePromise(Ce).then(function(Ue){var $e={list:(ue.renderType===Ve.RESIGNED&&Q>1?(ue.data||{}).list||[]:[]).concat(Ue.list||[]),allCount:Ue.allCount};A.setState({haveMore:!Ue.list.length<A.state.pageSize,mainData:{renderType:Ve.RESIGNED,data:$e},loading:!1,isSearch:!1})})}},{key:"getOriginDepartment",value:function(A){return A.map(function(j){return{departmentId:j.departmentId,departmentName:j.departmentName,haveSubDepartment:j.haveSubDepartment,userCount:j.userCount}})}},{key:"getDepartmentTree",value:function(A){var j=this;return A.map(function(H){var Q=H.departmentId,se=H.departmentName,Ee=H.userCount,ue=H.haveSubDepartment,Ce=!1;return j.departmentSettings.disabledDepartmentIds.indexOf(Q)>=0&&(Ce=!0),{departmentId:Q,departmentName:se,userCount:Ee,haveSubDepartment:ue,open:!1,disabled:Ce,subDepartments:[]}})}},{key:"getSearchDepartmentTree",value:function(A){var j=this;return A.map(function(H){var Q=H.departmentId,se=H.departmentName,Ee=H.userCount,ue=H.haveSubDepartment,Ce=H.subDepartments,Ue=Ce===void 0?[]:Ce;Ue.length&&(Ue=j.getSearchDepartmentTree(Ue));var $e=!1;return j.departmentSettings.disabledDepartmentIds.indexOf(Q)>=0&&($e=!0),{departmentId:Q,departmentName:se,userCount:Ee,haveSubDepartment:ue,open:!0,disabled:$e,subDepartments:Ue}})}},{key:"getKeys",value:function(A){var j=null,H=null,Q=null;switch(A){case ze.DEPARTMENT:j="departmentId",H="departmentName",Q="userCount";break;case ze.GROUP:j="groupId",H="name",Q="groupMemberCount";break}return{ID:j,NAME:H,COUNT:Q}}},{key:"getRenderTypeByTabId",value:function(A){var j=void 0;return A===ze.CONACT_USER?j=Ve.CONTACK_USER:A===ze.DEPARTMENT?j=Ve.DEPARTMENT_USER:A===ze.GROUP?j=Ve.GROUP:A===ze.RESIGNED?j=Ve.RESIGNED:j=Ve.OTHER_USER,j}},{key:"getDepartmentById",value:function(A,j){for(var H=0;H<A.length;H++){var Q=A[H];if(Q.departmentId===j)return Q;if(Q.subDepartments.length){var se=this.getDepartmentById(Q.subDepartments,j);if(se)return this.getDepartmentById(Q.subDepartments,j)}}}},{key:"onChangeUserFilter",value:function(A){var j=this;this.setState({selectedUserTabId:A,chooseType:De.USER,keywords:"",pageIndex:1,currentIndex:-1,haveMore:!0},function(){j.userAction()})}},{key:"changeSelect",value:function(A,j,H){var Q=void 0;switch(A){case De.USER:Q=this.selectedUsers;break;case De.DEPARTMENT:Q=this.selectedDepartment;break}Q.filter(function(se){return se[H]===j[H]}).length?this.deleteData(A,j[H],H):this.addData(A,j,H)}},{key:"toogleUserSelect",value:function(A){this.changeSelect(De.USER,A,"accountId")}},{key:"toogleDepargmentSelect",value:function(A){this.changeSelect(De.DEPARTMENT,A,"departmentId")}},{key:"deleteData",value:function(A,j,H){var Q=[].concat((0,oe.Z)(this.state.selectedData));Q=Q.filter(function(se){return se.type===A?se.data[H]!==j:!0}),this.setState({selectedData:Q})}},{key:"addData",value:function(A,j){var H=this,Q=[].concat((0,oe.Z)(this.state.selectedData));A===De.USER&&this.userSettings.unique&&(Q=Q.filter(function(se){return se.type!==De.USER})),Q.push({type:A,data:j}),this.setState({selectedData:Q}),setTimeout(function(){H._resultScrollView&&(H._resultScrollView.scrollTop=H._resultScrollView.scrollHeight)},0)}},{key:"toggleDepartmentList",value:function(A){var j=this,H=[].concat((0,oe.Z)(this.state.mainData.data)),Q=this.getDepartmentById(H,A);if(!Q.haveSubDepartment)return!1;if(Q.open)Q.open=!1;else if(Q.subDepartments.length)Q.open=!0;else return v.Z.getProjectSubDepartmentByDepartmentId({projectId:this.commonSettings.projectId,departmentId:Q.departmentId}).then(function(se){Q.subDepartments=j.getDepartmentTree(se),Q.open=!0,j.setState({mainData:{renderType:Ve.DEPARTMENT,data:H}})}),!1;this.setState({mainData:{renderType:Ve.DEPARTMENT,data:H}})}},{key:"changeFirstLetter",value:function(A){var j=this;this.setState({pageIndex:1,haveMore:!0},function(){return j.userAction()})}},{key:"search",value:function(A){var j=this,H=this.userSettings.showTabs,Q=H===void 0?[]:H;if(!A){this.closeSearch();return}var se=this.state.keywords?this.state.selectedUserTabId:ze.CONACT_USER;I().includes(Q,"structureUsers")?se="structureUsers":I().includes(Q,"ruleMember")&&(se="ruleMember"),this.setState({keywords:A,pageIndex:1,haveMore:!0,currentIndex:-1,selectedUserTabId:se,isSearch:!0},function(){j.searchDefault()})}},{key:"closeSearch",value:function(){var A=this,j=this.userSettings.showTabs,H=j===void 0?[]:j,Q=ze.CONACT_USER;I().includes(H,"structureUsers")?Q="structureUsers":I().includes(H,"ruleMember")&&(Q="ruleMember"),this.setState({keywords:"",pageIndex:1,currentIndex:-1,haveMore:!0,chooseType:De.USER,selectedUserTabId:Q},function(){return A.defaultAction()})}},{key:"toggleUserItem",value:function(A){var j=this,H=this.userSettings.defaultTabs.filter(function($e){return $e.id===j.state.selectedUserTabId})[0],Q=this.getKeys(this.state.selectedUserTabId),se=Q.ID,Ee=Q.COUNT,ue=this.state.mainData.data,Ce=null;if(ue.list.forEach(function($e){$e[se]===A&&(Ce=$e)}),Ce.open)Ce.open=!1,this.setState({mainData:{renderType:this.getRenderTypeByTabId(this.state.selectedUserTabId),data:ue}});else if((Ce.users||[]).length===Ce[Ee])Ce.open=!0,this.setState({mainData:{renderType:this.getRenderTypeByTabId(this.state.selectedUserTabId),data:ue}});else{var Ue=null;this.state.selectedUserTabId===ze.DEPARTMENT?Ue=this.handlePromise(H.actions.getDepartmentUsers({departmentId:A,keywords:"",filterAccountIds:this.userSettings.filterAccountIds,projectId:this.commonSettings.projectId})):Ue=this.handlePromise(H.actions.getGroupUsers({groupId:A,keywords:"",filterAccountIds:this.userSettings.filterAccountIds})),Ue.then(function($e){var gt=null;j.state.selectedUserTabId===ze.DEPARTMENT?gt=$e.list:gt=$e,ue.list=ue.list.map(function(rt){return rt[se]===A&&(rt.users=gt,rt.open=!0),rt}),j.setState({mainData:{renderType:j.getRenderTypeByTabId(j.state.selectedUserTabId),data:ue}})})}}},{key:"allSelectUserItem",value:function(A,j){var H=this,Q=this.userSettings.defaultTabs.filter(function(Ct){return Ct.id===H.state.selectedUserTabId})[0],se=this.getKeys(this.state.selectedUserTabId),Ee=se.ID,ue=se.COUNT,Ce=this.state.mainData.data,Ue=this.state.selectedData,$e=null;Ce.list.forEach(function(Ct){Ct[Ee]===A&&($e=Ct)});var gt=function(yt){Ce.list=Ce.list.map(function(Et){if(Et[Ee]===A){Et.users=yt;var Rt=Ue.concat((yt||[]).map(function(zt){return{type:De.USER,data:zt}}));Ue=I().uniqBy(Rt,function(zt){var mn=zt.type,on=zt.data.accountId;return mn===De.USER&&on})}return Et}),H.setState({mainData:{renderType:H.getRenderTypeByTabId(H.state.selectedUserTabId),data:Ce},selectedData:Ue})};if(($e.users||[]).length<$e[ue]){var rt=null;this.state.selectedUserTabId===ze.DEPARTMENT?rt=this.handlePromise(Q.actions.getDepartmentUsers({departmentId:A,keywords:"",filterAccountIds:this.userSettings.filterAccountIds,projectId:this.commonSettings.projectId})):rt=this.handlePromise(Q.actions.getGroupUsers({groupId:A,keywords:"",filterAccountIds:this.userSettings.filterAccountIds})),rt.then(function(Ct){if(H.state.selectedUserTabId===ze.DEPARTMENT){var yt=Ct.list,Et=yt===void 0?[]:yt;gt(Et)}else{var Rt=Ct;gt(Rt)}})}else{var vt=$e.users;j?this.setState({selectedData:Ue.filter(function(Ct){return!I().find(vt,function(yt){return yt.accountId===I().get(Ct,"data.accountId")})})}):gt(vt)}}},{key:"changeChooseType",value:function(A){var j=this;this.setState({chooseType:A,keywords:"",pageIndex:1,currentIndex:-1,haveMore:!0},function(){j.defaultAction()})}},{key:"dropdownOnClick",value:function(){return this.state.chooseType!==De.USER?(this.changeChooseType(De.USER),!1):!0}},{key:"submit",value:function(){var A=this,j,H=this.selectedUsers,Q=this.selectedDepartment,se=this.selectedResigned;if(this.commonSettings.selectModes.indexOf("user")>=0&&!this.userSettings.allowSelectNull&&!H.length){alert(_l("\u8BF7\u9009\u62E9\u7528\u6237"),3);return}var Ee={users:[],departments:[],groups:[]},ue=this.commonSettings.selectModes.map(function(Ce){if(Ce===De.USER){var Ue=H;return Ee.users=Ue,Ue}if(Ce===De.DEPARTMENT){var $e=A.getOriginDepartment(Q);return Ee.departments=$e,$e}if(Ce===De.RESIGNED){var gt=se;return Ee.resigned=se,gt}return null});(j=this.userSettings).callback.apply(j,(0,oe.Z)(ue)),this.commonSettings.callback(Ee)}},{key:"renderUsersList",value:function(){var A=this,j=this.props.commonSettings,H=this.state.mainData;if(!H)return null;switch(H.renderType){case Ve.CONTACK_USER:return y.createElement(b,{projectId:j.projectId,data:H.data,includeMySelf:this.userSettings.includeMySelf,includeUndefinedAndMySelf:this.userSettings.includeUndefinedAndMySelf,onChange:this.toogleUserSelect,selectedUsers:this.selectedUsers,keywords:this.state.keywords,currentIndex:this.state.currentIndex});case Ve.DEPARTMENT_USER:return this.state.keywords?y.createElement(Y,{data:H.data,onChange:this.toogleUserSelect,toggleUserItem:this.toggleUserItem,allSelectUserItem:this.allSelectUserItem,selectedUsers:this.selectedUsers,getKeys:this.getKeys,tabType:ze.DEPARTMENT,unique:this.userSettings.unique,keywords:this.state.keywords}):y.createElement(de,{isNetwork:j.isSuperWork,data:I().isArray(H.data)&&H.data.map(function(Q){return(0,X.default)({},Q,{name:Q.departmentName,id:Q.departmentId,subs:[]})})||[],onChange:this.toogleUserSelect,selectedUsers:this.selectedUsers,userSettings:this.userSettings,projectId:this.commonSettings.projectId,removeSelectedData:function(se){var Ee=[].concat((0,oe.Z)(A.state.selectedData));A.setState({selectedData:Ee.filter(function(ue){return!se.includes(ue.data.accountId)})})},unique:this.userSettings.unique,addSelectedData:function(se){A.setState({selectedData:A.state.selectedData.concat(se)})},userAction:this.userAction,defaultCheckedDepId:this.state.defaultCheckedDepId});case Ve.GROUP:return y.createElement(Y,{data:H.data,onChange:this.toogleUserSelect,toggleUserItem:this.toggleUserItem,allSelectUserItem:this.allSelectUserItem,selectedUsers:this.selectedUsers,getKeys:this.getKeys,tabType:ze.GROUP,unique:this.userSettings.unique,keywords:this.state.keywords});case Ve.RESIGNED:case Ve.OTHER_USER:return y.createElement(Le,{data:H.data,onChange:this.toogleUserSelect,selectedUsers:this.selectedUsers,keywords:this.state.keywords,currentIndex:this.state.currentIndex});default:return null}}},{key:"renderResult",value:function(){var A=this;return this.state.selectedData.map(function(j){var H=null,Q=null,se=null,Ee=function(){};switch(j.type){case De.USER:case De.RESIGNED:H=y.createElement("img",{src:(j.data||{}).avatar,alt:"\u5934\u50CF",className:"GSelect-result-subItem__avatar"}),Q=(j.data||{}).accountId,se=(j.data||{}).fullname,Ee=function(Ue){A.deleteData(j.type,Ue,"accountId")};break;case De.DEPARTMENT:H=y.createElement("div",{className:"GSelect-result-subItem__avatar"},y.createElement("i",{className:"icon-department"})),Q=(j.data||{}).departmentId,se=(j.data||{}).departmentName,Ee=function(Ue){A.deleteData(j.type,Ue,"departmentId")};break}var ue={avatar:H,id:Q,name:se,deleteFn:Ee};return y.createElement(Oe.Z,(0,X.default)({},ue,{key:Q}))})}},{key:"renderUsersContent",value:function(){return y.createElement("div",{className:"GSelect-usersContent h100"},this.renderUsersList())}},{key:"renderDepartmentContent",value:function(){return y.createElement("div",{className:"GSelect-departmentContent"},this.state.mainData.data&&this.state.mainData.data.length?y.createElement(ge.Z,{data:this.state.mainData.data,toogleDepargmentSelect:this.toogleDepargmentSelect,toggleDepartmentList:this.toggleDepartmentList,selectedDepartment:this.selectedDepartment,keywords:this.state.keywords,DepartmentList:!1}):y.createElement(w.Z,null,this.state.keywords?_l("\u65E0\u641C\u7D22\u7ED3\u679C"):_l("\u6682\u65E0\u6210\u5458")))}},{key:"renderTabs",value:function(){var A=this,j=this.state.keywords;if(j){var H=this.getDefaultSearchTabs();return this.userSettings.filterResigned||(H=H.concat(dt)),y.createElement("ul",{className:"GSelect-head-search-navbar"},H.map(function(Ue){return y.createElement("li",{key:Ue.id,onClick:function(){A.setState({selectedUserTabId:Ue.id,chooseType:Ue.id===ze.RESIGNED?De.RESIGNED:De.USER,pageIndex:1,currentIndex:-1,haveMore:!0},function(){A.defaultAction()})},className:F()("GSelect-head-search-navbar__item",{"GSelect-head-search-navbar__item--active":A.state.selectedUserTabId===Ue.id})},Ue.id===ze.CONACT_USER?_l("\u6210\u5458"):Ue.name,!A.state.isSearch&&!!A.getCount(Ue.id)&&y.createElement("span",{className:"mLeft3"},A.getCount(Ue.id)))}))}else{var Q=this.userSettings.defaultTabs.map(function(Ue){return{text:Ue.name,value:Ue.id}}),se=void 0;if(this.commonSettings.selectModes.length===1&&this.commonSettings.selectModes[0]==="user")se=this.userSettings.defaultTabs.map(function(Ue){return y.createElement("li",{key:Ue.id,onClick:function(){return A.onChangeUserFilter(Ue.id)},className:F()("GSelect-head-navbar__item",{"GSelect-head-navbar__item--active":A.state.selectedUserTabId===Ue.id})},Ue.name)});else{var Ee=y.createElement(d,{key:"selectUsers",data:Q,onChange:this.onChangeUserFilter,onClick:this.dropdownOnClick,value:this.state.selectedUserTabId,className:F()("GSelect-head-navbar__item",{"GSelect-head-navbar__item--active":this.state.chooseType===De.USER}),renderValue:"\u9009\u62E9\u6210\u5458\uFF08{{value}}\uFF09"}),ue=y.createElement("li",{key:"SelectDepartemnts",onClick:function(){return A.changeChooseType(De.DEPARTMENT)},className:F()("GSelect-head-navbar__item",{"GSelect-head-navbar__item--active":this.state.chooseType===De.DEPARTMENT})},_l("\u9009\u62E9\u90E8\u95E8")),Ce=y.createElement("li",{key:"SelectGroups",onClick:function(){return A.changeChooseType(De.GROUP)},className:F()("GSelect-head-navbar__item ThemeBorderColor3",{"GSelect-head-navbar__item--active":this.state.chooseType===De.GROUP})},_l("\u9009\u62E9\u7FA4\u7EC4"));this.state.isProject||(Ee=y.createElement("li",{key:"SelectUsers",onClick:function(){return A.changeChooseType(De.USER)},className:F()("GSelect-head-navbar__item",{"GSelect-head-navbar__item--active":this.state.chooseType===De.USER})},_l("\u9009\u62E9\u6210\u5458")),Ce=ue=null),se=er.map(function(Ue){return Ue===De.USER?Ee:Ue===De.DEPARTMENT?ue:Ue===De.GROUP?Ce:null})}return y.createElement("ul",{className:"GSelect-head-navbar"},se)}}},{key:"renderHead",value:function(){var A=this,j=this.state.keywords;return y.createElement(y.Fragment,null,y.createElement("div",{className:"GSelect-head-searchArea"},y.createElement("span",{className:"icon-search1 searchIcon"}),y.createElement("input",{type:"text",value:j,autoFocus:!0,onChange:function(Q){return A.search(Q.target.value)},ref:function(Q){A._searchInput=Q},placeholder:this.checkIsProject()?_l("\u641C\u7D22\u7528\u6237 / \u90E8\u95E8 / \u7FA4\u7EC4"):_l("\u641C\u7D22\u7528\u6237")}),j&&y.createElement("div",{className:"GSelect-head-searchArea--deleteIcon"},y.createElement("span",{className:"icon-delete_out ",onClick:this.closeSearch}))),this.checkIsProject()&&this.renderTabs())}},{key:"renderContent",value:function(){if(this.state.loading)return y.createElement(ae.Z,null);if(!this.state.mainData)return null;if(this.state.mainData.renderType===Ve.CONTACK_USER||this.state.mainData.renderType===Ve.DEPARTMENT_USER||this.state.mainData.renderType===Ve.GROUP||this.state.mainData.renderType===Ve.RESIGNED||this.state.mainData.renderType===Ve.OTHER_USER)return this.renderUsersContent();if(this.state.mainData.renderType===Ve.DEPARTMENT)return this.renderDepartmentContent()}},{key:"render",value:function(){var A=this;return y.createElement("div",{className:"GSelect-box"},y.createElement("div",{className:"GSelect-head"},this.renderHead()),y.createElement(O.Z,{className:"GSelect-container",updateEvent:this.updateEvent.bind(this),ref:function(H){return A.scrollView=H}},this.renderContent()),y.createElement("div",{className:"GSelect-result",ref:function(H){A._resultScrollView=H}},y.createElement("div",{className:"GSelect-result-box"},this.renderResult())),y.createElement("div",{className:"GSelect-footer-buttonBox"},y.createElement("div",{className:"mRight24"},y.createElement("div",{className:"closeBtn",onClick:function(H){H.nativeEvent.stopImmediatePropagation(),A.props.handleCancel()},fullWidth:!0},_l("\u53D6\u6D88"))),y.createElement("div",null,y.createElement(nt.ZP,{onClick:function(H){H.nativeEvent.stopImmediatePropagation(),A.submit()},fullWidth:!0},this.commonSettings.btnName+(this.state.selectedData.length?" ("+this.state.selectedData.length+")":"")))))}},{key:"selectedUsers",get:function(){var A=this.state.selectedData.filter(function(j){return j.type===De.USER}).map(function(j){return j.data});return A}},{key:"selectedDepartment",get:function(){var A=this.state.selectedData.filter(function(j){return j.type===De.DEPARTMENT}).map(function(j){return j.data});return A}}]),be}(y.Component),we.defaultProps={chooseType:De.USER,departmentSettings:{departments:[]}},We),at(le.prototype,"getKeys",[st.Nj],z()(le.prototype,"getKeys"),le.prototype),at(le.prototype,"onChangeUserFilter",[st.Nj],z()(le.prototype,"onChangeUserFilter"),le.prototype),at(le.prototype,"toogleUserSelect",[st.Nj],z()(le.prototype,"toogleUserSelect"),le.prototype),at(le.prototype,"toogleDepargmentSelect",[st.Nj],z()(le.prototype,"toogleDepargmentSelect"),le.prototype),at(le.prototype,"deleteData",[st.Nj],z()(le.prototype,"deleteData"),le.prototype),at(le.prototype,"addData",[st.Nj],z()(le.prototype,"addData"),le.prototype),at(le.prototype,"toggleDepartmentList",[st.Nj],z()(le.prototype,"toggleDepartmentList"),le.prototype),at(le.prototype,"changeFirstLetter",[st.Nj],z()(le.prototype,"changeFirstLetter"),le.prototype),at(le.prototype,"search",[st.Nj],z()(le.prototype,"search"),le.prototype),at(le.prototype,"closeSearch",[st.Nj],z()(le.prototype,"closeSearch"),le.prototype),at(le.prototype,"toggleUserItem",[st.Nj],z()(le.prototype,"toggleUserItem"),le.prototype),at(le.prototype,"allSelectUserItem",[st.Nj],z()(le.prototype,"allSelectUserItem"),le.prototype),at(le.prototype,"changeChooseType",[st.Nj],z()(le.prototype,"changeChooseType"),le.prototype),at(le.prototype,"dropdownOnClick",[st.Nj],z()(le.prototype,"dropdownOnClick"),le.prototype),at(le.prototype,"submit",[st.Nj],z()(le.prototype,"submit"),le.prototype),le),It=a(15577),_t,Pt,ct,qe={all:0,friend:1,project:2},ut=(Pt=_t=function(ot){(0,h.default)(be,ot);function be(Ae){(0,U.default)(this,be);var A=(0,S.default)(this,(be.__proto__||ce()(be)).call(this,Ae));ct.call(A);var j=Ae.SelectUserSettings;j=j===void 0?{}:j;var H=j.projectId,Q=H===void 0?"":H,se=j.dataRange,Ee=se===void 0?0:se,ue=j.filterProjectId;return A.state={dataRange:ue?Ee:Q?2:Ee,projectId:ue?"":Q},A}return(0,c.default)(be,[{key:"componentDidMount",value:function(){var A=this.initDropList(),j=this.props.SelectUserSettings;j=j===void 0?{}:j;var H=j.filterAll,Q=j.filterFriend,se={};H&&Q&&(se.dataRange=qe.project,this.state.projectId||(se.projectId=(A[0]||{}).value)),I().isEmpty(se)||this.setState((0,X.default)({},se))}},{key:"render",value:function(){var A=this.props,j=A.dialogProps,H=A.visible,Q=window.innerHeight||document.body.clientHeight||document.documentElement.clientHeight;return y.createElement(e.Z,(0,X.default)({},j,{visible:H,title:this.renderHeader(),footer:null,onCancel:this.props.onCancel,type:"scroll",maxHeight:Q-70}),y.createElement("div",{className:"dialogSelectUserContainer",id:"dialogBoxSelectUser",style:{height:Q-160+"px"}},this.renderContent()))}}]),be}(y.Component),ct=function(){var be=this;this.initDropList=function(){var Ae=be.props.SelectUserSettings,A=Ae===void 0?{}:Ae,j=[];if(A.filterAll||j.push({value:qe.all,text:_l("\u5168\u90E8\u8054\u7CFB\u4EBA")}),A.filterFriend||j.push({value:qe.friend,text:_l("\u597D\u53CB")}),md.global.Account&&md.global.Account.projects)for(var H=0,Q=md.global.Account.projects.length;H<Q;H++){var se=md.global.Account.projects[H];A.filterProjectId&&A.filterProjectId.toLowerCase()==se.projectId.toLowerCase()||A.filterOtherProject&&A.projectId.toLowerCase()!=se.projectId.toLowerCase()||j.push({value:se.projectId,text:se.companyName})}return j},this.renderHeader=function(){var Ae=be.initDropList(),A=be.props.SelectUserSettings,j=A===void 0?{}:A,H=be.state,Q=H.dataRange,se=H.projectId,Ee=se&&I().find(md.global.Account.projects,function(ue){return ue.projectId===se})?se:Q;return y.createElement("div",{className:"dialogSelectTitleContainer"},y.createElement(t.Z,{icon:"topbar-addressList",className:"Font16 ThemeColor3"}),y.createElement(r.Z,{data:Ae,value:Ee,maxHeight:500,currentItemClass:"selectMenuItem",disabled:j.filterOtherProject,onChange:function(Ce){if(Ce!==Ee){var Ue=!I().includes([qe.all,qe.friend],Ce);be.setState({dataRange:Ue?qe.project:Ce,projectId:Ue&&I().find(md.global.Account.projects,{projectId:Ce})?Ce:""})}}}))},this.renderContent=function(){var Ae=be.props,A=Ae.isChat,j=Ae.chooseType,H=Ae.SelectDepartmentSettings,Q=Ae.SelectGroupSettings,se=Ae.fromAdmin,Ee=se===void 0?!1:se,ue=Ae.SelectUserSettings,Ce=be.state,Ue=Ce.projectId,$e=Ce.dataRange;(ue.projectId!==Ue||ue.dataRange!==$e)&&(ue.projectId=Ue,ue.dataRange=$e);var gt={projectId:Ue,dataRange:$e||0,isSuperWork:Ue&&(I().find(md.global.Account.projects,function(vt){return vt.projectId===Ue})||{}).isSuperAdmin&&Ee,callback:function(Ct){be.props.onCancel()}},rt={includeMySelf:ue.includeMySelf,includeUndefinedAndMySelf:ue.includeUndefinedAndMySelf,includeSystemField:ue.includeSystemField,filterSystemAccountId:ue.filterSystemAccountId,unique:ue.unique,filterAll:ue.filterAll,filterProjectId:ue.filterProjectId,filterFriend:ue.filterFriend,filterResigned:ue.filterResigned,filterAccountIds:ue.filterAccountIds,prefixAccountIds:ue.prefixAccountIds,showTabs:ue.showTabs,extraTabs:ue.extraTabs,callback:function(Ct,yt,Et){ue.callback&&ue.callback(Ct,yt,Et),be.props.onCancel()}};return ue.filterAll&&ue.filterFriend&&ue.filterOtherProject&&Ue&&!I().find(md.global.Account.projects,function(vt){return vt.projectId===Ue})?y.createElement("div",{className:"GSelect-box"},y.createElement(w.Z,null,_l("\u60A8\u7684\u8D26\u53F7\u4E0D\u662F\u8BE5\u7EC4\u7EC7\u6210\u5458"))):y.createElement(mt,{chooseType:j,commonSettings:gt,userSettings:rt,departmentSettings:H,groupSettings:Q,isChat:A,handleCancel:be.props.onCancel})}},Pt);function Dt(ot){var be={SelectUserSettings:{includeMySelf:!0,includeUndefinedAndMySelf:!1,includeSystemField:!1,filterSystemAccountId:[],projectId:"",filterProjectId:"",filterAll:!1,filterFriend:!1,filterAccountIds:[],prefixAccountIds:[],filterOtherProject:!1,dataRange:0,unique:!1,callback:function(H){}}};ot.SelectUserSettings&&(ot.SelectUserSettings=I().extend(be.SelectUserSettings,ot.SelectUserSettings));var Ae=I().extend({},be,ot),A={width:640,oneScreen:!1,oneScreenGap:240,className:(0,It.Q9)()?"mobileSelectUser":"",overlayClosable:ot.overlayClosable};(0,pe.Z)(ut,(0,X.default)({},Ae,{dialogProps:A}))}},61987:(Ze,Re,a)=>{"use strict";a.d(Re,{ZP:()=>M});var pe=a(54208),r=a(88239),t=a(12424),e=a(67294),X=a(69293),J=a(45697),ce=a(29314),U=a(73935),c=a(96486),S=a.n(c),h=a(70264),y=a(15759),l=a(86735),ee=a(71893),z=a(75809),ae=(0,l.Z)([`
  overflow: hidden;
  width: 360px;
  background-color: #fff;
  border-radius: 4px;
  box-shadow: 0px 3px 6px 1px rgba(0, 0, 0, 0.16);
  .moduleName {
    color: #9e9e9e;
    font-size: 13px;
    margin: 10px 16px;
  }
  .searchUser {
  }
`],[`
  overflow: hidden;
  width: 360px;
  background-color: #fff;
  border-radius: 4px;
  box-shadow: 0px 3px 6px 1px rgba(0, 0, 0, 0.16);
  .moduleName {
    color: #9e9e9e;
    font-size: 13px;
    margin: 10px 16px;
  }
  .searchUser {
  }
`]),Z=(0,l.Z)([`
  height: 328px;
  overflow: auto;
  hr {
    margin: 12px 7px;
    border: none;
    border-top: 1px solid #f0f0f0;
  }
  .moreBtn {
    color: #2196f3;
    cursor: pointer;
    padding: 4px 0 0 16px;
  }
`],[`
  height: 328px;
  overflow: auto;
  hr {
    margin: 12px 7px;
    border: none;
    border-top: 1px solid #f0f0f0;
  }
  .moreBtn {
    color: #2196f3;
    cursor: pointer;
    padding: 4px 0 0 16px;
  }
`]),Pe=(0,l.Z)([`
  height: 44px;
  padding: 0 16px;
  display: flex;
  align-items: center;
  cursor: pointer;
  .userHead {
    margin-right: 12px;
  }
  .text {
    overflow: hidden;
  }
  .name {
    color: #333;
    font-size: 13px;
  }
  .description {
    color: #9e9e9e;
    font-size: 12px;
    .splitter {
      margin: 0 6px;
    }
  }
  &.focused,
  &:hover {
    background: #f5f5f5;
  }
`],[`
  height: 44px;
  padding: 0 16px;
  display: flex;
  align-items: center;
  cursor: pointer;
  .userHead {
    margin-right: 12px;
  }
  .text {
    overflow: hidden;
  }
  .name {
    color: #333;
    font-size: 13px;
  }
  .description {
    color: #9e9e9e;
    font-size: 12px;
    .splitter {
      margin: 0 6px;
    }
  }
  &.focused,
  &:hover {
    background: #f5f5f5;
  }
`]),oe=(0,l.Z)([`
  .empty {
    margin: 100px auto;
    text-align: center;
    color: #bdbdbd;
  }
`],[`
  .empty {
    margin: 100px auto;
    text-align: center;
    color: #bdbdbd;
  }
`]),Te=(0,l.Z)([`
  display: flex;
  align-items: center;
  padding: 0 16px;
  height: 36px;
  margin: 6px 0;
  .search {
    font-size: 18px;
    color: #bdbdbd;
    margin-right: 4px;
  }
  .close {
    font-size: 16px;
    color: #9e9e9e;
    margin: 0 4px;
    cursor: pointer;
  }
  .openAddress {
    font-size: 18px;
    color: #757575;
    cursor: pointer;
    &:hover {
      color: #2196f3;
    }
  }
  input {
    flex: 1;
    line-height: 36px;
    outline: none;
    border: none;
    margin-right: 12px;
    &::placeholder {
      color: #bdbdbd;
    }
  }
`],[`
  display: flex;
  align-items: center;
  padding: 0 16px;
  height: 36px;
  margin: 6px 0;
  .search {
    font-size: 18px;
    color: #bdbdbd;
    margin-right: 4px;
  }
  .close {
    font-size: 16px;
    color: #9e9e9e;
    margin: 0 4px;
    cursor: pointer;
  }
  .openAddress {
    font-size: 18px;
    color: #757575;
    cursor: pointer;
    &:hover {
      color: #2196f3;
    }
  }
  input {
    flex: 1;
    line-height: 36px;
    outline: none;
    border: none;
    margin-right: 12px;
    &::placeholder {
      color: #bdbdbd;
    }
  }
`]),F=(0,l.Z)([`
  display: flex;
  background-color: #f0f0f0;
  color: #757575;
  .tab {
    cursor: pointer;
    flex: 1;
    text-align: center;
    line-height: 32px;
    font-weight: 500;
    &:hover {
      color: #2196f3;
    }
    &.active {
      color: #2196f3;
      background: #fff;
    }
  }
`],[`
  display: flex;
  background-color: #f0f0f0;
  color: #757575;
  .tab {
    cursor: pointer;
    flex: 1;
    text-align: center;
    line-height: 32px;
    font-weight: 500;
    &:hover {
      color: #2196f3;
    }
    &.active {
      color: #2196f3;
      background: #fff;
    }
  }
`]),K=ee.ZP.div(ae),v=ee.ZP.div(Z),re=ee.ZP.div(Pe),L=ee.ZP.div(oe),m=ee.ZP.div(Te);function B(f){var ne=f.className,ie=f.notShowCurrentUserName,V=f.user,me=V===void 0?{}:V,_e=f.type,de=f.onClick,Le=f.appId,ge=f.projectId,Oe=me.accountId,nt=me.phone,lt=me.fullname,Ve=me.job,De=me.department;return e.createElement(re,{className:"flexRow userItem "+ne,onClick:de},e.createElement(y.Z,{className:"userHead",user:{userHead:me.avatarSmall||me.avatar,accountId:Oe},appId:Le,size:28,projectId:ge}),e.createElement("div",{className:"flex flexColumn text"},e.createElement("div",{className:"name ellipsis",title:lt},ie&&Oe===md.global.Account.accountId?_l("\u6211\u81EA\u5DF1"):lt),e.createElement("div",{className:"description ellipsis",title:_e==="external"?nt:[De,Ve].filter(S().identity).join(" | ")},_e==="external"?nt:[De,Ve].filter(S().identity).map(function(ze,st){return e.createElement(e.Fragment,null,st!==0&&e.createElement("span",{className:"splitter"},"|"),ze)}))))}function C(f){var ne=f.notShowCurrentUserName,ie=f.keywords,V=f.activeIndex,me=f.loading,_e=f.list,de=f.type,Le=f.showMore,ge=f.limitNum,Oe=ge===void 0?2:ge,nt=f.onSelect,lt=f.onShowMore,Ve=lt===void 0?function(){}:lt,De=f.appId,ze=f.projectId,st=(0,e.useState)(!1),ht=(0,t.Z)(st,2),Ie=ht[0],le=ht[1];return e.createElement(L,null,!!_e.length&&(Le&&!Ie?_e.slice(0,Oe):_e).map(function(we,We){return e.createElement(B,{notShowCurrentUserName:!0,className:V===We?"focused":"",user:we,type:de,key:We,appId:De,projectId:ze,onClick:function(){return nt(we)}})}),!me&&!_e.length&&e.createElement("div",{className:"empty"},de==="external"&&!ie?_l("\u6682\u65E0\u6210\u5458"):_l("\u6CA1\u6709\u641C\u7D22\u7ED3\u679C")),Le&&!Ie&&_e.length>Oe&&e.createElement("div",{className:"moreBtn",onClick:function(){le(!0),Ve(!0)}},_l("\u66F4\u591A")))}function p(f){var ne=f.type,ie=f.keywords,V=f.setKeywords,me=f.parentProps,_e=f.onSelect,de=f.onClose,Le=f.isHidAddUser,ge=f.onKeyDown,Oe=ge===void 0?function(){}:ge,nt=me.SelectUserSettings||(0,r.default)({},me),lt=(0,e.useRef)();return(0,e.useEffect)(function(){lt.current&&lt.current.focus()},[]),e.createElement(m,null,e.createElement("i",{className:"icon icon-search search"}),e.createElement("input",{ref:lt,type:"text",value:ie,placeholder:ne==="external"?_l("\u8BF7\u8F93\u5165\u59D3\u540D\u3001\u624B\u673A"):_l("\u8BF7\u8F93\u5165\u59D3\u540D\u3001\u624B\u673A\u6216\u90AE\u7BB1"),onChange:function(De){return V(De.target.value)},onKeyDown:Oe}),ie&&e.createElement("i",{className:"icon icon-closeelement-bg-circle close",onClick:function(){return V("")}}),!Le&&ne!=="external"&&ne!=="range"&&e.createElement(h.Z,{zIndex:10002,destroyPopupOnHide:!0,popupPlacement:"bottom",text:_l("\u4ECE\u901A\u8BAF\u5F55\u4E2D\u9009\u62E9")},e.createElement("i",{className:"icon icon-topbar-addressList openAddress",onClick:function(De){De.stopPropagation(),nt.includeUndefinedAndMySelf=me.includeUndefinedAndMySelf,nt.includeSystemField=me.includeSystemField,nt.prefixAccountIds=me.prefixAccountIds,nt.callback||(nt.callback=_e),(0,z.Z)({SelectUserSettings:nt,onCancel:de}),de(!0)}})))}var g=ee.ZP.div(F);function u(f){var ne=f.active,ie=ne===void 0?0:ne,V=f.onActive;return e.createElement(g,null,[{key:0,text:_l("\u5E38\u89C4")},{key:1,text:_l("\u5916\u90E8\u95E8\u6237")}].map(function(me){return e.createElement("span",{className:"tab "+(me.key===ie?"active":""),onClick:function(){return V(me.key)}},me.text)}))}var T=a(85315),d=a(22731),O=a(35989),k=a(82527),x=a(70973),N=(0,x.W_)(O.Z.getUsersByApp),E=(0,x.W_)(d.Z.getProjectContactUserListByApp),D=(0,x.W_)(k.Z.getUserAddressbookByKeywords),I=(0,x.W_)(d.Z.getOftenMetionedUser);function R(f){var ne=f.list,ie=f.includeUndefinedAndMySelf,V=f.includeSystemField,me=f.prefixOnlySystemField,_e=f.filterAccountIds,de=f.prefixAccountIds,Le=f.prefixAccounts,ge=[],Oe=[].concat((0,T.Z)(ne)),nt=_e.indexOf(md.global.Account.accountId)!==-1,lt=_e.indexOf("user-undefined")!==-1,Ve=ie&&!(nt&&lt)||de.length,De=de.length;return V?me?(ge=Oe.filter(function(ze){return S().startsWith(ze.accountId,"user")}),Oe=Oe.filter(function(ze){return!S().startsWith(ze.accountId,"user")})):ge=Oe.splice(0,7):Ve&&(ie?nt&&lt?ge=Oe.splice(0,De):nt||lt?ge=Oe.splice(0,1+De):ge=Oe.splice(0,2+De):ge=Oe.splice(0,De)),Le&&Le.length&&(ge=ge.concat(Le||[])),{prefixUsers:ge,users:Oe}}function w(f){if(f.type==="external")return N({projectId:f.projectId,appId:f.appId,pageIndex:f.pageIndex||1,pageSize:25,keywords:f.keywords||"",filterAccountIds:f.filterAccountIds||[]}).then(function(ie){var V=ie.map(function(_e){return{accountId:_e.accountId,avatar:_e.avatar,fullname:_e.name,phone:_e.mobilePhone}});if((f.pageIndex||1)!==1)return V;var me=V.find(function(_e){return _e.accountId===md.global.Account.accountId});return!f.hidePortalCurrentUser&&(f.includeSystemField||f.includeUndefinedAndMySelf)?V=[{accountId:"user-self",avatar:md.global.FileStoreConfig.pictureHost.replace(/\/$/,"")+"/UserAvatar/user-self.png?imageView2/1/w/100/h/100/q/90",fullname:_l("\u5F53\u524D\u7528\u6237")}].concat(V):!f.keywords&&me&&(V=[me].concat(V)),S().uniqBy(V,"accountId")});if(f.type==="range")return E((0,r.default)({pageIndex:1,pageSize:100,projectId:f.projectId,keywords:f.keywords,filterAccountIds:f.filterAccountIds||[]},S().isObject(f.selectRangeOptions)?f.selectRangeOptions:{})).then(function(ie){return S().get(ie,"users.list")||[]});if(f.keywords){var ne=f.filterOtherProject?{projectId:f.projectId}:{currentProjectId:f.projectId};return D((0,r.default)({keywords:f.keywords||"",filterAccountIds:f.filterAccountIds||[]},ne)).then(function(ie){return ie.list})}else return I({count:f.mentionedCount,filterAccountIds:f.filterAccountIds||[],includeUndefinedAndMySelf:f.includeUndefinedAndMySelf||!1,includeSystemField:f.includeSystemField||!1,prefixAccountIds:f.prefixAccountIds||[],projectId:f.projectId})}var b=a(33174);function Y(f){var ne=f.projectId,ie=f.staticAccounts,V=ie===void 0?[]:ie,me=f.includeUndefinedAndMySelf,_e=me===void 0?!1:me,de=f.includeSystemField,Le=de===void 0?!1:de,ge=f.prefixOnlySystemField,Oe=ge===void 0?!1:ge,nt=f.filterAccountIds,lt=nt===void 0?[]:nt,Ve=f.prefixAccountIds,De=Ve===void 0?[]:Ve,ze=f.prefixAccounts,st=ze===void 0?[]:ze,ht=f.isHidAddUser,Ie=ht===void 0?!1:ht,le=f.selectRangeOptions,we=le===void 0?void 0:le,We=f.filterOtherProject,at=We===void 0?!1:We,At=f.appId,dt=f.minHeight,mt=dt===void 0?328:dt,It=f.tabType,_t=It===void 0?1:It,Pt=f.tabIndex,ct=f.count,qe=ct===void 0?15:ct,ut=f.hidePortalCurrentUser,Dt=ut===void 0?!1:ut,ot=f.onClose,be=ot===void 0?function(){}:ot,Ae=f.selectCb,A=Ae===void 0?function(){}:Ae,j=f.onSelect,H=j===void 0?function(){}:j,Q=(0,e.useRef)(),se=(0,e.useRef)(),Ee=(0,e.useState)(S().isUndefined(Pt)?_t===1||_t===3?0:1:Pt),ue=(0,t.Z)(Ee,2),Ce=ue[0],Ue=ue[1],$e=(0,e.useState)(we?"range":Ce===1?"external":"normal"),gt=(0,t.Z)($e,2),rt=gt[0],vt=gt[1],Ct=(0,e.useState)(),yt=(0,t.Z)(Ct,2),Et=yt[0],Rt=yt[1],zt=(0,e.useState)(1),mn=(0,t.Z)(zt,2),on=mn[0],vn=mn[1],Zn=(0,e.useState)(!1),_n=(0,t.Z)(Zn,2),Un=_n[0],Rn=_n[1],kn=(0,e.useState)(!0),pn=(0,t.Z)(kn,2),gn=pn[0],ln=pn[1],xn=(0,e.useState)([]),In=(0,t.Z)(xn,2),En=In[0],yn=In[1],bn=(0,e.useState)(!1),An=(0,t.Z)(bn,2),Cn=An[0],Ln=An[1],Nn=(0,e.useState)(0),Sn=(0,t.Z)(Nn,2),qt=Sn[0],zn=Sn[1],en=!S().isEmpty(V)&&!(V.length===1&&S().get(V,"0.accountId")==="isEmpty"),fn={filterAccountIds:lt.filter(S().identity),prefixAccountIds:De,selectRangeOptions:we,projectId:ne||S().get(f,"SelectUserSettings.projectId"),appId:At,includeUndefinedAndMySelf:_e,includeSystemField:Le,mentionedCount:qe,hidePortalCurrentUser:Dt,filterOtherProject:at};function Tn(){var kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Lt=kt.keywords,Ut=kt.pageIndex,Wt=Ut===void 0?1:Ut,Yt=kt.clear,Bt=Yt===void 0?!0:Yt,Qt=kt.type;en||(Bt&&yn([]),ln(!0),w((0,r.default)({},fn,{type:Qt,keywords:(Lt||"").trim(),pageIndex:Wt})).then(function(un){yn(function(Fn){return Fn.concat(un)}),ln(!1),S().isEmpty(un)&&Rn(!0)}))}var On=(0,e.useCallback)(S().debounce(Tn,200),[]),jt=st,tn=[];if(!en&&!Et&&!we&&Ce!==1){var wn=R({list:S().cloneDeep(En),includeUndefinedAndMySelf:_e,includeSystemField:Le,prefixOnlySystemField:Oe,filterAccountIds:lt.filter(S().identity),prefixAccountIds:De,prefixAccounts:st});jt=wn.prefixUsers,tn=wn.users}else tn=En;(rt==="external"||Et)&&(jt=[]),rt==="external"&&md.global.Account.isPortal||(tn=V.concat(tn));var Mn=en&&Et?tn.filter(function(kt){return kt.fullname.toLowerCase().indexOf(Et.toLowerCase())>-1}):tn;function Dn(kt){var Lt=[S().pick(kt,["accountId","avatar","fullname","job"])];H(Lt),A(Lt),Rt(""),be()}return(0,X.Z)(Q,function(kt){kt.target.closest(".cellUsers")||be(!0)}),(0,e.useEffect)(function(){Tn({type:rt})},[]),e.createElement(K,{ref:Q,className:"selectUserBox",onClick:function(){Q.current&&Q.current.querySelector("input")&&Q.current.querySelector("input").focus()}},_t===3&&e.createElement(u,{active:Ce,onActive:function(Lt){var Ut=we?"range":Lt===1?"external":"normal";Tn({type:Ut,keywords:""}),vt(Ut),Ue(Lt),Rt("")}}),e.createElement(p,{isHidAddUser:Ie||en,type:rt,keywords:Et,parentProps:f,setKeywords:function(Lt){ln(!0),vn(1),Rt(Lt),On({type:rt,keywords:Lt})},onKeyDown:function(Lt){Lt.key!=="Escape"&&Lt.stopPropagation();var Ut=void 0,Wt=void 0;switch(Lt.key){case"ArrowUp":Ut=qt-1;break;case"ArrowDown":Ut=qt+1;break;case"Enter":Wt=jt.slice(0,Cn||jt.length<2?jt.length:2).concat(Mn)[qt],Wt&&Dn(Wt);break;case"Escape":be(!0);break;default:break}if(Ut<0&&(Ut=0),!!se.current){var Yt=se.current.querySelectorAll(".userItem").length;if(Ut>=Yt&&(Ut=Yt-1),!S().isUndefined(Ut)){zn(Ut);var Bt=se.current,Qt=Bt.querySelectorAll(".userItem")[Ut];Ut>qt?Qt.offsetTop>Bt.offsetHeight+Bt.scrollTop&&(Bt.scrollTop=Bt.scrollTop+44):Qt.offsetTop-44<Bt.scrollTop&&(Bt.scrollTop=Bt.scrollTop-44)}}},onSelect:H,onClose:be}),e.createElement(v,{ref:se,style:{minHeight:mt},onWheel:function(Lt){if(!(gn||rt!=="external"||Un)){var Ut=Lt.deltaY>0,Wt=se.current;if(Wt){var Yt=Wt.offsetHeight,Bt=Wt.scrollHeight,Qt=Wt.scrollTop,un=Bt-Qt-Yt;Ut&&un<80&&(vn(on+1),ln(!0),On({type:rt,clear:!1,keywords:Et,pageIndex:on+1}))}}}},!!jt.length&&e.createElement(e.Fragment,null,e.createElement(C,{showMore:!0,notShowCurrentUserName:!0,type:rt,activeIndex:qt,list:jt,onSelect:Dn,onShowMore:function(){return Ln(!0)},projectId:fn.projectId}),e.createElement("hr",null)),!en&&rt==="normal"&&!Et&&Ce!==1&&e.createElement("div",{className:"moduleName"},_l("\u6700\u5E38\u534F\u4F5C")),e.createElement(C,{keywords:Et,loading:gn,activeIndex:qt-(Cn||jt.length<2?jt.length:2),type:rt,list:Mn,onSelect:Dn,appId:At,projectId:fn.projectId}),!en&&gn&&e.createElement(pe.Z,null)))}Y.propTypes={projectId:J.string,includeUndefinedAndMySelf:J.bool,includeSystemField:J.bool,prefixOnlySystemField:J.bool,isHidAddUser:J.bool,SelectUserSettings:(0,J.shape)({}),filterAccountIds:(0,J.arrayOf)(J.string),prefixAccountIds:(0,J.arrayOf)(J.string),prefixAccounts:(0,J.arrayOf)(J.string),selectRangeOptions:(0,J.shape)({appointedAccountIds:(0,J.arrayOf)(J.number),appointedDepartmentIds:(0,J.arrayOf)(J.number),appointedOrganizeIds:(0,J.arrayOf)(J.number)}),minHeight:J.number,tabType:J.number,tabIndex:J.number,onClose:J.func,selectCb:J.func,onSelect:J.func};function W(f){var ne=f.offset,ie=ne===void 0?{top:0,left:0}:ne,V=f.zIndex,me=V===void 0?1001:V,_e=(0,e.useState)(!1),de=(0,t.Z)(_e,2),Le=de[0],ge=de[1],Oe=[ie.left,ie.top];return e.createElement(ce.Z,{zIndex:me,popupVisible:Le,action:["click"],destroyPopupOnHide:!0,popupAlign:{offset:Oe,points:["tl","bl"],overflow:{adjustX:!0,adjustY:!0}},popup:e.createElement(Y,(0,r.default)({},f,{onClose:function(lt){!lt&&f.isDynamic||(S().isFunction(f.onClose)&&f.onClose(),ge(!1))}})),onPopupVisibleChange:ge},f.children)}W.propTypes={popupOffset:(0,J.arrayOf)(J.number)};function M(f){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=360,V=48+(ne.minHeight||328),me=void 0,_e=void 0,de=0,Le=0,ge=0,Oe=ne.offset,nt=Oe===void 0?{top:0,left:0}:Oe,lt=ne.zIndex,Ve=lt===void 0?1001:lt,De=document.createElement("div");function ze(){if(S().isFunction(S().get(f,"getBoundingClientRect"))){var ht=f.getBoundingClientRect();ge=ht.height,me=ht.x,_e=ht.y,de=me+(nt.left||0),Le=_e+ge+(nt.top||0),de+ie>window.innerWidth&&(de=me-10-ie),Le+V>window.innerHeight&&(Le=_e-V-4,Le<0&&(Le=0),_e<V&&(de=me-10-ie,de<ie&&(de=me+10+36))),De.style.position="absolute",De.style.left=de+"px",De.style.top=Le+"px",De.style.zIndex=Ve}}ze(),document.body.appendChild(De);function st(){U.unmountComponentAtNode(De),De.parentElement&&document.body.removeChild(De)}U.render(e.createElement(b.Z,null,e.createElement(Y,(0,r.default)({},ne,{onClose:function(Ie){if(!Ie&&ne.isDynamic){setTimeout(ze,100);return}S().isFunction(ne.onClose)&&ne.onClose(),st()}}))),De)}},42509:(Ze,Re,a)=>{"use strict";a.d(Re,{$:()=>D});var pe=a(1952),r=a(69288),t=a(88239),e=a(85105),X=a.n(e),J=a(99663),ce=a(22600),U=a(49135),c=a(93196),S=a(67294),h=a(3735),y=a(29208),l=a(60510),ee=a(54208),z=a(25273),ae=a(60967),Z=function(I){(0,c.default)(R,I);function R(w){(0,J.default)(this,R);var b=(0,U.default)(this,(R.__proto__||X()(R)).call(this,w));return b.getData=function(){var Y=b.props,W=Y.projectId,M=Y.departmentId,f=b.state,ne=f.keywords,ie=ne===void 0?"":ne,V=f.pageIndex,me=f.pageSize,_e=f.dataList;b.setState({loading:!0}),h.Z.pagedDeptAccountShrotInfos({projectId:W,departmentId:M,keywords:ie,pageIndex:V,pageSize:me}).then(function(de){var Le=de.list,ge=Le===void 0?[]:Le,Oe=de.pageIndex;b.setState({isMore:ge.length>=me,dataList:Oe===1?ge:_e.concat(ge),loading:!1})})},b.checkedCurrentUser=function(Y,W){var M=b.props,f=M.isUnique,ne=M.maxCount,ie=b.state.selectedUsersIds,V=Y?ie.filter(function(me){return me!==W.accountId}):ie.concat(W.accountId);if(!f&&ne&&ne<V.length){alert(_l("\u6700\u591A\u9009\u62E9%0\u4EBA",ne),2);return}b.setState({selectedUsersIds:V})},b.onScrollEnd=function(){var Y=b.state,W=Y.isMore,M=Y.loading,f=Y.pageIndex;!W||M||b.setState({pageIndex:f+1},b.getData)},b.onOk=function(){var Y=b.props,W=Y.callback,M=W===void 0?function(){}:W,f=Y.onCancel,ne=b.state,ie=ne.dataList,V=ne.selectedUsersIds,me=ie.filter(function(_e){return _.includes(V,_e.accountId)});M(me),f()},b.state={pageIndex:1,pageSize:20,keywords:"",selectedUsersIds:w.selectedUsersIds,dataList:[]},b}return(0,ce.default)(R,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var b=this,Y=this.props,W=Y.visible,M=Y.onCancel,f=M===void 0?function(){}:M,ne=this.state,ie=ne.dataList,V=ne.loading,me=ne.selectedUsersIds;return S.createElement(r.Z,{title:_l("\u8BBE\u7F6E\u90E8\u95E8\u8D1F\u8D23\u4EBA"),visible:W,onCancel:f,onOk:this.onOk},S.createElement("div",{className:"selectDepartmentUserContainer"},S.createElement("div",{className:"selectDepartmentUserContainer_search"},S.createElement("span",{className:"searchIcon icon-search"}),S.createElement("input",{type:"text",className:"searchInput",placeholder:_l("\u641C\u7D22\u6210\u5458")}),S.createElement("span",{className:"searchClose icon-closeelement-bg-circle"})),S.createElement("div",{className:"selectDepartmentUserContent"},S.createElement(z.Z,{onScrollEnd:this.onScrollEnd},ie.map(function(_e){var de=_e.accountId,Le=_e.avatar,ge=_e.fullname,Oe=_e.job;return S.createElement("div",{className:"userItem"},S.createElement(ae.Z,{checked:_.includes(me,de),onClick:function(lt){return b.checkedCurrentUser(lt,_e)}}),S.createElement("img",{className:"circle userAvatar InlineBlock",src:Le,alt:ge}),S.createElement("span",{className:"userName overflow_ellipsis"},ge),S.createElement("span",{className:"profession overflow_ellipsis"},Oe))})),V&&S.createElement(ee.Z,null))))}}]),R}(S.Component),Pe=function(R){return(0,pe.Z)(Z,(0,t.default)({},R))},oe=a(85315),Te=a(88106),F=a(52945),K=a(96486),v=a.n(K),re="departmentId",L="subDepartments",m=function(R,w){return w[re]===R},B=function I(R,w,b){return b(w,R)||R[L]&&R[L].length&&!!_.find(R[L],function(Y){return I(Y,w,b)})},C=function I(R,w){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m;if(b(w,R)||!R[L])return R;var Y=R[L].filter(function(W){return B(W,w,b)}).map(function(W){return I(W,w,b)});return _Object$assign({},R,_defineProperty({},L,Y))},p=function(R,w){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m,Y=function W(M,f){return M||!f?M:b(w,f)?M=f:W(null,f[L])||_.reduce(f,W,M)};return Y(null,R)},g=function(R){var w={},b=function Y(W){if(W&&(_.isArray(W)&&_.each(W,Y),W[re]!==void 0))return w=_extends({},w,_defineProperty({},W[re],W)),Y(W[L])};return b(R),w},u=function(R,w){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m,Y=[],W=C(R,w,b),M=function f(ne){var ie=Y[Y.length-1]||{};if(!(!ne||ie[re]===w))return _.isArray(ne)?_.each(ne,f):(Y.push(ne),f(ne[L]))};return M(W),Y},T=function(R,w){var b=[].concat(R),Y=[];return b.forEach(function(W){var M=W.subs||[],f=W.parent||{},ne=htmlEncodeReg(f.name),ie=[],V=htmlEncodeReg(W.name),me=V;if(ne&&ie.push('<span title="'+ne+'">'+ne+"</span>"),w){var _e=new RegExp(htmlEncodeReg(w),"g");V=V.replace(_e,'<span class="ThemeColor3">'+w+"</span>")}ie.push('<span title="'+me+'">'+V+"</span>"),Y.push(_Object$assign({},W,{departmentName:ie.join("")})),M.forEach(function(de){var Le=htmlEncodeReg(de.name);Y.push(_Object$assign({},de,{departmentName:_.union(ie,['<span title="'+Le+'">'+Le+"</span>"]).join("")}))})}),Y},d=function I(R,w){for(var b in R){if(R[b].departmentId==w)return[R[b].departmentId];if(R[b].subDepartments){var Y=I(R[b].subDepartments,w);if(Y!==void 0)return Y.concat(R[b].departmentId)}}},O=function I(R,w){for(var b=[],Y=0;Y<R.length;Y++){var W=R[Y];W.departmentId===w?R.splice(Y--,1):(W.subDepartments&&(W.subDepartments=I(W.subDepartments,w)),b.push(W))}return b},k=function(R){return(R||"").split("-").map(function(w,b){return b==0?"["+w+"]":".subDepartments["+w+"]"}).join("")},x=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],w=arguments[1],b=arguments[2],Y=arguments[3],W={},M=[].concat((0,oe.Z)(R)),f=[],ne=function de(Le){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(Le||[]).forEach(function(Oe,nt){var lt=ge!==""?ge+"-"+nt:nt.toString();W[Oe.departmentId]=lt,Oe.subDepartments&&Oe.subDepartments.length&&de(Oe.subDepartments,lt)})};ne(M);var ie=k(W[w]),V=(0,t.default)({},v().get(M,ie),{departmentName:b}),me=ie.replace(/.subDepartments\[\d{1,}\]$/g,""),_e=v().get(M,me);if(v().unset(M,ie),ie.replace(/.subDepartments\[\d{1,}\]$/g,"")===ie)M=[].concat((0,oe.Z)(v().filter(M,function(de){return de})));else{if(_e.departmentId===Y)return v().update(M,ie,function(de){return(0,t.default)({},de,V)}),{newDepartments:M,expandedKeys:[V.departmentId]};v().update(M,ie.replace(/.subDepartments\[\d{1,}\]$/g,""),function(de){var Le=v().filter(de.subDepartments,function(ge){return ge});return Le.length?(0,t.default)({},de,{subDepartments:Le}):(delete de.subDepartments,de.haveSubDepartment=!1,de)})}return Y?(W[Y]&&v().update(M,k(W[Y]),function(de){return de.subDepartments&&de.subDepartments.length?de.subDepartments=de.subDepartments.concat([V]):de.haveSubDepartment=!0,de}),f=d(M,V.departmentId)?d(M,Y):d(M,V.departmentId),{newDepartments:M,expandedKeys:f}):(M=M.concat([V]),{newDepartments:M,expandedKeys:[V.departmentId]})},N={FAILED:0,SUCCESS:1,EXISTS:2,NOTDEPARTMENTUSER:3,PARENTNOTTOSUB:4},E=function(I){(0,c.default)(R,I);function R(w){(0,J.default)(this,R);var b=(0,U.default)(this,(R.__proto__||X()(R)).call(this,w));return b.getDeptInfo=function(){var Y=b.props,W=Y.projectId,M=Y.departmentId;M&&h.Z.getDepartmentInfo({projectId:W,departmentId:M}).then(function(f){var ne=f.departmentId,ie=f.departmentName,V=f.parentDepartment,me=V===void 0?{}:V,_e=f.chargeUsers,de=_e===void 0?[]:_e;b.setState({departmentInfo:{departmentId:ne,departmentName:ie},parentDepartment:me,chargeUsers:de})})},b.onOk=function(){var Y=b.state,W=Y.departmentInfo,M=W===void 0?{}:W,f=Y.parentDepartment,ne=Y.submitLoading,ie=M.departmentName;if(f.departmentId&&f.departmentId===M.departmentId)return alert(_l("\u4E0D\u80FD\u8BBE\u8BBE\u7F6E\u81EA\u5DF1\u4E3A\u4E0A\u7EA7\u90E8\u95E8"),3);if(!ie)return alert(_l("\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0"),2);ne||b.setState({submitLoading:!0},b.handleSubmit)},b.handleSubmit=function(){var Y=b.props,W=Y.projectId,M=Y.departmentId,f=Y.type,ne=Y.callback,ie=ne===void 0?function(){}:ne,V=Y.newDepartments,me=b.state,_e=me.departmentInfo,de=_e===void 0?{}:_e,Le=me.parentDepartment,ge=me.chargeUsers,Oe=ge===void 0?[]:ge,nt=de.departmentName,lt=b;y.Z.checkSensitive({content:nt}).then(function(Ve){if(Ve)return b.setState({submitLoading:!1}),alert(_l("\u8F93\u5165\u5185\u5BB9\u5305\u542B\u654F\u611F\u8BCD\uFF0C\u8BF7\u91CD\u65B0\u586B\u5199"),3);f==="create"?h.Z.addDepartment({projectId:W,departmentName:nt,parentId:M}).then(function(De){De.resultStatus===N.SUCCESS?(ie({response:De.departmentInfo}),lt.props.onCancel()):De.resultStatus===N.FAILED?alert(_l("\u521B\u5EFA\u5931\u8D25"),2):De.resultStatus===N.EXISTS?alert(_l("\u8BE5\u90E8\u95E8\u5DF2\u5B58\u5728"),3):De.resultStatus===N.PARENTNOTTOSUB&&alert(_l("\u4E0D\u80FD\u8BBE\u7F6E\u5B50\u90E8\u95E8\u4E3A\u81EA\u5DF1\u7684\u4E0A\u7EA7\u90E8\u95E8"),3),b.setState({submitLoading:!1})}).catch(function(De){alert(_l("\u521B\u5EFA\u5931\u8D25"),2),b.setState({submitLoading:!1})}):h.Z.editDepartment({projectId:W,departmentId:de.departmentId,departmentName:de.departmentName,parentId:Le.departmentId,chargeAccountIds:Oe.map(function(De){var ze=De.accountId;return ze})}).then(function(De){var ze=De.departmentInfo,st=ze===void 0?{}:ze,ht=x(V,st.departmentId,st.departmentName,Le.departmentId);De.resultStatus===N.SUCCESS?(ie({response:(0,t.default)({departmentId:st.departmentId,parentId:Le.departmentId},ht)}),lt.props.onCancel()):De.resultStatus===N.FAILED?alert(_l("\u7F16\u8F91\u5931\u8D25"),2):De.resultStatus===N.EXISTS?alert(_l("\u8BE5\u90E8\u95E8\u5DF2\u5B58\u5728"),3):De.resultStatus===N.NOTDEPARTMENTUSER?alert(_l("\u90E8\u95E8\u8D1F\u8D23\u4EBA\u4E0D\u662F\u90E8\u95E8\u6210\u5458"),3):De.resultStatus===N.PARENTNOTTOSUB&&alert(_l("\u4E0D\u80FD\u8BBE\u7F6E\u5B50\u90E8\u95E8\u4E3A\u81EA\u5DF1\u7684\u4E0A\u7EA7\u90E8\u95E8"),3),b.setState({submitLoading:!1})}).catch(function(De){alert(_l("\u7F16\u8F91\u5931\u8D25"),2),b.setState({submitLoading:!1})})})},b.changeParent=function(){var Y=b.props.projectId,W=b.state.parentDepartment;(0,l.Z)({projectId:Y,selectedDepartment:_.isEmpty(W)?[]:[W],includeProject:!0,showCreateBtn:!1,fromAdmin:!0,selectFn:function(f){b.setState({parentDepartment:_.isEmpty(f)?{}:f[0]})}})},b.selectCharger=function(){var Y=b.props.projectId,W=b.state,M=W.departmentInfo,f=W.chargeUsers;Pe({projectId:Y,departmentId:M.departmentId,selectedUsersIds:f.map(function(ne){var ie=ne.accountId;return ie}),isUnique:!1,maxCount:5,callback:function(ie){return b.setState({chargeUsers:ie})}})},b.state={departmentInfo:{},parentDepartment:{},chargeUsers:[],submitLoading:!1},b}return(0,ce.default)(R,[{key:"componentDidMount",value:function(){this.props.type!=="create"&&this.getDeptInfo()}},{key:"render",value:function(){var b=this,Y=this.props,W=Y.projectId,M=Y.type,f=Y.visible,ne=Y.onCancel,ie=ne===void 0?function(){}:ne,V=this.state,me=V.departmentInfo,_e=V.parentDepartment,de=V.chargeUsers,Le=V.submitLoading,ge=_.find(md.global.Account.projects,function(nt){return nt.projectId===W})||{},Oe=ge.companyName;return S.createElement(r.Z,{visible:f,title:M==="create"?_l("\u521B\u5EFA\u90E8\u95E8"):_l("\u7F16\u8F91\u90E8\u95E8"),onCancel:ie,onOk:this.onOk,okDisabled:Le},S.createElement("div",{className:"departmentInfoList"},S.createElement("div",{className:"singleInfo departmentName"},S.createElement("span",{className:"infoLabel"},_l("\u90E8\u95E8\u540D\u79F0")),S.createElement("span",{className:"info Relative"},S.createElement("input",{type:"text",value:me.departmentName,maxlength:"64",className:"deptName TxtBottom w100",onChange:function(lt){var Ve=lt.target.value;b.setState({departmentInfo:(0,t.default)({},me,{departmentName:Ve})})}}))),M==="edit"&&S.createElement(S.Fragment,null,S.createElement("div",{className:"singleInfo parentDepartment",onClick:this.changeParent},S.createElement("span",{className:"infoLabel"},_l("\u4E0A\u7EA7\u90E8\u95E8")),S.createElement("span",{className:"info Hand"},S.createElement("input",{type:"text",value:_e.departmentName||Oe,maxlength:"64",className:"deptName TxtBottom"}),S.createElement("span",{className:"icon-arrow-down-border arrowIcon Font16 changeParent"}))),S.createElement("div",{className:"singleInfo departmentCharger"},S.createElement("span",{className:"infoLabel"},_l("\u90E8\u95E8\u8D1F\u8D23\u4EBA")),S.createElement("div",{className:"mTop10"},S.createElement("span",{className:"chargerUserBox"},de.map(function(nt){var lt=nt.avatar,Ve=nt.fullname;return S.createElement("div",{className:"chargerUserItem"},S.createElement("img",{src:lt,alt:Ve,className:"chargeUserAvatar"}),S.createElement("span",{className:"TxtMiddle chargeUserName"},Ve),S.createElement("i",{className:"icon-minus-square Font18 chargeUserDel",onClick:function(){return b.setState({chargeUsers:de.filter(function(ze){return ze.accountId!==nt.accountId})})}}))})),S.createElement("span",{className:"TxtCenter Gray_75 ThemeHoverBorderColor3 ThemeHoverColor3 pointer chargerUser",onClick:this.selectCharger},S.createElement("i",{className:"icon-plus"})))))))}}]),R}(S.Component),D=function(R){return(0,pe.Z)(E,(0,t.default)({},R))}},35356:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe});const pe={SESSIONTYPE_USER:1,SESSIONTYPE_GROUP:2,SESSIONTYPE_SYSTEM:3,SESSIONTYPE_POST:4,SESSIONTYPE_CALENDAR:5,SESSIONTYPE_TASK:6,SESSIONTYPE_KNOWLEDGE:7,SESSIONTYPE_HR:8,SESSIONTYPE_WORKSHEET:9,SESSIONTYPE_WORKFLOW:10,INPUT_MODE_ENTER:1,INPUT_MODE_CTRLENTER:2,MSGTYPE_TEXT:1,MSGTYPE_PIC:2,MSGTYPE_EMOTION:2,MSGTYPE_AUDIO:3,MSGTYPE_FILE:4,MSGTYPE_CARD:5,MSGTYPE_MAP:6,MSGTYPE_APP_VIDEO:7,MSGTYPE_SYSTEM_SUCCESS:1,MSGTYPE_SYSTEM_ERROR:2,GROUPACTION:{Delete:"0",Add:"1",RENAME:"RENAME",ADD_MEMBER:"ADD_MEMBER",ADD_MEMBERS:"ADD_MEMBERS",REMOVE_MEMBER:"REMOVE_MEMBER",ADD_ADMIN:"ADD_ADMIN",REMOVE_ADMIN:"REMOVE_ADMIN",EXIT_GROUP:"EXIT_GROUP",DELETE:"DELETE",CLOSE_GROUP:"CLOSE_GROUP",UPDATE_POST:"UPDATE_POST",TROUBLE_FREE:"TROUBLE_FREE",UPDATE_AVATAR:"UPDATE_AVATAR",UPDATE_DESC:"UPDATE_DESC",FORBID_SPEAK:"FORBID_SPEAK",FORBID_INVITE:"FORBID_INVITE"},FILE_TRANSFER:{id:"file-transfer",type:1,name:_l("\u6587\u4EF6\u4F20\u8F93\u52A9\u624B"),description:_l("\u652F\u6301\u5728\u8BBE\u5907\u4E4B\u95F4\u8F7B\u677E\u4F20\u8F93\u591A\u79CD\u7C7B\u578B\u6587\u4EF6")}}},69277:(Ze,Re,a)=>{"use strict";a.d(Re,{r8:()=>X});var pe=a(46593),r=a.n(pe),t=a(35356),e={send:function(U,c){return delete c.atParam,new(r())(function(S,h){U===t.Z.SESSIONTYPE_USER?IM.socket.emit("send message",c,function(y,l){y?h(y):S(l)}):U===t.Z.SESSIONTYPE_GROUP&&IM.socket.emit("send group message",c,function(y,l){y?h(y):S(l)})})},sendShake:function(U,c){return new(r())(function(S,h){U===t.Z.SESSIONTYPE_USER?IM.socket.emit("shake shake",c,function(y,l){y?h(y):S(l)}):U===t.Z.SESSIONTYPE_GROUP&&IM.socket.emit("group shake",c,function(y,l){y?h(y):S(l)})})},markAudioAsRead:function(U){IM.socket.emit("voice as read",U,function(){})},sendWithdrawMessgae:function(U,c){return new(r())(function(S,h){U===t.Z.SESSIONTYPE_USER?IM.socket.emit("withdraw user message",c,function(y,l){y?h(l):S(l)}):U===t.Z.SESSIONTYPE_GROUP&&IM.socket.emit("withdraw group message",c,function(y,l){y?h(l):S(l)})})}},X={clearUnread:function(U){return new(r())(function(c,S){switch(U.type){case 1:case 2:break;case 3:U.type="system";break;case 4:U.type="post";break;case 5:U.type="calendar";break;case 6:U.type="task";break;case 7:U.type="knowledge";break;case 8:U.type="hr";break;case 9:U.type="worksheet";break;case 10:U.type="workflow";break;default:break}U.type<=2?IM.socket.emit("clear unread",{type:U.type,id:U.value},function(h,y){h?S(h):c(y)}):IM.socket.emit("clear notification",{type:U.type,value:0,clear:!0},function(h,y){h?S(h):c(y)})})},clearAllUnread:function(){return new(r())(function(U,c){IM.socket.emit("clear all unread",{},function(S){U(S)})})},remove:function(U){return new(r())(function(c,S){IM.socket.emit("remove session",U,function(h){c(h)})})},setCurrentChat:function(U){U&&U.value?(U.id=U.value,IM.socket.emit("current chat",U,function(){})):IM.socket.emit("clear chat",{},function(){})},recordAction:function(U){return new(r())(function(c,S){IM.socket.emit("operate",{contact:U,isclose:!U.id,isopen:!!U.id},function(h){c(h)})})},setTop:function(U){return new(r())(function(c,S){IM.socket.emit("sticky on top",U,function(h){c(h)})})},setSlience:function(U){return new(r())(function(c,S){IM.socket.emit("silence message",U,function(h){c(h)})})}},J=function(U){return new _Promise(function(c,S){IM.socket.emit("upload token",U,function(h,y){y.token&&y.key?c(y):S(y)})})}},79778:(Ze,Re,a)=>{"use strict";a.d(Re,{$z:()=>y,C$:()=>r,CM:()=>c,Rl:()=>ae,Rm:()=>ce,S0:()=>z,S8:()=>J,Yz:()=>S,_P:()=>X,hc:()=>t,hr:()=>pe,jL:()=>e,nj:()=>l,pb:()=>h,qb:()=>Z,sl:()=>U});var pe="ADD_WIDGET",r="DEL_WIDGET",t="UPDATE_WIDGET",e="COPY_WIDGET",X="UPDATE_WIDGET_VISIBLE",J="UPDATE_EDIT_PAGE_VISIBLE ",ce="UPDATE_LAYOUT",U="UPDATE_PAGE_INFO",c="UPDATE_PAGE_LOADING",S="UPDATE_SAVE_LOADING",h="INSET_TITLE",y="UPDATE_MODIFIED ",l="UPDATE_COMPONENTS",ee="ADD_RECORD",z="UPDATE_FILTERS_GROUP",ae="UPDATE_LINKAGE_FILTERS_GROUP",Z="DELETE_LINKAGE_FILTERS_GROUP"},48947:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>t});var pe=a(67294),r=pe.createContext();const t=r},60866:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>st});var pe=a(70264),r=a(69288),t=a(94942),e=a.n(t),X=a(36803),J=a(85105),ce=a.n(J),U=a(99663),c=a(22600),S=a(49135),h=a(93196),y=a(86735),l=a(67294),ee=a(45697),z=a.n(ee),ae=a(71893),Z=a(20640),Pe=a.n(Z),oe=a(93162),Te=a(42541),F=a(42185),K=a(25273),v=a(15759),re=a(54208),L=a(88106),m=a(46593),B=a.n(m),C=a(12424),p=a(29314),g=a(67460),u=a(82527),T=a(65406),d=a(96486),O=a.n(d),k=(0,y.Z)([""],[""]),x=(0,y.Z)([`
  width: 280px;
  margin-top: 12px;
  display: flex;
  align-items: center;
  padding: 0 10px;
  cursor: pointer;
  `,`
  > .con {
    flex: 1;
    overflow: hidden;
  }
  i.arrow {
    font-size: 14px;
    color: #bdbdbd;
  }
`],[`
  width: 280px;
  margin-top: 12px;
  display: flex;
  align-items: center;
  padding: 0 10px;
  cursor: pointer;
  `,`
  > .con {
    flex: 1;
    overflow: hidden;
  }
  i.arrow {
    font-size: 14px;
    color: #bdbdbd;
  }
`]),N=(0,y.Z)([`
  min-height: 67px;
  margin-top: 12px;
`],[`
  min-height: 67px;
  margin-top: 12px;
`]),E=(0,y.Z)([`
  width: 280px;
  background: #fff;
  border-radius: 3px;
  `,`
  .header {
    display: flex;
    padding: 12px 16px;
  }
  .list {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 220px;
  }
`],[`
  width: 280px;
  background: #fff;
  border-radius: 3px;
  `,`
  .header {
    display: flex;
    padding: 12px 16px;
  }
  .list {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 220px;
  }
`]),D=(0,y.Z)([`
  padding: 14px 0;
  text-align: center;
`],[`
  padding: 14px 0;
  text-align: center;
`]),I=(0,y.Z)([`
  cursor: pointer;
  width: 100%;
  height: 36px;
  padding: 16px;
  display: flex;
  flex-direction: row;
  align-items: center;
  &:hover {
    background: #2196f3;
    color: #fff;
  }
`],[`
  cursor: pointer;
  width: 100%;
  height: 36px;
  padding: 16px;
  display: flex;
  flex-direction: row;
  align-items: center;
  &:hover {
    background: #2196f3;
    color: #fff;
  }
`]),R=ae.ZP.div(k),w=(0,ae.ZP)(Te.xw)(x,function(ht){var Ie=ht.active;return Ie?"border-color: #2196f3;":""}),b=(0,ae.ZP)(Te.gx)(N),Y=ae.ZP.div(E,Te.p7),W=(0,ae.ZP)(Te.go)(D),M=ae.ZP.div(I);function f(ht){var Ie=ht.card,le=ht.title,we=ht.url,We=ht.onClose,at=We===void 0?function(){}:We,At=(0,l.useState)(),dt=(0,C.Z)(At,2),mt=dt[0],It=dt[1],_t=(0,l.useState)(),Pt=(0,C.Z)(_t,2),ct=Pt[0],qe=Pt[1],ut=(0,l.useState)(!1),Dt=(0,C.Z)(ut,2),ot=Dt[0],be=Dt[1],Ae=(0,l.useState)([]),A=(0,C.Z)(Ae,2),j=A[0],H=A[1],Q=(0,l.useState)(),se=(0,C.Z)(Q,2),Ee=se[0],ue=se[1];function Ce(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";ue(!0),rt?B().all([T.Z.getGroups({keywords:rt,pageIndex:1,pageSize:20,searchGroupType:1,sortFiled:4,sortType:1,status:1}),u.Z.getAllAddressbook({isFilterOther:!0,keywords:rt,pageIndex:1,pageSize:20,range:0})]).then(function(vt){var Ct=(0,C.Z)(vt,2),yt=Ct[0],Et=Ct[1];ue(!1),H(yt.list.map(function(Rt){return{type:2,value:Rt.groupId,logo:Rt.avatar,name:Rt.name}}).concat(Et.list.map(function(Rt){return{type:1,value:Rt.accountId,logo:Rt.avatar,name:Rt.fullname}})))}):g.Z.getChatList({keywords:rt,size:20}).then(function(vt){ue(!1),H(vt)})}function Ue(){Ie&&!Ie.url&&(Ie.url=we),g.Z.sendCardToChat((0,L.default)({cards:Ie?[Ie]:[],message:mt},ct.type===1?"toAccountId":"toGroupId",ct.value)).then(function(rt){rt?(at(),alert(_l("\u53D1\u9001\u6210\u529F"))):alert(_l("\u53D1\u9001\u5931\u8D25"),3)})}var $e=(0,l.useCallback)((0,d.debounce)(Ce,300),[]),gt=l.createElement(Y,null,!Ee&&!j.length?l.createElement(W,null,_l("\u672A\u627E\u5230\u76F8\u5173\u7684\u4EBA\u5458\u6216\u7FA4\u804A")):l.createElement(l.Fragment,null,l.createElement("div",{className:"header"},l.createElement(Te.go,null,_l("\u6700\u8FD1\u804A\u5929"))),l.createElement("div",{className:"list flexColumn"},Ee&&l.createElement(re.Z,{size:"small"}),!Ee&&!!j.length&&l.createElement(K.Z,{className:"flex"},j.map(function(rt){return l.createElement(M,{onClick:function(){qe(rt),be(!1)}},l.createElement(v.Z,{className:"mRight10",user:{userHead:rt.logo,accountId:rt.value},size:26}),l.createElement("div",{className:"ellipsis",title:rt.name},rt.name))})))));return l.createElement(R,null,l.createElement(Te.XX,{className:"mTop20"},_l("\u53D1\u9001\u5230")),l.createElement(p.Z,{action:["click"],popupVisible:ot,popup:gt,getPopupContainer:function(){return document.body},onPopupVisibleChange:function(vt){vt&&!j.length&&Ce(),be(vt)},destroyPopupOnHide:!0,popupAlign:{points:["tl","bl"],offset:[0,0],overflow:{adjustY:!0}}},l.createElement(w,{active:ot},l.createElement("div",{className:"con"},ot&&l.createElement("input",{type:"text",autoFocus:!0,onClick:function(vt){vt.stopPropagation(),vt.preventDefault()},onKeyUp:function(vt){return $e(vt.target.value)}}),!ot&&(ct?l.createElement("div",{className:"flexRow"},l.createElement(v.Z,{className:"mRight10",user:{userHead:ct.logo,accountId:ct.value},size:24}),l.createElement("div",{className:"flex ellipsis",title:ct.name},ct.name)):l.createElement(Te.lP,null,_l("\u8BF7\u9009\u62E9")))),l.createElement("i",{className:"arrow icon icon-arrow-down-border"}))),l.createElement(b,{placeholder:_l("\u6DFB\u52A0\u8BF4\u660E\u5185\u5BB9"),value:mt,onChange:function(vt){return It(vt.target.value)}}),l.createElement(F.ZP,{className:"mTop6",disabled:!ct,onClick:Ue},_l("\u53D1\u9001")))}var ne,ie,V=(0,y.Z)([`
  overflow: hidden;
  input {
    border: none;
    background: inherit;
    font-size: inherit;
    width: 100%;
    margin-left: -1px;
    height: 36px;
    line-height: 36px;
  }
  .icon-refresh {
    &:hover {
      color: #2196f3 !important;
    }
  }
`],[`
  overflow: hidden;
  input {
    border: none;
    background: inherit;
    font-size: inherit;
    width: 100%;
    margin-left: -1px;
    height: 36px;
    line-height: 36px;
  }
  .icon-refresh {
    &:hover {
      color: #2196f3 !important;
    }
  }
`]),me=(0,y.Z)([`
  cursor: pointer;
  padding: 0;
  width: 36px;
  color: #757575;
  font-size: 18px;
  text-align: center;
  margin-left: 6px;
  :hover {
    color: #2196f3;
  }
  `,`
`],[`
  cursor: pointer;
  padding: 0;
  width: 36px;
  color: #757575;
  font-size: 18px;
  text-align: center;
  margin-left: 6px;
  :hover {
    color: #2196f3;
  }
  `,`
`]),_e=(0,y.Z)([`
  cursor: pointer;
  color: #9d9d9d;
  font-size: 14px;
  margin-left: 6px;
  :hover {
    color: #2196f3;
  }
`],[`
  cursor: pointer;
  color: #9d9d9d;
  font-size: 14px;
  margin-left: 6px;
  :hover {
    color: #2196f3;
  }
`]),de=(0,y.Z)([`
  cursor: pointer;
  line-height: 36px;
  display: inline-block;
  padding: 0 20px;
  color: #333;
  font-size: 13px;
  font-weight: 500;
  margin-left: 6px;
  :hover {
    color: #2196f3;
  }
  `,`
`],[`
  cursor: pointer;
  line-height: 36px;
  display: inline-block;
  padding: 0 20px;
  color: #333;
  font-size: 13px;
  font-weight: 500;
  margin-left: 6px;
  :hover {
    color: #2196f3;
  }
  `,`
`]),Le=(0,y.Z)([`
  cursor: pointer;
  line-height: 36px;
  width: 80px;
  display: flex;
  justify-content: space-around;
  align-items: center;
  padding: 0 5px;
  color: #333;
  font-size: 13px;
  font-weight: 500;
  i {
    color: #757575;
    font-size: 18px;
  }

  :hover {
    color: #2196f3;
    i {
      color: #2196f3;
    }
  }
  `,`
`],[`
  cursor: pointer;
  line-height: 36px;
  width: 80px;
  display: flex;
  justify-content: space-around;
  align-items: center;
  padding: 0 5px;
  color: #333;
  font-size: 13px;
  font-weight: 500;
  i {
    color: #757575;
    font-size: 18px;
  }

  :hover {
    color: #2196f3;
    i {
      color: #2196f3;
    }
  }
  `,`
`]),ge=(0,y.Z)([`
  color: #f44336;
`],[`
  color: #f44336;
`]),Oe=(0,ae.ZP)(Te.al)(V),nt=(0,ae.ZP)(Te.al)(me,function(ht){var Ie=ht.theme;return Ie==="light"&&`
    background: #fff;
    border: 1px solid #ddd;
    :hover {
      border-color: #2196f3;
    }
  `}),lt=ae.ZP.span(_e),Ve=(0,ae.ZP)(Te.al)(de,function(ht){var Ie=ht.theme;return Ie==="light"&&`
    background: #fff;
    border: 1px solid #ddd;
    :hover {
      border-color: #2196f3;
    }
  `}),De=(0,ae.ZP)(Te.al)(Le,function(ht){var Ie=ht.theme;return Ie==="light"&&`
    background: #fff;
    border: 1px solid #ddd;
    :hover {
      border-color: #2196f3;
    }
  `}),ze=ae.ZP.span(ge),st=(ie=ne=function(ht){(0,h.default)(Ie,ht);function Ie(le){(0,U.default)(this,Ie);var we=(0,S.default)(this,(Ie.__proto__||ce()(Ie)).call(this,le));return we.state={showinput:!1},we}return(0,c.default)(Ie,[{key:"handleCopy",value:function(){var le=(0,X.Z)(e().mark(function We(at){var At;return e().wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:if(At=this.props.getCopyContent,mt.t0=Pe(),!O().isFunction(At)){mt.next=8;break}return mt.next=5,At(at);case 5:mt.t1=mt.sent,mt.next=9;break;case 8:mt.t1=at;case 9:mt.t2=mt.t1,(0,mt.t0)(mt.t2),alert(_l("\u590D\u5236\u6210\u529F"));case 12:case"end":return mt.stop()}},We,this)}));function we(We){return le.apply(this,arguments)}return we}()},{key:"handleRefreshShareUrl",value:function(){var we=this.props.refreshShareUrl;r.Z.confirm({buttonType:"danger",title:l.createElement(ze,null," ",_l("\u786E\u8BA4\u751F\u6210\u65B0\u94FE\u63A5\u5417\uFF1F")," "),description:_l("\u5982\u679C\u60A8\u9009\u62E9\u751F\u6210\u65B0\u94FE\u63A5\uFF0C\u5219\u65E7\u94FE\u63A5\u5C06\u4E0D\u518D\u53EF\u7528"),onOk:we})}},{key:"render",value:function(){var we=this,We=this.props,at=We.url,At=We.style,dt=We.inputBtns,mt=dt===void 0?[]:dt,It=We.customBtns,_t=It===void 0?[]:It,Pt=We.className,ct=Pt===void 0?"":Pt,qe=We.theme,ut=qe===void 0?"default":qe,Dt=We.copyShowText,ot=We.allowSendToChat,be=ot===void 0?!1:ot,Ae=We.qrVisible,A=Ae===void 0?!0:Ae,j=We.copyTip,H=We.chatCard,Q=We.editUrl,se=We.editTip,Ee=We.showCompletely,ue=Ee===void 0?{}:Ee,Ce=We.refreshShareUrl,Ue=this.state,$e=Ue.showinput,gt=Ue.chatVisible,rt=md.global.Config.AjaxApiUrl+("code/CreateQrCodeImage?url="+at),vt=md.global.Config.AjaxApiUrl+("code/CreateQrCodeImage?url="+at+"&size=20&download=true"),Ct=function(Et,Rt){return Et.showCompletely?l.createElement(De,{style:Et.style,theme:ut,onClick:Et.onClick},l.createElement("i",{style:Et.iconStyle,className:"icon-"+Et.icon}),l.createElement("span",null,Et.text)):l.createElement(pe.Z,{key:Rt,popupPlacement:"bottom",text:l.createElement("span",null,Et.tip)},l.createElement(nt,{style:Et.style,theme:ut,className:Et.className,onClick:Et.onClick},l.createElement("i",{style:Et.iconStyle,className:"icon-"+Et.icon})))};return l.createElement(l.Fragment,null,l.createElement("div",{className:"flexRow "+ct,style:At},l.createElement(Oe,{className:"flex flexRow shareInput",title:at},$e?l.createElement("input",{type:"text",id:"linkContent",onBlur:function(){return we.setState({showinput:!1})},value:at,readonly:"readonly",ref:function(Et){Et&&Et.select()}}):l.createElement(l.Fragment,null,l.createElement("div",{className:"flex ellipsis",onClick:function(){we.setState({showinput:!0}),Pe()(at),alert(_l("\u590D\u5236\u6210\u529F"))}},at),Ce&&l.createElement(pe.Z,{popupPlacement:"bottom",text:l.createElement("span",null,_l("\u91CD\u65B0\u751F\u6210\u94FE\u63A5"))},l.createElement("i",{className:"icon-refresh Font18 InlineBlock Hand Gray_9e LineHeight36 mLeft10",onClick:function(){return we.handleRefreshShareUrl()}})),Q&&l.createElement(pe.Z,{popupPlacement:"bottom",text:l.createElement("span",null,se)},l.createElement("i",{className:"icon-new_mail Font18 InlineBlock Hand Gray_9e LineHeight36",onClick:function(Et){Et.stopPropagation(),Q()}}))),mt.map(function(yt,Et){return l.createElement(pe.Z,{key:Et,popupPlacement:"bottom",text:l.createElement("span",null,yt.tip)},l.createElement(lt,{theme:ut,onClick:yt.onClick},l.createElement("i",{style:yt.iconStyle,className:"icon-"+yt.icon})))})),l.createElement("div",{className:"flexRow"},_t.map(Ct),ue.copy?l.createElement(De,{theme:ut,onClick:function(){return we.handleCopy(at)}},l.createElement("i",{className:"icon-content-copy"}),l.createElement("span",{className:"text"},_l("\u590D\u5236"))):Dt?j?l.createElement(pe.Z,{popupPlacement:"bottom",text:l.createElement("span",null,j)},l.createElement(Ve,{theme:ut,className:"copy",onClick:function(){return we.handleCopy(at)}},l.createElement("span",{className:"text"},_l("\u590D\u5236")))):l.createElement(Ve,{theme:ut,className:"copy",onClick:function(){return we.handleCopy(at)}},l.createElement("span",{className:"text"},_l("\u590D\u5236"))):l.createElement(pe.Z,{popupPlacement:"bottom",text:l.createElement("span",null,_l("\u590D\u5236\u94FE\u63A5"))},l.createElement(nt,{theme:ut,className:"copy",onClick:function(){return we.handleCopy(at)}},l.createElement("i",{className:"icon-content-copy"}))),A&&l.createElement(pe.Z,{themeColor:"white",tooltipClass:"qrHoverPanel",popupPlacement:"bottomRight",popupAlign:{overflow:{adjustX:!0,adjustY:!0}},text:l.createElement(l.Fragment,null,l.createElement("img",{src:rt}),l.createElement("p",{className:"ThemeColor3"},l.createElement("span",{className:"Hand",onClick:function(){(0,oe.saveAs)(vt,"qrcode.jpg")}},_l("\u70B9\u51FB\u4E0B\u8F7D"))))},ue.qr?l.createElement(De,{theme:ut},l.createElement("i",{className:"icon-qr_code Font22 LineHeight36"}),l.createElement("span",{className:"text"},_l("\u4E8C\u7EF4\u7801"))):l.createElement(nt,{theme:ut,className:"Hand qrCode"},l.createElement("i",{className:"icon-qr_code Font22 LineHeight36"}))),be&&l.createElement(pe.Z,{popupPlacement:"bottom",text:l.createElement("span",null,_l("\u53D1\u6D88\u606F"))},l.createElement(nt,{style:gt?{borderColor:"#2196f3"}:{},theme:ut,onClick:function(){we.setState({chatVisible:!gt})}},l.createElement("i",{style:gt?{color:"#2196f3"}:{color:"#F79104"},className:"icon-"+(gt?"arrow-up-border":"replyto")}))))),gt&&l.createElement(f,{card:H,url:at,onClose:function(){return we.setState({chatVisible:!1})}}))}}]),Ie}(l.Component),ne.propTypes={copyShowText:z().bool,url:z().string,theme:z().string,allowSendToChat:z().bool,qrVisible:z().bool,copyTip:z().string,customBtns:z().arrayOf(z().shape({tip:z().string,icon:z().string,text:z().string,showCompletely:z().bool,onClick:z().func})),className:z().string,style:z().shape({}),getCopyContent:z().func,showCompletely:z().shape({copy:z().bool,qr:z().bool}),refreshShareUrl:z().func},ie)},88613:(Ze,Re,a)=>{"use strict";a.d(Re,{R:()=>Yi});var pe={};a.r(pe),a.d(pe,{buttons:()=>x,controls:()=>b,draftDataCount:()=>Y,error:()=>u,filters:()=>D,loading:()=>g,navGroupCounts:()=>w,navGroupFilters:()=>R,quickFilter:()=>I,sheetButtons:()=>N,sheetSearchConfig:()=>O,sheetSwitchPermit:()=>d,views:()=>k,worksheetInfo:()=>T});var r={};a.r(r),a.d(r,{hierarchyDataStatus:()=>se,hierarchyRelateSheetControls:()=>Ce,hierarchyTopLevelDataCount:()=>Ee,hierarchyViewData:()=>Q,hierarchyViewState:()=>H,recordInfoId:()=>$e,searchRecordId:()=>Ue});var t={};a.r(t),a.d(t,{sheetFetchParams:()=>Ct,sheetViewConfig:()=>rt,sheetViewData:()=>Et});var e={};a.r(e),a.d(e,{gallery:()=>vn,galleryIndex:()=>Zn,galleryLoading:()=>mn,galleryViewLoading:()=>zt,galleryViewRecordCount:()=>on,view:()=>Rt});var X={};a.r(X),a.d(X,{calendar:()=>En,calendarData:()=>xn,calendarEventIsAdd:()=>In,calendarFormatData:()=>yn,calendarIsOver:()=>Un,calendarLoading:()=>_n,calendarViewEnd:()=>kn,calendarViewStart:()=>Rn,calenderEventList:()=>gn,editable:()=>ln,mobileCurrentCalendatData:()=>An,mobileCurrentDate:()=>Cn,mobileMoreClickVisible:()=>bn});var J={};a.r(J),a.d(J,{chartScroll:()=>Nn,editIndex:()=>tn,grouping:()=>qt,groupingScroll:()=>Ln,groupingVisible:()=>zn,isRefresh:()=>On,loading:()=>Sn,periodList:()=>fn,periodParentList:()=>Tn,periodType:()=>en,searchRecordId:()=>Mn,viewConfig:()=>jt,withoutArrangementVisible:()=>wn,zoom:()=>Dn});var ce={};a.r(ce),a.d(ce,{appInfo:()=>Bt,createAppLoading:()=>sa,currentSheetInfo:()=>Yt,dialogCreateAppVisible:()=>ra,dialogUploadVisible:()=>un,excelDetailData:()=>Wt,selectedImportSheetIds:()=>Qt,setDataDialogVisible:()=>Fn});var U={};a.r(U),a.d(U,{detailKeyWords:()=>ua,detailPageIndex:()=>Qn,detailViewLoading:()=>la,detailViewRows:()=>oa,detailViewRowsCount:()=>Yn,noMoreRows:()=>ia});var c={};a.r(c),a.d(c,{flag:()=>Ba,loading:()=>da});var S={};a.r(S),a.d(S,{currentTime:()=>Ia,gridTimes:()=>va,keywords:()=>Gn,loading:()=>ma,resourceData:()=>ga,resourceDataByKey:()=>fa,resourceRelationControls:()=>pa,timeList:()=>ha});var h={};a.r(h),a.d(h,{fontSize:()=>it,hasMore:()=>ke,hasNew:()=>he,ireplyPostIds:()=>Qe,ireplyPostsById:()=>q,loading:()=>He,loadingMore:()=>je,options:()=>xt,pageIndex:()=>Je,postIds:()=>ve,postsById:()=>te,searchKeywords:()=>Ft,title:()=>Nt,topPostIds:()=>P});var y={};a.r(y),a.d(y,{errors:()=>rn,postId:()=>an});var l={};a.r(l),a.d(l,{accountTasksKV:()=>lr,stateConfig:()=>ir,timeAxisSource:()=>ur});var ee={};a.r(ee),a.d(ee,{collectCharts:()=>ls,collectRecords:()=>is,isHomeLoading:()=>rs,myAppData:()=>as,myPlatformData:()=>os,platformSetting:()=>ss});var z={};a.r(z),a.d(z,{appDetail:()=>us,debugRoles:()=>ms,isAppLoading:()=>ds,isQuitSuccess:()=>cs});var ae={};a.r(ae),a.d(ae,{isMemberLoading:()=>gs,memberData:()=>ps});var Z={};a.r(Z),a.d(Z,{isListLoading:()=>hs,isUpdateListLoading:()=>vs,memberList:()=>fs});var Pe={};a.r(Pe),a.d(Pe,{isRoleListLoading:()=>Es,moveRoleFetch:()=>ys,roleList:()=>Is});var oe={};a.r(oe),a.d(oe,{applyData:()=>As,isApplyLoading:()=>Cs});var Te={};a.r(Te),a.d(Te,{appColor:()=>Ls,base:()=>Ss,batchOptCheckedData:()=>Gs,batchOptVisible:()=>Fs,currentSheetRows:()=>Ds,filters:()=>_s,isCharge:()=>bs,isClickChart:()=>Bs,mobileNavGroupFilters:()=>Ms,quickFilter:()=>Us,sheetFiltersGroup:()=>Rs,sheetRowLoading:()=>ws,sheetSwitchPermit:()=>Ns,sheetView:()=>ks,viewResultCode:()=>xs,workSheetLoading:()=>Ts,worksheetControls:()=>Os,worksheetInfo:()=>Ps});var F={};a.r(F),a.d(F,{currentSearchSheetRows:()=>js});var K={};a.r(K),a.d(K,{sheetAttachments:()=>Vs,sheetDiscussions:()=>Ws,sheetLogs:()=>Hs});var v={};a.r(v),a.d(v,{actionParams:()=>Qs,loadParams:()=>Ks,permissionInfo:()=>Ys,relationRow:()=>zs,relationRows:()=>Zs,rowInfo:()=>$s});var re={};a.r(re),a.d(re,{filterComponents:()=>qs,filtersGroup:()=>Js,linkageFiltersGroup:()=>Xs,loadFilterComponentCount:()=>eo});var L=a(22010),m=a(88239),B=a(96486),C=a.n(B),p=a(85315);function g(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1];switch(n.type){case"WORKSHEET_UPDATE_LOADING":return n.loading;case"WORKSHEET_INIT":case"WORKSHEET_INIT_FAIL":return!1;case"WORKSHEET_FETCH_START":return!0;default:return s}}function u(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"WORKSHEET_INIT_FAIL":return!0;case"WORKSHEET_FETCH_START":return!1;default:return s}}function T(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1],i=void 0;switch(n.type){case"WORKSHEET_INIT":return n.value;case"WORKSHEET_UPDATE_WORKSHEETINFO":return(0,m.default)({},s,n.info);case"WORKSHEET_UPDATE_IS_REQUESTING_RELATION_CONTROLS":return(0,m.default)({},s,{isRequestingRelationControls:n.value});case"WORKSHEET_UPDATE_SOME_CONTROLS":try{return i=(0,m.default)({},s,{template:(0,m.default)({},s.template,{controls:s.template.controls.map(function(G){var fe=C().find(n.controls,{controlId:G.controlId});return fe?(0,m.default)({},fe,{value:G.value}):G})})}),i}catch(G){return console.error(G),s}default:return s}}function d(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"WORKSHEET_PERMISSION_INIT":return n.value;case"WORKSHEET_FETCH_START":return[];default:return s}}function O(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"WORKSHEET_SEARCH_CONFIG_INIT":return n.value;case"WORKSHEET_FETCH_START":return[];default:return s}}function k(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"WORKSHEET_INIT":return n.value.views||s;case"WORKSHEET_UPDATE_VIEWS":return n.views;case"WORKSHEET_UPDATE_VIEW":return s.map(function(i){return i.viewId===n.view.viewId?n.view:i});case"WORKSHEET_FETCH_START":return[];default:return s}}function x(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"WORKSHEET_UPDATE_BUTTONS":return n.buttons;case"WORKSHEET_FETCH_START":return[];default:return s}}function N(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"WORKSHEET_UPDATE_SHEETBUTTONS":return n.buttons;case"WORKSHEET_FETCH_START":return[];default:return s}}var E={searchType:1,keyWords:"",filterControls:[]};function D(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E,n=arguments[1];switch(n.type){case"WORKSHEET_UPDATE_FILTERS":return(0,m.default)({},s,n.filters);case"WORKSHEET_INIT":case"WORKSHEET_CLEAR_FILTERS":return E;case"WORKSHEET_UPDATE_BASE":return(0,m.default)({},s,{keyWords:""});default:return s}}function I(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"WORKSHEET_UPDATE_QUICK_FILTER":return[].concat((0,p.Z)(n.filter));case"WORKSHEET_RESET_QUICK_FILTER":case"WORKSHEET_UPDATE_BASE":case"WORKSHEET_INIT":return[];default:return s}}function R(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"WORKSHEET_UPDATE_GROUP_FILTER":return n.navGroupFilters||[];default:return s}}function w(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"WORKSHEET_NAVGROUP_COUNT":return n.data||[];default:return s}}function b(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"WORKSHEET_INIT":var i=n.value,G=i===void 0?{}:i,fe=G.template,ye=fe===void 0?{}:fe,Ne=ye.controls,Se=Ne===void 0?[]:Ne;return Se;case"WORKSHEET_UPDATE_CONTROLS":return n.controls;case"WORKSHEET_UPDATE_SOME_CONTROLS":return s.map(function(Be){return C().find(n.controls,{controlId:Be.controlId})||Be});case"WORKSHEET_UPDATE_CONTROL":return s.map(function(Be){return Be.controlId===n.control.controlId?n.control:Be});default:return s}}var Y=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments[1];switch(i.type){case"UPDATE_DRAFT_DATA_COUNT":return i.data;default:return n}},W=a(63239),M=a.n(W),f=a(88106),ne=a(12424),ie=a(7145),V=a.n(ie),me=a(30998),_e=a.n(me),de=function(n,i){var G=i.key,fe=i.rowId,ye=_.findIndex(n,function(Be){return Be.key===G});if(ye<0)return null;var Ne=_.get(n,[ye,"rows"]);try{var Se=_.findIndex(Ne,function(Be){return JSON.parse(Be).rowid===fe});return Se<0?null:[ye,Se]}catch(Be){return null}},Le=function(n,i){var G=de(n,i);if(!G)return n;var fe=(0,ne.Z)(G,2),ye=fe[0],Ne=fe[1];return V()(n,(0,f.default)({},ye,{rows:{$splice:[[Ne,1]]}}))},ge=function(n,i){var G,fe=i.targetKey,ye=i.rowId,Ne=i.key,Se=i.value,Be=de(n,i);if(!Be)return n;var tt=(0,ne.Z)(Be,2),et=tt[0],Fe=tt[1],xe=_e()(n,function(Ye){return Ye.key===fe}),Me=JSON.parse((0,B.get)(n,[et,"rows",Fe]));if((0,B.get)((0,B.head)(n),"type")===10){var Xe=n.find(function(Ye){return Ye.key===fe}),Ge=(_.get(Xe,"rows")||[]).map(function(Ye){return _.get(JSON.parse(Ye),"rowid")});if(Ge.includes(ye))return V()(n,(0,f.default)({},et,{rows:{$splice:[[Fe,1]]}}))}return V()(n,(G={},(0,f.default)(G,et,{rows:{$splice:[[Fe,1]]}}),(0,f.default)(G,xe,{rows:{$unshift:[M()((0,m.default)({},Me,(0,f.default)({},Ne,Se)))]}}),G))},Oe=function(n){var i=n.info,G=n.target,fe=i.type,ye={targetKey:"-1"};if(!G)return ye;if(fe===28)return G?{targetKey:G}:ye;var Ne=function(tt){var et=(0,B.head)(tt);if(fe===26)return{name:M()(et),targetKey:_.get(et,"accountId")};if(fe===29)return{name:et.name,targetKey:_.get(et,"sid")};if([9,11].includes(fe))return{targetKey:et}};if([9,11,26,29].includes(fe))try{var Se=JSON.parse(G);return Array.isArray(Se)?Se.length<1?ye:Ne(Se):ye}catch(Be){return ye}return ye},nt=function(n,i){var G=de(n,i);if(!G)return n;var fe=(0,ne.Z)(G,2),ye=fe[0],Ne=fe[1],Se=_.get(n,ye+".rows."+Ne);if(Se)try{Se=JSON.parse(Se),i.item=(0,m.default)({},Se,i.item)}catch(pt){console.error(pt)}if(i.target!==void 0){var Be,tt=Oe(i),et=tt.name,Fe=tt.targetKey,xe=_.findIndex(n,function(pt){return pt.key===Fe});if(xe<0){if(Fe==="-1"){var Me;return V()(n,(Me={},(0,f.default)(Me,ye,{rows:{$splice:[[Ne,1]]}}),(0,f.default)(Me,"$unshift",[{key:"-1",rows:[M()(i.item)],totalNum:1}]),Me))}if(Fe){var Xe,Ge=M()(i.item),Ye={key:Fe,rows:[Ge],totalNum:1};return Ye=(0,m.default)({},Ye,{name:et||i.targetName}),_.get(i,["info","type"])&&(Ye=(0,m.default)({},Ye,{type:i.info.type})),V()(n,(Xe={},(0,f.default)(Xe,ye,{rows:{$splice:[[Ne,1]]},totalNum:{$apply:function(St){return St-1}}}),(0,f.default)(Xe,"$push",[Ye]),Xe))}return n}return V()(n,(Be={},(0,f.default)(Be,ye,{rows:{$splice:[[Ne,1]]}}),(0,f.default)(Be,xe,{rows:{$unshift:[M()(i.item)]}}),Be))}return V()(n,(0,f.default)({},ye,{rows:{$splice:[[Ne,1,M()(i.item)]]}}))},lt=function(n,i){var G=i.item,fe=i.key,ye=_.findIndex(n,function(Ne){return Ne.key===fe});return ye<0?n:V()(n,(0,f.default)({},ye,{rows:{$unshift:[M()(G)]}}))},Ve=function(n,i){var G=i.key,fe=i.index,ye=i.data,Ne=_.findIndex(n,function(Se){return Se.key===G});return V()(n,(0,f.default)({},Ne,{rows:(0,f.default)({},fe,{$apply:function(Be){var tt=JSON.parse(Be);return M()((0,m.default)({},tt,ye))}})}))};function De(s,n){var i=n.rowId,G=n.item,fe=n.prevValue,ye=n.currentValue,Ne=n.info,Se=Ne===void 0?{}:Ne,Be=n.selectControl,tt=Be===void 0?{}:Be,et=JSON.parse(fe||"[]"),Fe=JSON.parse(ye||"[]"),xe=Fe.length>0?Fe.filter(function(Xe){return!et.includes(Xe)}):["-1"],Me=et.length>0?et.filter(function(Xe){return!Fe.includes(Xe)}):["-1"];return xe.length&&xe.forEach(function(Xe){var Ge=s.findIndex(function(pt){return pt.key===Xe});if(Ge>0)s=V()(s,(0,f.default)({},Ge,{totalNum:{$apply:function(St){return St+1}},rows:{$push:[M()(G)]}}));else{var Ye=(_.find(tt.options||[],function(pt){return pt.key===Xe})||{}).value;s=V()(s,{$push:[{key:n.key,name:Ye,type:Se.type,rows:[M()(G)],totalNum:1}]})}}),Me.length&&Me.forEach(function(Xe){var Ge=s.findIndex(function(Ye){return Ye.key===Xe});Ge>0&&(s=V()(s,(0,f.default)({},Ge,{totalNum:{$apply:function(pt){return pt-1}},rows:{$apply:function(pt){var St=pt.map(function(Tt){return _.get(JSON.parse(Tt),"rowid")}),ft=St.findIndex(function(Tt){return Tt===i});return V()(pt,{$splice:[[ft,1]]})}}})))}),Fe.forEach(function(Xe){var Ge=s.findIndex(function(Ye){return Ye.key===Xe});Ge>0&&(s=V()(s,(0,f.default)({},Ge,{rows:{$apply:function(pt){var St=pt.map(function(Tt){return _.get(JSON.parse(Tt),"rowid")}),ft=St.findIndex(function(Tt){return Tt===i});return V()(pt,{$splice:[[ft,1,M()(G)]]})}}})))}),s}var ze={boardData:[],loading:!1,boardViewState:{hasMoreData:!0,kanbanIndex:1}};function st(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ze,n=arguments[1],i=n.type,G=n.data,fe=s.boardData,ye=s.boardViewState,Ne=s.boardViewRecordCount;switch(i){case"CHANGE_BOARD_VIEW_DATA":case"UPDATE_BOARD_VIEW_DATA":return(0,m.default)({},s,{boardData:G});case"ADD_BOARD_VIEW_RECORD":return(0,m.default)({},s,{boardData:lt(fe,G)});case"DEL_BOARD_VIEW_RECORD_COUNT":return(0,m.default)({},s,{boardData:Le(fe,G)});case"UPDATE_BOARD_VIEW_RECORD":return(0,m.default)({},s,{boardData:nt(fe,G)});case"SORT_BOARD_VIEW_RECORD":return(0,m.default)({},s,{boardData:ge(fe,G)});case"UPDATE_BOARD_TITLE_DATA":return(0,m.default)({},s,{boardData:Ve(fe,G)});case"CHANGE_BOARD_VIEW_LOADING":return(0,m.default)({},s,{boardViewLoading:n.loading});case"CHANGE_BOARD_VIEW_STATE":return(0,m.default)({},s,{boardViewState:V()(ye,{$apply:function(Be){return(0,m.default)({},Be,n.payload)}})});case"INIT_BOARD_VIEW_RECORD_COUNT":return(0,m.default)({},s,{boardViewRecordCount:V()(Ne,{$apply:function(Be){return(0,m.default)({},Be,G)}})});case"UPDATE_BOARD_VIEW_RECORD_COUNT":return(0,m.default)({},s,{boardViewRecordCount:V()(Ne,(0,f.default)({},G[0],{$apply:function(Be){return Math.max(0,Be+G[1])}}))});case"UPDATE_MULTI_SELECT_BOARD":return(0,m.default)({},s,{boardData:De(fe,G)});default:return s}}var ht=a(72444),Ie=a(26378),le=a.n(Ie),we=a(52367),We=a.n(we),at=a(47518),At=a.n(at),dt=function(n){var i=n.reduce(function(G,fe){return G.concat([fe,"children"])},[]);return i.pop(),i},mt=function(n){if(!n)return[];if(Array.isArray(n))return n;if(typeof n=="string")try{return JSON.parse(n)}catch(i){console.log(i)}return[]},It=function(n){var i=n.data,G=n.path,fe=G===void 0?[]:G,ye=n.pathId,Ne=ye===void 0?[]:ye,Se=n.baseIndex,Be=Se===void 0?0:Se,tt=n.visible,et=tt===void 0?!1:tt;return Be=Be<0?0:Be,!i||!_.isArray(i)||_.isEmpty(i)?[]:i.map(function(Fe,xe){return{rowId:Fe.rowid,visible:et,display:!0,path:fe.concat([Be+xe]),pathId:Ne.concat([Fe.rowid]),children:mt(Fe.childrenids)}})},_t=function(n,i,G){var fe=At()(n).filter(function(Ne){return Ne.pid===i}),ye=new(We())(fe.map(function(Ne,Se){return[Ne,Se]}));return _.sortBy(mt(G),function(Ne){return ye.get(Ne)})},Pt=function(n){var i=n.state,G=n.path,fe=n.updater;if(!G.length)return i;if(G.length===1)return V()(i,(0,f.default)({},G[0],{$apply:function(tt){return(0,m.default)({},tt,fe)}}));var ye=_.cloneDeep(i),Ne=dt(G),Se=_.get(i,Ne);return _.isEmpty(Se)||_.set(ye,Ne,(0,m.default)({},Se,fe)),ye},ct=function s(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{data:[],treeData:{},path:[],pathId:[],level:0},i=n.data,G=i===void 0?[]:i,fe=n.treeData,ye=fe===void 0?{}:fe,Ne=n.path,Se=Ne===void 0?[]:Ne,Be=n.pathId,tt=Be===void 0?[]:Be,et=n.level;if(et<0)return[];et=et-1;for(var Fe=[],xe=0;xe<G.length;xe++){var Me=_.isString(G[xe])?G[xe]:G[xe].rowid,Xe=ye[Me]||{},Ge=Se.concat([xe]),Ye=tt.concat([Me]);Fe.push({rowId:Me,path:Ge,pathId:Ye,display:!0,visible:et>0,children:s({data:_t(ye,Me,Xe.childrenids),treeData:ye,path:Ge,pathId:Ye,level:et})})}return Fe},qe=function(n){var i=n.state,G=i===void 0?[]:i,fe=n.currentItem,ye=fe.pathId,Ne=ye===void 0?[]:ye,Se=fe.rowId,Be=Ne.filter(function(xe){return xe!==Se}),tt=_.findIndex(G,function(xe){return _.includes(Be,xe.rowId)});if(tt>-1){var et=function xe(Me){var Xe=!0,Ge=!1,Ye=void 0;try{for(var pt=le()(Me),St;!(Xe=(St=pt.next()).done);Xe=!0){var ft=St.value;return ft.children&&ft.children.length>0&&xe(ft.children),_.includes(Be,ft.rowId)?(0,m.default)({},ft,{visible:!0}):ft}}catch(Tt){Ge=!0,Ye=Tt}finally{try{!Xe&&pt.return&&pt.return()}finally{if(Ge)throw Ye}}return Me},Fe=et([G[tt]]);return V()(G,{$splice:[[tt,1,Fe]]})}else return G},ut=function(n){var i=n.data,G=n.treeData,fe=n.level,ye=_.filter(i,function(Ne){return!Ne.pid});return ct({data:ye,treeData:G,level:fe})},Dt=function(n){var i=n.state,G=n.data,fe=i.length;return!(0,B.isArray)(G)&&!(0,B.isEmpty)(G)&&(G=[G]),V()(i,{$push:It({data:G,baseIndex:fe,visible:!0})})},ot=function(n){var i=n.state,G=n.data,fe=n.path,ye=n.pathId,Ne=n.spliceTempRecord,Se=Ne===void 0?!1:Ne;if(!fe.length)return i;var Be=function(Me){var Xe=Me.filter(function(Ge){return typeof Ge!="string"});return Se?V()(Me,{$splice:[[Me.length-1,0].concat((0,p.Z)(It({data:[G],path:fe,pathId:ye,baseIndex:Math.max(0,Xe.length)})))]}):V()(Me,{$push:It({data:[G],path:fe,pathId:ye,baseIndex:Xe.length})})};if(fe.length===1)return V()(i,(0,f.default)({},fe[0],{children:{$apply:function(Me){return Be(Me)}}}));var tt=_.cloneDeep(i),et=dt(fe),Fe=_.get(i,et);return _.set(tt,et,(0,m.default)({},Fe,{visible:!0,children:Be(Fe.children)})),tt};function be(s){var n=s.state,i=s.src,G=s.target,fe=i.rowId,ye=i.path,Ne=G.path,Se=_.cloneDeep(n),Be=function(pt){return _.isObject(pt)?pt.rowId===fe:pt===fe},tt=dt(ye.slice(0,-1)),et=dt(Ne),Fe=_.get(Se,tt),xe=_.get(Se,et),Me=_.findIndex(Fe.children,Be),Xe=V()(Fe,{children:{$splice:[[Me,1]]}}),Ge=V()(xe,{children:{$push:[fe]}});return _.set(Se,tt,Xe),_.set(Se,et,Ge),Se}var Ae=function(n){var i=n.state,G=n.target,fe=n.src,ye=G.rowId,Ne=G.path,Se=fe.rowId,Be=fe.path;if(_.isEmpty(Ne)||_.isEmpty(Be)||_.findIndex(G.children,function(wt){return wt.rowId===Se})>-1)return i;var tt=_.cloneDeep(i),et=dt(Ne),Fe=dt(Be),xe=_.get(tt,et),Me=_.get(tt,Fe);if(!Me||!xe)return i;if(Fe.length===1){var Xe=Fe[0],Ge=V()(tt,{$splice:[[Xe,1]]}),Ye=V()(xe,{children:{$push:[tt[Xe]]}});return _.set(Ge,et,Ye),Ge}var pt=dt(Be.slice(0,-1)),St=_.get(tt,pt),ft=_.findIndex(St.children,function(wt){return wt.rowId===Se}),Tt=V()(St,{children:{$splice:[[ft,1]]}}),Jt=V()(Me,{pathId:{$apply:function(){return[].concat((0,p.Z)(xe.pathId),[Se])}},path:{$apply:function(Xt){return[].concat((0,p.Z)(xe.path),[_.last(Xt)])}}});_.set(tt,pt,Tt);var Vt=Jt?V()(xe,{children:{$push:[Jt]}}):xe;return _.set(tt,et,Vt),tt};function A(s){var n=s.state,i=s.data,G=i.path;if(_.isEmpty(G))return V()(n,{$push:[(0,m.default)({},i,{visible:!0,display:!0,children:[]})]});var fe=_.cloneDeep(n),ye=_.get(fe,dt(G));return _.set(fe,dt(G),V()(ye,{children:{$push:[i.rowId]}}))}function j(s){var n=s.state,i=s.data,G=i.path;if(n.length===1&&_.isEmpty(n[0].children))return[];if(_.isEmpty(G)){var fe=n.findIndex(function(Se){return Se.rowId===i.rowId});return V()(n,{$splice:[[fe,1]]})}var ye=_.cloneDeep(n),Ne=_.get(ye,dt(G));return _.set(ye,dt(G),V()(Ne,{children:{$apply:function(Be){return(Be||[]).filter(function(tt){return(typeof tt>"u"?"undefined":(0,ht.default)(tt))==="object"})}}}))}function H(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1],i=n.type,G=n.data;switch(i){case"INIT_HIERARCHY_VIEW_STATE":return It({data:G});case"TOGGLE_HIERARCHY_VISIBLE":return Pt({state:s,path:G.path,updater:{visible:G.visible||!1}});case"EXPAND_CHILDREN_STATE":return Pt({state:s,path:G.path,updater:{visible:!0,children:It({data:G.data,path:G.path,pathId:G.pathId})}});case"UPDATE_HIERARCHY_CHILDREN":return Pt({state:s,path:G.path,updater:{children:It({data:G.data,path:G.path,pathId:G.pathId})}});case"EXPAND_HIERARCHY_VIEW_STATE":return ut(G);case"ADD_HIERARCHY_CHILDREN_RECORD_STATE":return ot((0,m.default)({state:s},G));case"ADD_TOP_LEVEL_STATE":return Dt({state:s,data:G});case"ADD_TOP_LEVEL_STATE_FROM_TEMP":var fe=_.findIndex(s||[],function(Ne){return _.isEmpty(Ne.path)})>-1,ye=fe?s.length-1:s.length;return V()(s,{$splice:[[ye,0].concat((0,p.Z)(It({data:[G],baseIndex:Math.max(0,ye)})))]});case"MOVE_RECORD":return Ae((0,m.default)({state:s},G));case"MULTI_RELATE_MOVE_RECORD":return be((0,m.default)({state:s},G));case"ADD_TEXT_TITLE_RECORD":return A({state:s,data:G});case"REMOVE_HIERARCHY_TEMP_ITEM":return j({state:s,data:G});case"CHANGE_HIERARCHY_DATA_VISIBLE":return qe({state:s,currentItem:G});default:return s}}function Q(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1],i=n.type,G=n.data;switch(i){case"INIT_HIERARCHY_VIEW_DATA":return G;case"CHANGE_HIERARCHY_VIEW_DATA":case"UPDATE_HIERARCHY_VIEW_DATA":return(0,m.default)({},s,G);case"ADD_HIERARCHY_CHILDREN_RECORD_STATE":return V()(s,{$merge:(0,f.default)({},G.data.rowid,G.data)});case"ADD_TEXT_TITLE_RECORD":return(0,m.default)({},s,(0,f.default)({},G.rowId,(0,m.default)({type:"textTitle"},G)));case"REMOVE_HIERARCHY_TEMP_ITEM":return V()(s,{$unset:[G.rowId]});case"ADD_TOP_LEVEL_STATE":case"ADD_TOP_LEVEL_STATE_FROM_TEMP":return(0,m.default)({},s,(0,f.default)({},G.rowid,G));default:return s}}function se(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{loading:!1,hasMoreData:!0,pageIndex:1,pageSize:50},n=arguments[1],i=n.type,G=n.data;switch(i){case"CHANGE_HIERARCHY_DATA_STATUS":return(0,m.default)({},s,G);default:return s}}function Ee(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments[1];switch(n.type){case"CHANGE_HIERARCHY_TOP_LEVEL_DATA_COUNT":return n.count;default:return s}}var ue=function(n,i){var G=i.ids,fe=i.controls,ye=G.reduce(function(Ne,Se,Be){return Ne[Se]=fe[Be],Ne},{});return(0,m.default)({},n,ye)};function Ce(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1],i=n.type,G=n.payload,fe=G===void 0?{}:G,ye=fe.ids,Ne=ye===void 0?[]:ye,Se=fe.controls,Be=Se===void 0?[]:Se;switch(i){case"INIT_HIERARCHY_RELATE_SHEET_CONTROLS":return Ne.reduce(function(tt,et,Fe){return tt[et]=Be[Fe],tt},{});case"ADD_HIERARCHY_RELATE_SHEET_CONTROLS":return ue(s,fe);default:return s}}function Ue(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments[1];switch(n.type){case"CHANGE_HIERARCHY_SEARCH_RECORD_ID":return n.data;default:return s}}function $e(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments[1];switch(n.type){case"CHANGE_HIERARCHY_RECORD_INFO_ID":return n.data;default:return s}}var gt={fixedColumnCount:0,defaultScrollLeft:0,sheetColumnWidths:{},sheetHiddenColumns:[],allWorksheetIsSelected:!1,sheetSelectedRows:[]};function rt(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gt,n=arguments[1];switch(n.type){case"WORKSHEET_SHEETVIEW_SELECT_ALL":return(0,m.default)({},s,{allWorksheetIsSelected:n.value,sheetSelectedRows:[]});case"WORKSHEET_SHEETVIEW_SELECT_ROWS":return(0,m.default)({},s,{allWorksheetIsSelected:!1,sheetSelectedRows:[].concat((0,p.Z)(n.rows))});case"WORKSHEET_SHEETVIEW_CLEAR_SELECT":case"WORKSHEET_SHEETVIEW_FETCH_ROWS_START":return C().get(n,"value.noClearSelected")?(0,m.default)({},s):(0,m.default)({},s,{allWorksheetIsSelected:!1,sheetSelectedRows:[]});case"WORKSHEET_SHEETVIEW_INIT_COLUMN_WIDTH":return(0,m.default)({},s,{sheetColumnWidths:(0,m.default)({},n.value)});case"WORKSHEET_SHEETVIEW_UPDATE_COLUMN_WIDTH":return(0,m.default)({},s,{sheetColumnWidths:(0,m.default)({},s.sheetColumnWidths,(0,f.default)({},n.controlId,n.value))});case"WORKSHEET_SHEETVIEW_HIDE_COLUMN":return(0,m.default)({},s,{sheetHiddenColumns:[].concat((0,p.Z)(s.sheetHiddenColumns),[n.controlId])});case"WORKSHEET_SHEETVIEW_CLEAR_HIDDEN_COLUMN":return(0,m.default)({},s,{sheetHiddenColumns:[]});case"WORKSHEET_SHEETVIEW_UPDATE_FIXED_COLUMN_COUNT":return(0,m.default)({},s,{fixedColumnCount:n.value});case"WORKSHEET_SHEETVIEW_UPDATE_SCROLL_LEFT":return(0,m.default)({},s,{defaultScrollLeft:n.value});case"WORKSHEET_INIT":case"WORKSHEET_SHEETVIEW_CLEAR":return gt;default:return s}}var vt={pageIndex:1,pageSize:50,sortControls:[]};function Ct(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vt,n=arguments[1];switch(n.type){case"WORKSHEET_SHEETVIEW_CHANGE_PAGEINDEX":return(0,m.default)({},s,{pageIndex:n.pageIndex});case"WORKSHEET_SHEETVIEW_CHANGE_PAGESIZE":return(0,m.default)({},s,{pageSize:n.pageSize,pageIndex:n.pageIndex||1});case"WORKSHEET_SHEETVIEW_UPDATE_SORTS":return(0,m.default)({},s,{sortControls:n.sortControl&&typeof n.sortControl.isAsc<"u"?[n.sortControl]:[]});case"WORKSHEET_INIT":case"WORKSHEET_SHEETVIEW_CLEAR":return vt;default:return s}}var yt={loading:!0,rows:[],count:0,rowsSummary:{types:{},values:{}},permission:{}};function Et(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yt,n=arguments[1];switch(n.type){case"WORKSHEET_SHEETVIEW_FETCH_ROWS_START":return(0,m.default)({},s,{loading:!(n.value||{}).noLoading});case"WORKSHEET_SHEETVIEW_REFRESH":return(0,m.default)({},s,{refreshFlag:Math.random()});case"WORKSHEET_SHEETVIEW_FETCH_ROWS":case"WORKSHEET_SHEETVIEW_UPDATE_ROWS":return(0,m.default)({},s,{loading:!1,rows:n.rows});case"WORKSHEET_SHEETVIEW_UPDATE_COUNT":return(0,m.default)({},s,{count:n.count});case"WORKSHEET_SHEETVIEW_UPDATE_COUNT_ABNORMAL":return(0,m.default)({},s,{pageCountAbnormal:!0});case"WORKSHEET_SHEETVIEW_UPDATE_ROWS_BY_ROWIDS":return(0,m.default)({},s,{loading:!1,rows:s.rows.map(function(i){return C().includes(n.rowIds,i.rowid)?(0,m.default)({},i,n.rowUpdatedValue):i})});case"WORKSHEET_SHEETVIEW_FETCH_REPORT_SUCCESS":return(0,m.default)({},s,{rowsSummary:{types:n.types||s.rowsSummary.types||{},values:n.values||s.rowsSummary.values||{}}});case"WORKSHEET_SHEETVIEW_HIDE_ROWS":return(0,m.default)({},s,{loading:!1,rows:s.rows.filter(function(i){return!C().includes(n.rowIds,i.rowid)}),count:s.count-n.rowIds.length});case"WORKSHEET_SHEETVIEW_UPDATE_PERMISSION":return(0,m.default)({},s,{permission:(0,m.default)({},s.permission,(0,f.default)({},n.viewId,n.value))});case"WORKSHEET_INIT":case"WORKSHEET_SHEETVIEW_CLEAR":return yt;default:return s}}function Rt(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];switch(n.type){case"CHANGE_GALLERY_VIEW":return n.data||{};default:return s}}function zt(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"CHANGE_GALLERY_VIEW_LOADING":return n.loading;default:return s}}function mn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"CHANGE_GALLERY_LOADING":return n.loading;default:return s}}function on(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments[1],i=n.type;switch(i){case"GALLERY_VIEW_RECORD_COUNT":return n.count;default:return s}}function vn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1],i=n.type;switch(i){case"CHANGE_GALLERY_VIEW_DATA":return n.list;default:return s}}function Zn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments[1],i=n.type;switch(i){case"CHANGE_GALLERY_VIEW_INDEX":return n.pageIndex;default:return s}}function _n(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1],i=n.type;switch(i){case"CHANGE_CALENDAR_LOADING":return n.data;default:return s}}function Un(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1],i=n.type;switch(i){case"CHANGE_CALENDAR_ISOVER":return n.data;default:return s}}function Rn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments[1],i=n.type;switch(i){case"CHANGE_CALENDAR_VIEW_START":return n.data;default:return s}}function kn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments[1],i=n.type;switch(i){case"CHANGE_CALENDAR_VIEW_END":return n.data;default:return s}}var pn={eventAll:[],eventScheduled:[],eventNoScheduled:[],typeEvent:"eventNoScheduled",keyWords:"",updataRowIds:[]};function gn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pn,n=arguments[1],i=n.type,G=n.data;switch(i){case"CHANGE_CALENDAR_LIST":return G;case"CHANGE_CALENDAR_CLEAR":return(0,m.default)({},pn,{typeEvent:window.localStorage.getItem("CalendarShowExternalTypeEvent")?window.localStorage.getItem("CalendarShowExternalTypeEvent"):G.typeEvent});default:return s}}function ln(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1],i=n.type,G=n.data;switch(i){case"CHANGE_CALENDAR_EDITABLE":return G;default:return s}}function xn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1],i=n.type,G=n.data;switch(i){case"CHANGE_CALENDAR_DATA":return G;default:return s}}function In(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1],i=n.type,G=n.data;switch(i){case"CALENDAR_EVENT_IS_ADD":return G;default:return s}}function En(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1],i=n.type;switch(i){case"CHANGE_CALENDARLIST":return n.data;default:return s}}function yn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1],i=n.type;switch(i){case"CHANGE_CALENDAR_FORMAT":return n.data;default:return s}}var bn=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"SHOW_MOBILE_MORE_CLICK":return i.flag;default:return n}},An=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"CHANGE_MOBILE_CURRENTDATA":return i.data;default:return n}},Cn=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments[1];switch(i.type){case"CHANGE_MOBILE_CURRENTDATE":return i.date;default:return n}};function Ln(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments[1];switch(n.type){case"CHANGE_GUNTER_GROUPING_SCROLL":return n.data;default:return s}}function Nn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{on:C().noop,off:C().noop},n=arguments[1];switch(n.type){case"CHANGE_GUNTER_CHART_SCROLL":return n.data;default:return s}}function Sn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1];switch(n.type){case"CHANGE_GUNTER_LOADINNG":return n.data;default:return s}}function qt(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"CHANGE_GUNTER_GROUPING":return n.data;default:return s}}function zn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:localStorage.getItem("gunterGroupingVisible")!=="false",n=arguments[1];switch(n.type){case"CHANGE_GUNTER_GROUPING_VISIBLE":return n.data;default:return s}}function en(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments[1];switch(n.type){case"CHANGE_GUNTER_PERIOD_TYPE":return n.data;default:return s}}function fn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"CHANGE_GUNTER_PERIOD_LIST":return n.data;default:return s}}function Tn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"CHANGE_GUNTER_PERIOD_PARENT_LIST":return n.data;default:return s}}function On(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"CHANGE_GUNTER_IS_REFRESH":return n.data;default:return s}}function jt(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];switch(n.type){case"CHANGE_GUNTER_VIEW_CONFIG":return n.data;default:return s}}function tn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments[1];switch(n.type){case"CHANGE_GUNTER_EDIT_INDEX":return n.data;default:return s}}function wn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:localStorage.getItem("gunterViewWithoutArrangementVisible")==="true",n=arguments[1];switch(n.type){case"CHANGE_GUNTER_WITHOUT_ARRANGEMENT_VISIBLE":return n.data;default:return s}}function Mn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments[1];switch(n.type){case"CHANGE_GUNTER_SEARCH_RECORD_ID":return n.data;default:return s}}function Dn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments[1];switch(n.type){case"CHANGE_GUNTER_ZOOM":return n.data;default:return s}}var kt=a(15577),Lt=localStorage.getItem("currentProjectId")||C().get(md,"global.Account.projects[0].projectId"),Ut=(0,kt.LK)(Lt),Wt=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_EXCEL_DETAIL_DATA":return i.data||{};default:return n}},Yt=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"UPDATE_CURRENT_SHEET_INFO":return i.data||{};default:return n}},Bt=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{appName:_l("\u672A\u547D\u540D\u5E94\u7528"),icon:"0_lego",iconColor:Ut[C().random(0,Ut.length-1)]},i=arguments[1];switch(i.type){case"UPDATE_APP_INFO":return i.data||{};default:return n}},Qt=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_SELECTED_IMPORT_SHEET_IDS":return i.data||[];default:return n}},un=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"UPDATE_UPLOAD_VISIBLE":return i.data;default:return n}},Fn=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"UPDATE_SETDATA_VISIBLE":return i.data;default:return n}},ra=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"UPDATE_CREATE_APP_VISIBLE":return i.data;default:return n}},sa=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"UPDATE_CREATE_APP_LOADING":return i.data;default:return n}};function oa(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1],i=n.type;switch(i){case"CHANGE_DETAIL_VIEW_ROWS":return n.list;default:return s}}function Yn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments[1],i=n.type;switch(i){case"CHANGE_DETAIL_VIEW_ROWS_COUNT":return n.count;default:return s}}function ia(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1],i=n.type;switch(i){case"CHANGE_DETAIL_VIEW_NO_MORE_ROWS":return n.noMore;default:return s}}function la(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"CHANGE_DETAIL_VIEW_LOADING":return n.loading;default:return s}}function Qn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=arguments[1],i=n.type;switch(i){case"CHANGE_DETAIL_VIEW_PAGE_INDEX":return n.pageIndex;default:return s}}function ua(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments[1],i=n.type;switch(i){case"CHANGE_DETAIL_VIEW_KEYWORDS":return n.keyWords||"";default:return s}}function da(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1],i=n.type,G=n.value;switch(i){case"UPDATE_CUSTOM_WIDGET_LOADING":return G;default:return s}}function Ba(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"init",n=arguments[1],i=n.type;switch(i){case"REFRESH_CUSTOM_WIDGET_VIEW":return Math.random().toString();default:return s}}var ja={mapViewData:[],mapViewLoading:!1,refreshMap:!1,mapViewState:{searchData:{},navGroupFilters:[]}};function ca(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ja,n=arguments[1],i=n.type,G=n.data,fe=s.mapData,ye=s.mapViewState,Ne=s.mapViewRecordCount;switch(i){case"CHANGE_MAP_VIEW_DATA":return(0,m.default)({},s,{mapViewData:G});case"CHANGE_MAP_VIEW_LOADING":return(0,m.default)({},s,{mapViewLoading:n.loading});case"REFRESH_MAP":return(0,m.default)({},s,{refreshMap:n.refreshMap});case"CHANGE_MAP_VIEW_SEARCH_DATA":return(0,m.default)({},s,{mapViewState:(0,m.default)({},s.mapViewState,{searchData:G})});case"NAV_GROUP_FILTERS":return(0,m.default)({},s,{mapViewState:(0,m.default)({},s.mapViewState,{navGroupFilters:n.navGroupFilters})});default:return s}}function ma(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1];switch(n.type){case"CHANGE_RESOURCE_LOADINNG":return n.data;default:return s}}function Gn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments[1];switch(n.type){case"CHANGE_RESOURCE_KEYWORDS":return n.data;default:return s}}function pa(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"CHANGE_RESOURCE_RESOURCE_RELATION_CONTROLS":return n.data;default:return s}}function ga(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"CHANGE_RESOURCE_RESOURCE_DATA":return n.data;default:return s}}function fa(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"CHANGE_RESOURCE_RESOURCE_DATA_BY_KEY":return n.data;default:return s}}function ha(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"CHANGE_RESOURCE_TIME_LIST":return n.data;default:return s}}function va(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"CHANGE_RESOURCE_TIME_LIST_A":return n.data;default:return s}}function Ia(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments[1];switch(n.type){case"CHANGE_RESOURCE_CURRENT_TIME":return n.data;default:return s}}function Ea(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];switch(n.type){case"WORKSHEET_UPDATE_BASE":return(0,m.default)({},s,n.base);case"WORKSHEET_UPDATE_FILTERS":return(0,m.default)({},s,location.search.indexOf("chartId=")>-1?{chartId:void 0}:{});case"WORKSHEET_INIT":if(s.viewId&&/^[0-9a-z]{24}$/.test(s.viewId)||s.chartId||(0,B.isEmpty)(n.value.views))return s;if(s.worksheetId===n.value.worksheetId){var i=n.value.views.filter(function(G){var fe=_.get(G,"advancedSetting.showhide")||"";return!fe.includes("hpc")&&!fe.includes("hide")});return(0,m.default)({},s,{viewId:_.get((i.length?i:n.value.views)[0],"viewId")})}return s;default:return s}}function ya(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"WORKSHEET_UPDATE_IS_CHARGE":return n.isCharge;default:return s}}function Aa(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"WORKSHEET_UPDATE_APPPKGDATA":return n.appPkgData;default:return s}}function Ca(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=arguments[1];switch(n.type){case"WORKSHEET_UPDATE_ACTIVE_VIEW_STATUS":case"WORKSHEET_SHEETVIEW_FETCH_ROWS":case"CHANGE_CALENDARLIST":case"CHANGE_GALLERY_VIEW_DATA":return n.resultCode||s;case"WORKSHEET_FETCH_START":case"WORKSHEET_UPDATE_BASE":return 1;default:return s}}function Sa(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments[1];switch(n.type){case"VIEW_UPDATE_SHOW_COUNT":return n.showcount||s;default:return s}}const Bn=(0,L.UY)((0,m.default)({base:Ea,isCharge:ya,appPkgData:Aa,activeViewStatus:Ca,fieldShowCount:Sa},pe,{boardView:st,hierarchyView:(0,L.UY)(r),sheetview:(0,L.UY)(t),galleryview:(0,L.UY)(e),calendarview:(0,L.UY)(X),gunterView:(0,L.UY)(J),excelCreateAppAndSheet:(0,L.UY)(ce),detailView:(0,L.UY)(U),customWidgetView:(0,L.UY)(c),mapView:ca,resourceview:(0,L.UY)(S)}));function Jn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"SHEET_LIST":return n.data;case"ADD_LEFT_ITEM":return s.concat(n.data);case"ADD_LEFT_SUB_ITEM":var i=n.data,G=i.id,fe=i.data;return s.map(function(ye){return ye.workSheetId===G&&(ye.items=ye.items.concat(fe)),ye});default:return s}}function Ta(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"SHEET_ALL_LIST":return n.data;default:return s}}function Da(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1];switch(n.type){case"SHEET_LIST_UPDATE_LOADING":return n.loading;default:return s}}function Xn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"WORKSHEET_UPDATE_IS_CHARGE":return n.isCharge;default:return s}}function Pa(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"WORKSHEET_UPDATE_APPPKGDATA":return n.appPkgData;default:return s}}function _a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:localStorage.getItem("sheetListIsUnfold")!=="false",n=arguments[1];switch(n.type){case"SHEET_LIST_UPDATE_IS_UNFOLD":return n.isUnfold;default:return s}}function qn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"GUIDANCE_VISIBLE":return n.value;default:return s}}function Ua(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1];switch(n.type){case"WORKSHEET_APP_SECTION_VALID":return!0;case"WORKSHEET_APP_SECTION_FAILURE":return!1;default:return s}}const Ra=(0,L.UY)({data:Jn,appSectionDetail:Ta,loading:Da,isCharge:Xn,isUnfold:_a,guidanceVisible:qn,isValidAppSectionId:Ua,appPkgData:Pa});var ka=a(52945),Ke=a.n(ka),xa=a(88902),ea=a.n(xa);function Mt(s){var n={};if(!s)return n;for(var i=s.length-1;i>=0;i--)n[s[i]]=s[i];return n}var jn={POST_TYPE:{all:-1,link:1,pic:2,doc:3,qa:4,vote:7,video:8},FROM_TYPE:Mt(["feed","center"]),LIST_TYPE:Mt(["project","followed","my","myself","with","fav","group","user","ireply","reply","pic","doc","qa","vid"]),OPERATE_TYPE:Mt(["comment","tag"])};const nn=jn,ba={fromType:nn.FROM_TYPE.feed,listType:nn.LIST_TYPE.project,projectId:null,groupId:null,accountId:null,startDate:null,endDate:null,postType:nn.POST_TYPE.all,tagId:null,catId:null,keywords:null};function dn(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!s||!s.length?[]:C()(s).map(function(i){return i&&(xt&&n?i.commentID:i.postID)}).compact().value()}function Wn(s){if(!s)return s;var n={};return typeof s.commentCount!="number"&&(n.commentCount=parseInt(s.commentCount,10)),typeof s.likeCount!="number"&&(n.likeCount=parseInt(s.likeCount,10)),s.categories||(n.categories=[]),s.tags||(n.tags=[]),ea()(n).length&&(s=Ke()({},s,n)),s}function Hn(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!s||!s.length?{}:(s=s.filter(function(i){return!!n==!!i.isIReply}),s.reduce(function(i,G){return G&&(G.isIReply&&G.commentID?i[G.commentID]=Wn(G):G.postID&&(i[G.postID]=Wn(G))),i},{}))}function Qe(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"POST_RELOAD_SUCCESS":return dn(n.postList,!0);case"POST_LOAD_MORE_SUCCESS":return C().uniqBy(s.concat(dn(n.postList,!0)));default:return s}}function q(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];switch(n.type){case"POST_RELOAD_SUCCESS":case"POST_LOAD_MORE_SUCCESS":return Ke()({},s,Hn(n.postList,!0));default:return s}}function ve(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"POST_ADD_SUCCESS":return n.toPostWall?[n.postItem.postID].concat(s):s;case"POST_REMOVE_SUCCESS":return s.filter(function(i){return i!==n.postId});case"POST_RELOAD_SUCCESS":return dn(n.postList);case"POST_LOAD_MORE_SUCCESS":return C().uniqBy(s.concat(dn(n.postList)));default:return s}}function P(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"POST_LOAD_TOP_SUCCESS":return dn(n.postList,n.options);case"POST_LOAD_TOP_FAIL":return[];case"POST_ADD_SUCCESS":case"POST_UPDATE_SUCCESS":return n.postItem.isFeedtop?s=C().uniqBy(s.concat([n.postItem.postID])):s=s.filter(function(i){return i!==n.postItem.postID}),s;case"POST_REMOVE_SUCCESS":return s.filter(function(i){return i!==n.postId});default:return s}}function te(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];switch(n.type){case"POST_ADD_SUCCESS":case"POST_UPDATE_SUCCESS":case"POST_GET_POST_DETAIL_SUCCESS":return Ke()({},s,(0,f.default)({},n.postItem.postID,Wn(n.postItem)));case"POST_REMOVE_SUCCESS":return s=Ke()({},s),delete s[n.postId],s;case"POST_RELOAD_SUCCESS":case"POST_LOAD_MORE_SUCCESS":return Ke()({},s,Hn(n.postList));case"POST_LOAD_TOP_SUCCESS":return Ke()({},Hn(n.postList),s);default:return s}}function he(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"POST_HAS_NEW":return n.hasNew;default:return s}}function ke(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"POST_RELOAD_START":return!1;case"POST_LOAD_MORE_FAIL":return!0;case"POST_RELOAD_SUCCESS":case"POST_LOAD_MORE_SUCCESS":return n.hasMore;default:return s}}function He(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1];switch(n.type){case"POST_RELOAD_FAIL":case"POST_RELOAD_SUCCESS":case"POST_LOAD_MORE_FAIL":case"POST_LOAD_MORE_SUCCESS":return!1;case"POST_LOADING":return n.isLoading!==!1;default:return s}}function je(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"POST_LOAD_MORE_START":return!0;case"POST_RELOAD_FAIL":case"POST_RELOAD_SUCCESS":case"POST_LOAD_MORE_FAIL":case"POST_LOAD_MORE_SUCCESS":return!1;default:return s}}function Je(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=arguments[1];switch(n.type){case"POST_RELOAD_SUCCESS":return 1;case"POST_LOAD_MORE_SUCCESS":return s+1;default:return s}}function it(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:13,n=arguments[1];switch(n.type){case"POST_CHANGE_FONT_SIZE":return n.fontSize||13;default:return s}}function xt(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ba,n=arguments[1];switch(n.type){case"POST_RELOAD_SUCCESS":case"POST_CHANGE_OPTIONS":return Ke()({},s,n.options);default:return s}}function Ft(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments[1];switch(n.type){case"POST_CHANGE_SEARCH_KEYWORDS":return n.keywords;default:return s}}function Nt(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_l("\u52A8\u6001\u5899"),n=arguments[1];switch(n.type){case"POST_CHANGE_TITLE":return n.title;default:return s}}function an(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments[1];switch(n.type){case"POST_DETAIL_CHANGE_ID":return n.postId||"";default:return s||""}}function rn(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];switch(n.type){case"POST_DETAIL_CHANGE_ID":return s=Ke()({},s),delete s[n.postId],s;case"POST_GET_POST_DETAIL_FAIL":return s=Ke()({},s,(0,f.default)({},n.postId,n.errorMessage||_l("\u83B7\u53D6\u52A8\u6001\u8BE6\u60C5\u5931\u8D25"))),s;default:return s}}var $t=a(30429),bt=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"SET_SESSION_LIST":return $t.VU(Ke()([],i.result));case"ADD_SESSION_LIST":return $t.VU(Ke()([],n.concat(i.result)));case"UPDATE_SESSION_LIST":return $t.VU(Ke()([],i.result));case"REMOVE_SESSION":return $t.VU(n.filter(function(G){return G.value!==i.id}));case"ADD_SESSION":return $t.oY($t.VU(Ke()([],i.result.concat(n))));default:return n}},Ht=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$t.yx(),i=arguments[1];switch(i.type){case"SET_VISIBLE":return i.visible;default:return n}},Vn=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"SET_CURRENT_SESSION":return Ke()({},i.result);default:return n}},Qa=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"ADD_CURRENT_SESSION":return Ke()([],n.concat(i.result));case"REMOVE_CURRENT_SESSION":return n.filter(function(G){return G.id!==i.id});case"UPDATE_CURRENT_SESSION":return Ke()([],i.result);default:return n}},Ja=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"SET_MESSAGE":return Ke()({},n,(0,f.default)({},i.id,i.result));case"ADD_MESSAGE":return Ke()({},n,(0,f.default)({},i.id,n[i.id].concat([i.result])));case"ADD_PAGE_MESSAGE":return Ke()({},n,(0,f.default)({},i.id,i.result.concat(n[i.id])));case"PUSH_PAGE_MESSAGE":return Ke()({},n,(0,f.default)({},i.id,n[i.id].concat(i.result)));case"REMOVE_MESSAGE":var G=n[i.id];return G?Ke()({},n,(0,f.default)({},i.id,G.filter(function(fe){return fe&&fe.waitingId!==i.messageId}))):n;case"REMOVE_MESSAGES":return delete n[i.id],Ke()({},n);case"UPDATE_MESSAGE":return Ke()({},i.result);default:return n}},Xa=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"SET_REFER_MESSAGE":return Ke()({},n,(0,f.default)({},i.id,i.message));case"REMOVE_REFER_MESSAGE":return delete n[i.id],Ke()({},n);default:return n}},qa=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"SET_GOTO_MESSAGE":return Ke()({},n,(0,f.default)({},i.id,i.messageId));case"REMOVE_GOTO_MESSAGE":return delete n[i.id],Ke()({},n);default:return n}},tr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"SET_BOTTOM_UNREAD_MESSAGE":return Ke()({},n,(0,f.default)({},i.id,[i.message]));case"ADD_BOTTOM_UNREAD_MESSAGE":return Ke()({},n,(0,f.default)({},i.id,n[i.id].concat([i.message])));case"REMOVE_BOTTOM_UNREAD_MESSAGE":return delete n[i.id],Ke()({},n);case"UPDATE_BOTTOM_UNREAD_MESSAGE":return Ke()({},n,(0,f.default)({},i.id,i.message));default:return n}},nr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"UPDATE_IS_WINDOW":return i.result;default:return n}},ar=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"UPDATE_SHOW_ADD_RESSBOOK":return i.result;default:return n}};const rr=(0,L.UY)({sessionList:bt,visible:Ht,currentSession:Vn,currentSessionList:Qa,messages:Ja,referMessage:Xa,gotoMessage:qa,isWindow:nr,showAddressBook:ar,bottomUnreadMessage:tr});var sr=a(51443);const or={currentStatus:-1,currentView:1,filterWeekend:!0,currentLevel:0,dragTaskId:"",dragHoverIndex:-1};var ir=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:or,i=arguments[1];switch(i.type){case"CHANGE_TASK_STATUS":return n.currentStatus=i.status,Ke()({},n);case"CHANGE_VIEW":return n.currentView=i.viewType,Ke()({},n);case"CHANGE_FILTER_WEEKEND":return n.filterWeekend=i.filter,Ke()({},n);case"CHANGE_SUB_TASK_LEVEL":return n.currentLevel=i.level,Ke()({},n);case"GANTT_DRAG_RECORD_ID":return n.dragTaskId=i.taskId,Ke()({},n);case"GANTT_DRAG_RECORD_INDEX":return n.dragHoverIndex=i.index,Ke()({},n);default:return n}},lr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_DATA_SOURCE":return i.data;case"ADD_MEMBERS":return i.accountTasksKV;default:return n}},ur=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"GET_TIME_AXIS_SOURCE":return i.timeAxis;default:return n}},dr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sr.ZP.defaultState,i=arguments[1];switch(i.type){case"UPDATE_STATE_CONFIG":return Ke()({},n,i.taskConfig);case"ATTACHMENT_SWITCH":return Ke()({},n,{attachmentViewType:i.attachmentViewType});case"UPDATE_PROJECT_ID":return Ke()({},n,{projectId:i.projectId});case"UPDATE_NETWORK":return Ke()({},n,{lastMyProjectId:i.lastMyProjectId});case"UPDATE_TASK_STATUS":return Ke()({},n,{listStatus:i.listStatus});case"UPDATE_FOLDER_RANGE":return Ke()({},n,{filterSettings:Ke()({},n.filterSettings,{folderSearchRange:i.folderSearchRange})});case"UPDATE_FOLDER_KEYWORDS":return Ke()({},n,{searchKeyWords:i.searchKeyWords});case"UPDATE_COMPLETE_TIME":return Ke()({},n,{completeTime:i.completeTime});case"UPDATE_LIST_SORT":return Ke()({},n,{listSort:i.listSort});case"UPDATE_TASK_ASCRIPTION":return Ke()({},n,{taskFilter:i.taskFilter});case"UPDATE_TASK_TAGS":return Ke()({},n,{filterSettings:Ke()({},n.filterSettings,{tags:i.tags})});case"UPDATE_CUSTOM_FILTER":return Ke()({},n,{filterSettings:Ke()({},n.filterSettings,{customFilter:i.customFilter})});case"UPDATE_CHARGE_IDS":return Ke()({},n,{filterSettings:Ke()({},n.filterSettings,{selectChargeIds:i.selectChargeIds})});default:return n}},cr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"SET_STORAGE_SUCCESS":return!0;default:return n}},mr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"UPDATE_FOLDER_SETTINGS":return i.data;case"UPDATE_FOLDER_NAME":return Ke()({},n,{folderName:i.folderName});case"CLEAR_FOLDER_TIP":return Ke()({},n,{isNotice:!1});case"UPDATE_FOLDER_TOP":return Ke()({},n,{isTop:i.isTop});case"UPDATE_FOLDER_MEMBER":return Ke()({},n,{folderNotice:i.folderNotice});case"UPDATE_FOLDER_ARCHIVED":return Ke()({},n,{isArchived:i.isArchived});case"CLEAR_FOLDER_SETTINGS":return{};default:return n}},pr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"UPDATE_MY_TASK_DATA_SOURCE":return i.data;default:return n}},gr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_TOP_FOLDER_LIST":return i.data;default:return n}},fr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"GET_TASK_DETAIL":case"EDIT_TASK_STATUS":case"UPDATE_TASK_NAME":case"UPDATE_TASK_CHARGE":case"ADD_SUB_TASK":case"DISCUSSIONS_ADD_MEMBERS":case"UPDATE_TASK_NOTICE":case"UPDATE_TASK_LOCKED":case"REMOVE_TASK_MEMBER":case"UPDATE_TASK_FOLDER_ID":case"UPDATE_TASK_MEMBER_STAR":case"AGREE_APPLY_JOIN_TASK":case"REFUSE_JOIN_TASK":case"ADD_TASK_MEMBER":case"ADD_TASK_TAG":case"REMOVE_TASK_TAG":case"ADD_TASK_ATTACHMENTS":case"DELETE_ATTACHMENT_DATA":case"UPDATE_TASK_STAGE_ID":case"UPDATE_TASK_TIMES":case"UPDATE_TASK_ACTUAL_START_TIME":case"UPDATE_TASK_COMPLETED_TIME":case"UPDATE_TASK_SUMMARY":return Ke()({},n,(0,f.default)({},i.taskId,i.data));case"DESTROY_TASK":return delete n[i.taskId],n;default:return n}},hr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"GET_TASK_CONTROLS":case"UPDATE_TASK_CONTROLS":case"UPDATE_TASK_CONTROLS_VALUE":return Ke()({},n,(0,f.default)({},i.taskId,i.data));default:return n}},vr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"GET_CHECK_LIST":case"UPDATE_CHECKLIST_INDEX":case"UPDATE_CHECKLIST_ITEM_INDEX":case"UPDATE_CHECKLIST_NAME":case"REMOVE_CHECKLIST":case"ADD_CHECKLIST_ITEM":case"UPDATE_ITEM_NAME":case"REMOVE_ITEM":case"UPDATE_ITEM_STATUS":return Ke()({},n,(0,f.default)({},i.taskId,i.data));case"ADD_CHECKLIST":return Ke()({},n,(0,f.default)({},i.taskId,n[i.taskId].concat([i.data])));default:return n}},Ir=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"TASK_DISCUSSIONS":case"UPDATE_TASK_DISCUSSIONS":return Ke()({},n,(0,f.default)({},i.taskId,i.data));case"ADD_TASK_DISCUSSIONS":return Ke()({},n,(0,f.default)({},i.taskId,[i.data].concat(n[i.taskId])));default:return n}},Er=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"UPDATE_TASK_FOLD_STATUS":return Ke()({},n,(0,f.default)({},i.taskId,i.data));default:return n}},yr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments[1];switch(i.type){case"UPDATE_SEARCH_TASK_COUNT":return i.searchTaskCount;default:return n}};const Ar=(0,L.UY)((0,m.default)({taskConfig:dr,taskFirstSetStorage:cr,folderSettings:mr,myTaskDataSource:pr,topFolderDataSource:gr,taskDetails:fr,taskChecklists:vr,taskDiscussions:Ir,taskControls:hr,taskFoldStatus:Er},l,{searchTaskCount:yr}));var ta=a(43393),La=a(44388),Cr=a(46593),Kt=a.n(Cr),Na=a(15759),na=a(69288),Qi=a(18585),Sr=a(38197),$n=a.n(Sr),hn=a(67294),Oa=a(73935),Ji=a(35890),Tr=a(13512),Dr=a.n(Tr),Pr=a(85850),wa=a.n(Pr),_r=a(61987),Ur=a(75809),Zt=a(48446),Ot={NONE:-1,ALL:0,OWNER:1,ADMIN:2,NORMAL:3,READONLY:4},Wa={1:"\u62E5\u6709\u8005",2:"\u7BA1\u7406\u5458",3:"\u53EF\u7F16\u8F91",4:"\u53EA\u8BFB"},Pn={NORMAL:1,INACTIVE:2},Ma={NORMAL:1,LOGOFF:2,INACTIVE:3};function Ha(s){var n={isEdit:!1,id:"",isStared:!1,name:"",members:[]};this.settings=$.extend(n,s),this.init()}$.extend(Ha.prototype,{init:function(){var n=this,i=n.settings.isEdit,G=n.settings.id,fe=n.settings.name,ye;i?ye=Zt.Z.getRootDetail({id:G}):ye=Kt().resolve({members:this.settings.members,isStared:this.settings.isStared,name:this.settings.name,project:null,permission:1}),ye.then(function(Ne){if(!Ne)return alert("\u5171\u4EAB\u6587\u4EF6\u5939\u4E0D\u5B58\u5728\u6216\u5DF2\u88AB\u5220\u9664",3),n.settings.reject();Ne.members.sort(function(Ge,Ye){return Ge.permission-Ye.permission}),Ne.members=Ne.members.filter(function(Ge){return Ge.memberStatus===2}).concat(Ne.members.filter(function(Ge){return Ge.memberStatus!==2}));var Se=null;if(!i){if(n.settings.projectId&&C().find(md.global.Account.projects,function(Ge){return Ge.projectId===n.settings.projectId})){var Be=C().find(md.global.Account.projects,function(Ge){return Ge.projectId===n.settings.projectId});Se={projectId:Be.projectId,companyName:Be.companyName}}else if(md.global.Account.projects.length==1&&md.global.Account.projects[0].licenseType!==0)Se={projectId:md.global.Account.projects[0].projectId,companyName:md.global.Account.projects[0].companyName};else if(window.localStorage.getItem("createRoot.projectId")){var tt=window.localStorage.getItem("createRoot.projectId"),et=md.global.Account.projects.filter(function(Ge){return Ge.projectId===tt&&Ge.licenseType!==0});et&&et.length&&(Se=et[0])}}na.Z.confirm({dialogClasses:"createFolderBox kcDialogBox",width:520,title:i?_l("\u7F16\u8F91\u6587\u4EF6\u5939"):_l("\u521B\u5EFA\u6587\u4EF6\u5939"),children:hn.createElement("div",{dangerouslySetInnerHTML:{__html:$n().template(Dr())($.extend({},Ne,Se?{project:Se}:null))}}),okText:_l("\u521B\u5EFA"),cancelText:_l("\u53D6\u6D88"),noFooter:i,onOk:function(){var Ye=$(".createFolderBox"),pt=Ye.find(".txtFolderName"),St=pt.val().trim();if(!i){if(!n.verifyName(St,Ne.name))return!1;var ft=[],Tt=[];Ye.find(".folderMemberBox .memberItem").toArray().forEach(function(wt){var Xt=$(wt),aa=Xt.data("accountId");aa?ft.push({accountId:aa,permission:Xt.find(".permission").data("permission")||Ot.NORMAL,status:Pn.NORMAL,inviterAccountId:md.global.Account.accountId}):Tt.push({account:Xt.data("account"),fullname:$.trim(Xt.find(".memberName .added").html()),permission:Xt.find(".permission").data("permission")||Ot.NORMAL})});var Jt=Ye.find(".addFolderStar").hasClass("icon-task-star"),Vt=Ye.find(".dropBox .seleted").data("projectId");Zt.Z.addRoot({name:St,projectId:Vt,members:ft,star:Jt,invitedMembers:Tt,appId:n.settings.appId}).then(function(wt){wt?(Vt&&safeLocalStorageSetItem("createRoot.projectId",Vt),n.settings.resolve(wt)):n.settings.reject()}).catch(n.settings.reject)}}});var Fe=$(".createFolderBox"),xe=Fe.find(".folderMembers .folderMemberBox"),Me=$("#updatePermission"),Xe=Ne.permission;Fe.find(".folderName .txtFolderName").val(Ne.name),n.nanoScroller(),n.bindInitEvent(Ne),i||xe.find(".memberItem .rootTrust").remove(),n.settings.projectId&&Fe.find(".attribute .dropBox").css("border",0).end().find(".attribute .dropBox span.icon").remove().end().find(".attribute .dropBox .seleted").css({"border-right":0,width:"316px"}),i&&(xe.css("margin-bottom","46px").find(".permissionDesc").css("margin-top","14px"),Fe.find(".attribute .dropBox").css("border",0).end().find(".attribute .dropBox span.icon").remove().end().find(".attribute .dropBox .seleted").css({"border-right":0,width:"316px"})),xe.find(".permissionDesc").show(),Fe.find(".txtFolderName").on("keydown",function(Ge){Ge.which===13&&Fe.find(".footer .yesText").click()}).select().focus(),Xe===Ot.READONLY&&xe.find(".addUser").hide(),$("body").on("click",function(){Me.fadeOut(),$("#checkInviter").fadeOut(),$("#folderAttributeList").fadeOut()})})},bindInitEvent:function(n){var i=this,G=i.settings.isEdit,fe=i.settings.id,ye=$(".createFolderBox"),Ne=ye.find(".folderMembers .folderMemberBox"),Se=$("#updatePermission"),Be=$("#checkInviter"),tt=n.permission;Ne.find(".addMember").off().on("click","span.addFriends",function(){var Fe=$(this),xe=G?n.project&&n.project.projectId:ye.find(".attribute .dropBox .seleted").data("projectId");(0,_r.ZP)(Fe[0],{sourceId:G?fe:"",fromType:"KC",showMoreInvite:!0,projectId:n.project&&n.project.projectId||"",zIndex:10001,selectCb:function(Xe){i.addRootMemers(Xe,n)},SelectUserSettings:{projectId:xe||"",filterAccountIds:n.members.filter(function(Me){return Me.accountId}).map(function(Me){return Me.accountId||""}),callback:function(Xe){i.addRootMemers(Xe,n)}}})}),ye.find(".folderMemberBox  ul").on({click:function(xe){if(xe.stopPropagation(),!(n.permission!==Ot.ADMIN&&n.permission!==Ot.OWNER)){var Me=$(this),Xe=Me.height(),Ge=Me.offset(),Ye=ye.offset().top+ye.height(),pt=Me.closest("li.memberItem"),St=Me.closest(".permission"),ft=pt.data("accountId"),Tt=St.find(".pointer i").data("accountStatus"),Jt=St.find(".pointer i").data("memberStatus"),Vt=St.data("apkname"),wt=St.data("permission");wt===Ot.OWNER||Vt||(Jt!==2?(Se.find(".itemLi .selectStatus").hide(),Se.find(".itemLi .itemText").removeClass("ThemeColor3"),wt==Ot.ADMIN?(Se.find(".adminItem .selectStatus").show(),Se.find(".adminItem .itemText").addClass("ThemeColor3")):wt==Ot.NORMAL&&(Se.find(".ordinaryItem .selectStatus").show(),Se.find(".ordinaryItem .itemText").addClass("ThemeColor3")),wt==Ot.READONLY&&(Se.find(".readOnlyItem .selectStatus").show(),Se.find(".readOnlyItem .itemText").addClass("ThemeColor3")),Be.fadeOut(),Se.css({top:Ge.top+Xe+Se.height()>Ye?Ge.top-Se.height():Ge.top+Xe,left:Ge.left-52}).data(ft?"accountId":"account",ft||pt.data("account")).show()):(Se.fadeOut(),Be.css({top:Ge.top+30+Be.height()>Ye?Ge.top-Be.height():Ge.top+Xe,left:Ge.left-25}).data(ft?"accountId":"account",ft||pt.data("account")).show()))}},mouseover:function(){var xe=$(this),Me=xe.find("i.icon-approved").length;(n.permission==Ot.ADMIN||n.permission==Ot.OWNER&&!Me)&&xe.addClass("ThemeColor3")},mouseout:function(){$(this).removeClass("ThemeColor3")}},".memberItem .permission .pointer"),Se.off().on({mouseover:function(){$(this).find(".itemText").hasClass("ThemeColor3")||$(this).addClass("ThemeBGColor3")},mouseout:function(){$(this).removeClass("ThemeBGColor3")},click:function(){var xe=$(this),Me=parseInt(xe.data("value")),Xe=xe.closest("ul").data("accountId");if(!xe.find(".itemText").hasClass("ThemeColor3"))if(G)Zt.Z.updateMemberPermission({id:n.id,memberId:Xe,permission:Me}).then(function(pt){if(!pt)return Kt().reject();alert("\u64CD\u4F5C\u6210\u529F");var St=$('.folderMemberBox .memberItem[data-account-id="'+Xe+'"]');St.find(".permission").data("permission",Me).find(".text").html(Wa[Me]),Me===Ot.ADMIN?St.find(".remove").remove():St.find(".remove").remove().end().append($('<span class="remove" style="display: none;">\u79FB\u9664</span>')),Xe===md.global.Account.accountId&&(i.settings.deferred.notify($.extend({},n,{permission:Me})),$(".createFolderBox").parent().remove())}).catch(function(){alert("\u64CD\u4F5C\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5!",3)});else{var Ge=Xe||xe.closest("ul").data("account"),Ye=Xe?$('.folderMemberBox .memberItem[data-account-id="'+Ge+'"]'):$('.folderMemberBox .memberItem[data-account="'+Ge+'"]');Ye.find(".permission").data("permission",Me).find(".text").html(Wa[Me])}}},".itemLi").on({click:function(xe){xe.stopPropagation()}},".itemLi .icon-task-folder-message"),Be.find("li").on("click",function(){var Fe=$(this),xe=Fe.closest("#checkInviter").data("accountId"),Me=Ne.find('li.memberItem[data-account-id="'+xe+'"]');Fe.hasClass("pass")?Zt.Z.updateMemberStatus({id:n.id,memberId:xe,memberStatus:Pn.NORMAL}).then(function(Xe){if(!Xe)return Kt().reject();alert("\u64CD\u4F5C\u6210\u529F"),Me.find(".memberName .added").removeClass("addedMax").end().find(".memberName .inviter").remove().end().find(".permission .pointer").find(".text").html("\u53EF\u7F16\u8F91").end().find("i").data("memberStatus",Pn.NORMAL)}).catch(function(){alert("\u64CD\u4F5C\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5!",3)}):na.Z.confirm({zIndex:1009,title:_l("\u64CD\u4F5C\u63D0\u793A"),children:hn.createElement("div",{class:"Font14"},_l("\u62D2\u7EDD\u540E\u5C06\u79FB\u9664\u8BE5\u7528\u6237")),onOk:function(){Zt.Z.removeRootMember({id:fe,memberId:xe}).then(function(Ge){if(Ge&&Ge.result){Me.slideUp(function(){$(this).remove(),i.nanoScroller()});var Ye=n.members.filter(function(pt){return pt.accountId!==xe.toLowerCase()});i.settings.deferred.notify($.extend({},n,{members:Ye}))}else return Kt().reject(Ge.message)}).catch(function(Ge){alert(Ge||_l("\u64CD\u4F5C\u5931\u8D25, \u8BF7\u7A0D\u540E\u91CD\u8BD5"),3)})}})}),ye.on("click",".addFolderStar",function(){var Fe=$(this),xe=!Fe.hasClass("icon-task-star");G?Zt.Z.starRoot({id:n.id,star:xe}).then(function(Me){if(!Me)return Kt().reject();alert("\u64CD\u4F5C\u6210\u529F"),Fe.removeClass("icon-task-star icon-star-hollow").addClass(xe?"icon-task-star":"icon-star-hollow");var Xe=$.extend({},n,{isStared:xe},n.isStared==xe?null:{staredTime:xe?new Date().toISOString():null});i.settings.deferred.notify(Xe)}).catch(function(){alert("\u64CD\u4F5C\u5931\u8D25,\u8BF7\u7A0D\u540E\u91CD\u8BD5",3)}):Fe.removeClass("icon-task-star icon-star-hollow").addClass(xe?"icon-task-star":"icon-star-hollow")}).on("click",function(){Se.hide()}),G&&ye.find(".folderName .txtFolderName").on({blur:function(){var xe=$(this),Me=$.trim(xe.val());if(Me!=n.name){if(!i.verifyName(Me,n.name)){setTimeout(function(){xe.select()},300);return}Zt.Z.updateRootName({id:n.id,name:Me}).then(function(Xe){if(!Xe)return Kt().reject();alert("\u64CD\u4F5C\u6210\u529F"),i.settings.name=n.name=Me,i.settings.deferred.notify($.extend({},n,{name:Me}))}).catch(function(){alert("\u64CD\u4F5C\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5",3)})}},keydown:function(xe){xe.keyCode==13&&$(this).blur()}});var et=$("#folderAttributeList");!i.settings.isEdit&&!i.settings.projectId?(ye.find(".folderContent .dropBox").on({click:function(xe){if($(".addFriends").data("md.quickSelectUser")&&$(".addFriends").data("md.quickSelectUser").closePane(),xe.stopPropagation(),et.is(":visible"))et.fadeOut();else{var Me=$(this),Xe=$n().template('<li class="projectItem ellipsis" data-project-id="{{= it.projectId}}">{{! it.companyName}}</li>'),Ge=Me.find(".seleted").data("projectId"),Ye="",pt=Ge?Xe({projectId:"",companyName:_l("\u4E2A\u4EBA")}):"";md.global.Account.projects.forEach(function(St){St.projectId!=Ge&&(Ye+=Xe(St))}),Ye||(Ye+='<li class="noProject ellipsis">\u672A\u52A0\u5165\u5176\u4ED6\u7F51\u7EDC</li>'),Ye+=pt,et.html(Ye).fadeIn()}}}),et.on("click",".projectItem",function(){var Fe=$(this),xe=Fe.data("projectId"),Me=Fe.html().trim();(0,kt.pF)(xe).then(function(){ye.find(".folderContent .dropBox .seleted").html(Me).data("projectId",xe),et.fadeOut();var Xe=ye.find(".folderMembers .memberList .memberItem").filter(function(Ge){return($(this).data("accountId")||$(this).data("account"))!==md.global.Account.accountId});Xe.length&&na.Z.confirm({title:_l("\u5F52\u5C5E\u53D8\u66F4"),children:hn.createElement("div",{class:"Font14"},_l("\u60A8\u53D8\u66F4\u4E86\u6587\u4EF6\u5939\u7684\u5F52\u5C5E,\u8981\u6E05\u7A7A\u6210\u5458\u5217\u8868\u5417?")),okText:_l("\u6E05\u7A7A\u6210\u5458"),onOk:function(){Xe.slideUp(function(){$(this).remove(),i.nanoScroller()})},cancelText:_l("\u4FDD\u7559"),zIndex:1003})}).catch(function(){return!1})})):ye.find(".folderContent .dropBox").css("color","#7d7d7d"),$(".folderMemberBox ul").find(".imgMemberBox[data-account-id]").each(function(Fe,xe){Oa.render(hn.createElement(Na.Z,{user:{userHead:$(xe).find("img").attr("src"),accountId:$(xe).attr("data-account-id")},size:28}),xe)}),ye.find(".folderMemberBox  ul").on({mouseover:function(){$(this).find(".remove").hasClass("exit")||$(this).find(".toInvite, .remove").show()},mouseout:function(){$(this).find(".remove").hasClass("exit")||$(this).find(".toInvite, .remove").hide()}},".memberItem").on("click",".memberItem .remove",function(){var Fe=$(this),xe=Fe.hasClass("exit"),Me=Fe.closest(".memberItem").data("accountId"),Xe=xe?"\u662F\u5426\u786E\u5B9A\u9000\u51FA\u8BE5\u5171\u4EAB\u6587\u4EF6\u5939?":_l("\u662F\u5426\u786E\u5B9A\u79FB\u9664\u8BE5\u6210\u5458");G?na.Z.confirm({title:_l("\u64CD\u4F5C\u63D0\u793A"),zIndex:1003,children:hn.createElement("div",{class:"Font14"},Xe),onOk:function(){Zt.Z.removeRootMember({id:fe,memberID:Me}).then(function(Ye){if(Ye&&Ye.result){var pt=n.members.filter(function(St){return St.accountId!==Me.toLowerCase()});xe?(i.settings.deferred.resolve(null),$(".createFolderBox").parent().remove()):(Fe.closest(".memberItem").slideUp(function(){i.nanoScroller(),$(this).remove()}),i.settings.deferred.notify($.extend({},n,{members:pt})))}else return Kt().reject(Ye.message)}).catch(function(Ye){alert(Ye||_l("\u64CD\u4F5C\u5931\u8D25, \u8BF7\u7A0D\u540E\u91CD\u8BD5"),3)})}}):Fe.closest(".memberItem").slideUp(function(){i.nanoScroller(),$(this).remove()})}).on("click",".memberItem .rootTrust",function(){var Fe=$(this);(0,Ur.Z)({title:_l("\u8BF7\u9009\u62E9\u540C\u4E8B"),showMoreInvite:!1,SelectUserSettings:{unique:!0,projectId:n.project&&n.project.projectId||"",filterAccountIds:[md.global.Account.accountId],callback:function(Me){if(!Me&&Me.length<=0){alert("\u8BF7\u9009\u62E9\u6258\u4ED8\u7528\u6237",2);return}var Xe=Me[0];Zt.Z.updateRootOwner({id:n.id,memberId:Xe.accountId}).then(function(Ge){if(!Ge)return Kt().reject();alert("\u6258\u4ED8\u6210\u529F");var Ye=n.members.slice(0);function pt(){var Tt=C().find(Ye,function(Vt){return Xe.account===Vt.accountId}),Jt=Tt?C().assign({},Tt,{permission:Ot.OWNER}):C().assign({},Xe,{accountStatus:Ma.NORMAL,memberStatus:Pn.NORMAL,permission:Ot.OWNER,inviterAccountId:md.global.Account.accountId,inviterFullName:md.global.Account.fullname});return Jt}var St=pt();Ye=[St].concat(Ge.member).concat(Ye.filter(function(Tt){return Tt.accountId!==St.accountId&&Tt.accountId!==Ge.member.accountId}));var ft=$n().template(wa())({members:Ye,myPermis:n.permission});Ne.find("ul").html(ft).find(">li.Hidden").removeClass("Hidden"),n.members=Ye,i.settings.deferred.notify(n)}).catch(function(){n.project&&n.project.projectId?alert("\u64CD\u4F5C\u5931\u8D25, \u53EA\u80FD\u6258\u4ED8\u7ED9\u672C\u7EC4\u7EC7\u7684\u6210\u5458",2):alert("\u64CD\u4F5C\u5931\u8D25\uFF0C\u53EA\u80FD\u6258\u4ED8\u7ED9\u597D\u53CB\u6216\u540C\u4E8B",2)})}}})}).on("click",".memberItem .toInvite",function(){var Fe=$(this),xe=Fe.closest(".memberItem").data("accountId");Zt.Z.resendInvite({id:fe,memberId:xe}).then(function(Me){if(!Me)return Kt().reject();alert("\u9080\u8BF7\u6210\u529F")}).catch(function(){alert("\u9080\u8BF7\u5931\u8D25, \u8BF7\u52FF\u591A\u6B21\u53D1\u9001\u9080\u8BF7",3)})})},addRootMemers:function(n,i,G,fe){var ye=this,Ne=n.length,Se,Be,tt=[],et=[],Fe={},xe=[],Me=[],Xe=this;tt=$(".folderMemberBox li.memberItem").toArray().map(function(ft){return $(ft).data("accountId")||$(ft).data("account")});for(var Ge=0;Ge<Ne;Ge++){Se=n[Ge],Be=!1;var Ye=Se.accountId||Se.account;Se&&$.each(tt,function(ft){if(tt[ft]===Ye)return Be=!0,xe.push(Se),!1}),Be||(Me.push(Se),G&&Se.account?Fe[Se.account]=Se.fullname:et.push(Se.accountId))}if(et&&et.length||ea()(Fe).length){if(!ye.settings.isEdit){var pt=Me.map(function(ft){return ft.accountStatus=G?Ma.INACTIVE:Ma.NORMAL,ft.memberStatus=i.permission==Ot.ADMIN||i.permission==Ot.OWNER?Pn.NORMAL:Pn.INACTIVE,ft.permission=Ot.NORMAL,ft.inviterAccountId=md.global.Account.accountId,ft.inviterFullName=md.global.Account.fullname,ft}),St=$n().template(wa())({members:pt,myPermis:i.permission,isEdit:!1});$(".folderMembers .folderMemberBox ul").append(St),$(".folderMemberBox ul").find(".imgMemberBox[data-account-id]:last").each(function(ft,Tt){Oa.render(hn.createElement(Na.Z,{user:{userHead:$(Tt).find("img").attr("src"),accountId:$(Tt).attr("data-account-id")},size:28}),Tt)}),$(".folderMembers .folderMemberBox ul li.Hidden").slideDown(Xe.nanoScroller),fe&&$.isFunction(fe)&&fe({status:1}),xe&&xe.length&&alert(xe.map(function(ft){return ft.fullname||ft.account||""})+"\u5DF2\u5B58\u5728\u5217\u8868\u4E2D");return}Zt.Z.addRootMembers({id:ye.settings.id,memberIds:et,inviteAccount:Fe}).then(function(ft){if(!ft)return Kt().reject();var Tt=ft.successMembers,Jt=ft.failedAccountInfos,Vt=ft.existAccountInfos,wt=ft.limitAccountInfos;if(!(Tt&&Tt.length)&&!(Vt&&Vt.length)&&!(ft.successAccountInfos&&ft.successAccountInfos.length))return Kt().reject();if(fe&&$.isFunction(fe)&&fe({status:1}),Tt&&Tt.length){i.members.concat(Tt);var Xt=Tt.filter(function(Ya){return tt.indexOf(Ya.accountId.toLowerCase())<0});if(Xt&&Xt.length){var aa=$n().template(wa())({members:Tt,myPermis:i.permission,isEdit:!0});$(".folderMembers .folderMemberBox ul").append(aa),$(".folderMemberBox ul").find(".imgMemberBox[data-account-id]:last").each(function(Ya,Ga){Oa.render(hn.createElement(Na.Z,{user:{userHead:$(Ga).find("img").attr("src"),accountId:$(Ga).attr("data-account-id")},size:28}),Ga)}),$(".folderMembers .folderMemberBox ul li.Hidden").slideDown(Xe.nanoScroller),ye.settings.deferred.notify($.extend({},i,{members:i.members}))}}(0,kt.sH)({results:[{accountInfos:ft.successAccountInfos,existAccountInfos:Vt,failedAccountInfos:Jt,limitAccountInfos:wt}]})}).catch(function(){alert("\u9080\u8BF7\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5",2),fe&&$.isFunction(fe)&&fe({status:1})})}else fe&&$.isFunction(fe)&&fe({status:0}),alert("\u60A8\u9080\u8BF7\u7684\u7528\u6237\u5DF2\u5728\u5171\u4EAB\u6587\u4EF6\u5939\u4E2D",3)},verifyName:function(n,i){var G=$(".createFolderBox .folderName .txtFolderName");if(n){if(n&&n.length>255)return alert("\u6587\u4EF6\u540D\u79F0\u8FC7\u957F,\u8BF7\u4FDD\u6301\u540D\u79F0\u5728255\u4E2A\u5B57\u7B26\u4EE5\u5185",3,3e3),!1;var Ne=/[\/\\\:\*\?\"\<\>\|]/g,Se=Ne.test(n);if(Se)return alert('\u540D\u79F0\u4E0D\u80FD\u5305\u542B\u4EE5\u4E0B\u5B57\u7B26\uFF1A\\ / : * ? " < > | #',3),n=n.replace(Ne,"")||i||"",G.val(n).select(),!1}else{var fe=0,ye=setInterval(function(){G.toggleClass("nullDataHintBox"),fe++>3&&(G.removeClass("nullDataHintBox").focus(),clearInterval(ye))},300);return G.val(""),!1}return!0},nanoScroller:function(){var n=$(".folderMembers .folderMemberBox"),i=n.find(".memberList .memberItem");i.height()*i.length>=300?(n.find(".nanoCon").addClass("nano").find(".memberList").addClass("nano-content"),n.find(".nanoCon").nanoScroller()):n.find(".nanoCon").removeClass("nano").find(".memberList").removeClass("nano-content")}});function Rr(s){return new(Kt())(function(n,i){s=$.extend({resolve:n,reject:i},s),new Ha(s)})}function Xi(s,n){typeof s=="function"&&(n=s);var i={members:[{fullname:md.global.Account.fullname,avatar:md.global.Account.avatar,accountId:md.global.Account.accountId,permission:1}]};(typeof s>"u"?"undefined":_typeof(s))==="object"&&(i=_Object$assign({},i,s)),createRoot(i).then(function(G){typeof n=="function"&&n(G)}).then(function(){return alert("\u521B\u5EFA\u6210\u529F")}).catch(function(){return alert("\u521B\u5EFA\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5",3)})}function kr(s,n,i){Rr({isEdit:!0,id:s}).then(n,function(){return alert(_l("\u64CD\u4F5C\u5931\u8D25, \u8BF7\u7A0D\u540E\u91CD\u8BD5"),3)},i).catch(function(){return alert(_l("\u64CD\u4F5C\u5931\u8D25, \u8BF7\u7A0D\u540E\u91CD\u8BD5"),3)})}function qi(s,n,i,G){i=!0;var fe=s.id,ye=void 0;n?ye=i?_l("\u786E\u8BA4"):"\u5220\u9664":ye=_l("\u9000\u51FA"),DeleteConfirm({title:n?_l('\u5F7B\u5E95\u5220\u9664\u5171\u4EAB\u6587\u4EF6\u5939"%0"',s.name):_l('\u9000\u51FA\u5171\u4EAB\u6587\u4EF6\u5939"%0"',s.name),description:n?_l("\u5171\u4EAB\u6587\u4EF6\u5939\u5C06\u5F7B\u5E95\u5220\u9664\uFF0C\u540C\u65F6\u5220\u9664\u5171\u4EAB\u6587\u4EF6\u5939\u4E0B\u6240\u6709\u6587\u4EF6\u5939\u548C\u6587\u4EF6\uFF0C\u4E14\u65E0\u6CD5\u6062\u590D\u3002\u8BF7\u786E\u8BA4\u60A8\u548C\u6587\u4EF6\u5939\u4E2D\u7684\u6210\u5458\u90FD\u4E0D\u518D\u9700\u8981\u5171\u4EAB\u6587\u4EF6\u5939\u4E2D\u7684\u6570\u636E\u518D\u6267\u884C\u6B64\u64CD\u4F5C"):"",data:[{text:n?_l("\u6211\u786E\u5B9A\u5220\u9664\u6B64\u5171\u4EAB\u6587\u4EF6\u5939"):_l("\u6211\u786E\u5B9A\u9000\u51FA\u6B64\u5171\u4EAB\u6587\u4EF6\u5939"),value:1}],onOk:function(){n?service.removeRoot({isPermanent:i,id:fe}).then(function(Se){if(Se&&Se.result)alert(_l("\u5220\u9664\u6210\u529F")),typeof G=="function"&&G(fe);else return _Promise.reject(Se.message)}).catch(function(Se){return alert(Se||_l("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"),3)}):service.removeRootMember({id:fe,memberID:md.global.Account.accountId}).then(function(Se){if(Se&&Se.result)alert(ye+"\u6210\u529F"),typeof G=="function"&&G(fe);else return _Promise.reject(Se.message)}).catch(function(Se){return alert(Se||_l("%0\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5",ye),3)})}})}function xr(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments[1];switch(n.type){case"KC_UPDATE_LIST_ELEMENT":return n.value;default:return s}}function br(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1];switch(n.type){default:return s}}function Lr(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1];switch(n.type){case"KC_FETCH_NODES_START":return!0;case"KC_FETCH_NODES_SUCCESS":case"KC_FETCH_NODES_ERROR":return!1;default:return s}}function Nr(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments[1];switch(n.type){case"KC_UPDATE_PATH":return n.value;default:return s}}var Va=(0,ta.Map)({keywords:"",skip:0,limit:20,sortBy:La.RY.UPDATE_TIME,sortType:La.U$.DESC});function Or(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Va,n=arguments[1];switch(n.type){case"KC_CLEAR_KC":return Va;case"KC_UPDATE_PARAMS":return s.merge(n.value);default:return s}}function wr(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];switch(n.type){case"KC_UPDATE_FOLDER":return n.value;default:return s}}function Mr(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:La.yR.MY,n=arguments[1];switch(n.type){case"KC_UPDATE_ROOT":return n.value;default:return s}}function Fr(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,ta.List)(),n=arguments[1];switch(n.type){case"KC_CLEAR_LIST":case"KC_CLEAR_KC":return(0,ta.List)();case"KC_REPLACE_NODES":return n.value;case"KC_FETCH_NODES_SUCCESS":return s.concat(n.value);case"KC_ADD_NEWFOLDER_SUCCESS":return s.unshift(n.value);default:return s}}function Gr(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments[1];switch(n.type){case"KC_UPDATE_TOTALCOUNT":return n.value;case"KC_ADD_NEWFOLDER_SUCCESS":return s+1;default:return s}}function Br(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];switch(n.type){case"KC_FETCH_USAGE_SUCCESS":return n.value;default:return s}}function jr(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"KC_UPDATE_LIST_STATE":return n.value.isRecycle||!1;default:return s}}function Wr(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1];switch(n.type){case"KC_UPDATE_LIST_STATE":return n.value.isReadOnly||!1;default:return s}}function Hr(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"KC_CLEAR_KC":return!1;case"KC_UPDATE_IS_GLOBAL_SEARCH":return n.value;default:return s}}function Vr(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"KC_CHANGE_SELECT_ALL":case"KC_SELECT_ALL_ITEMS":return n.value;default:return s}}function $r(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,ta.Set)(),n=arguments[1];switch(n.type){case"KC_UPDATE_SELECTED_ITEMS":return n.value;case"KC_SELECT_ALL_ITEMS":return n.selectedItems;default:return s}}function Kr(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){default:return s}}var Zr=function(n){kr(n,function(i){alert(_l("\u7F16\u8F91\u6210\u529F"))},function(){})};function zr(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zr,n=arguments[1];switch(n.type){case"KC_UPDATE_KC_LEFT_ROOT_FN":return n.value;default:return s}}function Yr(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"/apps/kc",n=arguments[1];switch(n.type){case"KC_UPDATE_KC_BASE_URL":return n.value;default:return s}}function Qr(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){default:return s}}const Jr=(0,L.UY)({kcListElement:xr,loading:br,baseUrl:Yr,listLoading:Lr,isGlobalSearch:Hr,isRecycle:jr,isReadOnly:Wr,path:Nr,currentRoot:Mr,currentFolder:wr,params:Or,list:Fr,totalCount:Gr,kcUsage:Br,selectAll:Vr,selectedItems:$r,rightMenuOption:Kr,kcLeftEditRootFn:zr,temp:Qr});var Xr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"GET_FLOW_INFO":return i.data;case"UPDATE_PROCESS":return Ke()({},n,{name:i.data.name,groupId:i.data.groupId,explain:i.data.explain});case"UPDATE_PUBLIC_STATE":return Ke()({},n,i.obj);case"UPDATE_PUBLISH_STATUS":return Ke()({},n,{publishStatus:i.publishStatus});case"CLEAR_FLOW_SOURCE":return{};default:return n}},qr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"GET_PROCESS_INFO":case"ADD_FLOW_NODE":case"DELETE_FLOW_NODE":case"UPDATE_NODE_DATA":case"GO_BACK_UPDATE_SOURCE":case"UPDATE_FLOW_NODE_NAME":case"UPDATE_NODE_GATEWAY":case"UPDATE_BRANCH_SORT":return i.data;case"CLEAR_SOURCE":return{};default:return n}};const es=(0,L.UY)({flowInfo:Xr,workflowDetail:qr});var Kn=a(73820),ts={iconColor:"#2196f3",projectId:"",appGroups:[],appStatus:0,name:_l("\u5E94\u7528")};function ns(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ts,n=arguments[1],i=n.type,G=n.iconColor,fe=n.navColor,ye=n.detail,Ne=n.appGroups,Se=Ne===void 0?[]:Ne,Be=n.status,tt=Be===void 0?0:Be;switch(i){case Kn.r4:return(0,m.default)({},s,ye);case Kn.zp:return(0,m.default)({},s,{iconColor:G});case Kn.ih:return(0,m.default)({},s,{navColor:fe});case Kn.vB:return(0,m.default)({},s,{appGroups:Se});case Kn.fy:return(0,m.default)({},s,{appStatus:tt});default:return s}}var as=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"UPDATE_MYAPPLIST":return i.data;default:return n}},rs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments[1];switch(i.type){case"MOBILE_FETCHHOMELIST_START":return!0;case"MOBILE_FETCHHOMELIST_SUCCESS":return!1;default:return n}},ss=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"PLATE_FORM_SETTING":return i.data;default:return n}},os=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"PLATE_FORM_DATA":return i.data;default:return n}},is=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"COLLECT_RECORDS":return i.data;default:return n}},ls=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"COLLECT_CHARTS":return i.data;default:return n}},us=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{appName:"",detail:[],appSection:[],status:null},i=arguments[1];switch(i.type){case"UPDATE_APP_DETAIL":return i.data;default:return n}},ds=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments[1];switch(i.type){case"MOBILE_FETCH_START":return!0;case"MOBILE_FETCH_SUCCESS":return!1;default:return n}},cs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments[1];switch(i.type){case"MOBILE_QUIT_FAILED_CLOSE":return!0;case"MOBILE_QUIT_FAILED":return!1;default:return n}},ms=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"DEBUG_ROLE_LIST":return i.data;default:return n}},ps=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{data:[]},i=arguments[1];switch(i.type){case"UPDATE_MEMBER_DATA":return i.data;default:return n}},gs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments[1];switch(i.type){case"MOBILE_FETCH_MEMBER_START":return!0;case"MOBILE_FETCH_MEMBER_SUCCESS":return!1;default:return n}},fs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{data:[]},i=arguments[1];switch(i.type){case"UPDATE_MEMBER_LIST":return i.data;default:return n}},hs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments[1];switch(i.type){case"MOBILE_LIST_FETCH_START":return!0;case"MOBILE_LIST_FETCH_SUCCESS":return!1;default:return n}},vs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"MOBILE_UPDATELIST_FETCH_START":return!0;case"MOBILE_UPDATELIST_FETCH_OVER":return!1;default:return n}},Is=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{data:[]},i=arguments[1];switch(i.type){case"UPDATE_ROLE_LIST":return i.data;default:return n}},Es=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments[1];switch(i.type){case"MOBILE_ROLE_LIST_FETCH_START":return!0;case"MOBILE_ROLE_LIST_FETCH_SUCCESS":return!1;default:return n}},ys=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"MOBILE_ROLE_MOVE_FETCH_START":return!1;case"MOBILE_ROLE_MOVE_FETCH_SUCCESS":return!0;case"MOBILE_ROLE_MOVE_FETCH_FAIL":return!1;default:return n}},As=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{data:[]},i=arguments[1];switch(i.type){case"UPDATE_APPLY_LIST":return i.data;default:return n}},Cs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments[1];switch(i.type){case"APPLY_LIST_START":return!0;case"APPLY_LIST_OVER":return!1;default:return n}},Ss=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"MOBILE_UPDATE_BASE":return(0,m.default)({},n,i.base);default:return n}},Ts=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments[1];switch(i.type){case"MOBILE_WORK_SHEET_UPDATE_LOADING":return i.loading;default:return n}},Ds=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"MOBILE_CHANGE_SHEET_ROWS":return Ke()([],i.data);case"MOBILE_ADD_SHEET_ROWS":return Ke()([],n.concat(i.data));case"MOBILE_UNSHIFT_SHEET_ROWS":return n.unshift(i.data),Ke()([],n);default:return n}},Ps=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"MOBILE_WORK_SHEET_INFO":return i.data;default:return n}},_s=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{keyWords:"",quickFilterKeyWords:"",visible:!1},i=arguments[1];switch(i.type){case"MOBILE_UPDATE_FILTERS":return(0,m.default)({},n,i.filters);default:return n}},Us=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"MOBILE_UPDATE_QUICK_FILTER":return[].concat((0,p.Z)(i.filter));default:return n}},Rs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"MOBILE_UPDATE_FILTERS_GROUP":return[].concat((0,p.Z)(i.filter));default:return n}},ks=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{pageIndex:1,isMore:!0,count:0},i=arguments[1];switch(i.type){case"MOBILE_UPDATE_SHEET_VIEW":return(0,m.default)({},n,i.sheetView);default:return n}},xs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,i=arguments[1];switch(i.type){case"MOBILE_UPDATE_VIEW_CODE":return i.value;default:return n}},bs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"MOBILE_UPDATE_IS_CHARGE":return i.value;default:return n}},Ls=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#2196F3",i=arguments[1];switch(i.type){case"MOBILE_APP_COLOR":return i.value;default:return n}},Ns=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"MOBILE_SHEET_PERMISSION_INIT":return i.value;default:return n}},Os=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"MOBILE_WORK_SHEET_CONTROLS":return i.value;default:return n}},ws=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"MOBILE_FETCH_SHEETROW_START":return!0;case"MOBILE_FETCH_SHEETROW_SUCCESS":return!1;default:return n}},Ms=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"CHANGE_MOBILE_GROUPFILTERS":return i.data;default:return n}},Fs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"CHABGE_MOBILE_BATCHOPT_VISIBLE":return i.flag;default:return n}},Gs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"CAHNGE_BATCHOPT_CHECKED":return i.data;default:return n}},Bs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"UPDATE_CLICK_CHART":return i.flag;default:return n}},js=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"MOBILE_CHANGE_SEARCH_SHEET_ROWS":return Ke()([],i.data);case"MOBILE_ADD_SEARCH_SHEET_ROWS":return Ke()([],n.concat(i.data));default:return n}},Ws=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"MOBILE_SET_SHEET_DISCUSSION":return i.data;case"MOBILE_ADD_SHEET_DISCUSSION":return Ke()([],n.concat(i.data));case"MOBILE_UNSHIFT_SHEET_DISCUSSION":return[i.data].concat(n);default:return n}},Hs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"MOBILE_SET_SHEET_LOG":return i.data;case"MOBILE_ADD_SHEET_LOG":return Ke()([],n.concat(i.data));default:return n}},Vs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"MOBILE_SET_SHEET_ATTACHMENTS":return i.data;default:return n}},$s=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"MOBILE_RELATION_ROW_INFO":return i.data;default:return n}},Ks=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{pageIndex:1,isMore:!0,loading:!0},i=arguments[1];switch(i.type){case"MOBILE_RELATION_LOAD_PARAMS":return(0,m.default)({},n,i.data);default:return n}},Zs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"MOBILE_RELATION_ROWS":return i.data;default:return n}},zs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"MOBILE_RELATION_ROW":return(0,m.default)({},n,i.data);default:return n}},Ys=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"MOBILE_PERMISSION_INFO":return i.data;default:return n}},Qs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{showControls:[],coverCid:"",isEdit:!1,selectedRecordIds:[]},i=arguments[1];switch(i.type){case"MOBILE_RELATION_ACTION_PARAMS":return(0,m.default)({},n,i.data);default:return n}},Js=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"MOBILE_UPDATE_ALL_FILTERS_GROUP":return(0,m.default)({},n,(0,f.default)({},i.id,i.filters));default:return n}},Xs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"MOBILE_UPDATE_LINKAGE_FILTERS_GROUP":return(0,m.default)({},n,(0,f.default)({},i.id,i.filters));case"MOBILE_DELETE_LINKAGE_FILTERS_GROUP":return delete n[i.id],(0,m.default)({},n);case"MOBILE_DELETE_ALL_LINKAGE_FILTERS_GROUP":return{};default:return n}},qs=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"MOBILE_UPDATE_FILTER_COMPONENTS":return i.value;default:return n}},eo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments[1];switch(i.type){case"MOBILE_UPDATE_LOAD_FILTER_COMPONENT_COUNT":return i.value;default:return n}};const to=(0,L.UY)((0,m.default)({},ee,z,ae,Z,Pe,oe,Te,F,K,v,re));function no(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1];switch(n.type){case"PUBLICWORKSHEET_LOAD_SUCCESS":return!1;case"PUBLICWORKSHEET_CLEAR":return!0;default:return s}}function ao(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments[1];switch(n.type){case"PUBLICWORKSHEET_LOAD_SUCCESS":return n.url||"";case"PUBLICWORKSHEET_UPDATE_URL":return n.url||"";case"PUBLICWORKSHEET_CLEAR":return"";default:return s}}function ro(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];switch(n.type){case"PUBLICWORKSHEET_LOAD_SUCCESS":return n.worksheetSettings;case"PUBLICWORKSHEET_UPDATE_SETTINGS":return C().assign({},s,n.value);case"PUBLICWORKSHEET_CLEAR":return{};default:return s}}function so(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];switch(n.type){case"PUBLICWORKSHEET_LOAD_SUCCESS":return n.worksheetInfo;case"PUBLICWORKSHEET_UPDATE_INFO":return C().assign({},s,n.value);case"PUBLICWORKSHEET_CLEAR":return{};default:return s}}function oo(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"PUBLICWORKSHEET_LOAD_SUCCESS":return n.originalControls;case"PUBLICWORKSHEET_ADD_CONTROL":return s.concat(n.control);case"PUBLICWORKSHEET_CLEAR":return[];default:return s}}function io(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"PUBLICWORKSHEET_LOAD_SUCCESS":case"PUBLICWORKSHEET_UPDATE_CONTROLS":return n.controls;case"WORKSHEET_SHOW_CONTROL":return s.concat(n.control);case"PUBLICWORKSHEET_CLEAR":return[];default:return s}}function lo(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"PUBLICWORKSHEET_LOAD_SUCCESS":return n.hidedControlIds;case"WORKSHEET_HIDE_CONTROL":return C().uniqBy(s.concat(n.controlId));case"WORKSHEET_SHOW_CONTROL":return s.filter(function(i){return i!==n.controlId});case"PUBLICWORKSHEET_CLEAR":return[];default:return s}}const uo=(0,L.UY)({loading:no,shareUrl:ao,worksheetInfo:so,worksheetSettings:ro,originalControls:oo,controls:io,hidedControlIds:lo});function co(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1];switch(n.type){case"COLUMNRULES_LOAD_SUCCESS":return!1;case"COLUMNRULES_FETCH_START":case"COLUMNRULES_FETCH_FAIL":return!0;default:return s}}function mo(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments[1];switch(n.type){case"COLUMNRULES_WORKSHEETID":return n.data;default:return s}}function po(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];switch(n.type){case"WORKSHEET_INFO":return n.data;default:return s}}function go(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"COLUMNRULES_LIST":return n.data;default:return s}}function fo(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];switch(n.type){case"UPDATE_SELECT_COLUMNRULES_LIST":return n.data;default:return s}}function ho(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"WORKSHEET_RULE_CONTROLS":return n.data;default:return s}}function vo(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"FILTER_LIST":return n.data;default:return s}}function Io(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];switch(n.type){case"COLUMN_RULELIST_ERROR":return n.data;default:return s}}function Eo(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments[1];switch(n.type){case"UPDATE_ACTIVE_TAB":return n.data;default:return s}}const yo=(0,L.UY)({columnRulesListData:go,loading:co,filters:vo,selectRules:fo,worksheetRuleControls:ho,ruleError:Io,activeTab:Eo,worksheetId:mo,worksheetInfo:po});var $a=a(42723),Fa=a(91247),Gt=a(79778),cn=a(18484),Ao=a(84753),Ka=a.n(Ao),sn,Co=(sn={loading:!0,modified:!1,pageName:"",visible:!1,pageId:"",desc:"",adjustScreen:!1,version:null},(0,f.default)(sn,"pageName",""),(0,f.default)(sn,"apk",{}),(0,f.default)(sn,"components",[]),(0,f.default)(sn,"filtersGroup",{}),(0,f.default)(sn,"linkageFiltersGroup",{}),(0,f.default)(sn,"filterComponents",[]),(0,f.default)(sn,"loadFilterComponentCount",0),sn);function So(s,n){var i=n.layoutType,G=n.layouts,fe=n.components,ye=n.adjustScreen;return G&&C().includes(["web","mobile"],i)?V()(s,{components:{$apply:function(Se){return Se.map(function(Be){var tt=C().findIndex(fe,function(xe){return(xe.id||xe.uuid)===(Be.id||Be.uuid)});if(tt>=0){var et=G[tt],Fe=40;return ye&&et.h>=Fe&&(et.h=Fe),V()(Be,(0,f.default)({},i,{layout:{$set:C().pick(et,["x","y","w","h","minW","minH"])}}))}else return Be})}}}):s}function To(s,n){return(0,cn.Cw)({component:n,components:s.components})}function Do(s,n){var i=n.widget,G=n.layoutType;return V()(s,{components:(0,f.default)({},To(s,i),(0,f.default)({},G,{$toggle:["visible"]}))})}function Za(s,n){return Ka()(C().filter(s,function(i){return i.y===n}),function(i){return i.x})}function Po(s,n){var i=n.y,G=n.w,fe=s.map(function(Me){return C().get(Me,["web","layout"])}),ye=Za(fe,i),Ne=ye.x,Se=ye.w;if(Ne+Se+G>12){var Be=Ka()(fe,function(Me){return Me.y}),tt=Be.y;if(tt===i)return(0,m.default)({},n,{x:0,y:1/0});var et=Za(fe,tt),Fe=et.x,xe=et.w;return Fe+xe+G>12?(0,m.default)({},n,{x:0,y:1/0}):(0,m.default)({},n,{x:Fe+xe,y:tt})}return(0,m.default)({},n,{x:Ne+Se})}function _o(s,n){var i=n.web,G=n.button,fe=(0,$a.Z)(n,["web","button"]),ye=G;if(fe.type===cn.GV.button){var Ne=G||{},Se=Ne.buttonList,Be=Se===void 0?[]:Se;ye=(0,m.default)({},G,{buttonList:Be.map(function(tt){var et=C().get(tt,"config")||{},Fe=(0,m.default)({},tt,{btnId:null,filterId:null,id:(0,Fa.Z)()});return et.isFilter&&(Fe.config=(0,m.default)({},et,{isFilter:void 0})),Fe})})}return V()(s,{modified:{$set:!0},components:{$push:[(0,m.default)({},fe,{uuid:(0,Fa.Z)(),button:ye,web:V()(i,{layout:{$apply:function(et){return Po(s.components,et)}}})})]}})}function Uo(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Co,n=arguments[1],i=n.type,G=n.payload;switch(i){case Gt.sl:return V()(s,{$apply:function(Ye){return(0,m.default)({},Ye,G)}});case Gt.CM:return V()(s,{loading:{$set:G}});case Gt.Yz:return V()(s,{saveLoading:{$set:G}});case Gt.S8:return s.pageId?sessionStorage.setItem("customPageEditVisible-"+s.pageId,String(G)):C().keys(sessionStorage).filter(function(Ge){return C().includes(Ge,"customPageEditVisible-")}).forEach(function(Ge){return sessionStorage.removeItem(Ge)}),V()(s,{visible:{$set:G}});case Gt.$z:return V()(s,{modified:{$set:G}});case Gt.hr:var fe=(0,Fa.Z)(),ye={modified:{$set:!0},components:{$push:[(0,m.default)({},G,{uuid:fe,web:{title:"",titleVisible:!1,visible:!0,layout:(0,cn.uy)({components:s.components,layoutType:"web",type:G.type,config:G.config})},mobile:{title:"",titleVisible:!1,visible:!0,layout:null}})]}};if(G.type==="filter"){var Ne=s.loadFilterComponentCount,Se=G.filter;ye.loadFilterComponentCount={$set:Ne+1},ye.filterComponents={$push:[{value:fe,advancedSetting:Se.advancedSetting||{},filters:C().flatten(Se.filters.map(function(Ge){return Ge.objectControls}))}]}}return V()(s,ye);case Gt.jL:return _o(s,G);case Gt._P:return Do(s,G);case Gt.C$:var Be=V()(s,{components:{$splice:[[(0,cn.Cw)({component:G,components:s.components}),1]]},modified:{$set:!0}});if(G.type===cn.GV.filter||G.type==="filter"){var tt=s.loadFilterComponentCount;Be.loadFilterComponentCount=tt-1,Be.filterComponents=Be.filterComponents.filter(function(Ge){return Ge.value!==(G.value||G.uuid)})}return Be;case Gt.hc:var et=G.widget,Fe=G.layoutType,xe=(0,$a.Z)(G,["widget","layoutType"]),Me={};return Fe?Me=V()(s,{components:(0,f.default)({},(0,cn.Cw)({component:et,components:s.components}),(0,f.default)({},G.layoutType,{$apply:function(Ye){return(0,m.default)({},Ye,xe)}})),modified:{$set:!0}}):Me=V()(s,{components:(0,f.default)({},(0,cn.Cw)({component:et,components:s.components}),{$apply:function(Ye){return(0,m.default)({},Ye,xe)}}),modified:{$set:!0}}),Me.filterComponents.length&&(Me.filterComponents=Me.filterComponents.map(function(Ge){if(Ge.value===(et.value||et.uuid)){var Ye=G.filter||{},pt=Ye.advancedSetting;return(0,m.default)({},Ge,{advancedSetting:pt})}else return Ge})),Me;case Gt.Rm:return So(s,G);case Gt.nj:return V()(s,{components:{$set:G}});case Gt.pb:var Xe=G.visible;return V()(s,{modified:{$set:!0},components:(0,f.default)({},(0,cn.Cw)({component:G.widget,components:s.components}),(0,f.default)({},G.layoutType,{titleVisible:{$set:Xe},layout:{$apply:function(Ye){return Ye&&(0,m.default)({},Ye,{h:Xe?Ye.h+1:Ye.h-1})}}}))});case Gt.S0:return(0,m.default)({},s,{filtersGroup:(0,m.default)({},s.filtersGroup,(0,f.default)({},G.value,G.filters))});case Gt.Rl:return(0,m.default)({},s,{linkageFiltersGroup:(0,m.default)({},s.linkageFiltersGroup,(0,f.default)({},G.value,G.filters))});case Gt.qb:return delete s.linkageFiltersGroup[G.value],(0,m.default)({},s,{linkageFiltersGroup:(0,m.default)({},s.linkageFiltersGroup)});default:return s}}var Ro=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"CHANGE_STATISTICS_CURRENT_REPORT":return i.data;case"CHANGE_STATISTICS_RESET":return{};default:return n}},ko=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"CHANGE_STATISTICS_AXIS_CONTROLS":return i.data;case"CHANGE_STATISTICS_RESET":return[];default:return n}},xo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"CHANGE_STATISTICS_WORKSHEET_INFO":return i.data;case"CHANGE_STATISTICS_RESET":return{};default:return n}},bo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"CHANGE_STATISTICS_REPORT_DATA":return i.data;case"CHANGE_STATISTICS_RESET":return{};default:return n}},Lo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"CHANGE_STATISTICS_TABLE_DATA":return i.data;case"CHANGE_STATISTICS_RESET":return{};default:return n}},No=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"CHANGE_STATISTICS_FILTER_ITEM":return i.data;case"CHANGE_STATISTICS_RESET":return[];default:return n}},Oo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments[1];switch(i.type){case"CHANGE_STATISTICS_DETAIL_LOADING":return i.data;case"CHANGE_STATISTICS_RESET":return!0;default:return n}},wo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments[1];switch(i.type){case"CHANGE_STATISTICS_LOADING":return i.data;case"CHANGE_STATISTICS_RESET":return!0;default:return n}},Mo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments[1];switch(i.type){case"CHANGE_STATISTICS_REPORTSINGLECACHE_LOADING":return i.data;case"CHANGE_STATISTICS_RESET":return!0;default:return n}},Fo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sessionStorage.getItem("chartSheetDirection")||"horizontal",i=arguments[1];switch(i.type){case"CHANGE_STATISTICS_DIRECTION":return i.data;default:return n}},Go=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"CHANGE_STATISTICS_BASE":return(0,m.default)({},n,i.data);case"CHANGE_STATISTICS_RESET":return{};default:return n}};const Bo=(0,L.UY)({currentReport:Ro,axisControls:ko,worksheetInfo:xo,reportData:bo,tableData:Lo,filterItem:No,detailLoading:Oo,loading:wo,reportSingleCacheLoading:Mo,direction:Fo,base:Go});var jo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"UPDATE_LOADING":return i.data;default:return n}},Wo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_CONTROLS":return i.data;default:return n}},Ho=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_SORTCONTROLS":return i.data;default:return n}},Vo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments[1];switch(i.type){case"UPDATE_TELFILTERS":return i.data;default:return n}},$o=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_BASE":return i.data;default:return n}},Ko=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_CONTROLS_SETTING":return i.data;default:return n}},Zo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_LIST":return i.data;default:return n}},zo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_LIST_COUNT":return i.data;default:return n}},Yo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments[1];switch(i.type){case"UPDATE_UNAPPROVECOUNT":return i.data;default:return n}},Qo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_PORTAL_USER_COUNT":return i.data;default:return n}},Jo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments[1];switch(i.type){case"UPDATE_COMMONCOUNT":return i.data;default:return n}},Xo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["openId"],i=arguments[1];switch(i.type){case"UPDATE_HIDEIDS":return i.data;default:return n}},el=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_SORTIDS":return i.data;default:return n}},qo=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_ROLELIST":return i.data;default:return n}},ei=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1",i=arguments[1];switch(i.type){case"UPDATE_DEFAULTROLE":return i.data;default:return n}},ti=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,i=arguments[1];switch(i.type){case"UPDATE_INDEX":return i.data;default:return n}},ni=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_FILTERS":return i.data;default:return n}},ai=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_FASTFILTERS":return i.data;default:return n}},ri=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments[1];switch(i.type){case"UPDATE_KEYWORDS":return i.data;default:return n}},si=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{tab:"",roleId:""},i=arguments[1];switch(i.type){case"UPDATE_QUICKTAG":return i.data||{tab:"",roleId:""};default:return n}},oi=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments[1];switch(i.type){case"UPDATE_DEFAULT_ROLEID":return i.data||"";default:return n}};const ii=(0,L.UY)({roleId:oi,controls:Wo,roleList:qo,list:Zo,pageIndex:ti,showPortalControlIds:Xo,defaultRole:ei,controlsSetting:Ko,count:zo,baseInfo:$o,filters:ni,keyWords:ri,fastFilters:ai,loading:jo,commonCount:Jo,unApproveCount:Yo,sortControls:Ho,telFilters:Vo,quickTag:si,roleCountList:Qo});var za=a(50380),li=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"UPDATE_ROLE_LOADING":return i.data;default:return n}},ui=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments[1];switch(i.type){case"ROLE_UPDATE_PAGE_LOADING":return i.data;default:return n}},di=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{tab:"",roleId:""},i=arguments[1];switch(i.type){case"UPDATE_QUICKTAG":return i.data||{tab:"",roleId:""};default:return n}},ci=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all",i=arguments[1];switch(i.type){case"UPDATE_ROLEID":return i.data;default:return n}},mi=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_APPUSER":return i.data;default:return n}},pi=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments[1];switch(i.type){case"UPDATE_APPUSER_LIST_ALL_TOTAL":return i.data;default:return n}},gi=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_APPUSER_LIST":return i.data;default:return n}},fi=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_APPLYINFO":return i.data;default:return n}},hi=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1];switch(i.type){case"UPDATE_OUTSOURCING":return i.data;default:return n}},vi=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_APPROLESUMMARY":return i.data;default:return n}},Ii=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments[1];switch(i.type){case"UPDATE_SELECTLIST":return i.data;default:return n}},Ei=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:za.FB,i=arguments[1];switch(i.type){case"UPDATE_APPROLEPAGINGMODEL":return i.data||za.FB;default:return n}};const yi=(0,L.UY)({loading:li,user:mi,outsourcing:hi,apply:fi,appRolePagingModel:Ei,roleInfos:vi,roleId:ci,selectedIds:Ii,userList:gi,total:pi,pageLoading:ui,quickTag:di});function Ai(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments[1];switch(n.type){case"CHANGE_PROJECT_ID":return n.projectId;default:return s}}function Ci(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"UPDATE_IS_LOADING":return n.isLoading;default:return s}}function Si(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"UPDATE_POSITION_LIST":return n.positionList;default:return s}}function Ti(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{pageIndex:1,isMore:!1},n=arguments[1];switch(n.type){case"UPDATE_POSITION_PAGE_INFO":return n.data;default:return s}}function Di(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];switch(n.type){case"UPDATE_CURRENT_POSITION":return n.currentPosition;default:return s}}function Pi(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments[1];switch(n.type){case"UPDATE_SEARCH_VALUE":return n.searchValue;default:return s}}function _i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=arguments[1];switch(n.type){case"UPDATE_USER_PAGE_INDEX":return n.userPageIndex;default:return s}}function Ui(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"UPDATE_USER_LIST":return n.userList;default:return s}}function Ri(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1];switch(n.type){case"UPDATE_USER_LOADING":return n.userLoading;default:return s}}function ki(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments[1];switch(n.type){case"UPDATE_USER_COUNT":return n.allUserCount;default:return s}}function xi(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"UPDATE_SELECT_USER_IDS":return n.selectUserIds;default:return s}}function bi(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"UPDATE_IS_IMPORT_ROLE":return n.data;default:return s}}const Li=(0,L.UY)({projectId:Ai,isLoading:Ci,positionList:Si,positionPageInfo:Ti,currentPosition:Di,searchValue:Pi,userPageIndex:_i,userList:Ui,userLoading:Ri,allUserCount:ki,selectUserIds:xi,isImportRole:bi});function Ni(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments[1];switch(n.type){case"CHANGE_PROJECT_ID":return n.projectId;default:return s}}function Oi(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"UPDATE_IS_LOADING":return n.isLoading;default:return s}}function wi(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"UPDATE_ROLE_LIST_DATA":return n.roleList;default:return s}}function Mi(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{pageIndex:1,isMore:!1},n=arguments[1];switch(n.type){case"UPDATE_ROLE_PAGE_INFO":return n.data;default:return s}}function Fi(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];switch(n.type){case"UPDATE_CURRENT_ROLE":return n.currentRole;default:return s}}function Gi(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments[1];switch(n.type){case"UPDATE_SEARCH_VALUE":return n.searchValue;default:return s}}function Bi(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=arguments[1];switch(n.type){case"UPDATE_USER_PAGE_INDEX":return n.userPageIndex;default:return s}}function ji(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"UPDATE_USER_LIST":return n.userList;default:return s}}function Wi(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1];switch(n.type){case"UPDATE_USER_LOADING":return n.userLoading;default:return s}}function Hi(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments[1];switch(n.type){case"UPDATE_USER_COUNT":return n.allUserCount;default:return s}}function Vi(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1];switch(n.type){case"UPDATE_SELECT_USER_IDS":return n.selectUserIds;default:return s}}function $i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];switch(n.type){case"UPDATE_IS_IMPORT_ROLE":return n.data;default:return s}}function Ki(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments[1];switch(n.type){case"UPDATE_IS_REQUEST_LIST":return n.data;default:return s}}const Zi=(0,L.UY)({projectId:Ni,isLoading:Oi,roleList:wi,rolePageInfo:Mi,currentRole:Fi,searchValue:Gi,userPageIndex:Bi,userList:ji,userLoading:Wi,allUserCount:Hi,selectUserIds:Vi,isImportRole:$i,isRequestUserList:Ki}),zi=(0,L.UY)({position:Li,roleManage:Zi});function Yi(){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments[1];return(0,L.UY)({post:(0,L.UY)(h),postDetail:(0,L.UY)(y),sheet:Bn,chat:rr,kc:Jr,task:Ar,workflow:es,appPkg:ns,mobile:to,publicWorksheet:uo,formSet:yo,customPage:Uo,sheetList:Ra,statistics:Bo,portal:ii,appRole:yi,orgManagePage:zi})(s,n)}}},66344:(Ze,Re,a)=>{"use strict";a.d(Re,{Z:()=>pe}),RegExp.isEmail=function(r){var t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(r)},RegExp.isURL=function(r){var t=/^http(s)?:\/\/[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+[\/=\?%\-&_~`@[\]:+!]*([^<>])*$/;return t.exec(r)},RegExp.isPhoneNumberWithAreaCode=function(r){var t=/^[+]?((\d){3,4}([ ]|[-]))?((\d){3,9})(([ ]|[-])(\d){1,12})?$/;return t.exec(r)},RegExp.isPhoneNumber=function(r){var t=/^(1[3-9]{1})\d{9}$/;return t.exec(r)},RegExp.isPasswordValid=function(r,t){var e=t?new RegExp(t):/^(?=.*\d)(?=.*[a-zA-Z]).{8,20}$/;return e.test(r)},RegExp.isVideo=function(r){return/.*?\.(mov|mp4|avi|mkv|3gp|3g2|m4v|rm|rmvb|webm)$/.test((r||"").toLowerCase())},RegExp.isUrlRequest=function(r){return!!(/^data:|^chrome-extension:|^(https?:)?\/\/|^[\{\}\[\]#*;,'§\$%&\(=?`´\^°<>]/.test(r)||/^\//.test(r))};const pe=RegExp},16572:Ze=>{Ze.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAADICAYAAACeY7GXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTVFRjk1NzNGNUFFMTFFNkI3MTE4RTM4MzgyNTE1OUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTVFRjk1NzRGNUFFMTFFNkI3MTE4RTM4MzgyNTE1OUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5NUVGOTU3MUY1QUUxMUU2QjcxMThFMzgzODI1MTU5QSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5NUVGOTU3MkY1QUUxMUU2QjcxMThFMzgzODI1MTU5QSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhXc7UAAAAzhSURBVHja7J0LcFTVGce/u3s3u5sENIHwlpc8A8UKiBQEQRQRVBxnlFqLfVvs9DFOpzgM1tfI2NGZdhw7pbWdvhBtZLSgkqJCQV4FrLQIRBAEeSWUkAfksc+72++7IU60Njm72bu5Z/P/zdxZhgnh7Dm/+93vPK+RTCbJMAxqi7escTB/LOFrAV8j+QoSyBkMKxbjj7viXylap/X3aCsvS+vlj0f4WspXAM2cm3giTeStr4rHiwbeFV9cslbb79Em2oq4qy7JC3FzPfpGQ6ZZd2aNuar6Du3lZZbzdQ+aFQJrJS9H3UH8sQzNCYF1jLxLkCpAYN0EbpV3PpoQApt1lWvM1bW36ibvKDQfMKLNpll7eo35Qs0cneQtQNMBW+BIU4BTiDd0ENiD5gK6Cgx5gbYCQ16grcCQF2grMOQF2goMeYG2AkNeoK3AkBekLnB91RvmSxemQ16gn8DhhoB5/uQG88X6qZAXaBiBGwvNmlNvd6XAkBdoKzDkBdoKDHmBtgJDXqCtwJAXaCsw5AXaCgx5gTMC1552XGDIC5wRONxQ6K07s8F8sW4C5AXa4QldvMxbV7nFKYEhL3Ba4CKnBIa8QFuBIS/QVmDIC7QVGPICbQWGvEBbgSEv0FZgyAu6VuD6s5u9ZY3jIC/QT+Dm+mKz5tRGFngE5AU6CtyPBd6WqsCQF2grMOQF2goMeYG2AkNeoK3AkLcbkvzMG091FRjydke8vpyIwJC3O0Zekddjai8w5O2mWD1L9MqB6ypF4CsgLyCrsJiSeUF9BG6s6WfWntl26W2tkLdbY3go3nsIkenXR+Cm2iEs8PZWgY1kMknmy01JtGY3JWGRWX9WxNCnyAXFJ+LFA6+DvKAlEFsx8oQb5TWuttDcrXO7wMdNNBtoHYGwCoqI5NKDYch5gbZAXgB5AYC8AEBeAHkBgLwAQF4AIC+AvABAXgAgL4C8AEBeACAvAJAXQF4AIC8AkBdAXgAgLwCQFwDICyAvAJAXAMgLIC8AkBcAR8m5g/bkVSGll3loai8PjenpoaH5BhXnGVRoGuRTvFWfPhSjv5yMZ7RcY7ks1xR7aDyXbWiBQb39BuV7DcpzIHxEEkR10SSdjyTpSEOCDlxM0q7zFlWFk5DXjcJO7e2lrw016faBXurjT/9tN6+ejlNZhsT9YpHHLtPCgSYNzu/6N/AcvJCgdZUWrToepyONCf3bXefzeUWHOwaZ9HCpj666vPMhrIIbd+rGEDVbnfs9N/fz0nIu0zS+odzKxv9Y9NQHMXrnnAV5s80ElvVXk/x2epAJohyIrmVx99enH5FG9fDQs1fn0U39vNrU41tnLfrR3qiWkVi7DptE24fG+Ojdm4IZE1d4eH+0U+I+MMJH780NaiWuMJfLu29ekH482keGbi7oFHnz2YuyaQG6pX9mBZF0YeJbIYqnUQvS4Vo52W/ntrpTXmXR4l0RuhDT40GsTeQt4U7YptnBjIsrfJ8fm+mIKzdT+cxATogrzOe63Tw7QP0DBuTNFAXsxuszAvZQkxM539bq1DstQRb3NS7TrD5eyiWkL7GJBS7xG5C30wXkOnyZU4XJxc4U9fGD0bT+3fPX+HNO3LYdz/X8RMl3+ddz/fNu2VifPfSUKhanAe/VJmh3rUUnOKWXQfvPIkNiu2tS76Q9OMpH9wxOr+r2cadQ/s/jTQmqiSTtcmYaycNlEmRkj5aJEZkgSZWJRR765SQ/fXNPBB22dJjEFf+POUE7+qpyNpykXxyO0aqP43QukvmvJSLIqEIqM2M1fOOsPBqnPxyL0Ynm7Ff1kHyD7uO8/IGRvpQncO7lDlxZhmcbc15eEVbEnaSYLiSSLdO6KyqiFHJo3F2afTuX6doUhuhWHo3RT/fHqN4FPXjJ0x8am2cPNapOlUsAKC0PuaL82uS8Xx1iKosrFXvTO2F7rDbk4ITRnYNMZXEb4km6Y3uYfrA36pqGl7p57ECUpm8K0SnFJ4BE6mWlPnTYUom6PxmjVmGSy876e9jxaU4p02Pj1cp0kWW9mW+mNyrdOfW6ty5BM1jgo4qzakuu9Nk5NORVYB530FQ6GdLZuXNHhA5ccH5qc05ftTJJ+nL3zgjtqXH3dOvpUJLm8Q1WE+04AstQ5XeGm5BXha8PU6uoJw9GaVt1dqLb/YqNJ3m3LHrRgY+5q/NtxdGEe4dC3g6RscUFAzquqGNc8SJKtso0X6FMEs2kw6gTr3Nqs14hvRnTw0PjLvNA3vaYUeIlv0KpnmJJIll6Ms/uq1YmeRKENFxh+ITiDTerxAt522OmwqyV9OSzOfY4Q6HRGrlML7l0PLQjZDJHZUXd9BJE3naZoPBokvUIzVmMcFcplOlvVRY16emuzfqqjit0dA/I235updCj33ouuz35UgV5t1brva1mT23H8l5ZaEDe9lCZvjxwMbuiqKywer9eb3mPNXY8ZCabWN2Eq8Y/ZL1AgUKJzmVxF6yUx6vQZtUprKOQ31eUZ1C8je/hRJLCXdjZa1Rc0CwjL80W5P3fwije2CEre/JKHutf0/SpvwtwAwbarBYyPfS5q9b+/+PXQxW3BNv9GfmKxX9tyloeHfSqVX7cRUscXCWv6h3d8vjqulqUCBnuxA2kkobIr89mB7CPwu4JKU/URdmR63JelcfX8ELdtgp+mgkK2/SrI9m9OccrdJTPRdy1ssx18n6k0HGYUqz3DoaZCuOlFReyG+Jm9um4TB9cTEDe9jjc0HEFLeivr7zSAVTZRLovi/JKJ2yuwm6V/Rcgb7vsUBgv/QI/dicV63lGoGwfUhlyytaCI2ERl6mHQpm2uux0HdcZsEWx0R4pzdNOXNnJ8PC4jsstazY2Z2llmqzZWFaqVqZs3lBayiuHwR1SSR0GeOm2AXqlD8tZkkHBjiNceWU8a2OpS8f4aHhBx2Van8UyaSuvsPpjtTGi303x28eF6sCNfb22KCo8fyw7Y2Sy4EjlSSD88bj7Fm64Ut7fcuOpjHH2yjNow/UBpWjWlUzp5aGXp/mVdkFLj35TFlIGOSf41el+pdlDKdOGsxbkVUEORf71R2oLzUcUemjbnKB9zoAbuZVTmzf5BuvpU7vBHj8Ys7cSOcn1fby05YaAPUWtwjOHnC9TzsgrPFURUx4UvyLfoB0s8GPj8+xOkRu4nGV9bmIerb0uoNSTF+QwkldOOfd4liGxFRPy6G2+mS5XvJlkre8LJ3BuQ8rIEM7qqf6U/o0Iv/JIjP7MeXNXHfDxjeE+emCEaac1qsi06+S3QlThwERA34BhHyXw4Ggf9UvhED2Jtl/aFLIFhrxp8HvulN2X5uY/ydXe5YqX9zJIKuLEvLzkjL38Bg0r8NhnOqR7QvvSfVH6+eHU9+TddYX5uWeKSUognVmZjZQxcW8a3YJHD0RpRUXMrWq4X15pmC03uDenzQSyfUjOxU0VuVkkXXKCN7mDdtu2sCtzXdfnvK3I2OKCrWH6sCGRk+JuOWfR/e+md5jdo+Ocmaj5Jz+t7t7pbnG1kFeQFVZzNoe1363weeLeztEtnR3HMmIw14FXCEiaJRFXh/142jyL5R1is1ng8iorJ8T9E3co5/MTJZ1ZKxm8eO7qzEdd2UQ6Z3Mo68sxc15eQd6VsJCjwkPcuYlqGoQlysrhe9/aE0n7O/xwlE9pU6gqsvB9+ftR+ynQrFFs0PZVViMLPfTsxDxHHp1O8ba8Nupf0U7l77KibveNwYy9OXNXTYK+915Ey5RM65cItuZ+cnq6rB1wKzvPW/aQ05udnGKVkZddLG4moq6c0P4kl2nt6Tjp2vjay9s2Ei8eZtLCAV5XnKl1sjlJ687E7dz233Wdj2oyTFs2zW+fEZwuMoHz2hnLLpO8i1j3Rs8Zedsir2KSdxGP79nyXgY5W1YG7f0OOC15a7PV8pJqOXVRjluVHnumt8x8ebCpvCotlmjZC1gb5TLxTXSIyyLpgWwtyqWGzkl5QffAgyoAkBcAyAsA5AWQFwDICwDkBQDyAsgLAOQFAPICyAsA5AUA8gIAeQHkBQDyAgB5AeQFAPICAHkBgLwA8gIAeQGAvADyAgB5AYC8AEBeAHkBgLwAQF4AeQGAvABAXgAgL4C8AEBeACAvgLwAQF4AIC8AkBdAXgAgLwCQF0BeACAvAJAXAMgLIC8AkBcAyAsA5AWQFwDICwDkBZAXAMgLAOQFAPICyAsA5AUA8gLICwDkBcBBeZtQFUAzmlrlPYK6AJrxYau85agLoBnlrfL+hq8I6gNoQlicteW1FhWe5I+nUSdAE37Gzp5qO9rwOF+voF6Ay3mJryflD5/IyyZb/LGIrxV8RVFHwIWpwhN8Lb7kKhnJZJIMw/jUT3nLGofyx3f5ms/XSL6CqDvQBYRkVIGv9ZLjXkpvP+G/AgwA+q8qU3e12FAAAAAASUVORK5CYII="}}]);
