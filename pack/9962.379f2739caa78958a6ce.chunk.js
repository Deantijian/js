var MCt=Object.defineProperty;var Fet=Object.getOwnPropertySymbols;var NCt=Object.prototype.hasOwnProperty,LCt=Object.prototype.propertyIsEnumerable;var Vet=(re,ne,me)=>ne in re?MCt(re,ne,{enumerable:!0,configurable:!0,writable:!0,value:me}):re[ne]=me,vB=(re,ne)=>{for(var me in ne||(ne={}))NCt.call(ne,me)&&Vet(re,me,ne[me]);if(Fet)for(var me of Fet(ne))LCt.call(ne,me)&&Vet(re,me,ne[me]);return re};(self.webpackChunkmingdao_web=self.webpackChunkmingdao_web||[]).push([[9962],{49962:(re,ne,me)=>{re=me.nmd(re),function(ry){const qr=ry["zh-cn"]=ry["zh-cn"]||{};qr.dictionary=Object.assign(qr.dictionary||{},{"%0 of %1":"\u7B2C %0 \u6B65\uFF0C\u5171 %1 \u6B65",Accept:"\u63A5\u53D7","Align cell text to the bottom":"\u4F7F\u5355\u5143\u683C\u6587\u672C\u5BF9\u9F50\u5230\u5E95\u90E8","Align cell text to the center":"\u4F7F\u5355\u5143\u683C\u6587\u672C\u6C34\u5E73\u5C45\u4E2D","Align cell text to the left":"\u4F7F\u5355\u5143\u683C\u6587\u672C\u5DE6\u5BF9\u9F50","Align cell text to the middle":"\u4F7F\u5355\u5143\u683C\u6587\u672C\u5782\u76F4\u5C45\u4E2D","Align cell text to the right":"\u4F7F\u5355\u5143\u683C\u6587\u672C\u53F3\u5BF9\u9F50","Align cell text to the top":"\u4F7F\u5355\u5143\u683C\u6587\u672C\u5BF9\u9F50\u5230\u9876\u90E8","Align center":"\u5C45\u4E2D\u5BF9\u9F50","Align left":"\u5DE6\u5BF9\u9F50","Align right":"\u53F3\u5BF9\u9F50","Align table to the left":"\u4F7F\u8868\u683C\u5DE6\u5BF9\u9F50","Align table to the right":"\u4F7F\u8868\u683C\u53F3\u5BF9\u9F50",Alignment:"\u5BF9\u9F50",Aquamarine:"\u6D77\u84DD\u8272",Background:"\u80CC\u666F",Big:"\u5927",Black:"\u9ED1\u8272","Block quote":"\u5757\u5F15\u7528",Blue:"\u84DD\u8272","Blue marker":"\u84DD\u8272\u6807\u8BB0",Bold:"\u52A0\u7C97",Border:"\u8FB9\u6846","Break text":"\u6587\u5B57\u65AD\u884C","Bulleted List":"\u9879\u76EE\u7B26\u53F7\u5217\u8868",Cancel:"\u53D6\u6D88","Cannot upload file:":"\u65E0\u6CD5\u4E0A\u4F20\u7684\u6587\u4EF6\uFF1A","Caption for image: %0":"\u56FE\u7247\u8BF4\u660E\uFF1A%0","Caption for the image":"\u56FE\u7247\u8BF4\u660E\uFF1A","Cell properties":"\u5355\u5143\u683C\u5C5E\u6027","Center table":"\u8868\u683C\u5C45\u4E2D","Centered image":"\u56FE\u7247\u5C45\u4E2D","Change image text alternative":"\u66F4\u6539\u56FE\u7247\u66FF\u6362\u6587\u672C","Choose heading":"\u6807\u9898\u7C7B\u578B",Code:"\u4EE3\u7801",Color:"\u989C\u8272","Color picker":"\u989C\u8272\u9009\u62E9\u5668",Column:"\u5217","Could not insert image at the current position.":"\u65E0\u6CD5\u5728\u5F53\u524D\u4F4D\u7F6E\u63D2\u5165\u56FE\u7247","Could not obtain resized image URL.":"\u65E0\u6CD5\u83B7\u53D6\u91CD\u8BBE\u5927\u5C0F\u7684\u56FE\u7247URL",Dashed:"\u865A\u7EBF","Decrease indent":"\u51CF\u5C11\u7F29\u8FDB",Default:"\u9ED8\u8BA4","Delete column":"\u5220\u9664\u672C\u5217","Delete row":"\u5220\u9664\u672C\u884C","Dim grey":"\u6697\u7070\u8272",Dimensions:"\u5C3A\u5BF8","Document colors":"\u6587\u6863\u4E2D\u7684\u989C\u8272",Dotted:"\u70B9\u72B6\u865A\u7EBF",Double:"\u53CC\u7EBF",Downloadable:"\u53EF\u4E0B\u8F7D","Dropdown toolbar":"\u4E0B\u62C9\u5DE5\u5177\u680F","Edit block":"\u7F16\u8F91\u6846","Edit link":"\u4FEE\u6539\u94FE\u63A5","Edit source":"\u7F16\u8F91\u6E90\u4EE3\u7801","Editor block content toolbar":"\u7F16\u8F91\u5668\u5757\u5185\u5BB9\u5DE5\u5177\u680F","Editor contextual toolbar":"\u7F16\u8F91\u5668\u4E0A\u4E0B\u6587\u5DE5\u5177\u680F","Editor editing area: %0":"\u7F16\u8F91\u5668\u7F16\u8F91\u533A\u57DF\uFF1A%0","Editor toolbar":"\u7F16\u8F91\u5668\u5DE5\u5177\u680F","Empty snippet content":"\u7A7A\u7247\u6BB5\u5185\u5BB9","Enter image caption":"\u8F93\u5165\u56FE\u7247\u6807\u9898","Enter table caption":"\u8F93\u5165\u8868\u6807\u9898",Find:"\u67E5\u627E","Find and replace":"\u67E5\u627E\u548C\u66FF\u6362","Find in text\u2026":"\u67E5\u627E\u7684\u6587\u672C","Font Background Color":"\u5B57\u4F53\u80CC\u666F\u8272","Font Color":"\u5B57\u4F53\u989C\u8272","Font Family":"\u5B57\u4F53","Font Size":"\u5B57\u4F53\u5927\u5C0F","Full size image":"\u5168\u5C3A\u5BF8\u56FE\u7247",Green:"\u7EFF\u8272","Green marker":"\u7EFF\u8272\u6807\u8BB0","Green pen":"\u7EFF\u8272\u7B14",Grey:"\u7070\u8272",Groove:"\u51F9\u69FD\u8FB9\u6846","Header column":"\u6807\u9898\u5217","Header row":"\u6807\u9898\u884C",Heading:"\u6807\u9898","Heading 1":"\u6807\u9898 1","Heading 2":"\u6807\u9898 2","Heading 3":"\u6807\u9898 3","Heading 4":"\u6807\u9898 4","Heading 5":"\u6807\u9898 5","Heading 6":"\u6807\u9898 6",Height:"\u9AD8\u5EA6",HEX:"\u5341\u516D\u8FDB\u5236",Highlight:"\u9AD8\u4EAE","Horizontal line":"\u6C34\u5E73\u7EBF","Horizontal text alignment toolbar":"\u6C34\u5E73\u6587\u672C\u5BF9\u9F50\u5DE5\u5177\u680F","HTML object":"HTML\u5BF9\u8C61","HTML snippet":"HTML \u4EE3\u7801\u7247\u6BB5",Huge:"\u6781\u5927","Image resize list":"\u56FE\u7247\u5927\u5C0F\u5217\u8868","Image toolbar":"\u56FE\u7247\u5DE5\u5177\u680F","image widget":"\u56FE\u7247\u7EC4\u4EF6","In line":"\u884C\u5185","Increase indent":"\u589E\u52A0\u7F29\u8FDB",Insert:"\u63D2\u5165","Insert code block":"\u63D2\u5165\u4EE3\u7801\u5757","Insert column left":"\u5DE6\u4FA7\u63D2\u5165\u5217","Insert column right":"\u53F3\u4FA7\u63D2\u5165\u5217","Insert HTML":"\u63D2\u5165 HTML","Insert image":"\u63D2\u5165\u56FE\u50CF","Insert image or file":"\u63D2\u5165\u56FE\u7247\u6216\u6587\u4EF6","Insert image via URL":"\u901A\u8FC7URL\u5730\u5740\u63D2\u5165\u56FE\u7247","Insert media":"\u63D2\u5165\u5A92\u4F53","Insert paragraph after block":"\u5728\u540E\u9762\u63D2\u5165\u6BB5\u843D","Insert paragraph before block":"\u5728\u524D\u9762\u63D2\u5165\u6BB5\u843D","Insert row above":"\u5728\u4E0A\u9762\u63D2\u5165\u4E00\u884C","Insert row below":"\u5728\u4E0B\u9762\u63D2\u5165\u4E00\u884C","Insert table":"\u63D2\u5165\u8868\u683C","Inserting image failed":"\u63D2\u5165\u56FE\u7247\u5931\u8D25",Inset:"\u51F9\u8FB9\u6846",Italic:"\u503E\u659C",Justify:"\u4E24\u7AEF\u5BF9\u9F50","Justify cell text":"\u5BF9\u9F50\u5355\u5143\u683C\u6587\u672C","Left aligned image":"\u56FE\u7247\u5DE6\u4FA7\u5BF9\u9F50","Light blue":"\u6D45\u84DD\u8272","Light green":"\u6D45\u7EFF\u8272","Light grey":"\u6D45\u7070\u8272",Link:"\u8D85\u94FE\u63A5","Link URL":"\u94FE\u63A5\u7F51\u5740","Match case":"\u533A\u5206\u5927\u5C0F\u5199","Media URL":"\u5A92\u4F53URL","media widget":"\u5A92\u4F53\u5C0F\u90E8\u4EF6","Merge cell down":"\u5411\u4E0B\u5408\u5E76\u5355\u5143\u683C","Merge cell left":"\u5411\u5DE6\u5408\u5E76\u5355\u5143\u683C","Merge cell right":"\u5411\u53F3\u5408\u5E76\u5355\u5143\u683C","Merge cell up":"\u5411\u4E0A\u5408\u5E76\u5355\u5143\u683C","Merge cells":"\u5408\u5E76\u5355\u5143\u683C",Next:"\u4E0B\u4E00\u6B65","Next result":"\u4E0B\u4E00\u4E2A\u5339\u914D\u9879","No preview available":"\u9884\u89C8\u4E0D\u53EF\u7528",None:"\u65E0","Numbered List":"\u9879\u76EE\u7F16\u53F7\u5217\u8868","Open in a new tab":"\u5728\u65B0\u6807\u7B7E\u9875\u4E2D\u6253\u5F00","Open link in new tab":"\u5728\u65B0\u6807\u7B7E\u9875\u4E2D\u6253\u5F00\u94FE\u63A5","Open media in new tab":"\u5728\u65B0\u6807\u7B7E\u9875\u6253\u5F00\u5A92\u4F53",Orange:"\u6A59\u8272",Original:"\u539F\u59CB\u5927\u5C0F",Outset:"\u51F8\u8FB9\u6846",Padding:"\u5185\u8FB9\u8DDD",Paragraph:"\u6BB5\u843D","Paste raw HTML here...":"\u5728\u8FD9\u91CC\u7C98\u8D34 HTML \u6E90\u4EE3\u7801","Paste the media URL in the input.":"\u5728\u8F93\u5165\u4E2D\u7C98\u8D34\u5A92\u4F53URL","Pink marker":"\u7C89\u8272\u6807\u8BB0","Plain text":"\u7EAF\u6587\u672C","Press Enter to type after or press Shift + Enter to type before the widget":"\u6309\u4E0B\u201CEnter\u201D\u952E\uFF0C\u5728\u5C0F\u7EC4\u4EF6\u540E\u8F93\u5165\uFF1B\u6309\u4E0B\u201CShift+Enter\u201D\u952E\uFF0C\u5728\u5C0F\u7EC4\u4EF6\u524D\u8F93\u5165",Previous:"\u4E0A\u4E00\u6B65","Previous result":"\u4E0A\u4E00\u4E2A\u5339\u914D\u9879",Purple:"\u7D2B\u8272",Red:"\u7EA2\u8272","Red pen":"\u7EA2\u8272\u7B14",Redo:"\u91CD\u505A","Remove color":"\u79FB\u9664\u989C\u8272","Remove Format":"\u79FB\u9664\u683C\u5F0F","Remove highlight":"\u6E05\u9664\u9AD8\u4EAE",Replace:"\u66FF\u6362","Replace all":"\u5168\u90E8\u66FF\u6362","Replace with\u2026":"\u66FF\u6362\u7684\u6587\u672C","Resize image":"\u8C03\u6574\u56FE\u50CF\u5927\u5C0F","Resize image to %0":"\u8C03\u6574\u56FE\u50CF\u5927\u5C0F\u4E3A%0","Resize image to the original size":"\u8C03\u6574\u56FE\u50CF\u5927\u5C0F\u4E3A\u539F\u59CB\u5927\u5C0F","Restore default":"\u6062\u590D\u9ED8\u8BA4","Rich Text Editor":"\u5BCC\u6587\u672C\u7F16\u8F91\u5668",Ridge:"\u5784\u72B6\u8FB9\u6846","Right aligned image":"\u56FE\u7247\u53F3\u4FA7\u5BF9\u9F50",Row:"\u884C",Save:"\u4FDD\u5B58","Save changes":"\u4FDD\u5B58\u66F4\u6539","Select all":"\u5168\u9009","Select column":"\u9009\u62E9\u5217","Select row":"\u9009\u62E9\u884C","Selecting resized image failed":"\u9009\u62E9\u91CD\u8BBE\u5927\u5C0F\u7684\u56FE\u7247\u5931\u8D25","Show more items":"\u663E\u793A\u66F4\u591A","Show options":"\u663E\u793A\u914D\u7F6E","Side image":"\u56FE\u7247\u4FA7\u8FB9\u663E\u793A",Small:"\u5C0F",Solid:"\u5B9E\u7EBF",Source:"\u6E90\u4EE3\u7801","Split cell horizontally":"\u6A2A\u5411\u62C6\u5206\u5355\u5143\u683C","Split cell vertically":"\u7EB5\u5411\u62C6\u5206\u5355\u5143\u683C",Strikethrough:"\u5220\u9664\u7EBF",Style:"\u6837\u5F0F",Subscript:"\u4E0B\u6807",Superscript:"\u4E0A\u6807","Table alignment toolbar":"\u8868\u683C\u5BF9\u9F50\u5DE5\u5177\u680F","Table cell text alignment":"\u8868\u683C\u5355\u5143\u683C\u4E2D\u7684\u6587\u672C\u6C34\u5E73\u5BF9\u9F50","Table properties":"\u8868\u683C\u5C5E\u6027","Table toolbar":"\u8868\u683C\u5DE5\u5177\u680F","Text alignment":"\u5BF9\u9F50","Text alignment toolbar":"\u5BF9\u9F50\u5DE5\u5177\u680F","Text alternative":"\u66FF\u6362\u6587\u672C","Text highlight toolbar":"\u6587\u672C\u9AD8\u4EAE\u5DE5\u5177\u680F","Text to find must not be empty.":"\u67E5\u627E\u7684\u6587\u672C\u4E0D\u53EF\u4E3A\u7A7A",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'\u989C\u8272\u65E0\u6548\u3002\u5C1D\u8BD5\u4F7F\u7528"#FF0000"\u3001"rgb(255,0,0)"\u6216\u8005"red"\u3002',"The URL must not be empty.":"URL\u4E0D\u53EF\u4EE5\u4E3A\u7A7A\u3002",'The value is invalid. Try "10px" or "2em" or simply "2".':"\u65E0\u6548\u503C\u3002\u5C1D\u8BD5\u4F7F\u7528\u201C10px\u201D\u3001\u201C2ex\u201D\u6216\u8005\u53EA\u5199\u201C2\u201D\u3002","This link has no URL":"\u6B64\u94FE\u63A5\u6CA1\u6709\u8BBE\u7F6E\u7F51\u5740","This media URL is not supported.":"\u4E0D\u652F\u6301\u6B64\u5A92\u4F53URL\u3002",Tiny:"\u6781\u5C0F","Tip: Find some text first in order to replace it.":"\u63D0\u793A\uFF1A\u5148\u67E5\u627E\u6587\u672C\u518D\u66FF\u6362","Tip: Paste the URL into the content to embed faster.":"\u63D0\u793A\uFF1A\u5C06URL\u7C98\u8D34\u5230\u5185\u5BB9\u4E2D\u53EF\u66F4\u5FEB\u5730\u5D4C\u5165","To-do List":"\u5F85\u529E\u5217\u8868","Toggle caption off":"\u5173\u95ED\u8868\u6807\u9898","Toggle caption on":"\u6253\u5F00\u8868\u6807\u9898",Turquoise:"\u9752\u8272",Underline:"\u4E0B\u5212\u7EBF",Undo:"\u64A4\u9500",Unlink:"\u53D6\u6D88\u8D85\u94FE\u63A5",Update:"\u66F4\u65B0","Update image URL":"\u66F4\u65B0\u56FE\u7247URL\u5730\u5740","Upload failed":"\u4E0A\u4F20\u5931\u8D25","Upload in progress":"\u6B63\u5728\u4E0A\u4F20","Vertical text alignment toolbar":"\u5782\u76F4\u6587\u672C\u5BF9\u9F50\u5DE5\u5177\u680F",White:"\u767D\u8272","Whole words only":"\u5355\u8BCD","Widget toolbar":"\u5C0F\u90E8\u4EF6\u5DE5\u5177\u680F",Width:"\u5BBD\u5EA6","Wrap text":"\u6587\u5B57\u73AF\u7ED5",Yellow:"\u9EC4\u8272","Yellow marker":"\u9EC4\u8272\u6807\u8BB0"}),qr.getPluralForm=function(Ke){return 0}}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(ry,qr){re.exports=qr()}(self,()=>(()=>{var ry={8168:(W,K,x)=>{const U=x(8874),$={};for(const D of Object.keys(U))$[U[D]]=D;const L={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};W.exports=L;for(const D of Object.keys(L)){if(!("channels"in L[D]))throw new Error("missing channels property: "+D);if(!("labels"in L[D]))throw new Error("missing channel labels property: "+D);if(L[D].labels.length!==L[D].channels)throw new Error("channel and label counts mismatch: "+D);const{channels:B,labels:H}=L[D];delete L[D].channels,delete L[D].labels,Object.defineProperty(L[D],"channels",{value:B}),Object.defineProperty(L[D],"labels",{value:H})}L.rgb.hsl=function(D){const B=D[0]/255,H=D[1]/255,Q=D[2]/255,J=Math.min(B,H,Q),nt=Math.max(B,H,Q),it=nt-J;let lt,mt;nt===J?lt=0:B===nt?lt=(H-Q)/it:H===nt?lt=2+(Q-B)/it:Q===nt&&(lt=4+(B-H)/it),lt=Math.min(60*lt,360),lt<0&&(lt+=360);const St=(J+nt)/2;return mt=nt===J?0:St<=.5?it/(nt+J):it/(2-nt-J),[lt,100*mt,100*St]},L.rgb.hsv=function(D){let B,H,Q,J,nt;const it=D[0]/255,lt=D[1]/255,mt=D[2]/255,St=Math.max(it,lt,mt),pt=St-Math.min(it,lt,mt),ht=function(wt){return(St-wt)/6/pt+.5};return pt===0?(J=0,nt=0):(nt=pt/St,B=ht(it),H=ht(lt),Q=ht(mt),it===St?J=Q-H:lt===St?J=.3333333333333333+B-Q:mt===St&&(J=.6666666666666666+H-B),J<0?J+=1:J>1&&(J-=1)),[360*J,100*nt,100*St]},L.rgb.hwb=function(D){const B=D[0],H=D[1];let Q=D[2];const J=L.rgb.hsl(D)[0],nt=1/255*Math.min(B,Math.min(H,Q));return Q=1-.00392156862745098*Math.max(B,Math.max(H,Q)),[J,100*nt,100*Q]},L.rgb.cmyk=function(D){const B=D[0]/255,H=D[1]/255,Q=D[2]/255,J=Math.min(1-B,1-H,1-Q);return[100*((1-B-J)/(1-J)||0),100*((1-H-J)/(1-J)||0),100*((1-Q-J)/(1-J)||0),100*J]},L.rgb.keyword=function(D){const B=$[D];if(B)return B;let H,Q=1/0;for(const it of Object.keys(U)){const lt=U[it],mt=(nt=lt,((J=D)[0]-nt[0])**2+(J[1]-nt[1])**2+(J[2]-nt[2])**2);mt<Q&&(Q=mt,H=it)}var J,nt;return H},L.keyword.rgb=function(D){return U[D]},L.rgb.xyz=function(D){let B=D[0]/255,H=D[1]/255,Q=D[2]/255;return B=B>.04045?((B+.055)/1.055)**2.4:B/12.92,H=H>.04045?((H+.055)/1.055)**2.4:H/12.92,Q=Q>.04045?((Q+.055)/1.055)**2.4:Q/12.92,[100*(.4124*B+.3576*H+.1805*Q),100*(.2126*B+.7152*H+.0722*Q),100*(.0193*B+.1192*H+.9505*Q)]},L.rgb.lab=function(D){const B=L.rgb.xyz(D);let H=B[0],Q=B[1],J=B[2];return H/=95.047,Q/=100,J/=108.883,H=H>.008856?H**.3333333333333333:7.787*H+.13793103448275862,Q=Q>.008856?Q**.3333333333333333:7.787*Q+.13793103448275862,J=J>.008856?J**.3333333333333333:7.787*J+.13793103448275862,[116*Q-16,500*(H-Q),200*(Q-J)]},L.hsl.rgb=function(D){const B=D[0]/360,H=D[1]/100,Q=D[2]/100;let J,nt,it;if(H===0)return it=255*Q,[it,it,it];J=Q<.5?Q*(1+H):Q+H-Q*H;const lt=2*Q-J,mt=[0,0,0];for(let St=0;St<3;St++)nt=B+.3333333333333333*-(St-1),nt<0&&nt++,nt>1&&nt--,it=6*nt<1?lt+6*(J-lt)*nt:2*nt<1?J:3*nt<2?lt+(J-lt)*(.6666666666666666-nt)*6:lt,mt[St]=255*it;return mt},L.hsl.hsv=function(D){const B=D[0];let H=D[1]/100,Q=D[2]/100,J=H;const nt=Math.max(Q,.01);return Q*=2,H*=Q<=1?Q:2-Q,J*=nt<=1?nt:2-nt,[B,100*(Q===0?2*J/(nt+J):2*H/(Q+H)),100*((Q+H)/2)]},L.hsv.rgb=function(D){const B=D[0]/60,H=D[1]/100;let Q=D[2]/100;const J=Math.floor(B)%6,nt=B-Math.floor(B),it=255*Q*(1-H),lt=255*Q*(1-H*nt),mt=255*Q*(1-H*(1-nt));switch(Q*=255,J){case 0:return[Q,mt,it];case 1:return[lt,Q,it];case 2:return[it,Q,mt];case 3:return[it,lt,Q];case 4:return[mt,it,Q];case 5:return[Q,it,lt]}},L.hsv.hsl=function(D){const B=D[0],H=D[1]/100,Q=D[2]/100,J=Math.max(Q,.01);let nt,it;it=(2-H)*Q;const lt=(2-H)*J;return nt=H*J,nt/=lt<=1?lt:2-lt,nt=nt||0,it/=2,[B,100*nt,100*it]},L.hwb.rgb=function(D){const B=D[0]/360;let H=D[1]/100,Q=D[2]/100;const J=H+Q;let nt;J>1&&(H/=J,Q/=J);const it=Math.floor(6*B),lt=1-Q;nt=6*B-it,1&it&&(nt=1-nt);const mt=H+nt*(lt-H);let St,pt,ht;switch(it){default:case 6:case 0:St=lt,pt=mt,ht=H;break;case 1:St=mt,pt=lt,ht=H;break;case 2:St=H,pt=lt,ht=mt;break;case 3:St=H,pt=mt,ht=lt;break;case 4:St=mt,pt=H,ht=lt;break;case 5:St=lt,pt=H,ht=mt}return[255*St,255*pt,255*ht]},L.cmyk.rgb=function(D){const B=D[0]/100,H=D[1]/100,Q=D[2]/100,J=D[3]/100;return[255*(1-Math.min(1,B*(1-J)+J)),255*(1-Math.min(1,H*(1-J)+J)),255*(1-Math.min(1,Q*(1-J)+J))]},L.xyz.rgb=function(D){const B=D[0]/100,H=D[1]/100,Q=D[2]/100;let J,nt,it;return J=3.2406*B+-1.5372*H+-.4986*Q,nt=-.9689*B+1.8758*H+.0415*Q,it=.0557*B+-.204*H+1.057*Q,J=J>.0031308?1.055*J**.4166666666666667-.055:12.92*J,nt=nt>.0031308?1.055*nt**.4166666666666667-.055:12.92*nt,it=it>.0031308?1.055*it**.4166666666666667-.055:12.92*it,J=Math.min(Math.max(0,J),1),nt=Math.min(Math.max(0,nt),1),it=Math.min(Math.max(0,it),1),[255*J,255*nt,255*it]},L.xyz.lab=function(D){let B=D[0],H=D[1],Q=D[2];return B/=95.047,H/=100,Q/=108.883,B=B>.008856?B**.3333333333333333:7.787*B+.13793103448275862,H=H>.008856?H**.3333333333333333:7.787*H+.13793103448275862,Q=Q>.008856?Q**.3333333333333333:7.787*Q+.13793103448275862,[116*H-16,500*(B-H),200*(H-Q)]},L.lab.xyz=function(D){let B,H,Q;H=(D[0]+16)/116,B=D[1]/500+H,Q=H-D[2]/200;const J=H**3,nt=B**3,it=Q**3;return H=J>.008856?J:(H-.13793103448275862)/7.787,B=nt>.008856?nt:(B-.13793103448275862)/7.787,Q=it>.008856?it:(Q-.13793103448275862)/7.787,B*=95.047,H*=100,Q*=108.883,[B,H,Q]},L.lab.lch=function(D){const B=D[0],H=D[1],Q=D[2];let J;return J=360*Math.atan2(Q,H)/2/Math.PI,J<0&&(J+=360),[B,Math.sqrt(H*H+Q*Q),J]},L.lch.lab=function(D){const B=D[0],H=D[1],Q=D[2]/360*2*Math.PI;return[B,H*Math.cos(Q),H*Math.sin(Q)]},L.rgb.ansi16=function(D,B=null){const[H,Q,J]=D;let nt=B===null?L.rgb.hsv(D)[2]:B;if(nt=Math.round(nt/50),nt===0)return 30;let it=30+(Math.round(J/255)<<2|Math.round(Q/255)<<1|Math.round(H/255));return nt===2&&(it+=60),it},L.hsv.ansi16=function(D){return L.rgb.ansi16(L.hsv.rgb(D),D[2])},L.rgb.ansi256=function(D){const B=D[0],H=D[1],Q=D[2];return B===H&&H===Q?B<8?16:B>248?231:Math.round((B-8)/247*24)+232:16+36*Math.round(B/255*5)+6*Math.round(H/255*5)+Math.round(Q/255*5)},L.ansi16.rgb=function(D){let B=D%10;if(B===0||B===7)return D>50&&(B+=3.5),B=B/10.5*255,[B,B,B];const H=.5*(1+~~(D>50));return[(1&B)*H*255,(B>>1&1)*H*255,(B>>2&1)*H*255]},L.ansi256.rgb=function(D){if(D>=232){const H=10*(D-232)+8;return[H,H,H]}let B;return D-=16,[Math.floor(D/36)/5*255,Math.floor((B=D%36)/6)/5*255,B%6/5*255]},L.rgb.hex=function(D){const B=(((255&Math.round(D[0]))<<16)+((255&Math.round(D[1]))<<8)+(255&Math.round(D[2]))).toString(16).toUpperCase();return"000000".substring(B.length)+B},L.hex.rgb=function(D){const B=D.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!B)return[0,0,0];let H=B[0];B[0].length===3&&(H=H.split("").map(J=>J+J).join(""));const Q=parseInt(H,16);return[Q>>16&255,Q>>8&255,255&Q]},L.rgb.hcg=function(D){const B=D[0]/255,H=D[1]/255,Q=D[2]/255,J=Math.max(Math.max(B,H),Q),nt=Math.min(Math.min(B,H),Q),it=J-nt;let lt,mt;return lt=it<1?nt/(1-it):0,mt=it<=0?0:J===B?(H-Q)/it%6:J===H?2+(Q-B)/it:4+(B-H)/it,mt/=6,mt%=1,[360*mt,100*it,100*lt]},L.hsl.hcg=function(D){const B=D[1]/100,H=D[2]/100,Q=H<.5?2*B*H:2*B*(1-H);let J=0;return Q<1&&(J=(H-.5*Q)/(1-Q)),[D[0],100*Q,100*J]},L.hsv.hcg=function(D){const B=D[1]/100,H=D[2]/100,Q=B*H;let J=0;return Q<1&&(J=(H-Q)/(1-Q)),[D[0],100*Q,100*J]},L.hcg.rgb=function(D){const B=D[0]/360,H=D[1]/100,Q=D[2]/100;if(H===0)return[255*Q,255*Q,255*Q];const J=[0,0,0],nt=B%1*6,it=nt%1,lt=1-it;let mt=0;switch(Math.floor(nt)){case 0:J[0]=1,J[1]=it,J[2]=0;break;case 1:J[0]=lt,J[1]=1,J[2]=0;break;case 2:J[0]=0,J[1]=1,J[2]=it;break;case 3:J[0]=0,J[1]=lt,J[2]=1;break;case 4:J[0]=it,J[1]=0,J[2]=1;break;default:J[0]=1,J[1]=0,J[2]=lt}return mt=(1-H)*Q,[255*(H*J[0]+mt),255*(H*J[1]+mt),255*(H*J[2]+mt)]},L.hcg.hsv=function(D){const B=D[1]/100,H=B+D[2]/100*(1-B);let Q=0;return H>0&&(Q=B/H),[D[0],100*Q,100*H]},L.hcg.hsl=function(D){const B=D[1]/100,H=D[2]/100*(1-B)+.5*B;let Q=0;return H>0&&H<.5?Q=B/(2*H):H>=.5&&H<1&&(Q=B/(2*(1-H))),[D[0],100*Q,100*H]},L.hcg.hwb=function(D){const B=D[1]/100,H=B+D[2]/100*(1-B);return[D[0],100*(H-B),100*(1-H)]},L.hwb.hcg=function(D){const B=D[1]/100,H=1-D[2]/100,Q=H-B;let J=0;return Q<1&&(J=(H-Q)/(1-Q)),[D[0],100*Q,100*J]},L.apple.rgb=function(D){return[D[0]/65535*255,D[1]/65535*255,D[2]/65535*255]},L.rgb.apple=function(D){return[D[0]/255*65535,D[1]/255*65535,D[2]/255*65535]},L.gray.rgb=function(D){return[D[0]/100*255,D[0]/100*255,D[0]/100*255]},L.gray.hsl=function(D){return[0,0,D[0]]},L.gray.hsv=L.gray.hsl,L.gray.hwb=function(D){return[0,100,D[0]]},L.gray.cmyk=function(D){return[0,0,0,D[0]]},L.gray.lab=function(D){return[D[0],0,0]},L.gray.hex=function(D){const B=255&Math.round(D[0]/100*255),H=((B<<16)+(B<<8)+B).toString(16).toUpperCase();return"000000".substring(H.length)+H},L.rgb.gray=function(D){return[(D[0]+D[1]+D[2])/3/255*100]}},2085:(W,K,x)=>{const U=x(8168),$=x(4111),L={};Object.keys(U).forEach(D=>{L[D]={},Object.defineProperty(L[D],"channels",{value:U[D].channels}),Object.defineProperty(L[D],"labels",{value:U[D].labels});const B=$(D);Object.keys(B).forEach(H=>{const Q=B[H];L[D][H]=function(J){const nt=function(...it){const lt=it[0];if(lt==null)return lt;lt.length>1&&(it=lt);const mt=J(it);if(typeof mt=="object")for(let St=mt.length,pt=0;pt<St;pt++)mt[pt]=Math.round(mt[pt]);return mt};return"conversion"in J&&(nt.conversion=J.conversion),nt}(Q),L[D][H].raw=function(J){const nt=function(...it){const lt=it[0];return lt==null?lt:(lt.length>1&&(it=lt),J(it))};return"conversion"in J&&(nt.conversion=J.conversion),nt}(Q)})}),W.exports=L},4111:(W,K,x)=>{const U=x(8168);function $(B){const H=function(){const J={},nt=Object.keys(U);for(let it=nt.length,lt=0;lt<it;lt++)J[nt[lt]]={distance:-1,parent:null};return J}(),Q=[B];for(H[B].distance=0;Q.length;){const J=Q.pop(),nt=Object.keys(U[J]);for(let it=nt.length,lt=0;lt<it;lt++){const mt=nt[lt],St=H[mt];St.distance===-1&&(St.distance=H[J].distance+1,St.parent=J,Q.unshift(mt))}}return H}function L(B,H){return function(Q){return H(B(Q))}}function D(B,H){const Q=[H[B].parent,B];let J=U[H[B].parent][B],nt=H[B].parent;for(;H[nt].parent;)Q.unshift(H[nt].parent),J=L(U[H[nt].parent][nt],J),nt=H[nt].parent;return J.conversion=Q,J}W.exports=function(B){const H=$(B),Q={},J=Object.keys(H);for(let nt=J.length,it=0;it<nt;it++){const lt=J[it];H[lt].parent!==null&&(Q[lt]=D(lt,H))}return Q}},8874:W=>{"use strict";W.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},5363:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const B=D},3789:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const B=D},799:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CChCA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;
}
`],sourceRoot:""}]);const B=D},3229:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-code-block/theme/codeblock.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-code-block/codeblock.css"],names:[],mappings:"AAKA,gBAGC,4BAAiC,CACjC,wBAAiC,CACjC,iBAAkB,CAHlB,aAAwB,CAOxB,aAAc,CAMd,iBAAkB,CAGlB,eAAgB,CAjBhB,WAAY,CAUZ,UAAW,CAHX,eAAgB,CAIhB,oBAaD,CALC,qBACC,gBAAiB,CAEjB,eAAgB,CADhB,SAED,CAGD,4BACC,iBAMD,CAJC,iDACC,2BAA4B,CAC5B,iBACD,CCjCD,MACC,8CACD,CAEA,iDAGC,sDAAuD,CAMvD,UAAuB,CAHvB,+BAAgC,CADhC,cAAe,CAEf,gBAAiB,CACjB,uDAAwD,CANxD,UAAW,CADX,QAAS,CAST,kBACD,CAEA,+CAEC,gBAAiB,CAEjB,iBAAkB,CADlB,eAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content pre {
	padding: 1em;
	color: hsl(0, 0%, 20.8%);
	background: hsla(0, 0%, 78%, 0.3);
	border: 1px solid hsl(0, 0%, 77%);
	border-radius: 2px;

	/* Code block are language direction\u2013agnostic. */
	text-align: left;
	direction: ltr;

	tab-size: 4;
	white-space: pre-wrap;

	/* Don't inherit the style, e.g. when in a block quote. */
	font-style: normal;

	/* Don't let the code be squashed e.g. when in a table cell. */
	min-width: 200px;

	& code {
		background: unset;
		padding: 0;
		border-radius: 0;
	}
}

.ck.ck-editor__editable pre {
	position: relative;

	&[data-language]::after {
		content: attr(data-language);
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-code-block-label-background: hsl(0, 0%, 46%);
}

.ck.ck-editor__editable pre[data-language]::after {
	top: -1px;
	right: 10px;
	background: var(--ck-color-code-block-label-background);

	font-size: 10px;
	font-family: var(--ck-font-face);
	line-height: 16px;
	padding: var(--ck-spacing-tiny) var(--ck-spacing-medium);
	color: hsl(0, 0%, 100%);
	white-space: nowrap;
}

.ck.ck-code-block-dropdown .ck-dropdown__panel {
	/* There could be dozens of languages available. Use scroll to prevent a 10e6px dropdown. */
	max-height: 250px;
	overflow-y: auto;
	overflow-x: hidden;
}
`],sourceRoot:""}]);const B=D},3624:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=D},7372:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const B=D},5037:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const B=D},2218:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck-find-result{background:var(--ck-color-highlight-background);color:var(--ck-color-text)}.ck-find-result_selected{background:#ff9633}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplace.css"],names:[],mappings:"AAKA,gBACC,+CAAgD,CAChD,0BACD,CAEA,yBACC,kBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-find-result {
	background: var(--ck-color-highlight-background);
	color: var(--ck-color-text);
}

.ck-find-result_selected {
	background: hsl(29, 100%, 60%);
}
`],sourceRoot:""}]);const B=D},3403:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-find-and-replace-form{max-width:100%}.ck.ck-find-and-replace-form fieldset{display:flex}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{position:absolute}.ck.ck-find-and-replace-form{width:400px}.ck.ck-find-and-replace-form:focus{outline:none}.ck.ck-find-and-replace-form fieldset{align-content:stretch;align-items:center;border:0;flex-direction:row;flex-wrap:nowrap;margin:0;padding:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset>.ck-button{flex:0 0 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset>*+*{margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset>*+*{margin-right:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view{flex:1 1 auto}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view .ck-input{min-width:50px;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find{align-items:flex-start}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find{font-weight:700}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find .ck-button__label{padding-left:var(--ck-spacing-large);padding-right:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-prev>.ck-icon{transform:rotate(90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-next>.ck-icon{transform:rotate(-90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{left:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{color:var(--ck-color-base-border)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace{flex-wrap:wrap;justify-content:flex-end;margin-top:calc(var(--ck-spacing-large)*-1)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view{margin-bottom:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-options-dropdown{margin-left:0;margin-right:auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view,.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-find-and-replace-form{width:300px}.ck.ck-find-and-replace-form fieldset{flex-wrap:wrap}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-labeled-field-view{flex:1 0 auto;margin-bottom:var(--ck-spacing-standard);width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button{text-align:center}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type .ck-button__label{text-align:center;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>:not(.ck-labeled-field-view){flex:1 1 auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-dropdown:not(.ck-labeled-field-view){flex-grow:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-button:not(.ck-labeled-field-view)>.ck-button__label{text-align:center;width:100%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplaceform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-find-and-replace/findandreplaceform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAKA,6BACC,cAUD,CARC,sCACC,YAMD,CAHC,yFACC,iBACD,CCNF,6BACC,WAyGD,CAnGC,mCACC,YACD,CAEA,sCAIC,qBAAsB,CADtB,kBAAmB,CAInB,QAAS,CANT,kBAAmB,CACnB,gBAAiB,CAMjB,QAAS,CAFT,+BAwFD,CApFC,iDACC,aACD,CAGC,oDACC,sCACD,CAIA,oDACC,uCACD,CAGD,6DACC,aAMD,CAJC,uEAEC,cAAe,CADf,UAED,CAID,qEAEC,sBAkCD,CAhCC,qFACC,eAOD,CAJC,uGACC,oCAAqC,CACrC,qCACD,CAGD,8FACC,uBACD,CAEA,8FACC,wBACD,CAEA,yFACC,OAAQ,CACR,0BAWD,CAbA,mGAKE,gCAQF,CAbA,mGASE,+BAIF,CAbA,yFAYC,iCACD,CAID,wEACC,cAAe,CACf,wBAAyB,CACzB,2CAeD,CAbC,+FACC,qCACD,CAEA,6FAEC,aAAc,CADd,iBAED,CAEA,wMAEC,UACD,CCzGF,oCD+GA,6BACC,WAiDD,CA/CC,sCACC,cA6CD,CAzCE,4FACC,aAAc,CAEd,wCAAyC,CADzC,UAED,CAEA,gFACC,iBAkBD,CAhBC,8FACC,aAcD,CAfA,wGAIE,aAWF,CAfA,wGAQE,cAOF,CAJC,gHAEC,iBAAkB,CADlB,UAED,CAMH,qGACC,aAUD,CARC,iHACC,WACD,CAEA,iIAEC,iBAAkB,CADlB,UAED,CC5JH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-find-and-replace-form {
	max-width: 100%;

	& fieldset {
		display: flex;

		/* The find fieldset */
		&.ck-find-and-replace-form__find .ck-results-counter {
			position: absolute;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-find-and-replace-form {
	width: 400px;

	/*
	 * The <form> needs tabindex="-1" for proper Esc handling after being clicked
	 * but the side effect is that this creates a nasty focus outline in some browsers.
	 */
	&:focus {
		outline: none;
	}

	& fieldset {
		flex-direction: row;
		flex-wrap: nowrap;
		align-items: center;
		align-content: stretch;

		padding: var(--ck-spacing-large);
		border: 0;
		margin: 0;

		& > .ck-button {
			flex: 0 0 auto;
		}

		@mixin ck-dir ltr {
			& > * + * {
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > * + * {
				margin-right: var(--ck-spacing-standard);
			}
		}

		& .ck-labeled-field-view {
			flex: 1 1 auto;

			& .ck-input {
				width: 100%;
				min-width: 50px;
			}
		}

		/* The find fieldset */
		&.ck-find-and-replace-form__find {
			/* To display all controls in line when there's an error under the input */
			align-items: flex-start;

			& > .ck-button-find {
				font-weight: bold;

				/* Beef the find button up a little. It's the main action button in the form */
				& .ck-button__label {
					padding-left: var(--ck-spacing-large);
					padding-right: var(--ck-spacing-large);
				}
			}

			& > .ck-button-prev > .ck-icon {
				transform: rotate(90deg);
			}

			& > .ck-button-next > .ck-icon {
				transform: rotate(-90deg);
			}

			& .ck-results-counter {
				top: 50%;
				transform: translateY(-50%);

				@mixin ck-dir ltr {
					right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-standard);
				}

				color: var(--ck-color-base-border);
			}
		}

		/* The replace fieldset */
		&.ck-find-and-replace-form__replace {
			flex-wrap: wrap;
			justify-content: flex-end;
			margin-top: calc( -1 * var(--ck-spacing-large) );

			& > .ck-labeled-field-view {
				margin-bottom: var(--ck-spacing-large);
			}

			& > .ck-options-dropdown {
				margin-right: auto;
				margin-left: 0;
			}

			& > .ck-labeled-field-view,
			& > .ck-labeled-field-view .ck-input {
				width: 100%;
			}
		}
	}
}

@mixin ck-media-phone {
	.ck.ck-find-and-replace-form {
		width: 300px;

		& fieldset {
			flex-wrap: wrap;

			/* The find fieldset */
			&.ck-find-and-replace-form__find {
				& .ck-labeled-field-view {
					flex: 1 0 auto;
					width: 100%;
					margin-bottom: var(--ck-spacing-standard);
				}

				& > .ck-button {
					text-align: center;

					&:first-of-type {
						flex: 1 1 auto;

						@mixin ck-dir ltr {
							margin-left: 0;
						}

						@mixin ck-dir rtl {
							margin-right: 0;
						}

						& .ck-button__label {
							width: 100%;
							text-align: center;
						}
					}
				}
			}

			/* The replace fieldset */
			&.ck-find-and-replace-form__replace > :not(.ck-labeled-field-view) {
				flex: 1 1 auto;

				&.ck-dropdown {
					flex-grow: 0;
				}

				&.ck-button > .ck-button__label {
					width: 100%;
					text-align: center;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=D},5991:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontsize.css"],names:[],mappings:"AAUC,uBACC,cACD,CAEA,wBACC,eACD,CAEA,sBACC,eACD,CAEA,uBACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* The values should be synchronized with the "FONT_SIZE_PRESET_UNITS" object in the "/src/fontsize/utils.js" file. */

/* Styles should be prefixed with the \`.ck-content\` class.
See https://github.com/ckeditor/ckeditor5/issues/6636 */
.ck-content {
	& .text-tiny {
		font-size: .7em;
	}

	& .text-small {
		font-size: .85em;
	}

	& .text-big {
		font-size: 1.4em;
	}

	& .text-huge {
		font-size: 1.8em;
	}
}
`],sourceRoot:""}]);const B=D},4249:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const B=D},7263:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{background-color:transparent;color:var(--ck-highlight-pen-red)}.ck-content .pen-green{background-color:transparent;color:var(--ck-highlight-pen-green)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-highlight/theme/highlight.css"],names:[],mappings:"AAKA,MACC,oCAA+C,CAC/C,mCAA+C,CAC/C,kCAA8C,CAC9C,kCAA8C,CAC9C,8BAAwC,CACxC,gCACD,CAGC,2BACC,kDACD,CAFA,0BACC,iDACD,CAFA,yBACC,gDACD,CAFA,yBACC,gDACD,CAIA,qBAIC,4BAA6B,CAH7B,iCAID,CALA,uBAIC,4BAA6B,CAH7B,mCAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-highlight-marker-yellow: hsl(60, 97%, 73%);
	--ck-highlight-marker-green: hsl(120, 93%, 68%);
	--ck-highlight-marker-pink: hsl(345, 96%, 73%);
	--ck-highlight-marker-blue: hsl(201, 97%, 72%);
	--ck-highlight-pen-red: hsl(0, 85%, 49%);
	--ck-highlight-pen-green: hsl(112, 100%, 27%);
}

@define-mixin highlight-marker-color $color {
	.ck-content .marker-$color {
		background-color: var(--ck-highlight-marker-$color);
	}
}

@define-mixin highlight-pen-color $color {
	.ck-content .pen-$color {
		color: var(--ck-highlight-pen-$color);

		/* Override default yellow background of \`<mark>\` from user agent stylesheet */
		background-color: transparent;
	}
}

@mixin highlight-marker-color yellow;
@mixin highlight-marker-color green;
@mixin highlight-marker-color pink;
@mixin highlight-marker-color blue;

@mixin highlight-pen-color red;
@mixin highlight-pen-color green;
`],sourceRoot:""}]);const B=D},9893:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css"],names:[],mappings:"AAMA,yCAEC,iBACD,CAEA,eAGC,kBAA2B,CAC3B,QAAS,CAFT,UAAW,CADX,aAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */


.ck-editor__editable .ck-horizontal-line {
	/* Necessary to render properly next to floated objects, e.g. side image case. */
	display: flow-root;
}

.ck-content hr {
	margin: 15px 0;
	height: 4px;
	background: hsl(0, 0%, 87%);
	border: 0;
}
`],sourceRoot:""}]);const B=D},7319:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck-widget.raw-html-embed{display:flow-root;font-style:normal;margin:.9em auto;min-width:15em;position:relative}.ck-widget.raw-html-embed:before{position:absolute;z-index:1}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{display:flex;flex-direction:column;position:absolute}.ck-widget.raw-html-embed .raw-html-embed__preview{display:flex;overflow:hidden;position:relative}.ck-widget.raw-html-embed .raw-html-embed__preview-content{border-collapse:separate;border-spacing:7px;display:table;margin:auto;position:relative;width:100%}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}:root{--ck-html-embed-content-width:calc(100% - var(--ck-icon-size)*1.5);--ck-html-embed-source-height:10em;--ck-html-embed-unfocused-outline-width:1px;--ck-html-embed-content-min-height:calc(var(--ck-icon-size) + var(--ck-spacing-standard));--ck-html-embed-source-disabled-background:var(--ck-color-base-foreground);--ck-html-embed-source-disabled-color:#737373}.ck-widget.raw-html-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base)}.ck-widget.raw-html-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.raw-html-embed[dir=ltr]{text-align:left}.ck-widget.raw-html-embed[dir=rtl]{text-align:right}.ck-widget.raw-html-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);top:calc(var(--ck-html-embed-unfocused-outline-width)*-1);transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.raw-html-embed[dir=rtl]:before{left:auto;right:var(--ck-spacing-standard)}.ck-widget.raw-html-embed[dir=ltr] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck.ck-editor__editable.ck-blurred .ck-widget.raw-html-embed.ck-widget_selected:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable:not(.ck-blurred) .ck-widget.raw-html-embed.ck-widget_selected:before{background:var(--ck-color-focus-border);padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable .ck-widget.raw-html-embed:not(.ck-widget_selected):hover:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck-widget.raw-html-embed .raw-html-embed__content-wrapper{padding:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{right:var(--ck-spacing-standard);top:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__save-button{color:var(--ck-color-button-save)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__cancel-button{color:var(--ck-color-button-cancel)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button:not(:first-child){margin-top:var(--ck-spacing-small)}.ck-widget.raw-html-embed[dir=rtl] .raw-html-embed__buttons-wrapper{left:var(--ck-spacing-standard);right:auto}.ck-widget.raw-html-embed .raw-html-embed__source{box-sizing:border-box;direction:ltr;font-family:monospace;font-size:var(--ck-font-size-base);height:var(--ck-html-embed-source-height);min-width:0;padding:var(--ck-spacing-standard);resize:none;tab-size:4;text-align:left;white-space:pre-wrap;width:var(--ck-html-embed-content-width)}.ck-widget.raw-html-embed .raw-html-embed__source[disabled]{-webkit-text-fill-color:var(--ck-html-embed-source-disabled-color);background:var(--ck-html-embed-source-disabled-background);color:var(--ck-html-embed-source-disabled-color);opacity:1}.ck-widget.raw-html-embed .raw-html-embed__preview{min-height:var(--ck-html-embed-content-min-height);width:var(--ck-html-embed-content-width)}.ck-editor__editable:not(.ck-read-only) .ck-widget.raw-html-embed .raw-html-embed__preview{pointer-events:none}.ck-widget.raw-html-embed .raw-html-embed__preview-content{background-color:var(--ck-color-base-foreground);box-sizing:border-box}.ck-widget.raw-html-embed .raw-html-embed__preview-content>*{margin-left:auto;margin-right:auto}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{color:var(--ck-html-embed-source-disabled-color)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-html-embed/theme/htmlembed.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-html-embed/htmlembed.css"],names:[],mappings:"AAMA,0BAMC,iBAAkB,CAOlB,iBAAkB,CATlB,gBAAkB,CAMlB,cAAe,CALf,iBAwDD,CA5CC,iCACC,iBAAkB,CAGlB,SACD,CAKA,2DAEC,YAAa,CACb,qBAAsB,CAFtB,iBAGD,CAEA,mDAGC,YAAa,CADb,eAAgB,CADhB,iBAGD,CAEA,2DAOC,wBAAyB,CACzB,kBAAmB,CAFnB,aAAc,CAHd,WAAY,CADZ,iBAAkB,CADlB,UAQD,CAEA,+DAQC,kBAAmB,CAHnB,QAAS,CAET,YAAa,CAEb,sBAAuB,CAPvB,MAAO,CADP,iBAAkB,CAGlB,OAAQ,CADR,KAOD,CC7DD,MACC,kEAAqE,CACrE,kCAAmC,CACnC,2CAA4C,CAC5C,yFAA0F,CAE1F,0EAA2E,CAC3E,6CACD,CAGA,0BAEC,gDAAiD,CADjD,kCA0ID,CAvIC,+DACC,iGACD,CAGA,mCACC,eACD,CAEA,mCACC,gBACD,CAIA,iCAIC,eAA4B,CAG5B,iEAAkE,CAClE,qCAAsC,CAPtC,mCAAoC,CASpC,+BAAgC,CADhC,kCAAmC,CANnC,+BAAgC,CAGhC,kIAAmI,CAJnI,yDAA4D,CAG5D,0GAMD,CAEA,0CACC,SAAU,CACV,gCACD,CAGA,iIACC,gBACD,CAxCD,uFA4CE,sDAAuD,CADvD,KAgGF,CA3IA,6FAkDE,uCAAwC,CADxC,sDAAuD,CADvD,KA2FF,CA3IA,wFAuDE,sDAAuD,CADvD,KAqFF,CA/EC,2DACC,kCACD,CAGA,2DAEC,gCAAiC,CADjC,8BAcD,CAXC,kGACC,iCACD,CAEA,oGACC,mCACD,CAEA,wFACC,kCACD,CAGD,oEACC,+BAAgC,CAChC,UACD,CAGA,kDACC,qBAAsB,CActB,aAAc,CAPd,qBAAsB,CAGtB,kCAAmC,CATnC,yCAA0C,CAG1C,WAAY,CACZ,kCAAmC,CAFnC,WAAY,CAKZ,UAAW,CAKX,eAAgB,CAJhB,oBAAqB,CAPrB,wCAsBD,CARC,4DAKC,kEAAmE,CAJnE,0DAA2D,CAC3D,gDAAiD,CAIjD,SACD,CAID,mDACC,kDAAmD,CACnD,wCAMD,CARA,2FAME,mBAEF,CAEA,2DAEC,gDAAiD,CADjD,qBAOD,CAJC,6DACC,gBAAiB,CACjB,iBACD,CAGD,+DACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* The feature container. */
.ck-widget.raw-html-embed {
	/* Give the embed some air. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	position: relative;
	display: flow-root;

	/* Give the html embed some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (https://github.com/ckeditor/ckeditor5/issues/8331) */
	min-width: 15em;

	/* Don't inherit the style, e.g. when in a block quote. */
	font-style: normal;

	/* ----- Emebed label in the upper left corner ----------------------------------------------- */

	&::before {
		position: absolute;

		/* Make sure the content does not cover the label. */
		z-index: 1;
	}

	/* ----- Emebed internals --------------------------------------------------------------------- */

	/* The switch mode button wrapper. */
	& .raw-html-embed__buttons-wrapper {
		position: absolute;
		display: flex;
		flex-direction: column;
	}

	& .raw-html-embed__preview {
		position: relative;
		overflow: hidden;
		display: flex;
	}

	& .raw-html-embed__preview-content {
		width: 100%;
		position: relative;
		margin: auto;

		/* Gives spacing to the small renderable elements, so they always cover the placeholder. */
		display: table;
		border-collapse: separate;
		border-spacing: 7px;
	}

	& .raw-html-embed__preview-placeholder {
		position: absolute;
		left: 0;
		top: 0;
		right: 0;
		bottom: 0;

		display: flex;
		align-items: center;
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-html-embed-content-width: calc(100% - 1.5 * var(--ck-icon-size));
	--ck-html-embed-source-height: 10em;
	--ck-html-embed-unfocused-outline-width: 1px;
	--ck-html-embed-content-min-height: calc(var(--ck-icon-size) + var(--ck-spacing-standard));

	--ck-html-embed-source-disabled-background: var(--ck-color-base-foreground);
	--ck-html-embed-source-disabled-color: hsl(0deg 0% 45%);
}

/* The feature container. */
.ck-widget.raw-html-embed {
	font-size: var(--ck-font-size-base);
	background-color: var(--ck-color-base-foreground);

	&:not(.ck-widget_selected):not(:hover) {
		outline: var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border);
	}

	/* HTML embed widget itself should respect UI language direction */
	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* ----- Embed label in the upper left corner ----------------------------------------------- */

	&::before {
		content: attr(data-html-embed-label);
		top: calc(-1 * var(--ck-html-embed-unfocused-outline-width));
		left: var(--ck-spacing-standard);
		background: hsl(0deg 0% 60%);
		transition: background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);
		padding: calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);
		border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
		color: var(--ck-color-base-background);
		font-size: var(--ck-font-size-tiny);
		font-family: var(--ck-font-face);
	}

	&[dir="rtl"]::before {
		left: auto;
		right: var(--ck-spacing-standard);
	}

	/* Make space for label but it only collides in LTR languages */
	&[dir="ltr"] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before {
		margin-left: 50px;
	}

	@nest .ck.ck-editor__editable.ck-blurred &.ck-widget_selected::before {
		top: 0px;
		padding: var(--ck-spacing-tiny) var(--ck-spacing-small);
	}

	@nest .ck.ck-editor__editable:not(.ck-blurred) &.ck-widget_selected::before {
		top: 0;
		padding: var(--ck-spacing-tiny) var(--ck-spacing-small);
		background: var(--ck-color-focus-border);
	}

	@nest .ck.ck-editor__editable &:not(.ck-widget_selected):hover::before {
		top: 0px;
		padding: var(--ck-spacing-tiny) var(--ck-spacing-small);
	}

	/* ----- Emebed internals --------------------------------------------------------------------- */

	& .raw-html-embed__content-wrapper {
		padding: var(--ck-spacing-standard);
	}

	/* The switch mode button wrapper. */
	& .raw-html-embed__buttons-wrapper {
		top: var(--ck-spacing-standard);
		right: var(--ck-spacing-standard);

		& .ck-button.raw-html-embed__save-button {
			color: var(--ck-color-button-save);
		}

		& .ck-button.raw-html-embed__cancel-button {
			color: var(--ck-color-button-cancel);
		}

		& .ck-button:not(:first-child) {
			margin-top: var(--ck-spacing-small);
		}
	}

	&[dir="rtl"] .raw-html-embed__buttons-wrapper {
		left: var(--ck-spacing-standard);
		right: auto;
	}

	/* The edit source element. */
	& .raw-html-embed__source {
		box-sizing: border-box;
		height: var(--ck-html-embed-source-height);
		width: var(--ck-html-embed-content-width);
		resize: none;
		min-width: 0;
		padding: var(--ck-spacing-standard);

		font-family: monospace;
		tab-size: 4;
		white-space: pre-wrap;
		font-size: var(--ck-font-size-base); /* Safari needs this. */

		/* HTML code is direction\u2013agnostic. */
		text-align: left;
		direction: ltr;

		&[disabled] {
			background: var(--ck-html-embed-source-disabled-background);
			color: var(--ck-html-embed-source-disabled-color);

			/* Safari needs this for the proper text color in disabled input (https://github.com/ckeditor/ckeditor5/issues/8320). */
			-webkit-text-fill-color: var(--ck-html-embed-source-disabled-color);
			opacity: 1;
		}
	}

	/* The preview data container. */
	& .raw-html-embed__preview {
		min-height: var(--ck-html-embed-content-min-height);
		width: var(--ck-html-embed-content-width);

		/* Disable all mouse interaction as long as the editor is not read\u2013only. */
		@nest .ck-editor__editable:not(.ck-read-only) & {
			pointer-events: none;
		}
	}

	& .raw-html-embed__preview-content {
		box-sizing: border-box;
		background-color: var(--ck-color-base-foreground);

		& > * {
			margin-left: auto;
			margin-right: auto;
		}
	}

	& .raw-html-embed__preview-placeholder {
		color: var(--ck-html-embed-source-disabled-color)
	}
}
`],sourceRoot:""}]);const B=D},1710:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,":root{--ck-html-object-embed-unfocused-outline-width:1px}.ck-widget.html-object-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base);min-width:calc(76px + var(--ck-spacing-standard));padding:var(--ck-spacing-small);padding-top:calc(var(--ck-font-size-tiny) + var(--ck-spacing-large))}.ck-widget.html-object-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.html-object-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-object-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);font-style:normal;font-weight:400;left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);position:absolute;top:0;transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.html-object-embed .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck-widget.html-object-embed .html-object-embed__content{pointer-events:none}div.ck-widget.html-object-embed{margin:1em auto}span.ck-widget.html-object-embed{display:inline-block}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-html-support/theme/datafilter.css"],names:[],mappings:"AAKA,MACC,kDACD,CAEA,6BAEC,gDAAiD,CADjD,kCAAmC,CAKnC,iDAAkD,CAHlD,+BAAgC,CAEhC,oEAgCD,CA7BC,kEACC,wGACD,CAEA,oCAOC,eAA4B,CAG5B,iEAAkE,CAClE,qCAAsC,CAPtC,0CAA2C,CAS3C,+BAAgC,CADhC,kCAAmC,CAVnC,iBAAkB,CADlB,eAAmB,CAKnB,+BAAgC,CAGhC,yIAA0I,CAN1I,iBAAkB,CAElB,KAAM,CAGN,0GAMD,CAGA,2HACC,gBACD,CAEA,yDAEC,mBACD,CAGD,gCACC,eACD,CAEA,iCACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-html-object-embed-unfocused-outline-width: 1px;
}

.ck-widget.html-object-embed {
	font-size: var(--ck-font-size-base);
	background-color: var(--ck-color-base-foreground);
	padding: var(--ck-spacing-small);
	/* Leave space for label */
	padding-top: calc(var(--ck-font-size-tiny) + var(--ck-spacing-large));
	min-width: calc(76px + var(--ck-spacing-standard));

	&:not(.ck-widget_selected):not(:hover) {
		outline: var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border);
	}

	&::before {
		font-weight: normal;
		font-style: normal;
		position: absolute;
		content: attr(data-html-object-embed-label);
		top: 0;
		left: var(--ck-spacing-standard);
		background: hsl(0deg 0% 60%);
		transition: background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);
		padding: calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);
		border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
		color: var(--ck-color-base-background);
		font-size: var(--ck-font-size-tiny);
		font-family: var(--ck-font-face);
	}

	/* Make space for label. */
	& .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before {
		margin-left: 50px;
	}

	& .html-object-embed__content {
		/* Disable user interaction with embed content */
		pointer-events: none;
	}
}

div.ck-widget.html-object-embed {
	margin: 1em auto;
}

span.ck-widget.html-object-embed {
	display: inline-block;
}

`],sourceRoot:""}]);const B=D},2430:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const B=D},2423:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const B=D},8879:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const B=D},8340:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const B=D},2400:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const B=D},3534:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const B=D},1547:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const B=D},6618:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const B=D},2926:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const B=D},5269:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=D},3925:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const B=D},7536:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const B=D},4874:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const B=D},4784:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const B=D},9292:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,uBACC,eA0ED,CAxEC,0BACC,iBAKD,CAHC,qCACC,cACD,CAIA,+CACC,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqDD,CAxCC,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,0FAAgG,CAJhG,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAIF,wEACC,qBACD,CAKF,6CACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAMA,wDACC,cAKD,CAHC,qEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

.ck-content .todo-list {
	list-style: none;

	& li {
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			-webkit-appearance: none;
			display: inline-block;
			position: relative;
			width: var(--ck-todo-list-checkmark-size);
			height: var(--ck-todo-list-checkmark-size);
			vertical-align: middle;

			/* Needed on iOS */
			border: 0;

			/* LTR styles */
			left: -25px;
			margin-right: -15px;
			right: 0;
			margin-left: 0;

			&::before {
				display: block;
				position: absolute;
				box-sizing: border-box;
				content: '';
				width: 100%;
				height: 100%;
				border: 1px solid hsl(0, 0%, 20%);
				border-radius: 2px;
				transition: 250ms ease-in-out box-shadow, 250ms ease-in-out background, 250ms ease-in-out border;
			}

			&::after {
				display: block;
				position: absolute;
				box-sizing: content-box;
				pointer-events: none;
				content: '';

				/* Calculate tick position, size and border-width proportional to the checkmark size. */
				left: calc( var(--ck-todo-list-checkmark-size) / 3 );
				top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
				border-style: solid;
				border-color: transparent;
				border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
				transform: rotate(45deg);
			}

			&[checked] {
				&::before {
					background: hsl(126, 64%, 41%);
					border-color: hsl(126, 64%, 41%);
				}

				&::after {
					border-color: hsl(0, 0%, 100%);
				}
			}
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}
	}
}

/* RTL styles */
[dir="rtl"] .todo-list .todo-list__label > input {
	left: 0;
	margin-right: 0;
	right: -25px;
	margin-left: -15px;
}

/*
 * To-do list should be interactive only during the editing
 * (https://github.com/ckeditor/ckeditor5/issues/2090).
 */
.ck-editor__editable .todo-list .todo-list__label > input {
	cursor: pointer;

	&:hover::before {
		box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
	}
}
`],sourceRoot:""}]);const B=D},8705:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const B=D},1922:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read\u2013only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const B=D},7138:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=D},4420:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,'.ck-source-editing-area{overflow:hidden;position:relative}.ck-source-editing-area textarea,.ck-source-editing-area:after{border:1px solid transparent;font-family:monospace;font-size:var(--ck-font-size-normal);line-height:var(--ck-line-height-base);margin:0;padding:var(--ck-spacing-large);white-space:pre-wrap}.ck-source-editing-area:after{content:attr(data-value) " ";display:block;visibility:hidden}.ck-source-editing-area textarea{border-color:var(--ck-color-base-border);border-radius:0;box-sizing:border-box;height:100%;outline:none;overflow:hidden;position:absolute;resize:none;width:100%}.ck-rounded-corners .ck-source-editing-area textarea,.ck-source-editing-area textarea.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck-source-editing-area textarea:not([readonly]):focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-source-editing/theme/sourceediting.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,wBAEC,eAAgB,CADhB,iBAED,CAEA,+DAIC,4BAA6B,CAG7B,qBAAsB,CADtB,oCAAqC,CADrC,sCAAuC,CAFvC,QAAS,CADT,+BAAgC,CAMhC,oBACD,CAEA,8BACC,4BAA6B,CAE7B,aAAc,CADd,iBAED,CAEA,iCASC,wCAAyC,CC7BzC,eAAgB,CD2BhB,qBAAsB,CAJtB,WAAY,CAEZ,YAAa,CACb,eAAgB,CALhB,iBAAkB,CAGlB,WAAY,CAFZ,UAkBD,CApBA,yGChBE,qCAAsC,CD4BtC,wBAAyB,CACzB,yBAOF,CAJC,uDEpCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFwCA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck-source-editing-area {
	position: relative;
	overflow: hidden;
}

.ck-source-editing-area::after,
.ck-source-editing-area textarea {
	padding: var(--ck-spacing-large);
	margin: 0;
	border: 1px solid transparent;
	line-height: var(--ck-line-height-base);
	font-size: var(--ck-font-size-normal);
	font-family: monospace;
	white-space: pre-wrap;
}

.ck-source-editing-area::after {
	content: attr(data-value) " ";
	visibility: hidden;
	display: block;
}

.ck-source-editing-area textarea {
	position: absolute;
	width: 100%;
	height: 100%;
	resize: none;
	outline: none;
	overflow: hidden;
	box-sizing: border-box;

	border-color: var(--ck-color-base-border);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not([readonly]):focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=D},9953:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/colorinput.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=D},7502:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const B=D},6908:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/formrow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const B=D},468:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const B=D},2510:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const B=D},1111:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`],sourceRoot:""}]);const B=D},3964:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecellproperties.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const B=D},8361:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const B=D},9429:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tableform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=D},6596:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tableproperties.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const B=D},1546:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const B=D},4971:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const B=D},7258:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating\u2013point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const B=D},4923:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const B=D},4257:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const B=D},6306:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const B=D},5062:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=D},1883:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=D},4791:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=D},2704:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const B=D},9847:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=D},1874:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const B=D},1977:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const B=D},2470:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=D},3525:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const B=D},2933:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=D},179:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=D},4460:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=D},7592:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const B=D},6356:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=D},3707:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=D},6603:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const B=D},4176:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const B=D},4768:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=D},3888:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const B=D},5167:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_poweredby.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const B=D},7153:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=D},4875:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const B=D},2347:(W,K,x)=>{"use strict";x.d(K,{Z:()=>B});var U=x(4015),$=x.n(U),L=x(3645),D=x.n(L)()($());D.push([W.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const B=D},3645:W=>{"use strict";W.exports=function(K){var x=[];return x.toString=function(){return this.map(function(U){var $=K(U);return U[2]?"@media ".concat(U[2]," {").concat($,"}"):$}).join("")},x.i=function(U,$,L){typeof U=="string"&&(U=[[null,U,""]]);var D={};if(L)for(var B=0;B<this.length;B++){var H=this[B][0];H!=null&&(D[H]=!0)}for(var Q=0;Q<U.length;Q++){var J=[].concat(U[Q]);L&&D[J[0]]||($&&(J[2]?J[2]="".concat($," and ").concat(J[2]):J[2]=$),x.push(J))}},x}},4015:W=>{"use strict";function K(U,$){return function(L){if(Array.isArray(L))return L}(U)||function(L,D){var B=L&&(typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"]);if(B!=null){var H,Q,J=[],nt=!0,it=!1;try{for(B=B.call(L);!(nt=(H=B.next()).done)&&(J.push(H.value),!D||J.length!==D);nt=!0);}catch(lt){it=!0,Q=lt}finally{try{nt||B.return==null||B.return()}finally{if(it)throw Q}}return J}}(U,$)||function(L,D){if(L){if(typeof L=="string")return x(L,D);var B=Object.prototype.toString.call(L).slice(8,-1);if(B==="Object"&&L.constructor&&(B=L.constructor.name),B==="Map"||B==="Set")return Array.from(L);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return x(L,D)}}(U,$)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x(U,$){($==null||$>U.length)&&($=U.length);for(var L=0,D=new Array($);L<$;L++)D[L]=U[L];return D}W.exports=function(U){var $=K(U,4),L=$[1],D=$[3];if(!D)return L;if(typeof btoa=="function"){var B=btoa(unescape(encodeURIComponent(JSON.stringify(D)))),H="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(B),Q="/*# ".concat(H," */"),J=D.sources.map(function(nt){return"/*# sourceURL=".concat(D.sourceRoot||"").concat(nt," */")});return[L].concat(J).concat([Q]).join(`
`)}return[L].join(`
`)}},5666:W=>{var K=function(x){"use strict";var U,$=Object.prototype,L=$.hasOwnProperty,D=Object.defineProperty||function(ut,at,st){ut[at]=st.value},B=typeof Symbol=="function"?Symbol:{},H=B.iterator||"@@iterator",Q=B.asyncIterator||"@@asyncIterator",J=B.toStringTag||"@@toStringTag";function nt(ut,at,st){return Object.defineProperty(ut,at,{value:st,enumerable:!0,configurable:!0,writable:!0}),ut[at]}try{nt({},"")}catch(ut){nt=function(at,st,At){return at[st]=At}}function it(ut,at,st,At){var bt=at&&at.prototype instanceof _t?at:_t,Pt=Object.create(bt.prototype),te=new ny(At||[]);return D(Pt,"_invoke",{value:Oe(ut,st,te)}),Pt}function lt(ut,at,st){try{return{type:"normal",arg:ut.call(at,st)}}catch(At){return{type:"throw",arg:At}}}x.wrap=it;var mt="suspendedStart",St="suspendedYield",pt="executing",ht="completed",wt={};function _t(){}function Tt(){}function jt(){}var zt={};nt(zt,H,function(){return this});var It=Object.getPrototypeOf,xe=It&&It(It(Pn([])));xe&&xe!==$&&L.call(xe,H)&&(zt=xe);var ve=jt.prototype=_t.prototype=Object.create(zt);function ge(ut){["next","throw","return"].forEach(function(at){nt(ut,at,function(st){return this._invoke(at,st)})})}function Yt(ut,at){function st(bt,Pt,te,V){var Ct=lt(ut[bt],ut,Pt);if(Ct.type!=="throw"){var jr=Ct.arg,En=jr.value;return En&&typeof En=="object"&&L.call(En,"__await")?at.resolve(En.__await).then(function(nr){st("next",nr,te,V)},function(nr){st("throw",nr,te,V)}):at.resolve(En).then(function(nr){jr.value=nr,te(jr)},function(nr){return st("throw",nr,te,V)})}V(Ct.arg)}var At;D(this,"_invoke",{value:function(bt,Pt){function te(){return new at(function(V,Ct){st(bt,Pt,V,Ct)})}return At=At?At.then(te,te):te()}})}function Oe(ut,at,st){var At=mt;return function(bt,Pt){if(At===pt)throw new Error("Generator is already running");if(At===ht){if(bt==="throw")throw Pt;return oy()}for(st.method=bt,st.arg=Pt;;){var te=st.delegate;if(te){var V=we(te,st);if(V){if(V===wt)continue;return V}}if(st.method==="next")st.sent=st._sent=st.arg;else if(st.method==="throw"){if(At===mt)throw At=ht,st.arg;st.dispatchException(st.arg)}else st.method==="return"&&st.abrupt("return",st.arg);At=pt;var Ct=lt(ut,at,st);if(Ct.type==="normal"){if(At=st.done?ht:St,Ct.arg===wt)continue;return{value:Ct.arg,done:st.done}}Ct.type==="throw"&&(At=ht,st.method="throw",st.arg=Ct.arg)}}}function we(ut,at){var st=at.method,At=ut.iterator[st];if(At===U)return at.delegate=null,st==="throw"&&ut.iterator.return&&(at.method="return",at.arg=U,we(ut,at),at.method==="throw")||st!=="return"&&(at.method="throw",at.arg=new TypeError("The iterator does not provide a '"+st+"' method")),wt;var bt=lt(At,ut.iterator,at.arg);if(bt.type==="throw")return at.method="throw",at.arg=bt.arg,at.delegate=null,wt;var Pt=bt.arg;return Pt?Pt.done?(at[ut.resultName]=Pt.value,at.next=ut.nextLoc,at.method!=="return"&&(at.method="next",at.arg=U),at.delegate=null,wt):Pt:(at.method="throw",at.arg=new TypeError("iterator result is not an object"),at.delegate=null,wt)}function vb(ut){var at={tryLoc:ut[0]};1 in ut&&(at.catchLoc=ut[1]),2 in ut&&(at.finallyLoc=ut[2],at.afterLoc=ut[3]),this.tryEntries.push(at)}function rr(ut){var at=ut.completion||{};at.type="normal",delete at.arg,ut.completion=at}function ny(ut){this.tryEntries=[{tryLoc:"root"}],ut.forEach(vb,this),this.reset(!0)}function Pn(ut){if(ut){var at=ut[H];if(at)return at.call(ut);if(typeof ut.next=="function")return ut;if(!isNaN(ut.length)){var st=-1,At=function bt(){for(;++st<ut.length;)if(L.call(ut,st))return bt.value=ut[st],bt.done=!1,bt;return bt.value=U,bt.done=!0,bt};return At.next=At}}return{next:oy}}function oy(){return{value:U,done:!0}}return Tt.prototype=jt,D(ve,"constructor",{value:jt,configurable:!0}),D(jt,"constructor",{value:Tt,configurable:!0}),Tt.displayName=nt(jt,J,"GeneratorFunction"),x.isGeneratorFunction=function(ut){var at=typeof ut=="function"&&ut.constructor;return!!at&&(at===Tt||(at.displayName||at.name)==="GeneratorFunction")},x.mark=function(ut){return Object.setPrototypeOf?Object.setPrototypeOf(ut,jt):(ut.__proto__=jt,nt(ut,J,"GeneratorFunction")),ut.prototype=Object.create(ve),ut},x.awrap=function(ut){return{__await:ut}},ge(Yt.prototype),nt(Yt.prototype,Q,function(){return this}),x.AsyncIterator=Yt,x.async=function(ut,at,st,At,bt){bt===void 0&&(bt=Promise);var Pt=new Yt(it(ut,at,st,At),bt);return x.isGeneratorFunction(at)?Pt:Pt.next().then(function(te){return te.done?te.value:Pt.next()})},ge(ve),nt(ve,J,"Generator"),nt(ve,H,function(){return this}),nt(ve,"toString",function(){return"[object Generator]"}),x.keys=function(ut){var at=Object(ut),st=[];for(var At in at)st.push(At);return st.reverse(),function bt(){for(;st.length;){var Pt=st.pop();if(Pt in at)return bt.value=Pt,bt.done=!1,bt}return bt.done=!0,bt}},x.values=Pn,ny.prototype={constructor:ny,reset:function(ut){if(this.prev=0,this.next=0,this.sent=this._sent=U,this.done=!1,this.delegate=null,this.method="next",this.arg=U,this.tryEntries.forEach(rr),!ut)for(var at in this)at.charAt(0)==="t"&&L.call(this,at)&&!isNaN(+at.slice(1))&&(this[at]=U)},stop:function(){this.done=!0;var ut=this.tryEntries[0].completion;if(ut.type==="throw")throw ut.arg;return this.rval},dispatchException:function(ut){if(this.done)throw ut;var at=this;function st(Ct,jr){return Pt.type="throw",Pt.arg=ut,at.next=Ct,jr&&(at.method="next",at.arg=U),!!jr}for(var At=this.tryEntries.length-1;At>=0;--At){var bt=this.tryEntries[At],Pt=bt.completion;if(bt.tryLoc==="root")return st("end");if(bt.tryLoc<=this.prev){var te=L.call(bt,"catchLoc"),V=L.call(bt,"finallyLoc");if(te&&V){if(this.prev<bt.catchLoc)return st(bt.catchLoc,!0);if(this.prev<bt.finallyLoc)return st(bt.finallyLoc)}else if(te){if(this.prev<bt.catchLoc)return st(bt.catchLoc,!0)}else{if(!V)throw new Error("try statement without catch or finally");if(this.prev<bt.finallyLoc)return st(bt.finallyLoc)}}}},abrupt:function(ut,at){for(var st=this.tryEntries.length-1;st>=0;--st){var At=this.tryEntries[st];if(At.tryLoc<=this.prev&&L.call(At,"finallyLoc")&&this.prev<At.finallyLoc){var bt=At;break}}bt&&(ut==="break"||ut==="continue")&&bt.tryLoc<=at&&at<=bt.finallyLoc&&(bt=null);var Pt=bt?bt.completion:{};return Pt.type=ut,Pt.arg=at,bt?(this.method="next",this.next=bt.finallyLoc,wt):this.complete(Pt)},complete:function(ut,at){if(ut.type==="throw")throw ut.arg;return ut.type==="break"||ut.type==="continue"?this.next=ut.arg:ut.type==="return"?(this.rval=this.arg=ut.arg,this.method="return",this.next="end"):ut.type==="normal"&&at&&(this.next=at),wt},finish:function(ut){for(var at=this.tryEntries.length-1;at>=0;--at){var st=this.tryEntries[at];if(st.finallyLoc===ut)return this.complete(st.completion,st.afterLoc),rr(st),wt}},catch:function(ut){for(var at=this.tryEntries.length-1;at>=0;--at){var st=this.tryEntries[at];if(st.tryLoc===ut){var At=st.completion;if(At.type==="throw"){var bt=At.arg;rr(st)}return bt}}throw new Error("illegal catch attempt")},delegateYield:function(ut,at,st){return this.delegate={iterator:Pn(ut),resultName:at,nextLoc:st},this.method==="next"&&(this.arg=U),wt}},x}(W.exports);try{regeneratorRuntime=K}catch(x){typeof globalThis=="object"?globalThis.regeneratorRuntime=K:Function("r","regeneratorRuntime = r")(K)}},3379:(W,K,x)=>{"use strict";var U,$=function(){return U===void 0&&(U=!!(window&&document&&document.all&&!window.atob)),U},L=function(){var ht={};return function(wt){if(ht[wt]===void 0){var _t=document.querySelector(wt);if(window.HTMLIFrameElement&&_t instanceof window.HTMLIFrameElement)try{_t=_t.contentDocument.head}catch(Tt){_t=null}ht[wt]=_t}return ht[wt]}}(),D=[];function B(ht){for(var wt=-1,_t=0;_t<D.length;_t++)if(D[_t].identifier===ht){wt=_t;break}return wt}function H(ht,wt){for(var _t={},Tt=[],jt=0;jt<ht.length;jt++){var zt=ht[jt],It=wt.base?zt[0]+wt.base:zt[0],xe=_t[It]||0,ve="".concat(It," ").concat(xe);_t[It]=xe+1;var ge=B(ve),Yt={css:zt[1],media:zt[2],sourceMap:zt[3]};ge!==-1?(D[ge].references++,D[ge].updater(Yt)):D.push({identifier:ve,updater:pt(Yt,wt),references:1}),Tt.push(ve)}return Tt}function Q(ht){var wt=document.createElement("style"),_t=ht.attributes||{};if(_t.nonce===void 0){var Tt=x.nc;Tt&&(_t.nonce=Tt)}if(Object.keys(_t).forEach(function(zt){wt.setAttribute(zt,_t[zt])}),typeof ht.insert=="function")ht.insert(wt);else{var jt=L(ht.insert||"head");if(!jt)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");jt.appendChild(wt)}return wt}var J,nt=(J=[],function(ht,wt){return J[ht]=wt,J.filter(Boolean).join(`
`)});function it(ht,wt,_t,Tt){var jt=_t?"":Tt.media?"@media ".concat(Tt.media," {").concat(Tt.css,"}"):Tt.css;if(ht.styleSheet)ht.styleSheet.cssText=nt(wt,jt);else{var zt=document.createTextNode(jt),It=ht.childNodes;It[wt]&&ht.removeChild(It[wt]),It.length?ht.insertBefore(zt,It[wt]):ht.appendChild(zt)}}function lt(ht,wt,_t){var Tt=_t.css,jt=_t.media,zt=_t.sourceMap;if(jt?ht.setAttribute("media",jt):ht.removeAttribute("media"),zt&&typeof btoa<"u"&&(Tt+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(zt))))," */")),ht.styleSheet)ht.styleSheet.cssText=Tt;else{for(;ht.firstChild;)ht.removeChild(ht.firstChild);ht.appendChild(document.createTextNode(Tt))}}var mt=null,St=0;function pt(ht,wt){var _t,Tt,jt;if(wt.singleton){var zt=St++;_t=mt||(mt=Q(wt)),Tt=it.bind(null,_t,zt,!1),jt=it.bind(null,_t,zt,!0)}else _t=Q(wt),Tt=lt.bind(null,_t,wt),jt=function(){(function(It){if(It.parentNode===null)return!1;It.parentNode.removeChild(It)})(_t)};return Tt(ht),function(It){if(It){if(It.css===ht.css&&It.media===ht.media&&It.sourceMap===ht.sourceMap)return;Tt(ht=It)}else jt()}}W.exports=function(ht,wt){(wt=wt||{}).singleton||typeof wt.singleton=="boolean"||(wt.singleton=$());var _t=H(ht=ht||[],wt);return function(Tt){if(Tt=Tt||[],Object.prototype.toString.call(Tt)==="[object Array]"){for(var jt=0;jt<_t.length;jt++){var zt=B(_t[jt]);D[zt].references--}for(var It=H(Tt,wt),xe=0;xe<_t.length;xe++){var ve=B(_t[xe]);D[ve].references===0&&(D[ve].updater(),D.splice(ve,1))}_t=It}}}},9987:(W,K,x)=>{"use strict";x.d(K,{default:()=>ICt}),x(4891);function U(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return $(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return $(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function $(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function L(r){var t=r.emitter,n=r.activator,i=r.callback,u=r.contextElements;t.listenTo(document,"mousedown",function(a,e){if(n()){var o,c=typeof e.composedPath=="function"?e.composedPath():[],l=U(typeof u=="function"?u():u);try{for(l.s();!(o=l.n()).done;){var s=o.value;if(s.contains(e.target)||c.includes(s))return}}catch(f){l.e(f)}finally{l.f()}i()}})}function D(r){return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(r)}function B(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(D(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(D(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),D(a)==="symbol"?a:String(a)),i)}var u,a}function H(r,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H(r,t)}function Q(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=J(r);if(t){var u=J(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(D(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function J(r){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(r)}function nt(r){var t=function(n){(function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),l&&H(c,l)})(o,n);var i,u,a,e=Q(o);function o(){var c;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o);for(var l=arguments.length,s=new Array(l),f=0;f<l;f++)s[f]=arguments[f];return(c=e.call.apply(e,[this].concat(s))).set("_isCssTransitionsDisabled",!1),c.initializeCssTransitionDisablerMixin(),c}return i=o,(u=[{key:"disableCssTransitions",value:function(){this._isCssTransitionsDisabled=!0}},{key:"enableCssTransitions",value:function(){this._isCssTransitionsDisabled=!1}},{key:"initializeCssTransitionDisablerMixin",value:function(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}])&&B(i.prototype,u),a&&B(i,a),Object.defineProperty(i,"prototype",{writable:!1}),o}(r);return t}function it(r){var t=r.view;t.listenTo(t.element,"submit",function(n,i){i.preventDefault(),t.fire("submit")},{useCapture:!0})}function lt(r){var t=r.keystrokeHandler,n=r.focusTracker,i=r.gridItems,u=r.numberOfColumns,a=r.uiLanguageDirection,e=typeof u=="number"?function(){return u}:u;function o(s){return function(f){var d=i.find(function(v){return v.element===n.focusedElement}),h=i.getIndex(d),b=s(h,i);i.get(b).focus(),f.stopPropagation(),f.preventDefault()}}function c(s,f){return s===f-1?0:s+1}function l(s,f){return s===0?f-1:s-1}t.set("arrowright",o(function(s,f){return a==="rtl"?l(s,f.length):c(s,f.length)})),t.set("arrowleft",o(function(s,f){return a==="rtl"?c(s,f.length):l(s,f.length)})),t.set("arrowup",o(function(s,f){var d=s-e();return d<0&&(d=s+e()*Math.floor(f.length/e()))>f.length-1&&(d-=e()),d})),t.set("arrowdown",o(function(s,f){var d=s+e();return d>f.length-1&&(d=s%e()),d}))}var mt=function(){try{return navigator.userAgent.toLowerCase()}catch(r){return""}}(),St={isMac:ht(mt),isWindows:function(r){return r.indexOf("windows")>-1}(mt),isGecko:function(r){return!!r.match(/gecko\/\d+/)}(mt),isSafari:function(r){return r.indexOf(" applewebkit/")>-1&&r.indexOf("chrome")===-1}(mt),isiOS:function(r){return!!r.match(/iphone|ipad/i)||ht(r)&&navigator.maxTouchPoints>0}(mt),isAndroid:function(r){return r.indexOf("android")>-1}(mt),isBlink:function(r){return r.indexOf("chrome/")>-1&&r.indexOf("edge/")<0}(mt),features:{isRegExpUnicodePropertySupported:function(){var r=!1;try{r="\u0107".search(new RegExp("[\\p{L}]","u"))===0}catch(t){}return r}()}};const pt=St;function ht(r){return r.indexOf("macintosh")>-1}function wt(r,t,n,i){n=n||function(c,l){return c===l};var u=Array.isArray(r)?r:Array.prototype.slice.call(r),a=Array.isArray(t)?t:Array.prototype.slice.call(t),e=function(c,l,s){var f=_t(c,l,s);if(f===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};var d=Tt(c,f),h=Tt(l,f),b=_t(d,h,s),v=c.length-b,g=l.length-b;return{firstIndex:f,lastIndexOld:v,lastIndexNew:g}}(u,a,n),o=i?function(c,l){var s=c.firstIndex,f=c.lastIndexOld,d=c.lastIndexNew;if(s===-1)return Array(l).fill("equal");var h=[];return s>0&&(h=h.concat(Array(s).fill("equal"))),d-s>0&&(h=h.concat(Array(d-s).fill("insert"))),f-s>0&&(h=h.concat(Array(f-s).fill("delete"))),d<l&&(h=h.concat(Array(l-d).fill("equal"))),h}(e,a.length):function(c,l){var s=[],f=l.firstIndex,d=l.lastIndexOld,h=l.lastIndexNew;return h-f>0&&s.push({index:f,type:"insert",values:c.slice(f,h)}),d-f>0&&s.push({index:f+(h-f),type:"delete",howMany:d-f}),s}(a,e);return o}function _t(r,t,n){for(var i=0;i<Math.max(r.length,t.length);i++)if(r[i]===void 0||t[i]===void 0||!n(r[i],t[i]))return i;return-1}function Tt(r,t){return r.slice(t).reverse()}function jt(r,t,n){n=n||function(g,k){return g===k};var i,u,a=r.length,e=t.length;if(a>200||e>200||a+e>300)return jt.fastDiff(r,t,n,!0);if(e<a){var o=r;r=t,t=o,i="delete",u="insert"}else i="insert",u="delete";var c=r.length,l=t.length,s=l-c,f={},d={};function h(g){var k=(d[g-1]!==void 0?d[g-1]:-1)+1,_=d[g+1]!==void 0?d[g+1]:-1,A=k>_?-1:1;f[g+A]&&(f[g]=f[g+A].slice(0)),f[g]||(f[g]=[]),f[g].push(k>_?i:u);for(var C=Math.max(k,_),S=C-g;S<c&&C<l&&n(r[S],t[C]);)S++,C++,f[g].push("equal");return C}var b,v=0;do{for(b=-v;b<s;b++)d[b]=h(b);for(b=s+v;b>s;b--)d[b]=h(b);d[s]=h(s),v++}while(d[s]!==l);return f[s].slice(1)}jt.fastDiff=wt;const zt=function(){return function r(){r.called=!0}};function It(r){return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(r)}function xe(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(It(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(It(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),It(a)==="symbol"?a:String(a)),i)}var u,a}function ve(r,t,n){return t&&xe(r.prototype,t),n&&xe(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}var ge=ve(function r(t,n){(function(i,u){if(!(i instanceof u))throw new TypeError("Cannot call a class as a function")})(this,r),this.source=t,this.name=n,this.path=[],this.stop=zt(),this.off=zt()}),Yt=new Array(256).fill("").map(function(r,t){return("0"+t.toString(16)).slice(-2)});function Oe(){var r=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0;return"e"+Yt[r>>0&255]+Yt[r>>8&255]+Yt[r>>16&255]+Yt[r>>24&255]+Yt[t>>0&255]+Yt[t>>8&255]+Yt[t>>16&255]+Yt[t>>24&255]+Yt[n>>0&255]+Yt[n>>8&255]+Yt[n>>16&255]+Yt[n>>24&255]+Yt[i>>0&255]+Yt[i>>8&255]+Yt[i>>16&255]+Yt[i>>24&255]}const we={get:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"normal";return typeof r!="number"?this[r]||this.normal:r},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function vb(r,t){for(var n=we.get(t.priority),i=0;i<r.length;i++)if(we.get(r[i].priority)<n)return void r.splice(i,0,t);r.push(t)}function rr(r){return rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rr(r)}function ny(r){return function(t){if(Array.isArray(t))return Pn(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||function(t,n){if(t){if(typeof t=="string")return Pn(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Pn(t,n)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pn(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function oy(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(rr(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(rr(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),rr(a)==="symbol"?a:String(a)),i)}var u,a}function ut(r){var t=At();return function(){var n,i=Pt(r);if(t){var u=Pt(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(rr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function at(r){var t=typeof Map=="function"?new Map:void 0;return at=function(n){if(n===null||(i=n,Function.toString.call(i).indexOf("[native code]")===-1))return n;var i;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,u)}function u(){return st(n,arguments,Pt(this).constructor)}return u.prototype=Object.create(n.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),bt(u,n)},at(r)}function st(r,t,n){return st=At()?Reflect.construct.bind():function(i,u,a){var e=[null];e.push.apply(e,u);var o=new(Function.bind.apply(i,e));return a&&bt(o,a.prototype),o},st.apply(null,arguments)}function At(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}function bt(r,t){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bt(r,t)}function Pt(r){return Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pt(r)}var te="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html",V=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&bt(e,o)})(a,r);var t,n,i,u=ut(a);function a(e,o,c){var l;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,a),l=u.call(this,function(s,f){var d=new WeakSet,h=function(g,k){if(rr(k)==="object"&&k!==null){if(d.has(k))return"[object ".concat(k.constructor.name,"]");d.add(k)}return k},b=f?" ".concat(JSON.stringify(f,h)):"",v=jr(s);return s+b+v}(e,c)),l.name="CKEditorError",l.context=o,l.data=c,l}return t=a,i=[{key:"rethrowUnexpectedError",value:function(e,o){if(e.is&&e.is("CKEditorError"))throw e;var c=new a(e.message,o);throw c.stack=e.stack,c}}],(n=[{key:"is",value:function(e){return e==="CKEditorError"}}])&&oy(t.prototype,n),i&&oy(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(at(Error));function Ct(r,t){var n;(n=console).warn.apply(n,ny(En(r,t)))}function jr(r){return`
Read more: `.concat(te,"#error-").concat(r)}function En(r,t){var n=jr(r);return t?[r,t,n]:[r,n]}function nr(r){return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(r)}var Uet="39.0.1",Het=new Date(2023,7,10),wB=(typeof window>"u"?"undefined":nr(window))==="object"?window:x.g;if(wB.CKEDITOR_VERSION)throw new V("ckeditor-duplicated-modules",null);function Jo(r){return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(r)}function kB(r){return function(t){if(Array.isArray(t))return OA(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||CA(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Get(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||CA(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gb(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=CA(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function CA(r,t){if(r){if(typeof r=="string")return OA(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OA(r,t):void 0}}function OA(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function _B(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Jo(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Jo(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Jo(a)==="symbol"?a:String(a)),i)}var u,a}function SA(r,t){return SA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SA(r,t)}function Wet(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=wb(r);if(t){var u=wb(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Jo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function wb(r){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wb(r)}wB.CKEDITOR_VERSION=Uet;var Xo=Symbol("listeningTo"),jA=Symbol("emitterId"),Pr=Symbol("delegations"),AB=Nt(Object);function Nt(r){if(!r)return AB;var t=function(n){(function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),l&&SA(c,l)})(o,n);var i,u,a,e=Wet(o);function o(){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,o),e.apply(this,arguments)}return i=o,u=[{key:"on",value:function(c,l,s){this.listenTo(this,c,l,s)}},{key:"once",value:function(c,l,s){var f=this,d=!1;this.listenTo(this,c,function(h){if(!d){d=!0,h.off();for(var b=arguments.length,v=new Array(b>1?b-1:0),g=1;g<b;g++)v[g-1]=arguments[g];l.call.apply(l,[f,h].concat(v))}},s)}},{key:"off",value:function(c,l){this.stopListening(this,c,l)}},{key:"listenTo",value:function(c,l,s){var f,d,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this[Xo]||(this[Xo]={});var b=this[Xo];PA(c)||CB(c);var v=PA(c);(f=b[v])||(f=b[v]={emitter:c,callbacks:{}}),(d=f.callbacks[l])||(d=f.callbacks[l]=[]),d.push(s),function(g,k,_,A,C){k._addEventListener?k._addEventListener(_,A,C):g._addEventListener.call(k,_,A,C)}(this,c,l,s,h)}},{key:"stopListening",value:function(c,l,s){var f=this[Xo],d=c&&PA(c),h=f&&d?f[d]:void 0,b=h&&l?h.callbacks[l]:void 0;if(!(!f||c&&!h||l&&!b))if(s)xA(this,c,l,s),b.indexOf(s)!==-1&&(b.length===1?delete h.callbacks[l]:xA(this,c,l,s));else if(b){for(;s=b.pop();)xA(this,c,l,s);delete h.callbacks[l]}else if(h){for(l in h.callbacks)this.stopListening(c,l);delete f[d]}else{for(d in f)this.stopListening(f[d].emitter);delete this[Xo]}}},{key:"fire",value:function(c){try{var l=c instanceof ge?c:new ge(this,c),s=l.name,f=SB(this,s);l.path.push(this);for(var d=arguments.length,h=new Array(d>1?d-1:0),b=1;b<d;b++)h[b-1]=arguments[b];if(f){var v=[l].concat(h);f=Array.from(f);for(var g=0;g<f.length&&(f[g].callback.apply(this,v),l.off.called&&(delete l.off.called,this._removeEventListener(s,f[g].callback)),!l.stop.called);g++);}var k=this[Pr];if(k){var _=k.get(s),A=k.get("*");_&&jB(_,l,h),A&&jB(A,l,h)}return l.return}catch(C){V.rethrowUnexpectedError(C,this)}}},{key:"delegate",value:function(){for(var c=this,l=arguments.length,s=new Array(l),f=0;f<l;f++)s[f]=arguments[f];return{to:function(d,h){c[Pr]||(c[Pr]=new Map),s.forEach(function(b){var v=c[Pr].get(b);v?v.set(d,h):c[Pr].set(b,new Map([[d,h]]))})}}}},{key:"stopDelegating",value:function(c,l){if(this[Pr])if(c)if(l){var s=this[Pr].get(c);s&&s.delete(l)}else this[Pr].delete(c);else this[Pr].clear()}},{key:"_addEventListener",value:function(c,l,s){(function(v,g){var k=OB(v);if(!k[g]){for(var _=g,A=null,C=[];_!==""&&!k[_];)k[_]={callbacks:[],childEvents:[]},C.push(k[_]),A&&k[_].childEvents.push(A),A=_,_=_.substr(0,_.lastIndexOf(":"));if(_!==""){var S,P=gb(C);try{for(P.s();!(S=P.n()).done;)S.value.callbacks=k[_].callbacks.slice()}catch(E){P.e(E)}finally{P.f()}k[_].childEvents.push(A)}}})(this,c);var f,d=EA(this,c),h={callback:l,priority:we.get(s.priority)},b=gb(d);try{for(b.s();!(f=b.n()).done;)vb(f.value,h)}catch(v){b.e(v)}finally{b.f()}}},{key:"_removeEventListener",value:function(c,l){var s,f=gb(EA(this,c));try{for(f.s();!(s=f.n()).done;)for(var d=s.value,h=0;h<d.length;h++)d[h].callback==l&&(d.splice(h,1),h--)}catch(b){f.e(b)}finally{f.f()}}}],u&&_B(i.prototype,u),a&&_B(i,a),Object.defineProperty(i,"prototype",{writable:!1}),o}(r);return t}function CB(r,t){r[jA]||(r[jA]=t||Oe())}function PA(r){return r[jA]}function OB(r){return r._events||Object.defineProperty(r,"_events",{value:{}}),r._events}function EA(r,t){var n=OB(r)[t];if(!n)return[];for(var i=[n.callbacks],u=0;u<n.childEvents.length;u++){var a=EA(r,n.childEvents[u]);i=i.concat(a)}return i}function SB(r,t){var n;return r._events&&(n=r._events[t])&&n.callbacks.length?n.callbacks:t.indexOf(":")>-1?SB(r,t.substr(0,t.lastIndexOf(":"))):null}function jB(r,t,n){var i,u=gb(r);try{for(u.s();!(i=u.n()).done;){var a=Get(i.value,2),e=a[0],o=a[1];o?typeof o=="function"&&(o=o(t.name)):o=t.name;var c=new ge(t.source,o);c.path=kB(t.path),e.fire.apply(e,[c].concat(kB(n)))}}catch(l){u.e(l)}finally{u.f()}}function xA(r,t,n,i){t._removeEventListener?t._removeEventListener(n,i):r._removeEventListener.call(t,n,i)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(function(r){Nt[r]=AB.prototype[r]});const Gt=function(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")};function xn(r){return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(r)}function $et(r){return function(t){if(Array.isArray(t))return DA(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||TA(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qet(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||TA(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function TA(r,t){if(r){if(typeof r=="string")return DA(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DA(r,t):void 0}}function DA(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function PB(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(xn(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(xn(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),xn(a)==="symbol"?a:String(a)),i)}var u,a}function RA(){return RA=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=ti(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},RA.apply(this,arguments)}function IA(r,t){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IA(r,t)}function Yet(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ti(r);if(t){var u=ti(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(xn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function ti(r){return ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ti(r)}var kb=Symbol("observableProperties"),_b=Symbol("boundObservables"),Ab=Symbol("boundProperties"),ei=Symbol("decoratedMethods"),EB=Symbol("decoratedOriginal"),xB=Rt(Nt());function Rt(r){if(!r)return xB;var t=function(n){(function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),l&&IA(c,l)})(o,n);var i,u,a,e=Yet(o);function o(){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,o),e.apply(this,arguments)}return i=o,u=[{key:"set",value:function(c,l){var s=this;if(Gt(c))Object.keys(c).forEach(function(d){s.set(d,c[d])},this);else{BA(this);var f=this[kb];if(c in this&&!f.has(c))throw new V("observable-set-cannot-override",this);Object.defineProperty(this,c,{enumerable:!0,configurable:!0,get:function(){return f.get(c)},set:function(d){var h=f.get(c),b=this.fire("set:".concat(c),c,d,h);b===void 0&&(b=d),h===b&&f.has(c)||(f.set(c,b),this.fire("change:".concat(c),c,b,h))}}),this[c]=l}}},{key:"bind",value:function(){for(var c=this,l=arguments.length,s=new Array(l),f=0;f<l;f++)s[f]=arguments[f];if(!s.length||!TB(s))throw new V("observable-bind-wrong-properties",this);if(new Set(s).size!==s.length)throw new V("observable-bind-duplicate-properties",this);BA(this);var d=this[Ab];s.forEach(function(b){if(d.has(b))throw new V("observable-bind-rebind",c)});var h=new Map;return s.forEach(function(b){var v={property:b,to:[]};d.set(b,v),h.set(b,v)}),{to:Ket,toMany:Zet,_observable:this,_bindProperties:s,_to:[],_bindings:h}}},{key:"unbind",value:function(){var c=this;if(this[kb]){for(var l=this[Ab],s=this[_b],f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];if(d.length){if(!TB(d))throw new V("observable-unbind-wrong-properties",this);d.forEach(function(b){var v=l.get(b);v&&(v.to.forEach(function(g){var k=qet(g,2),_=k[0],A=k[1],C=s.get(_),S=C[A];S.delete(v),S.size||delete C[A],Object.keys(C).length||(s.delete(_),c.stopListening(_,"change"))}),l.delete(b))})}else s.forEach(function(b,v){c.stopListening(v,"change")}),s.clear(),l.clear()}}},{key:"decorate",value:function(c){var l=this;BA(this);var s=this[c];if(!s)throw new V("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:c});this.on(c,function(f,d){f.return=s.apply(l,d)}),this[c]=function(){for(var f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];return this.fire(c,d)},this[c][EB]=s,this[ei]||(this[ei]=[]),this[ei].push(c)}},{key:"stopListening",value:function(c,l,s){if(!c&&this[ei]){var f,d=function(b,v){var g=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!g){if(Array.isArray(b)||(g=TA(b))||v&&b&&typeof b.length=="number"){g&&(b=g);var k=0,_=function(){};return{s:_,n:function(){return k>=b.length?{done:!0}:{done:!1,value:b[k++]}},e:function(P){throw P},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A,C=!0,S=!1;return{s:function(){g=g.call(b)},n:function(){var P=g.next();return C=P.done,P},e:function(P){S=!0,A=P},f:function(){try{C||g.return==null||g.return()}finally{if(S)throw A}}}}(this[ei]);try{for(d.s();!(f=d.n()).done;){var h=f.value;this[h]=this[h][EB]}}catch(b){d.e(b)}finally{d.f()}delete this[ei]}RA(ti(o.prototype),"stopListening",this).call(this,c,l,s)}}],u&&PB(i.prototype,u),a&&PB(i,a),Object.defineProperty(i,"prototype",{writable:!1}),o}(r);return t}function BA(r){r[kb]||(Object.defineProperty(r,kb,{value:new Map}),Object.defineProperty(r,_b,{value:new Map}),Object.defineProperty(r,Ab,{value:new Map}))}function Ket(){var r,t,n,i=this,u=Qet.apply(void 0,arguments),a=Array.from(this._bindings.keys()),e=a.length;if(!u.callback&&u.to.length>1)throw new V("observable-bind-to-no-callback",this);if(e>1&&u.callback)throw new V("observable-bind-to-extra-callback",this);u.to.forEach(function(o){if(o.properties.length&&o.properties.length!==e)throw new V("observable-bind-to-properties-length",i);o.properties.length||(o.properties=i._bindProperties)}),this._to=u.to,u.callback&&(this._bindings.get(a[0]).callback=u.callback),r=this._observable,this._to.forEach(function(o){var c,l=r[_b];l.get(o.observable)||r.listenTo(o.observable,"change",function(s,f){(c=l.get(o.observable)[f])&&c.forEach(function(d){DB(r,d.property)})})}),(t=this)._bindings.forEach(function(o,c){t._to.forEach(function(l){n=l.properties[o.callback?0:t._bindProperties.indexOf(c)],o.to.push([l.observable,n]),function(s,f,d,h){var b=s[_b],v=b.get(d),g=v||{};g[h]||(g[h]=new Set),g[h].add(f),v||b.set(d,g)}(t._observable,o,l.observable,n)})}),this._bindProperties.forEach(function(o){DB(i._observable,o)})}function Zet(r,t,n){if(this._bindings.size>1)throw new V("observable-bind-to-many-not-one-binding",this);this.to.apply(this,$et(function(i,u){var a=i.map(function(e){return[e,u]});return Array.prototype.concat.apply([],a)}(r,t)).concat([n]))}function TB(r){return r.every(function(t){return typeof t=="string"})}function Qet(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];if(!t.length)throw new V("observable-bind-to-parse-error",null);var i,u={to:[]};return typeof t[t.length-1]=="function"&&(u.callback=t.pop()),t.forEach(function(a){if(typeof a=="string")i.properties.push(a);else{if(xn(a)!="object")throw new V("observable-bind-to-parse-error",null);i={observable:a,properties:[]},u.to.push(i)}}),u}function DB(r,t){var n,i=r[Ab].get(t);n=i.callback?i.callback.apply(r,i.to.map(function(u){return u[0][u[1]]})):(n=i.to[0])[0][n[1]],Object.prototype.hasOwnProperty.call(r,t)?r[t]=n:r.set(t,n)}function iy(r){return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(r)}function RB(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(iy(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(iy(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),iy(a)==="symbol"?a:String(a)),i)}var u,a}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(function(r){Rt[r]=xB.prototype[r]});var IB=function(){function r(){(function(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")})(this,r),this._replacedElements=[]}var t,n,i;return t=r,(n=[{key:"replace",value:function(u,a){this._replacedElements.push({element:u,newElement:a}),u.style.display="none",a&&u.parentNode.insertBefore(a,u.nextSibling)}},{key:"restore",value:function(){this._replacedElements.forEach(function(u){var a=u.element,e=u.newElement;a.style.display="",e&&e.remove()}),this._replacedElements=[]}}])&&RB(t.prototype,n),i&&RB(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Jet(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return BB(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return BB(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function BB(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function MA(r){var t,n=0,i=Jet(r);try{for(i.s();!(t=i.n()).done;)t.value,n++}catch(u){i.e(u)}finally{i.f()}return n}function ke(r,t){for(var n=Math.min(r.length,t.length),i=0;i<n;i++)if(r[i]!=t[i])return i;return r.length==t.length?"same":r.length<t.length?"prefix":"extension"}function Le(r){return!(!r||!r[Symbol.iterator])}const MB=typeof me.g=="object"&&me.g&&me.g.Object===Object&&me.g;var Xet=typeof self=="object"&&self&&self.Object===Object&&self;const or=MB||Xet||Function("return this")(),yr=or.Symbol;var NB=Object.prototype,trt=NB.hasOwnProperty,ert=NB.toString,ay=yr?yr.toStringTag:void 0;const rrt=function(r){var t=trt.call(r,ay),n=r[ay];try{r[ay]=void 0;var i=!0}catch(a){}var u=ert.call(r);return i&&(t?r[ay]=n:delete r[ay]),u};var nrt=Object.prototype.toString;const ort=function(r){return nrt.call(r)};var LB=yr?yr.toStringTag:void 0;const Yr=function(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":LB&&LB in Object(r)?rrt(r):ort(r)},Se=Array.isArray,Ze=function(r){return r!=null&&typeof r=="object"},zB=function(r){return typeof r=="string"||!Se(r)&&Ze(r)&&Yr(r)=="[object String]"};function irt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return FB(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return FB(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function FB(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Er(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],u=n&&n.xmlns,a=u?r.createElementNS(u,t):r.createElement(t);for(var e in n)a.setAttribute(e,n[e]);!zB(i)&&Le(i)||(i=[i]);var o,c=irt(i);try{for(c.s();!(o=c.n()).done;){var l=o.value;zB(l)&&(l=r.createTextNode(l)),a.appendChild(l)}}catch(s){c.e(s)}finally{c.f()}return a}const VB=function(r,t){return function(n){return r(t(n))}},NA=VB(Object.getPrototypeOf,Object);var art=Function.prototype,crt=Object.prototype,UB=art.toString,urt=crt.hasOwnProperty,lrt=UB.call(Object);const Te=function(r){if(!Ze(r)||Yr(r)!="[object Object]")return!1;var t=NA(r);if(t===null)return!0;var n=urt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&UB.call(n)==lrt},srt=function(){this.__data__=[],this.size=0},cy=function(r,t){return r===t||r!=r&&t!=t},Cb=function(r,t){for(var n=r.length;n--;)if(cy(r[n][0],t))return n;return-1};var frt=Array.prototype.splice;const drt=function(r){var t=this.__data__,n=Cb(t,r);return!(n<0)&&(n==t.length-1?t.pop():frt.call(t,n,1),--this.size,!0)},prt=function(r){var t=this.__data__,n=Cb(t,r);return n<0?void 0:t[n][1]},yrt=function(r){return Cb(this.__data__,r)>-1},hrt=function(r,t){var n=this.__data__,i=Cb(n,r);return i<0?(++this.size,n.push([r,t])):n[i][1]=t,this};function ri(r){var t=-1,n=r==null?0:r.length;for(this.clear();++t<n;){var i=r[t];this.set(i[0],i[1])}}ri.prototype.clear=srt,ri.prototype.delete=drt,ri.prototype.get=prt,ri.prototype.has=yrt,ri.prototype.set=hrt;const Ob=ri,brt=function(){this.__data__=new Ob,this.size=0},mrt=function(r){var t=this.__data__,n=t.delete(r);return this.size=t.size,n},vrt=function(r){return this.__data__.get(r)},grt=function(r){return this.__data__.has(r)},Tn=function(r){if(!Gt(r))return!1;var t=Yr(r);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},LA=or["__core-js_shared__"];var HB=function(){var r=/[^.]+$/.exec(LA&&LA.keys&&LA.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();const wrt=function(r){return!!HB&&HB in r};var krt=Function.prototype.toString;const Dn=function(r){if(r!=null){try{return krt.call(r)}catch(t){}try{return r+""}catch(t){}}return""};var _rt=/^\[object .+?Constructor\]$/,Art=Function.prototype,Crt=Object.prototype,Ort=Art.toString,Srt=Crt.hasOwnProperty,jrt=RegExp("^"+Ort.call(Srt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Prt=function(r){return!(!Gt(r)||wrt(r))&&(Tn(r)?jrt:_rt).test(Dn(r))},Ert=function(r,t){return r==null?void 0:r[t]},Rn=function(r,t){var n=Ert(r,t);return Prt(n)?n:void 0},uy=Rn(or,"Map"),ly=Rn(Object,"create"),xrt=function(){this.__data__=ly?ly(null):{},this.size=0},Trt=function(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t};var Drt=Object.prototype.hasOwnProperty;const Rrt=function(r){var t=this.__data__;if(ly){var n=t[r];return n==="__lodash_hash_undefined__"?void 0:n}return Drt.call(t,r)?t[r]:void 0};var Irt=Object.prototype.hasOwnProperty;const Brt=function(r){var t=this.__data__;return ly?t[r]!==void 0:Irt.call(t,r)},Mrt=function(r,t){var n=this.__data__;return this.size+=this.has(r)?0:1,n[r]=ly&&t===void 0?"__lodash_hash_undefined__":t,this};function ni(r){var t=-1,n=r==null?0:r.length;for(this.clear();++t<n;){var i=r[t];this.set(i[0],i[1])}}ni.prototype.clear=xrt,ni.prototype.delete=Trt,ni.prototype.get=Rrt,ni.prototype.has=Brt,ni.prototype.set=Mrt;const GB=ni,Nrt=function(){this.size=0,this.__data__={hash:new GB,map:new(uy||Ob),string:new GB}},Lrt=function(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null},Sb=function(r,t){var n=r.__data__;return Lrt(t)?n[typeof t=="string"?"string":"hash"]:n.map},zrt=function(r){var t=Sb(this,r).delete(r);return this.size-=t?1:0,t},Frt=function(r){return Sb(this,r).get(r)},Vrt=function(r){return Sb(this,r).has(r)},Urt=function(r,t){var n=Sb(this,r),i=n.size;return n.set(r,t),this.size+=n.size==i?0:1,this};function oi(r){var t=-1,n=r==null?0:r.length;for(this.clear();++t<n;){var i=r[t];this.set(i[0],i[1])}}oi.prototype.clear=Nrt,oi.prototype.delete=zrt,oi.prototype.get=Frt,oi.prototype.has=Vrt,oi.prototype.set=Urt;const jb=oi,Hrt=function(r,t){var n=this.__data__;if(n instanceof Ob){var i=n.__data__;if(!uy||i.length<199)return i.push([r,t]),this.size=++n.size,this;n=this.__data__=new jb(i)}return n.set(r,t),this.size=n.size,this};function ii(r){var t=this.__data__=new Ob(r);this.size=t.size}ii.prototype.clear=brt,ii.prototype.delete=mrt,ii.prototype.get=vrt,ii.prototype.has=grt,ii.prototype.set=Hrt;const sy=ii,Grt=function(r,t){for(var n=-1,i=r==null?0:r.length;++n<i&&t(r[n],n,r)!==!1;);return r},Pb=function(){try{var r=Rn(Object,"defineProperty");return r({},"",{}),r}catch(t){}}(),zA=function(r,t,n){t=="__proto__"&&Pb?Pb(r,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):r[t]=n};var Wrt=Object.prototype.hasOwnProperty;const FA=function(r,t,n){var i=r[t];Wrt.call(r,t)&&cy(i,n)&&(n!==void 0||t in r)||zA(r,t,n)},ai=function(r,t,n,i){var u=!n;n||(n={});for(var a=-1,e=t.length;++a<e;){var o=t[a],c=i?i(n[o],r[o],o,n,r):void 0;c===void 0&&(c=r[o]),u?zA(n,o,c):FA(n,o,c)}return n},$rt=function(r,t){for(var n=-1,i=Array(r);++n<r;)i[n]=t(n);return i},WB=function(r){return Ze(r)&&Yr(r)=="[object Arguments]"};var $B=Object.prototype,qrt=$B.hasOwnProperty,Yrt=$B.propertyIsEnumerable;const VA=WB(function(){return arguments}())?WB:function(r){return Ze(r)&&qrt.call(r,"callee")&&!Yrt.call(r,"callee")},Krt=function(){return!1};var qB=ne&&!ne.nodeType&&ne,YB=qB&&!0&&re&&!re.nodeType&&re,KB=YB&&YB.exports===qB?or.Buffer:void 0;const fy=(KB?KB.isBuffer:void 0)||Krt;var Zrt=/^(?:0|[1-9]\d*)$/;const UA=function(r,t){var n=typeof r;return!!(t=t==null?9007199254740991:t)&&(n=="number"||n!="symbol"&&Zrt.test(r))&&r>-1&&r%1==0&&r<t},ZB=function(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=9007199254740991};var Wt={};Wt["[object Float32Array]"]=Wt["[object Float64Array]"]=Wt["[object Int8Array]"]=Wt["[object Int16Array]"]=Wt["[object Int32Array]"]=Wt["[object Uint8Array]"]=Wt["[object Uint8ClampedArray]"]=Wt["[object Uint16Array]"]=Wt["[object Uint32Array]"]=!0,Wt["[object Arguments]"]=Wt["[object Array]"]=Wt["[object ArrayBuffer]"]=Wt["[object Boolean]"]=Wt["[object DataView]"]=Wt["[object Date]"]=Wt["[object Error]"]=Wt["[object Function]"]=Wt["[object Map]"]=Wt["[object Number]"]=Wt["[object Object]"]=Wt["[object RegExp]"]=Wt["[object Set]"]=Wt["[object String]"]=Wt["[object WeakMap]"]=!1;const Qrt=function(r){return Ze(r)&&ZB(r.length)&&!!Wt[Yr(r)]},Eb=function(r){return function(t){return r(t)}};var QB=ne&&!ne.nodeType&&ne,dy=QB&&!0&&re&&!re.nodeType&&re,HA=dy&&dy.exports===QB&&MB.process;const ci=function(){try{var r=dy&&dy.require&&dy.require("util").types;return r||HA&&HA.binding&&HA.binding("util")}catch(t){}}();var JB=ci&&ci.isTypedArray;const GA=JB?Eb(JB):Qrt;var Jrt=Object.prototype.hasOwnProperty;const XB=function(r,t){var n=Se(r),i=!n&&VA(r),u=!n&&!i&&fy(r),a=!n&&!i&&!u&&GA(r),e=n||i||u||a,o=e?$rt(r.length,String):[],c=o.length;for(var l in r)!t&&!Jrt.call(r,l)||e&&(l=="length"||u&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||UA(l,c))||o.push(l);return o};var Xrt=Object.prototype;const WA=function(r){var t=r&&r.constructor;return r===(typeof t=="function"&&t.prototype||Xrt)},tnt=VB(Object.keys,Object);var ent=Object.prototype.hasOwnProperty;const rnt=function(r){if(!WA(r))return tnt(r);var t=[];for(var n in Object(r))ent.call(r,n)&&n!="constructor"&&t.push(n);return t},xb=function(r){return r!=null&&ZB(r.length)&&!Tn(r)},$A=function(r){return xb(r)?XB(r):rnt(r)},nnt=function(r,t){return r&&ai(t,$A(t),r)},ont=function(r){var t=[];if(r!=null)for(var n in Object(r))t.push(n);return t};var int=Object.prototype.hasOwnProperty;const ant=function(r){if(!Gt(r))return ont(r);var t=WA(r),n=[];for(var i in r)(i!="constructor"||!t&&int.call(r,i))&&n.push(i);return n},ui=function(r){return xb(r)?XB(r,!0):ant(r)},cnt=function(r,t){return r&&ai(t,ui(t),r)};var t3=ne&&!ne.nodeType&&ne,e3=t3&&!0&&re&&!re.nodeType&&re,r3=e3&&e3.exports===t3?or.Buffer:void 0,n3=r3?r3.allocUnsafe:void 0;const o3=function(r,t){if(t)return r.slice();var n=r.length,i=n3?n3(n):new r.constructor(n);return r.copy(i),i},qA=function(r,t){var n=-1,i=r.length;for(t||(t=Array(i));++n<i;)t[n]=r[n];return t},unt=function(r,t){for(var n=-1,i=r==null?0:r.length,u=0,a=[];++n<i;){var e=r[n];t(e,n,r)&&(a[u++]=e)}return a},i3=function(){return[]};var lnt=Object.prototype.propertyIsEnumerable,a3=Object.getOwnPropertySymbols;const YA=a3?function(r){return r==null?[]:(r=Object(r),unt(a3(r),function(t){return lnt.call(r,t)}))}:i3,snt=function(r,t){return ai(r,YA(r),t)},c3=function(r,t){for(var n=-1,i=t.length,u=r.length;++n<i;)r[u+n]=t[n];return r},u3=Object.getOwnPropertySymbols?function(r){for(var t=[];r;)c3(t,YA(r)),r=NA(r);return t}:i3,fnt=function(r,t){return ai(r,u3(r),t)},l3=function(r,t,n){var i=t(r);return Se(r)?i:c3(i,n(r))},KA=function(r){return l3(r,$A,YA)},dnt=function(r){return l3(r,ui,u3)},ZA=Rn(or,"DataView"),QA=Rn(or,"Promise"),JA=Rn(or,"Set"),XA=Rn(or,"WeakMap");var s3="[object Map]",f3="[object Promise]",d3="[object Set]",p3="[object WeakMap]",y3="[object DataView]",pnt=Dn(ZA),ynt=Dn(uy),hnt=Dn(QA),bnt=Dn(JA),mnt=Dn(XA),In=Yr;(ZA&&In(new ZA(new ArrayBuffer(1)))!=y3||uy&&In(new uy)!=s3||QA&&In(QA.resolve())!=f3||JA&&In(new JA)!=d3||XA&&In(new XA)!=p3)&&(In=function(r){var t=Yr(r),n=t=="[object Object]"?r.constructor:void 0,i=n?Dn(n):"";if(i)switch(i){case pnt:return y3;case ynt:return s3;case hnt:return f3;case bnt:return d3;case mnt:return p3}return t});const py=In;var vnt=Object.prototype.hasOwnProperty;const gnt=function(r){var t=r.length,n=new r.constructor(t);return t&&typeof r[0]=="string"&&vnt.call(r,"index")&&(n.index=r.index,n.input=r.input),n},Tb=or.Uint8Array,tC=function(r){var t=new r.constructor(r.byteLength);return new Tb(t).set(new Tb(r)),t},wnt=function(r,t){var n=t?tC(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.byteLength)};var knt=/\w*$/;const _nt=function(r){var t=new r.constructor(r.source,knt.exec(r));return t.lastIndex=r.lastIndex,t};var h3=yr?yr.prototype:void 0,b3=h3?h3.valueOf:void 0;const Ant=function(r){return b3?Object(b3.call(r)):{}},m3=function(r,t){var n=t?tC(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.length)},Cnt=function(r,t,n){var i=r.constructor;switch(t){case"[object ArrayBuffer]":return tC(r);case"[object Boolean]":case"[object Date]":return new i(+r);case"[object DataView]":return wnt(r,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return m3(r,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(r);case"[object RegExp]":return _nt(r);case"[object Symbol]":return Ant(r)}};var v3=Object.create;const Ont=function(){function r(){}return function(t){if(!Gt(t))return{};if(v3)return v3(t);r.prototype=t;var n=new r;return r.prototype=void 0,n}}(),g3=function(r){return typeof r.constructor!="function"||WA(r)?{}:Ont(NA(r))},Snt=function(r){return Ze(r)&&py(r)=="[object Map]"};var w3=ci&&ci.isMap;const jnt=w3?Eb(w3):Snt,Pnt=function(r){return Ze(r)&&py(r)=="[object Set]"};var k3=ci&&ci.isSet;const Ent=k3?Eb(k3):Pnt;var _3="[object Arguments]",A3="[object Function]",C3="[object Object]",Ft={};Ft[_3]=Ft["[object Array]"]=Ft["[object ArrayBuffer]"]=Ft["[object DataView]"]=Ft["[object Boolean]"]=Ft["[object Date]"]=Ft["[object Float32Array]"]=Ft["[object Float64Array]"]=Ft["[object Int8Array]"]=Ft["[object Int16Array]"]=Ft["[object Int32Array]"]=Ft["[object Map]"]=Ft["[object Number]"]=Ft[C3]=Ft["[object RegExp]"]=Ft["[object Set]"]=Ft["[object String]"]=Ft["[object Symbol]"]=Ft["[object Uint8Array]"]=Ft["[object Uint8ClampedArray]"]=Ft["[object Uint16Array]"]=Ft["[object Uint32Array]"]=!0,Ft["[object Error]"]=Ft[A3]=Ft["[object WeakMap]"]=!1;const eC=function r(t,n,i,u,a,e){var o,c=1&n,l=2&n,s=4&n;if(i&&(o=a?i(t,u,a,e):i(t)),o!==void 0)return o;if(!Gt(t))return t;var f=Se(t);if(f){if(o=gnt(t),!c)return qA(t,o)}else{var d=py(t),h=d==A3||d=="[object GeneratorFunction]";if(fy(t))return o3(t,c);if(d==C3||d==_3||h&&!a){if(o=l||h?{}:g3(t),!c)return l?fnt(t,cnt(o,t)):snt(t,nnt(o,t))}else{if(!Ft[d])return a?t:{};o=Cnt(t,d,c)}}e||(e=new sy);var b=e.get(t);if(b)return b;e.set(t,o),Ent(t)?t.forEach(function(g){o.add(r(g,n,i,g,t,e))}):jnt(t)&&t.forEach(function(g,k){o.set(k,r(g,n,i,k,t,e))});var v=f?void 0:(s?l?dnt:KA:l?ui:$A)(t);return Grt(v||t,function(g,k){v&&(g=t[k=g]),FA(o,k,r(g,n,i,k,t,e))}),o},rC=function(r,t){return eC(r,5,t=typeof t=="function"?t:void 0)},Bn=function(r){return Ze(r)&&r.nodeType===1&&!Te(r)};function Mn(r){return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(r)}function O3(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return S3(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return S3(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function S3(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function nC(){nC=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&Mn(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(Mn(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function j3(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Mn(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Mn(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Mn(a)==="symbol"?a:String(a)),i)}var u,a}var P3=function(){function r(u,a){(function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")})(this,r),this._config={},a&&this.define(E3(a)),u&&this._setObjectToTarget(this._config,u)}var t,n,i;return t=r,n=[{key:"set",value:function(u,a){this._setToTarget(this._config,u,a)}},{key:"define",value:function(u,a){this._setToTarget(this._config,u,a,!0)}},{key:"get",value:function(u){return this._getFromSource(this._config,u)}},{key:"names",value:nC().mark(function u(){var a,e,o;return nC().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:a=0,e=Object.keys(this._config);case 1:if(!(a<e.length)){c.next=8;break}return o=e[a],c.next=5,o;case 5:a++,c.next=1;break;case 8:case"end":return c.stop()}},u,this)})},{key:"_setToTarget",value:function(u,a,e){var o=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(Te(a))this._setObjectToTarget(u,a,o);else{var c=a.split(".");a=c.pop();var l,s=O3(c);try{for(s.s();!(l=s.n()).done;){var f=l.value;Te(u[f])||(u[f]={}),u=u[f]}}catch(d){s.e(d)}finally{s.f()}if(Te(e))return Te(u[a])||(u[a]={}),u=u[a],void this._setObjectToTarget(u,e,o);o&&u[a]!==void 0||(u[a]=e)}}},{key:"_getFromSource",value:function(u,a){var e=a.split(".");a=e.pop();var o,c=O3(e);try{for(c.s();!(o=c.n()).done;){var l=o.value;if(!Te(u[l])){u=null;break}u=u[l]}}catch(s){c.e(s)}finally{c.f()}return u?E3(u[a]):void 0}},{key:"_setObjectToTarget",value:function(u,a,e){var o=this;Object.keys(a).forEach(function(c){o._setToTarget(u,c,a[c],e)})}}],n&&j3(t.prototype,n),i&&j3(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function E3(r){return rC(r,xnt)}function xnt(r){return Bn(r)?r:void 0}function Kr(r){if(r){if(r.defaultView)return r instanceof r.defaultView.Document;if(r.ownerDocument&&r.ownerDocument.defaultView)return r instanceof r.ownerDocument.defaultView.Node}return!1}function Db(r){var t=Object.prototype.toString.apply(r);return t=="[object Window]"||t=="[object global]"}function li(r){return li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(r)}function x3(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return T3(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return T3(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function T3(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function D3(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function R3(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(li(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(li(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),li(a)==="symbol"?a:String(a)),i)}var u,a}function I3(r,t,n){return t&&R3(r.prototype,t),n&&R3(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Rb(){return Rb=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Nn(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},Rb.apply(this,arguments)}function B3(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&oC(r,t)}function oC(r,t){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oC(r,t)}function M3(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Nn(r);if(t){var u=Nn(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(li(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N3(a)}(this,n)}}function N3(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Nn(r){return Nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nn(r)}var L3=xr(Nt());function xr(r){if(!r)return L3;var t=function(n){B3(u,n);var i=M3(u);function u(){return D3(this,u),i.apply(this,arguments)}return I3(u,[{key:"listenTo",value:function(a,e,o){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(Kr(a)||Db(a)){var l={capture:!!c.useCapture,passive:!!c.usePassive},s=this._getProxyEmitter(a,l)||new Tnt(a,l);this.listenTo(s,e,o,c)}else Rb(Nn(u.prototype),"listenTo",this).call(this,a,e,o,c)}},{key:"stopListening",value:function(a,e,o){if(Kr(a)||Db(a)){var c,l=x3(this._getAllProxyEmitters(a));try{for(l.s();!(c=l.n()).done;){var s=c.value;this.stopListening(s,e,o)}}catch(f){l.e(f)}finally{l.f()}}else Rb(Nn(u.prototype),"stopListening",this).call(this,a,e,o)}},{key:"_getProxyEmitter",value:function(a,e){return o=this,c=z3(a,e),(l=o[Xo])&&l[c]?l[c].emitter:null;var o,c,l}},{key:"_getAllProxyEmitters",value:function(a){var e=this;return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(function(o){return e._getProxyEmitter(a,o)}).filter(function(o){return!!o})}}]),u}(r);return t}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(function(r){xr[r]=L3.prototype[r]});var iC,Tnt=function(r){B3(n,r);var t=M3(n);function n(i,u){var a;return D3(this,n),CB(N3(a=t.call(this)),z3(i,u)),a._domNode=i,a._options=u,a}return I3(n,[{key:"attach",value:function(i){if(!this._domListeners||!this._domListeners[i]){var u=this._createDomListener(i);this._domNode.addEventListener(i,u,this._options),this._domListeners||(this._domListeners={}),this._domListeners[i]=u}}},{key:"detach",value:function(i){var u;!this._domListeners[i]||(u=this._events[i])&&u.callbacks.length||this._domListeners[i].removeListener()}},{key:"_addEventListener",value:function(i,u,a){this.attach(i),Nt().prototype._addEventListener.call(this,i,u,a)}},{key:"_removeEventListener",value:function(i,u){Nt().prototype._removeEventListener.call(this,i,u),this.detach(i)}},{key:"_createDomListener",value:function(i){var u=this,a=function(e){u.fire(i,e)};return a.removeListener=function(){u._domNode.removeEventListener(i,a,u._options),delete u._domListeners[i]},a}}]),n}(Nt());function z3(r,t){var n,i=function(e){return e["data-ck-expando"]||(e["data-ck-expando"]=Oe())}(r),u=x3(Object.keys(t).sort());try{for(u.s();!(n=u.n()).done;){var a=n.value;t[a]&&(i+="-"+a)}}catch(e){u.e(e)}finally{u.f()}return i}try{iC={window,document}}catch(r){iC={window:{},document:{}}}const kt=iC;function aC(r){var t=r.parentElement;if(!t)return null;for(;t.tagName!="BODY";){var n=t.style.overflowY||kt.window.getComputedStyle(t).overflowY;if(n==="auto"||n==="scroll")break;if(!(t=t.parentElement))return null}return t}function Ib(r){return Object.prototype.toString.apply(r)=="[object Range]"}function F3(r){var t=r.ownerDocument.defaultView.getComputedStyle(r);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}function oe(r){return Object.prototype.toString.call(r)=="[object Text]"}function si(r){return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(r)}function cC(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return V3(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return V3(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function V3(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function U3(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(si(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(si(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),si(a)==="symbol"?a:String(a)),i)}var u,a}var H3=["top","right","bottom","left","width","height"],Lt=function(){function r(u){(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,r);var a=Ib(u);if(Object.defineProperty(this,"_source",{value:u._source||u,writable:!0,enumerable:!1}),W3(u)||a)if(a){var e=r.getDomRangeRects(u);Bb(this,r.getBoundingRect(e))}else Bb(this,u.getBoundingClientRect());else if(Db(u)){var o=u.innerWidth,c=u.innerHeight;Bb(this,{top:0,right:o,bottom:c,left:0,width:o,height:c})}else Bb(this,u)}var t,n,i;return t=r,i=[{key:"getDomRangeRects",value:function(u){var a=[],e=Array.from(u.getClientRects());if(e.length){var o,c=cC(e);try{for(c.s();!(o=c.n()).done;){var l=o.value;a.push(new r(l))}}catch(d){c.e(d)}finally{c.f()}}else{var s=u.startContainer;oe(s)&&(s=s.parentNode);var f=new r(s.getBoundingClientRect());f.right=f.left,f.width=0,a.push(f)}return a}},{key:"getBoundingRect",value:function(u){var a,e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0},o=0,c=cC(u);try{for(c.s();!(a=c.n()).done;){var l=a.value;o++,e.left=Math.min(e.left,l.left),e.top=Math.min(e.top,l.top),e.right=Math.max(e.right,l.right),e.bottom=Math.max(e.bottom,l.bottom)}}catch(s){c.e(s)}finally{c.f()}return o==0?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new r(e))}}],(n=[{key:"clone",value:function(){return new r(this)}},{key:"moveTo",value:function(u,a){return this.top=a,this.right=u+this.width,this.bottom=a+this.height,this.left=u,this}},{key:"moveBy",value:function(u,a){return this.top+=a,this.right+=u,this.left+=u,this.bottom+=a,this}},{key:"getIntersection",value:function(u){var a={top:Math.max(this.top,u.top),right:Math.min(this.right,u.right),bottom:Math.min(this.bottom,u.bottom),left:Math.max(this.left,u.left),width:0,height:0};return a.width=a.right-a.left,a.height=a.bottom-a.top,a.width<0||a.height<0?null:new r(a)}},{key:"getIntersectionArea",value:function(u){var a=this.getIntersection(u);return a?a.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}},{key:"getVisible",value:function(){var u=this._source,a=this.clone();if(G3(u))return a;for(var e,o,c=u,l=u.parentNode||u.commonAncestorContainer;l&&!G3(l);)if(c instanceof HTMLElement&&$3(c)==="absolute"&&(e=c),!e||$3(l)==="relative"&&(o=l).ownerDocument.defaultView.getComputedStyle(o).overflow!=="visible"){var s=new r(l),f=a.getIntersection(s);if(!f)return null;f.getArea()<a.getArea()&&(a=f),c=l,l=l.parentNode}else c=l,l=l.parentNode;return a}},{key:"isEqual",value:function(u){for(var a=0,e=H3;a<e.length;a++){var o=e[a];if(this[o]!==u[o])return!1}return!0}},{key:"contains",value:function(u){var a=this.getIntersection(u);return!(!a||!a.isEqual(u))}},{key:"excludeScrollbarsAndBorders",value:function(){var u,a,e,o=this._source;if(Db(o))u=o.innerWidth-o.document.documentElement.clientWidth,a=o.innerHeight-o.document.documentElement.clientHeight,e=o.getComputedStyle(o.document.documentElement).direction;else{var c=F3(o);u=o.offsetWidth-o.clientWidth-c.left-c.right,a=o.offsetHeight-o.clientHeight-c.top-c.bottom,e=o.ownerDocument.defaultView.getComputedStyle(o).direction,this.left+=c.left,this.top+=c.top,this.right-=c.right,this.bottom-=c.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=u,e==="ltr"?this.right-=u:this.left+=u,this.height-=a,this.bottom-=a,this}}])&&U3(t.prototype,n),i&&U3(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Bb(r,t){var n,i=cC(H3);try{for(i.s();!(n=i.n()).done;){var u=n.value;r[u]=t[u]}}catch(a){i.e(a)}finally{i.f()}}function G3(r){return!!W3(r)&&r===r.ownerDocument.body}function W3(r){return r!==null&&si(r)==="object"&&r.nodeType===1&&typeof r.getBoundingClientRect=="function"}function $3(r){return r.ownerDocument.defaultView.getComputedStyle(r).position}function Dnt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return q3(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return q3(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function q3(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function yy(r){return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yy(r)}function Y3(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return K3(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return K3(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function K3(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Z3(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(yy(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(yy(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),yy(a)==="symbol"?a:String(a)),i)}var u,a}var Mb=function(){function r(u,a){(function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")})(this,r),r._observerInstance||r._createObserver(),this._element=u,this._callback=a,r._addElementCallback(u,a),r._observerInstance.observe(u)}var t,n,i;return t=r,i=[{key:"_addElementCallback",value:function(u,a){r._elementCallbacks||(r._elementCallbacks=new Map);var e=r._elementCallbacks.get(u);e||(e=new Set,r._elementCallbacks.set(u,e)),e.add(a)}},{key:"_deleteElementCallback",value:function(u,a){var e=r._getElementCallbacks(u);e&&(e.delete(a),e.size||(r._elementCallbacks.delete(u),r._observerInstance.unobserve(u))),r._elementCallbacks&&!r._elementCallbacks.size&&(r._observerInstance=null,r._elementCallbacks=null)}},{key:"_getElementCallbacks",value:function(u){return r._elementCallbacks?r._elementCallbacks.get(u):null}},{key:"_createObserver",value:function(){r._observerInstance=new kt.window.ResizeObserver(function(u){var a,e=Y3(u);try{for(e.s();!(a=e.n()).done;){var o=a.value,c=r._getElementCallbacks(o.target);if(c){var l,s=Y3(c);try{for(s.s();!(l=s.n()).done;)(0,l.value)(o)}catch(f){s.e(f)}finally{s.f()}}}}catch(f){e.e(f)}finally{e.f()}})}}],(n=[{key:"element",get:function(){return this._element}},{key:"destroy",value:function(){r._deleteElementCallback(this._element,this._callback)}}])&&Z3(t.prototype,n),i&&Z3(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Rnt(r,t){r instanceof HTMLTextAreaElement&&(r.value=t),r.innerHTML=t}function Ln(r){return function(t){return t+r}}function Nb(r){for(var t=0;r.previousSibling;)r=r.previousSibling,t++;return t}function Q3(r,t,n){r.insertBefore(n,r.childNodes[t]||null)}function hy(r){return r&&r.nodeType===Node.COMMENT_NODE}function J3(r){try{kt.document.createAttribute(r)}catch(t){return!1}return!0}function Zr(r){return!!(r&&r.getClientRects&&r.getClientRects().length)}function by(r){return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},by(r)}function X3(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(by(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(by(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),by(a)==="symbol"?a:String(a)),i)}var u,a}function Int(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return t4(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return t4(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function t4(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function e4(r){var t=r.element,n=r.target,i=r.positions,u=r.limiter,a=r.fitInViewport,e=r.viewportOffsetConfig;Tn(n)&&(n=n()),Tn(u)&&(u=u());var o,c=function(b){return b&&b.parentNode?b.offsetParent===kt.document.body?null:b.offsetParent:null}(t),l=new Lt(t),s=new Lt(n),f=a&&function(b){b=Object.assign({top:0,bottom:0,left:0,right:0},b);var v=new Lt(kt.window);return v.top+=b.top,v.height-=b.top,v.bottom-=b.bottom,v.height-=b.bottom,v}(e)||null,d={targetRect:s,elementRect:l,positionedElementAncestor:c,viewportRect:f};if(u||a){var h=u&&new Lt(u).getVisible();Object.assign(d,{limiterRect:h,viewportRect:f}),o=function(b,v){var g,k=v.elementRect,_=k.getArea(),A=b.map(function(F){return new uC(F,v)}).filter(function(F){return!!F.name}),C=0,S=null,P=Int(A);try{for(P.s();!(g=P.n()).done;){var E=g.value,R=E.limiterIntersectionArea,I=E.viewportIntersectionArea;if(R===_)return E;var z=Math.pow(I,2)+Math.pow(R,2);z>C&&(C=z,S=E)}}catch(F){P.e(F)}finally{P.f()}return S}(i,d)||new uC(i[0],d)}else o=new uC(i[0],d);return o}function r4(r){var t=kt.window,n=t.scrollX,i=t.scrollY;return r.clone().moveBy(n,i)}Mb._observerInstance=null,Mb._elementCallbacks=null;var uC=function(){function r(u,a){(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,r);var e=u(a.targetRect,a.elementRect,a.viewportRect);if(e){var o=e.left,c=e.top,l=e.name,s=e.config;this.name=l,this.config=s,this._positioningFunctionCorrdinates={left:o,top:c},this._options=a}}var t,n,i;return t=r,(n=[{key:"left",get:function(){return this._absoluteRect.left}},{key:"top",get:function(){return this._absoluteRect.top}},{key:"limiterIntersectionArea",get:function(){var u=this._options.limiterRect;if(u){var a=this._options.viewportRect;if(!a)return u.getIntersectionArea(this._rect);var e=u.getIntersection(a);if(e)return e.getIntersectionArea(this._rect)}return 0}},{key:"viewportIntersectionArea",get:function(){var u=this._options.viewportRect;return u?u.getIntersectionArea(this._rect):0}},{key:"_rect",get:function(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}},{key:"_absoluteRect",get:function(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=r4(this._rect),this._options.positionedElementAncestor&&(u=this._cachedAbsoluteRect,a=this._options.positionedElementAncestor,e=r4(new Lt(a)),o=F3(a),c=0,l=0,c-=e.left,l-=e.top,c+=a.scrollLeft,l+=a.scrollTop,c-=o.left,l-=o.top,u.moveBy(c,l))),this._cachedAbsoluteRect;var u,a,e,o,c,l}}])&&X3(t.prototype,n),i&&X3(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function n4(r){var t=r.parentNode;t&&t.removeChild(r)}function o4(r){var t=r.target,n=r.viewportOffset,i=n===void 0?0:n,u=r.ancestorOffset,a=u===void 0?0:u,e=r.alignToTop,o=r.forceScroll,c=lC(t),l=c,s=null;for(i=function(d){return typeof d=="number"?{top:d,bottom:d,left:d,right:d}:d}(i);l;){Mnt({parent:Nnt(l==c?t:s),getRect:function(){return l4(t,l)},alignToTop:e,ancestorOffset:a,forceScroll:o});var f=l4(t,l);if(Bnt({window:l,rect:f,viewportOffset:i,alignToTop:e,forceScroll:o}),l.parent!=l){if(s=l.frameElement,l=l.parent,!s)return}else l=null}}function Bnt(r){var t=r.window,n=r.rect,i=r.alignToTop,u=r.forceScroll,a=r.viewportOffset,e=n.clone().moveBy(0,a.bottom),o=n.clone().moveBy(0,-a.top),c=new Lt(t).excludeScrollbarsAndBorders(),l=i&&u,s=[o,e].every(function(v){return c.contains(v)}),f=t.scrollX,d=t.scrollY,h=f,b=d;l?d-=c.top-n.top+a.top:s||(a4(o,c)?d-=c.top-n.top+a.top:i4(e,c)&&(d+=i?n.top-c.top-a.top:n.bottom-c.bottom+a.bottom)),s||(c4(n,c)?f-=c.left-n.left+a.left:u4(n,c)&&(f+=n.right-c.right+a.right)),f==h&&d===b||t.scrollTo(f,d)}function Mnt(r){for(var t,n,i,u=r.parent,a=r.getRect,e=r.alignToTop,o=r.forceScroll,c=r.ancestorOffset,l=c===void 0?0:c,s=r.limiterElement,f=lC(u),d=e&&o,h=s||f.document.body;u!=h;)n=a(),i=(t=new Lt(u).excludeScrollbarsAndBorders()).contains(n),d?u.scrollTop-=t.top-n.top+l:i||(a4(n,t)?u.scrollTop-=t.top-n.top+l:i4(n,t)&&(u.scrollTop+=e?n.top-t.top-l:n.bottom-t.bottom+l)),i||(c4(n,t)?u.scrollLeft-=t.left-n.left+l:u4(n,t)&&(u.scrollLeft+=n.right-t.right+l)),u=u.parentNode}function i4(r,t){return r.bottom>t.bottom}function a4(r,t){return r.top<t.top}function c4(r,t){return r.left<t.left}function u4(r,t){return r.right>t.right}function lC(r){return Ib(r)?r.startContainer.ownerDocument.defaultView:r.ownerDocument.defaultView}function Nnt(r){if(Ib(r)){var t=r.commonAncestorContainer;return oe(t)&&(t=t.parentNode),t}return r.parentNode}function l4(r,t){var n=lC(r),i=new Lt(r);if(n===t)return i;for(var u=n;u!=t;){var a=u.frameElement,e=new Lt(a).excludeScrollbarsAndBorders();i.moveBy(e.left,e.top),u=u.parent}return i}function s4(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||f4(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f4(r,t){if(r){if(typeof r=="string")return d4(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d4(r,t):void 0}}function d4(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}var Lnt={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21E7"},znt={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Et=function(){for(var r={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896},t=65;t<=90;t++)r[String.fromCharCode(t).toLowerCase()]=t;for(var n=48;n<=57;n++)r[n-48]=n;for(var i=112;i<=123;i++)r["f"+(i-111)]=i;var u,a=function(o,c){var l=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!l){if(Array.isArray(o)||(l=f4(o))||c&&o&&typeof o.length=="number"){l&&(o=l);var s=0,f=function(){};return{s:f,n:function(){return s>=o.length?{done:!0}:{done:!1,value:o[s++]}},e:function(v){throw v},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d,h=!0,b=!1;return{s:function(){l=l.call(o)},n:function(){var v=l.next();return h=v.done,v},e:function(v){b=!0,d=v},f:function(){try{h||l.return==null||l.return()}finally{if(b)throw d}}}}("`-=[];',./\\");try{for(a.s();!(u=a.n()).done;){var e=u.value;r[e]=e.charCodeAt(0)}}catch(o){a.e(o)}finally{a.f()}return r}(),Fnt=Object.fromEntries(Object.entries(Et).map(function(r){var t=s4(r,2),n=t[0];return[t[1],n.charAt(0).toUpperCase()+n.slice(1)]}));function zn(r){var t;if(typeof r=="string"){if(!(t=Et[r.toLowerCase()]))throw new V("keyboard-unknown-key",null,{key:r})}else t=r.keyCode+(r.altKey?Et.alt:0)+(r.ctrlKey?Et.ctrl:0)+(r.shiftKey?Et.shift:0)+(r.metaKey?Et.cmd:0);return t}function Lb(r){return typeof r=="string"&&(r=function(t){return t.split("+").map(function(n){return n.trim()})}(r)),r.map(function(t){return typeof t=="string"?function(n){if(n.endsWith("!"))return zn(n.slice(0,-1));var i=zn(n);return pt.isMac&&i==Et.ctrl?Et.cmd:i}(t):t}).reduce(function(t,n){return n+t},0)}function p4(r){var t=Lb(r);return Object.entries(pt.isMac?Lnt:znt).reduce(function(n,i){var u=s4(i,2),a=u[0],e=u[1];return t&Et[a]&&(t&=~Et[a],n+=e),n},"")+(t?Fnt[t]:"")}function zb(r,t){var n=t==="ltr";switch(r){case Et.arrowleft:return n?"left":"right";case Et.arrowright:return n?"right":"left";case Et.arrowup:return"up";case Et.arrowdown:return"down"}}function Kt(r){return Array.isArray(r)?r:[r]}function Vnt(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(typeof n!="number")throw new V("translation-service-quantity-not-a-number",null,{quantity:n});var i=Object.keys(kt.window.CKEDITOR_TRANSLATIONS).length;i===1&&(r=Object.keys(kt.window.CKEDITOR_TRANSLATIONS)[0]);var u=t.id||t.string;if(i===0||!function(c,l){return!!kt.window.CKEDITOR_TRANSLATIONS[c]&&!!kt.window.CKEDITOR_TRANSLATIONS[c].dictionary[l]}(r,u))return n!==1?t.plural:t.string;var a=kt.window.CKEDITOR_TRANSLATIONS[r].dictionary,e=kt.window.CKEDITOR_TRANSLATIONS[r].getPluralForm||function(c){return c===1?0:1},o=a[u];return typeof o=="string"?o:o[Number(e(n))]}kt.window.CKEDITOR_TRANSLATIONS||(kt.window.CKEDITOR_TRANSLATIONS={});var Unt=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function y4(r){return Unt.includes(r)?"rtl":"ltr"}function my(r){return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},my(r)}function h4(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(my(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(my(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),my(a)==="symbol"?a:String(a)),i)}var u,a}var Hnt=function(){function r(){var u=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=a.uiLanguage,o=e===void 0?"en":e,c=a.contentLanguage;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,r),this.uiLanguage=o,this.contentLanguage=c||this.uiLanguage,this.uiLanguageDirection=y4(this.uiLanguage),this.contentLanguageDirection=y4(this.contentLanguage),this.t=function(l,s){return u._t(l,s)}}var t,n,i;return t=r,n=[{key:"language",get:function(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}},{key:"_t",value:function(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a=Kt(a),typeof u=="string"&&(u={string:u});var e=u.plural?a[0]:1;return function(o,c){return o.replace(/%(\d+)/g,function(l,s){return s<c.length?c[s]:l})}(Vnt(this.uiLanguage,u,e),a)}}],n&&h4(t.prototype,n),i&&h4(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function fi(r){return fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fi(r)}function Gnt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||b4(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vy(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=b4(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function b4(r,t){if(r){if(typeof r=="string")return m4(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m4(r,t):void 0}}function m4(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function v4(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(fi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(fi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),fi(a)==="symbol"?a:String(a)),i)}var u,a}function sC(r,t){return sC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sC(r,t)}function Wnt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Fb(r);if(t){var u=Fb(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(fi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Fb(r){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fb(r)}var Qt=function(r,t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),c&&sC(o,c)})(e,r);var n,i,u,a=Wnt(e);function e(){var o,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")})(this,e),o=a.call(this);var s=Le(c);if(s||(l=c),o._items=[],o._itemMap=new Map,o._idProperty=l.idProperty||"id",o._bindToExternalToInternalMap=new WeakMap,o._bindToInternalToExternalMap=new WeakMap,o._skippedIndexesFromExternal=[],s){var f,d=vy(c);try{for(d.s();!(f=d.n()).done;){var h=f.value;o._items.push(h),o._itemMap.set(o._getItemIdBeforeAdding(h),h)}}catch(b){d.e(b)}finally{d.f()}}return o}return n=e,(i=[{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}},{key:"add",value:function(o,c){return this.addMany([o],c)}},{key:"addMany",value:function(o,c){if(c===void 0)c=this._items.length;else if(c>this._items.length||c<0)throw new V("collection-add-item-invalid-index",this);var l,s=0,f=vy(o);try{for(f.s();!(l=f.n()).done;){var d=l.value,h=this._getItemIdBeforeAdding(d),b=c+s;this._items.splice(b,0,d),this._itemMap.set(h,d),this.fire("add",d,b),s++}}catch(v){f.e(v)}finally{f.f()}return this.fire("change",{added:o,removed:[],index:c}),this}},{key:"get",value:function(o){var c;if(typeof o=="string")c=this._itemMap.get(o);else{if(typeof o!="number")throw new V("collection-get-invalid-arg",this);c=this._items[o]}return c||null}},{key:"has",value:function(o){if(typeof o=="string")return this._itemMap.has(o);var c=o[this._idProperty];return c&&this._itemMap.has(c)}},{key:"getIndex",value:function(o){var c;return(c=typeof o=="string"?this._itemMap.get(o):o)?this._items.indexOf(c):-1}},{key:"remove",value:function(o){var c=Gnt(this._remove(o),2),l=c[0],s=c[1];return this.fire("change",{added:[],removed:[l],index:s}),l}},{key:"map",value:function(o,c){return this._items.map(o,c)}},{key:"find",value:function(o,c){return this._items.find(o,c)}},{key:"filter",value:function(o,c){return this._items.filter(o,c)}},{key:"clear",value:function(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);for(var o=Array.from(this._items);this.length;)this._remove(0);this.fire("change",{added:[],removed:o,index:0})}},{key:"bindTo",value:function(o){var c=this;if(this._bindToCollection)throw new V("collection-bind-to-rebind",this);return this._bindToCollection=o,{as:function(l){c._setUpBindToBinding(function(s){return new l(s)})},using:function(l){typeof l=="function"?c._setUpBindToBinding(l):c._setUpBindToBinding(function(s){return s[l]})}}}},{key:"_setUpBindToBinding",value:function(o){var c,l=this,s=this._bindToCollection,f=function(b,v,g){var k=s._bindToCollection==l,_=s._bindToInternalToExternalMap.get(v);if(k&&_)l._bindToExternalToInternalMap.set(v,_),l._bindToInternalToExternalMap.set(_,v);else{var A=o(v);if(!A)return void l._skippedIndexesFromExternal.push(g);var C,S=g,P=vy(l._skippedIndexesFromExternal);try{for(P.s();!(C=P.n()).done;)g>C.value&&S--}catch(z){P.e(z)}finally{P.f()}var E,R=vy(s._skippedIndexesFromExternal);try{for(R.s();!(E=R.n()).done;)S>=E.value&&S++}catch(z){R.e(z)}finally{R.f()}l._bindToExternalToInternalMap.set(v,A),l._bindToInternalToExternalMap.set(A,v),l.add(A,S);for(var I=0;I<s._skippedIndexesFromExternal.length;I++)S<=s._skippedIndexesFromExternal[I]&&s._skippedIndexesFromExternal[I]++}},d=vy(s);try{for(d.s();!(c=d.n()).done;){var h=c.value;f(0,h,s.getIndex(h))}}catch(b){d.e(b)}finally{d.f()}this.listenTo(s,"add",f),this.listenTo(s,"remove",function(b,v,g){var k=l._bindToExternalToInternalMap.get(v);k&&l.remove(k),l._skippedIndexesFromExternal=l._skippedIndexesFromExternal.reduce(function(_,A){return g<A&&_.push(A-1),g>A&&_.push(A),_},[])})}},{key:"_getItemIdBeforeAdding",value:function(o){var c,l=this._idProperty;if(l in o){if(typeof(c=o[l])!="string")throw new V("collection-add-invalid-id",this);if(this.get(c))throw new V("collection-add-item-already-exists",this)}else o[l]=c=Oe();return c}},{key:"_remove",value:function(o){var c,l,s,f=!1,d=this._idProperty;if(typeof o=="string"?(l=o,f=!(s=this._itemMap.get(l)),s&&(c=this._items.indexOf(s))):typeof o=="number"?(c=o,f=!(s=this._items[c]),s&&(l=s[d])):(l=(s=o)[d],f=(c=this._items.indexOf(s))==-1||!this._itemMap.get(l)),f)throw new V("collection-remove-404",this);this._items.splice(c,1),this._itemMap.delete(l);var h=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(h),this.fire("remove",s,c),[s,c]}},{key:t,value:function(){return this._items[Symbol.iterator]()}}])&&v4(n.prototype,i),u&&v4(n,u),Object.defineProperty(n,"prototype",{writable:!1}),e}(Nt(),Symbol.iterator);function Vt(r){var t=r.next();return t.done?null:t.value}function di(r){return di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},di(r)}function g4(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(di(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(di(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),di(a)==="symbol"?a:String(a)),i)}var u,a}function fC(r,t){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fC(r,t)}function $nt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Vb(r);if(t){var u=Vb(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(di(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Vb(r){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vb(r)}var ce=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&fC(e,o)})(a,r);var t,n,i,u=$nt(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.call(this))._elements=new Set,e._nextEventLoopTimeout=null,e.set("isFocused",!1),e.set("focusedElement",null),e}return t=a,(n=[{key:"add",value:function(e){var o=this;if(this._elements.has(e))throw new V("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",function(){return o._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",function(){return o._blur()},{useCapture:!0}),this._elements.add(e)}},{key:"remove",value:function(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}},{key:"destroy",value:function(){this.stopListening()}},{key:"_focus",value:function(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}},{key:"_blur",value:function(){var e=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(function(){e.focusedElement=null,e.isFocused=!1},0)}}])&&g4(t.prototype,n),i&&g4(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(xr(Rt()));function gy(r){return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(r)}function w4(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(gy(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(gy(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),gy(a)==="symbol"?a:String(a)),i)}var u,a}var de=function(){function r(){(function(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")})(this,r),this._listener=new(xr())}var t,n,i;return t=r,n=[{key:"listenTo",value:function(u){var a=this;this._listener.listenTo(u,"keydown",function(e,o){a._listener.fire("_keydown:"+zn(o),o)})}},{key:"set",value:function(u,a){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=Lb(u),c=e.priority;this._listener.listenTo(this._listener,"_keydown:"+o,function(l,s){a(s,function(){s.preventDefault(),s.stopPropagation(),l.stop()}),l.return=!0},{priority:c})}},{key:"press",value:function(u){return!!this._listener.fire("_keydown:"+zn(u),u)}},{key:"stopListening",value:function(u){this._listener.stopListening(u)}},{key:"destroy",value:function(){this.stopListening()}}],n&&w4(t.prototype,n),i&&w4(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Tr(r){return Le(r)?new Map(r):function(t){var n=new Map;for(var i in t)n.set(i,t[i]);return n}(r)}function qnt(r){return function(t){if(Array.isArray(t))return dC(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||function(t,n){if(t){if(typeof t=="string")return dC(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return dC(t,n)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dC(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function pC(r,t){var n;function i(){for(var u=arguments.length,a=new Array(u),e=0;e<u;e++)a[e]=arguments[e];i.cancel(),n=setTimeout(function(){return r.apply(void 0,a)},t)}return i.cancel=function(){clearTimeout(n)},i}function yC(r,t){return!!(n=r.charAt(t-1))&&n.length==1&&/[\ud800-\udbff]/.test(n)&&function(i){return!!i&&i.length==1&&/[\udc00-\udfff]/.test(i)}(r.charAt(t));var n}function hC(r,t){return!!(n=r.charAt(t))&&n.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}var k4,bC,_4,Ynt=(k4=/(?:\uD83C[\uDDE6-\uDDFF]){2}/.source,bC="(?:"+[/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8])(?:\uDB40[\uDC20-\uDC7E])+(?:\uDB40\uDC7F)/,/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8])\uFE0F?\u20E3/,/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8])\uFE0F/,/(?=(?:[\xA6\xA9\xAE\xB0\u0482\u058D\u058E\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u09FA\u0B70\u0BF3-\u0BF8\u0BFA\u0C7F\u0D4F\u0D79\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116\u2117\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u214A\u214C\u214D\u214F\u218A\u218B\u2195-\u2199\u219C-\u219F\u21A1\u21A2\u21A4\u21A5\u21A7-\u21AD\u21AF-\u21CD\u21D0\u21D1\u21D3\u21D5-\u21F3\u2300-\u2307\u230C-\u231F\u2322-\u2328\u232B-\u237B\u237D-\u239A\u23B4-\u23DB\u23E2-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u25B6\u25B8-\u25C0\u25C2-\u25F7\u2600-\u266E\u2670-\u2767\u2794-\u27BF\u2800-\u28FF\u2B00-\u2B2F\u2B45\u2B46\u2B4D-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA828-\uA82B\uA836\uA837\uA839\uAA77-\uAA79\uFD40-\uFD4F\uFDCF\uFDFD-\uFDFF\uFFE4\uFFE8\uFFED\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFDC\uDFE1-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838\uDD4F|\uD83B[\uDCAC\uDD2E]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFA]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]))(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8])(?:\uD83C[\uDFFB-\uDFFF])*/].map(function(r){return r.source}).join("|")+")",_4="".concat(k4,"|").concat(bC,"(?:\u200D").concat(bC,")*"),new RegExp(_4,"ug"));function A4(r,t){var n=String(r).matchAll(Ynt);return Array.from(n).some(function(i){return i.index<t&&t<i.index+i[0].length})}function pi(r){return pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pi(r)}function C4(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return O4(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return O4(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function O4(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function S4(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(pi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(pi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),pi(a)==="symbol"?a:String(a)),i)}var u,a}function mC(){return mC=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=yi(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},mC.apply(this,arguments)}function vC(r,t){return vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vC(r,t)}function Knt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=yi(r);if(t){var u=yi(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(pi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function yi(r){return yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yi(r)}var De=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&vC(e,o)})(a,r);var t,n,i,u=Knt(a);function a(){var e,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.call(this,o,{idProperty:"viewUid"})).on("add",function(c,l,s){e._renderViewIntoCollectionParent(l,s)}),e.on("remove",function(c,l){l.element&&e._parentElement&&l.element.remove()}),e._parentElement=null,e}return t=a,n=[{key:"destroy",value:function(){this.map(function(e){return e.destroy()})}},{key:"setParent",value:function(e){this._parentElement=e;var o,c=C4(this);try{for(c.s();!(o=c.n()).done;){var l=o.value;this._renderViewIntoCollectionParent(l)}}catch(s){c.e(s)}finally{c.f()}}},{key:"delegate",value:function(){for(var e=this,o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];if(!c.length||!c.every(function(s){return typeof s=="string"}))throw new V("ui-viewcollection-delegate-wrong-events",this);return{to:function(s){var f,d=C4(e);try{for(d.s();!(f=d.n()).done;)for(var h=f.value,b=0,v=c;b<v.length;b++){var g=v[b];h.delegate(g).to(s)}}catch(k){d.e(k)}finally{d.f()}e.on("add",function(k,_){for(var A=0,C=c;A<C.length;A++){var S=C[A];_.delegate(S).to(s)}}),e.on("remove",function(k,_){for(var A=0,C=c;A<C.length;A++){var S=C[A];_.stopDelegating(S,s)}})}}}},{key:"_renderViewIntoCollectionParent",value:function(e,o){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[o])}},{key:"remove",value:function(e){return mC(yi(a.prototype),"remove",this).call(this,e)}}],n&&S4(t.prototype,n),i&&S4(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Qt),Znt=x(3379),dt=x.n(Znt),j4=x(5167),Qnt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(j4.Z,Qnt),j4.Z.locals;function hi(r){return hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hi(r)}function P4(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return E4(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return E4(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function E4(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function x4(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(hi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(hi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),hi(a)==="symbol"?a:String(a)),i)}var u,a}function gC(r,t){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gC(r,t)}function Jnt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ub(r);if(t){var u=Ub(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(hi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ub(r){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ub(r)}var yt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&gC(e,o)})(a,r);var t,n,i,u=Jnt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this)).element=null,o.isRendered=!1,o.locale=e,o.t=e&&e.t,o._viewCollections=new Qt,o._unboundChildren=o.createCollection(),o._viewCollections.on("add",function(c,l){l.locale=e,l.t=e&&e.t}),o.decorate("render"),o}return t=a,(n=[{key:"bindTemplate",get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Re.bind(this,this)}},{key:"createCollection",value:function(e){var o=new De(e);return this._viewCollections.add(o),o}},{key:"registerChild",value:function(e){Le(e)||(e=[e]);var o,c=P4(e);try{for(c.s();!(o=c.n()).done;){var l=o.value;this._unboundChildren.add(l)}}catch(s){c.e(s)}finally{c.f()}}},{key:"deregisterChild",value:function(e){Le(e)||(e=[e]);var o,c=P4(e);try{for(c.s();!(o=c.n()).done;){var l=o.value;this._unboundChildren.remove(l)}}catch(s){c.e(s)}finally{c.f()}}},{key:"setTemplate",value:function(e){this.template=new Re(e)}},{key:"extendTemplate",value:function(e){Re.extend(this.template,e)}},{key:"render",value:function(){if(this.isRendered)throw new V("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}},{key:"destroy",value:function(){this.stopListening(),this._viewCollections.map(function(e){return e.destroy()}),this.template&&this.template._revertData&&this.template.revert(this.element)}}])&&x4(t.prototype,n),i&&x4(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(xr(Rt()));function Qr(r){return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(r)}function T4(r){return function(t){if(Array.isArray(t))return _C(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||kC(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wC(){return wC=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=bi(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},wC.apply(this,arguments)}function Xnt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||kC(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wy(){wy=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&Qr(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(Qr(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function Fn(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=kC(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function kC(r,t){if(r){if(typeof r=="string")return _C(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_C(r,t):void 0}}function _C(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Hb(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function D4(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Qr(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Qr(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Qr(a)==="symbol"?a:String(a)),i)}var u,a}function Gb(r,t,n){return t&&D4(r.prototype,t),n&&D4(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function AC(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&CC(r,t)}function CC(r,t){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CC(r,t)}function OC(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=bi(r);if(t){var u=bi(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Qr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R4(a)}(this,n)}}function R4(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function bi(r){return bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bi(r)}var Re=function(r){AC(n,r);var t=OC(n);function n(i){var u;return Hb(this,n),u=t.call(this),Object.assign(R4(u),N4(M4(i))),u._isRendered=!1,u._revertData=null,u}return Gb(n,[{key:"render",value:function(){var i=this._renderNode({intoFragment:!0});return this._isRendered=!0,i}},{key:"apply",value:function(i){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:i,intoFragment:!1,isApplying:!0,revertData:this._revertData}),i}},{key:"revert",value:function(i){if(!this._revertData)throw new V("ui-template-revert-not-applied",[this,i]);this._revertTemplateFromNode(i,this._revertData)}},{key:"getViews",value:wy().mark(function i(){var u,a;return wy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(o){var c,l,s;return wy().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!o.children){f.next=23;break}c=Fn(o.children),f.prev=2,c.s();case 4:if((l=c.n()).done){f.next=15;break}if(!$b(s=l.value)){f.next=11;break}return f.next=9,s;case 9:f.next=13;break;case 11:if(!SC(s)){f.next=13;break}return f.delegateYield(a(s),"t0",13);case 13:f.next=4;break;case 15:f.next=20;break;case 17:f.prev=17,f.t1=f.catch(2),c.e(f.t1);case 20:return f.prev=20,c.f(),f.finish(20);case 23:case"end":return f.stop()}},u,null,[[2,17,20,23]])},u=wy().mark(a),e.delegateYield(a(this),"t0",3);case 3:case"end":return e.stop()}},i,this)})},{key:"_renderNode",value:function(i){if(i.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new V("ui-template-wrong-syntax",this);return this.text?this._renderText(i):this._renderElement(i)}},{key:"_renderElement",value:function(i){var u=i.node;return u||(u=i.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(i),this._renderElementChildren(i),this._setUpListeners(i),u}},{key:"_renderText",value:function(i){var u=i.node;return u?i.revertData.text=u.textContent:u=i.node=document.createTextNode(""),Wb(this.text)?this._bindToObservable({schema:this.text,updater:eot(u),data:i}):u.textContent=this.text.join(""),u}},{key:"_renderAttributes",value:function(i){if(this.attributes){var u=i.node,a=i.revertData;for(var e in this.attributes){var o=u.getAttribute(e),c=this.attributes[e];a&&(a.attributes[e]=o);var l=U4(c)?c[0].ns:null;if(Wb(c)){var s=U4(c)?c[0].value:c;a&&H4(e)&&s.unshift(o),this._bindToObservable({schema:s,updater:rot(u,e,l),data:i})}else if(e=="style"&&typeof c[0]!="string")this._renderStyleAttribute(c[0],i);else{a&&o&&H4(e)&&c.unshift(o);var f=c.map(function(d){return d&&d.value||d}).reduce(function(d,h){return d.concat(h)},[]).reduce(z4,"");mi(f)||u.setAttributeNS(l,e,f)}}}}},{key:"_renderStyleAttribute",value:function(i,u){var a=u.node;for(var e in i){var o=i[e];Wb(o)?this._bindToObservable({schema:[o],updater:not(a,e),data:u}):a.style[e]=o}}},{key:"_renderElementChildren",value:function(i){var u,a=i.node,e=i.intoFragment?document.createDocumentFragment():a,o=i.isApplying,c=0,l=Fn(this.children);try{for(l.s();!(u=l.n()).done;){var s=u.value;if(jC(s)){if(!o){s.setParent(a);var f,d=Fn(s);try{for(d.s();!(f=d.n()).done;){var h=f.value;e.appendChild(h.element)}}catch(g){d.e(g)}finally{d.f()}}}else if($b(s))o||(s.isRendered||s.render(),e.appendChild(s.element));else if(Kr(s))e.appendChild(s);else if(o){var b=i.revertData,v={children:[],bindings:[],attributes:{}};b.children.push(v),s._renderNode({intoFragment:!1,node:e.childNodes[c++],isApplying:!0,revertData:v})}else e.appendChild(s.render())}}catch(g){l.e(g)}finally{l.f()}i.intoFragment&&a.appendChild(e)}},{key:"_setUpListeners",value:function(i){var u=this;if(this.eventListeners){var a=function(o){var c=u.eventListeners[o].map(function(l){var s=Xnt(o.split("@"),2),f=s[0],d=s[1];return l.activateDomEventListener(f,d,i)});i.revertData&&i.revertData.bindings.push(c)};for(var e in this.eventListeners)a(e)}}},{key:"_bindToObservable",value:function(i){var u=i.schema,a=i.updater,e=i.data,o=e.revertData;B4(u,a,e);var c=u.filter(function(l){return!mi(l)}).filter(function(l){return l.observable}).map(function(l){return l.activateAttributeListener(u,a,e)});o&&o.bindings.push(c)}},{key:"_revertTemplateFromNode",value:function(i,u){var a,e=Fn(u.bindings);try{for(e.s();!(a=e.n()).done;){var o,c=Fn(a.value);try{for(c.s();!(o=c.n()).done;)(0,o.value)()}catch(h){c.e(h)}finally{c.f()}}}catch(h){e.e(h)}finally{e.f()}if(u.text)i.textContent=u.text;else{var l=i;for(var s in u.attributes){var f=u.attributes[s];f===null?l.removeAttribute(s):l.setAttribute(s,f)}for(var d=0;d<u.children.length;++d)this._revertTemplateFromNode(l.childNodes[d],u.children[d])}}}],[{key:"bind",value:function(i,u){return{to:function(a,e){return new tot({eventNameOrFunction:a,attribute:a,observable:i,emitter:u,callback:e})},if:function(a,e,o){return new I4({observable:i,emitter:u,attribute:a,valueIfTrue:e,callback:o})}}}},{key:"extend",value:function(i,u){if(i._isRendered)throw new V("template-extend-render",[this,i]);V4(i,N4(M4(u)))}}]),n}(Nt()),ky=function(){function r(t){Hb(this,r),this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}return Gb(r,[{key:"getValue",value:function(t){var n=this.observable[this.attribute];return this.callback?this.callback(n,t):n}},{key:"activateAttributeListener",value:function(t,n,i){var u=this,a=function(){return B4(t,n,i)};return this.emitter.listenTo(this.observable,"change:".concat(this.attribute),a),function(){u.emitter.stopListening(u.observable,"change:".concat(u.attribute),a)}}}]),r}(),tot=function(r){AC(n,r);var t=OC(n);function n(i){var u;return Hb(this,n),(u=t.call(this,i)).eventNameOrFunction=i.eventNameOrFunction,u}return Gb(n,[{key:"activateDomEventListener",value:function(i,u,a){var e=this,o=function(c,l){u&&!l.target.matches(u)||(typeof e.eventNameOrFunction=="function"?e.eventNameOrFunction(l):e.observable.fire(e.eventNameOrFunction,l))};return this.emitter.listenTo(a.node,i,o),function(){e.emitter.stopListening(a.node,i,o)}}}]),n}(ky),I4=function(r){AC(n,r);var t=OC(n);function n(i){var u;return Hb(this,n),(u=t.call(this,i)).valueIfTrue=i.valueIfTrue,u}return Gb(n,[{key:"getValue",value:function(i){return!mi(wC(bi(n.prototype),"getValue",this).call(this,i))&&(this.valueIfTrue||!0)}}]),n}(ky);function Wb(r){return!!r&&(r.value&&(r=r.value),Array.isArray(r)?r.some(Wb):r instanceof ky)}function B4(r,t,n){var i,u=function(a,e){return a.map(function(o){return o instanceof ky?o.getValue(e):o})}(r,n.node);mi(i=r.length==1&&r[0]instanceof I4?u[0]:u.reduce(z4,""))?t.remove():t.set(i)}function eot(r){return{set:function(t){r.textContent=t},remove:function(){r.textContent=""}}}function rot(r,t,n){return{set:function(i){r.setAttributeNS(n,t,i)},remove:function(){r.removeAttributeNS(n,t)}}}function not(r,t){return{set:function(n){r.style[t]=n},remove:function(){r.style[t]=null}}}function M4(r){return rC(r,function(t){if(t&&(t instanceof ky||SC(t)||$b(t)||jC(t)))return t})}function N4(r){if(typeof r=="string"?r=function(a){return{text:[a]}}(r):r.text&&function(a){a.text=Kt(a.text)}(r),r.on&&(r.eventListeners=function(a){for(var e in a)L4(a,e);return a}(r.on),delete r.on),!r.text){r.attributes&&function(a){for(var e in a)a[e].value&&(a[e].value=Kt(a[e].value)),L4(a,e)}(r.attributes);var t=[];if(r.children)if(jC(r.children))t.push(r.children);else{var n,i=Fn(r.children);try{for(i.s();!(n=i.n()).done;){var u=n.value;SC(u)||$b(u)||Kr(u)?t.push(u):t.push(new Re(u))}}catch(a){i.e(a)}finally{i.f()}}r.children=t}return r}function L4(r,t){r[t]=Kt(r[t])}function z4(r,t){return mi(t)?r:mi(r)?t:"".concat(r," ").concat(t)}function F4(r,t){for(var n in t){var i;r[n]?(i=r[n]).push.apply(i,T4(t[n])):r[n]=t[n]}}function V4(r,t){var n;if(t.attributes&&(r.attributes||(r.attributes={}),F4(r.attributes,t.attributes)),t.eventListeners&&(r.eventListeners||(r.eventListeners={}),F4(r.eventListeners,t.eventListeners)),t.text&&(n=r.text).push.apply(n,T4(t.text)),t.children&&t.children.length){if(r.children.length!=t.children.length)throw new V("ui-template-extend-children-mismatch",r);var i,u=0,a=Fn(t.children);try{for(a.s();!(i=a.n()).done;){var e=i.value;V4(r.children[u++],e)}}catch(o){a.e(o)}finally{a.f()}}}function mi(r){return!r&&r!==0}function $b(r){return r instanceof yt}function SC(r){return r instanceof Re}function jC(r){return r instanceof De}function U4(r){return Gt(r[0])&&r[0].ns}function H4(r){return r=="class"||r=="style"}function vi(r){return vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vi(r)}function G4(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(vi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(vi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),vi(a)==="symbol"?a:String(a)),i)}var u,a}function PC(){return PC=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=gi(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},PC.apply(this,arguments)}function EC(r,t){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EC(r,t)}function oot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=gi(r);if(t){var u=gi(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(vi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function gi(r){return gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gi(r)}var iot=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&EC(e,o)})(a,r);var t,n,i,u=oot(a);function a(e){var o,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,c)).locale=e,o}return t=a,(n=[{key:"bodyCollectionContainer",get:function(){return this._bodyCollectionContainer}},{key:"attachToDom",value:function(){this._bodyCollectionContainer=new Re({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();var e=document.querySelector(".ck-body-wrapper");e||(e=Er(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}},{key:"detachFromDom",value:function(){PC(gi(a.prototype),"destroy",this).call(this),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();var e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}])&&G4(t.prototype,n),i&&G4(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(De),W4=x(1977),aot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(W4.Z,aot),W4.Z.locals;function wi(r){return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(r)}function $4(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(wi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(wi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),wi(a)==="symbol"?a:String(a)),i)}var u,a}function xC(){return xC=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=ki(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},xC.apply(this,arguments)}function TC(r,t){return TC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TC(r,t)}function cot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ki(r);if(t){var u=ki(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(wi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function ki(r){return ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ki(r)}var _i=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&TC(e,o)})(a,r);var t,n,i,u=cot(a);function a(){var e;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a);var o=(e=u.call(this)).bindTemplate;return e.set("content",""),e.set("viewBox","0 0 20 20"),e.set("fillColor",""),e.set("isColorInherited",!0),e.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",o.if("isColorInherited","ck-icon_inherit-color")],viewBox:o.to("viewBox")}}),e}return t=a,(n=[{key:"render",value:function(){var e=this;xC(ki(a.prototype),"render",this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",function(){e._updateXMLContent(),e._colorFillPaths()}),this.on("change:fillColor",function(){e._colorFillPaths()})}},{key:"_updateXMLContent",value:function(){if(this.content){var e=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),o=e.getAttribute("viewBox");o&&(this.viewBox=o);for(var c=0,l=Array.from(e.attributes);c<l.length;c++){var s=l[c],f=s.name,d=s.value;a.presentationalAttributeNames.includes(f)&&this.element.setAttribute(f,d)}for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}},{key:"_colorFillPaths",value:function(){var e=this;this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(function(o){o.style.fill=e.fillColor})}}])&&$4(t.prototype,n),i&&$4(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);_i.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var q4=x(4971),uot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(q4.Z,uot),q4.Z.locals;function Ai(r){return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ai(r)}function Y4(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ai(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ai(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ai(a)==="symbol"?a:String(a)),i)}var u,a}function qb(){return qb=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Vn(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},qb.apply(this,arguments)}function DC(r,t){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DC(r,t)}function lot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Vn(r);if(t){var u=Vn(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ai(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _y(a)}(this,n)}}function _y(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Vn(r){return Vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vn(r)}var vt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&DC(e,o)})(a,r);var t,n,i,u=lot(a);function a(e){var o;(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a),(o=u.call(this,e))._focusDelayed=null;var c=o.bindTemplate,l=Oe();o.set("ariaChecked",void 0),o.set("ariaLabel",void 0),o.set("ariaLabelledBy","ck-editor__aria-label_".concat(l)),o.set("class",void 0),o.set("labelStyle",void 0),o.set("icon",void 0),o.set("isEnabled",!0),o.set("isOn",!1),o.set("isVisible",!0),o.set("isToggleable",!1),o.set("keystroke",void 0),o.set("label",void 0),o.set("role",void 0),o.set("tabindex",-1),o.set("tooltip",!1),o.set("tooltipPosition","s"),o.set("type","button"),o.set("withText",!1),o.set("withKeystroke",!1),o.children=o.createCollection(),o.labelView=o._createLabelView(),o.iconView=new _i,o.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),o.keystrokeView=o._createKeystrokeView(),o.bind("_tooltipString").to(_y(o),"tooltip",_y(o),"label",_y(o),"keystroke",o._getTooltipString.bind(_y(o)));var s={tag:"button",attributes:{class:["ck","ck-button",c.to("class"),c.if("isEnabled","ck-disabled",function(f){return!f}),c.if("isVisible","ck-hidden",function(f){return!f}),c.to("isOn",function(f){return f?"ck-on":"ck-off"}),c.if("withText","ck-button_with-text"),c.if("withKeystroke","ck-button_with-keystroke")],role:c.to("role"),type:c.to("type",function(f){return f||"button"}),tabindex:c.to("tabindex"),"aria-label":c.to("ariaLabel"),"aria-labelledby":c.to("ariaLabelledBy"),"aria-disabled":c.if("isEnabled",!0,function(f){return!f}),"aria-checked":c.to("isOn"),"aria-pressed":c.to("isOn",function(f){return!!o.isToggleable&&String(!!f)}),"data-cke-tooltip-text":c.to("_tooltipString"),"data-cke-tooltip-position":c.to("tooltipPosition")},children:o.children,on:{click:c.to(function(f){o.isEnabled?o.fire("execute"):f.preventDefault()})}};return pt.isSafari&&(o._focusDelayed||(o._focusDelayed=pC(function(){return o.focus()},0)),s.on.mousedown=c.to(function(){o._focusDelayed()}),s.on.mouseup=c.to(function(){o._focusDelayed.cancel()})),o.setTemplate(s),o}return t=a,n=[{key:"render",value:function(){qb(Vn(a.prototype),"render",this).call(this),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}},{key:"focus",value:function(){this.element.focus()}},{key:"destroy",value:function(){this._focusDelayed&&this._focusDelayed.cancel(),qb(Vn(a.prototype),"destroy",this).call(this)}},{key:"_createLabelView",value:function(){var e=new yt,o=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:o.to("labelStyle"),id:this.ariaLabelledBy},children:[{text:o.to("label")}]}),e}},{key:"_createKeystrokeView",value:function(){var e=new yt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",function(o){return p4(o)})}]}),e}},{key:"_getTooltipString",value:function(e,o,c){return e?typeof e=="string"?e:(c&&(c=p4(c)),e instanceof Function?e(o,c):"".concat(o).concat(c?" (".concat(c,")"):"")):""}}],n&&Y4(t.prototype,n),i&&Y4(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt),K4=x(7258),sot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(K4.Z,sot),K4.Z.locals;function Ci(r){return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ci(r)}function Z4(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ci(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ci(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ci(a)==="symbol"?a:String(a)),i)}var u,a}function RC(){return RC=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Oi(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},RC.apply(this,arguments)}function IC(r,t){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IC(r,t)}function fot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Oi(r);if(t){var u=Oi(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ci(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Oi(r){return Oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Oi(r)}var Yb=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&IC(e,o)})(a,r);var t,n,i,u=fot(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).isToggleable=!0,o.toggleSwitchView=o._createToggleView(),o.extendTemplate({attributes:{class:"ck-switchbutton"}}),o}return t=a,(n=[{key:"render",value:function(){RC(Oi(a.prototype),"render",this).call(this),this.children.add(this.toggleSwitchView)}},{key:"_createToggleView",value:function(){var e=new yt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}])&&Z4(t.prototype,n),i&&Z4(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(vt);function Ay(r,t){var n=r.t,i={Black:n("Black"),"Dim grey":n("Dim grey"),Grey:n("Grey"),"Light grey":n("Light grey"),White:n("White"),Red:n("Red"),Orange:n("Orange"),Yellow:n("Yellow"),"Light green":n("Light green"),Green:n("Green"),Aquamarine:n("Aquamarine"),Turquoise:n("Turquoise"),"Light blue":n("Light blue"),Blue:n("Blue"),Purple:n("Purple")};return t.map(function(u){var a=i[u.label];return a&&a!=u.label&&(u.label=a),u})}function Cy(r){return r.map(dot).filter(function(t){return!!t})}function dot(r){return typeof r=="string"?{model:r,label:r,hasBorder:!1,view:{name:"span",styles:{color:r}}}:{model:r.color,label:r.label||r.color,hasBorder:r.hasBorder!==void 0&&r.hasBorder,view:{name:"span",styles:{color:"".concat(r.color)}}}}function Si(r){return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(r)}function Q4(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Si(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Si(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Si(a)==="symbol"?a:String(a)),i)}var u,a}function BC(){return BC=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=ji(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},BC.apply(this,arguments)}function MC(r,t){return MC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MC(r,t)}function pot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ji(r);if(t){var u=ji(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Si(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function ji(r){return ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ji(r)}var J4=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&MC(e,o)})(a,r);var t,n,i,u=pot(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a);var c=(o=u.call(this,e)).bindTemplate;return o.set("color",void 0),o.set("hasBorder",!1),o.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',o.extendTemplate({attributes:{style:{backgroundColor:c.to("color")},class:["ck","ck-color-grid__tile",c.if("hasBorder","ck-color-selector__color-tile_bordered")]}}),o}return t=a,(n=[{key:"render",value:function(){BC(ji(a.prototype),"render",this).call(this),this.iconView.fillColor="hsl(0, 0%, 100%)"}}])&&Q4(t.prototype,n),i&&Q4(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(vt),X4=x(4923),yot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(X4.Z,yot),X4.Z.locals;function Pi(r){return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(r)}function tM(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return eM(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return eM(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function eM(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function rM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Pi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Pi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Pi(a)==="symbol"?a:String(a)),i)}var u,a}function Kb(){return Kb=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Un(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},Kb.apply(this,arguments)}function NC(r,t){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NC(r,t)}function hot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Un(r);if(t){var u=Un(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Pi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Un(r){return Un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Un(r)}var nM=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&NC(e,o)})(a,r);var t,n,i,u=hot(a);function a(e,o){var c;(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a),c=u.call(this,e);var l=o&&o.colorDefinitions?o.colorDefinitions:[];c.columns=o&&o.columns?o.columns:5;var s={gridTemplateColumns:"repeat( ".concat(c.columns,", 1fr)")};return c.set("selectedColor",void 0),c.items=c.createCollection(),c.focusTracker=new ce,c.keystrokes=new de,c.items.on("add",function(f,d){d.isOn=d.color===c.selectedColor}),l.forEach(function(f){var d=new J4;d.set({color:f.color,label:f.label,tooltip:!0,hasBorder:f.options.hasBorder}),d.on("execute",function(){c.fire("execute",{value:f.color,hasBorder:f.options.hasBorder,label:f.label})}),c.items.add(d)}),c.setTemplate({tag:"div",children:c.items,attributes:{class:["ck","ck-color-grid"],style:s}}),c.on("change:selectedColor",function(f,d,h){var b,v=tM(c.items);try{for(v.s();!(b=v.n()).done;){var g=b.value;g.isOn=g.color===h}}catch(k){v.e(k)}finally{v.f()}}),c}return t=a,(n=[{key:"focus",value:function(){this.items.length&&this.items.first.focus()}},{key:"focusLast",value:function(){this.items.length&&this.items.last.focus()}},{key:"render",value:function(){var e=this;Kb(Un(a.prototype),"render",this).call(this);var o,c=tM(this.items);try{for(c.s();!(o=c.n()).done;){var l=o.value;this.focusTracker.add(l.element)}}catch(s){c.e(s)}finally{c.f()}this.items.on("add",function(s,f){e.focusTracker.add(f.element)}),this.items.on("remove",function(s,f){e.focusTracker.remove(f.element)}),this.keystrokes.listenTo(this.element),lt({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}},{key:"destroy",value:function(){Kb(Un(a.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}}])&&rM(t.prototype,n),i&&rM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt),oM=x(8874);const iM=function(r){var t,n,i=[],u=1;if(typeof r=="string")if(oM[r])i=oM[r].slice(),n="rgb";else if(r==="transparent")u=0,n="rgb",i=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(r)){var a=r.slice(1);u=1,(c=a.length)<=4?(i=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],c===4&&(u=parseInt(a[3]+a[3],16)/255)):(i=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],c===8&&(u=parseInt(a[6]+a[7],16)/255)),i[0]||(i[0]=0),i[1]||(i[1]=0),i[2]||(i[2]=0),n="rgb"}else if(t=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(r)){var e=t[1],o=e==="rgb";n=a=e.replace(/a$/,"");var c=a==="cmyk"?4:a==="gray"?1:3;i=t[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(l,s){if(/%$/.test(l))return s===c?parseFloat(l)/100:a==="rgb"?255*parseFloat(l)/100:parseFloat(l);if(a[s]==="h"){if(/deg$/.test(l))return parseFloat(l);if(aM[l]!==void 0)return aM[l]}return parseFloat(l)}),e===a&&i.push(1),u=o||i[c]===void 0?1:i[c],i=i.slice(0,c)}else r.length>10&&/[0-9](?:\s|\/)/.test(r)&&(i=r.match(/([0-9]+)/g).map(function(l){return parseFloat(l)}),n=r.match(/([a-z])/gi).join("").toLowerCase());else isNaN(r)?Array.isArray(r)||r.length?(i=[r[0],r[1],r[2]],n="rgb",u=r.length===4?r[3]:1):r instanceof Object&&(r.r!=null||r.red!=null||r.R!=null?(n="rgb",i=[r.r||r.red||r.R||0,r.g||r.green||r.G||0,r.b||r.blue||r.B||0]):(n="hsl",i=[r.h||r.hue||r.H||0,r.s||r.saturation||r.S||0,r.l||r.lightness||r.L||r.b||r.brightness]),u=r.a||r.alpha||r.opacity||1,r.opacity!=null&&(u/=100)):(n="rgb",i=[r>>>16,(65280&r)>>>8,255&r]);return{space:n,values:i,alpha:u}};var aM={red:0,orange:60,yellow:120,green:180,blue:240,purple:300},cM=x(2085);function uM(r,t){if(!r)return"";var n,i=lM(r);if(!i)return"";if(i.space===t)return r;if(n=i,!Object.keys(cM).includes(n.space))return"";var u=cM[i.space][t];return u?function(a,e){switch(e){case"hex":return"#".concat(a);case"rgb":return"rgb( ".concat(a[0],", ").concat(a[1],", ").concat(a[2]," )");case"hsl":return"hsl( ".concat(a[0],", ").concat(a[1],"%, ").concat(a[2],"% )");case"hwb":return"hwb( ".concat(a[0],", ").concat(a[1],", ").concat(a[2]," )");case"lab":return"lab( ".concat(a[0],"% ").concat(a[1]," ").concat(a[2]," )");case"lch":return"lch( ".concat(a[0],"% ").concat(a[1]," ").concat(a[2]," )");default:return""}}(u(i.space==="hex"?i.hexValue:i.values),t):""}function lM(r){if(r.startsWith("#")){var t=iM(r);return{space:"hex",values:t.values,hexValue:r,alpha:t.alpha}}var n=iM(r);return n.space?n:null}const LC=function(){return or.Date.now()};var bot=/\s/;const mot=function(r){for(var t=r.length;t--&&bot.test(r.charAt(t)););return t};var vot=/^\s+/;const got=function(r){return r&&r.slice(0,mot(r)+1).replace(vot,"")},Zb=function(r){return typeof r=="symbol"||Ze(r)&&Yr(r)=="[object Symbol]"};var wot=/^[-+]0x[0-9a-f]+$/i,kot=/^0b[01]+$/i,_ot=/^0o[0-7]+$/i,Aot=parseInt;const sM=function(r){if(typeof r=="number")return r;if(Zb(r))return NaN;if(Gt(r)){var t=typeof r.valueOf=="function"?r.valueOf():r;r=Gt(t)?t+"":t}if(typeof r!="string")return r===0?r:+r;r=got(r);var n=kot.test(r);return n||_ot.test(r)?Aot(r.slice(2),n?2:8):wot.test(r)?NaN:+r};var Cot=Math.max,Oot=Math.min;const Dr=function(r,t,n){var i,u,a,e,o,c,l=0,s=!1,f=!1,d=!0;if(typeof r!="function")throw new TypeError("Expected a function");function h(_){var A=i,C=u;return i=u=void 0,l=_,e=r.apply(C,A)}function b(_){var A=_-c;return c===void 0||A>=t||A<0||f&&_-l>=a}function v(){var _=LC();if(b(_))return g(_);o=setTimeout(v,function(A){var C=t-(A-c);return f?Oot(C,a-(A-l)):C}(_))}function g(_){return o=void 0,d&&i?h(_):(i=u=void 0,e)}function k(){var _=LC(),A=b(_);if(i=arguments,u=this,c=_,A){if(o===void 0)return function(C){return l=C,o=setTimeout(v,t),s?h(C):e}(c);if(f)return clearTimeout(o),o=setTimeout(v,t),h(c)}return o===void 0&&(o=setTimeout(v,t)),e}return t=sM(t)||0,Gt(n)&&(s=!!n.leading,a=(f="maxWait"in n)?Cot(sM(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),k.cancel=function(){o!==void 0&&clearTimeout(o),l=0,i=c=u=o=void 0},k.flush=function(){return o===void 0?e:g(LC())},k};var fM=x(3525),Sot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(fM.Z,Sot),fM.Z.locals;function Ei(r){return Ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(r)}function dM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ei(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ei(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ei(a)==="symbol"?a:String(a)),i)}var u,a}function zC(r,t){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zC(r,t)}function jot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Qb(r);if(t){var u=Qb(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ei(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Qb(r){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qb(r)}var ir=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&zC(e,o)})(a,r);var t,n,i,u=jot(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a),(o=u.call(this,e)).set("text",void 0),o.set("for",void 0),o.id="ck-editor__label_".concat(Oe());var c=o.bindTemplate;return o.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:o.id,for:c.to("for")},children:[{text:c.to("text")}]}),o}return t=a,n&&dM(t.prototype,n),i&&dM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(yt),pM=x(2933),Pot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(pM.Z,Pot),pM.Z.locals;function xi(r){return xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xi(r)}function yM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(xi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(xi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),xi(a)==="symbol"?a:String(a)),i)}var u,a}function FC(r,t){return FC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FC(r,t)}function Eot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Xb(r);if(t){var u=Xb(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(xi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jb(a)}(this,n)}}function Jb(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Xb(r){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xb(r)}var ue=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&FC(e,o)})(a,r);var t,n,i,u=Eot(a);function a(e,o){var c;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,a),c=u.call(this,e);var l="ck-labeled-field-view-".concat(Oe()),s="ck-labeled-field-view-status-".concat(Oe());c.fieldView=o(Jb(c),l,s),c.set("label",void 0),c.set("isEnabled",!0),c.set("isEmpty",!0),c.set("isFocused",!1),c.set("errorText",null),c.set("infoText",null),c.set("class",void 0),c.set("placeholder",void 0),c.labelView=c._createLabelView(l),c.statusView=c._createStatusView(s),c.fieldWrapperChildren=c.createCollection([c.fieldView,c.labelView]),c.bind("_statusText").to(Jb(c),"errorText",Jb(c),"infoText",function(d,h){return d||h});var f=c.bindTemplate;return c.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",f.to("class"),f.if("isEnabled","ck-disabled",function(d){return!d}),f.if("isEmpty","ck-labeled-field-view_empty"),f.if("isFocused","ck-labeled-field-view_focused"),f.if("placeholder","ck-labeled-field-view_placeholder"),f.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:c.fieldWrapperChildren},c.statusView]}),c}return t=a,(n=[{key:"_createLabelView",value:function(e){var o=new ir(this.locale);return o.for=e,o.bind("text").to(this,"label"),o}},{key:"_createStatusView",value:function(e){var o=new yt(this.locale),c=this.bindTemplate;return o.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",c.if("errorText","ck-labeled-field-view__status_error"),c.if("_statusText","ck-hidden",function(l){return!l})],id:e,role:c.if("errorText","alert")},children:[{text:c.to("_statusText")}]}),o}},{key:"focus",value:function(){this.fieldView.focus()}}])&&yM(t.prototype,n),i&&yM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt),hM=x(2470),xot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(hM.Z,xot),hM.Z.locals;function Ti(r){return Ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ti(r)}function bM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ti(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ti(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ti(a)==="symbol"?a:String(a)),i)}var u,a}function tm(){return tm=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Hn(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},tm.apply(this,arguments)}function VC(r,t){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VC(r,t)}function Tot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Hn(r);if(t){var u=Hn(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ti(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mM(a)}(this,n)}}function mM(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Hn(r){return Hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hn(r)}function Di(r){return Di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(r)}function vM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Di(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Di(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Di(a)==="symbol"?a:String(a)),i)}var u,a}function UC(r,t){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UC(r,t)}function Dot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=em(r);if(t){var u=em(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Di(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function em(r){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},em(r)}var gM=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&UC(e,o)})(a,r);var t,n,i,u=Dot(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).extendTemplate({attributes:{type:"text",class:["ck-input-text"]}}),o}return t=a,n&&vM(t.prototype,n),i&&vM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&VC(e,o)})(a,r);var t,n,i,u=Tot(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a),(o=u.call(this,e)).set("value",void 0),o.set("id",void 0),o.set("placeholder",void 0),o.set("isReadOnly",!1),o.set("hasError",!1),o.set("ariaDescribedById",void 0),o.focusTracker=new ce,o.bind("isFocused").to(o.focusTracker),o.set("isEmpty",!0),o.set("inputMode","text");var c=o.bindTemplate;return o.setTemplate({tag:"input",attributes:{class:["ck","ck-input",c.if("isFocused","ck-input_focused"),c.if("isEmpty","ck-input-text_empty"),c.if("hasError","ck-error")],id:c.to("id"),placeholder:c.to("placeholder"),readonly:c.to("isReadOnly"),inputmode:c.to("inputMode"),"aria-invalid":c.if("hasError",!0),"aria-describedby":c.to("ariaDescribedById")},on:{input:c.to(function(){for(var l,s=arguments.length,f=new Array(s),d=0;d<s;d++)f[d]=arguments[d];(l=o).fire.apply(l,["input"].concat(f)),o._updateIsEmpty()}),change:c.to(o._updateIsEmpty.bind(mM(o)))}}),o}return t=a,(n=[{key:"render",value:function(){var e=this;tm(Hn(a.prototype),"render",this).call(this),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",function(o,c,l){e._setDomElementValue(l),e._updateIsEmpty()})}},{key:"destroy",value:function(){tm(Hn(a.prototype),"destroy",this).call(this),this.focusTracker.destroy()}},{key:"select",value:function(){this.element.select()}},{key:"focus",value:function(){this.element.focus()}},{key:"_updateIsEmpty",value:function(){this.isEmpty=!this.element.value}},{key:"_setDomElementValue",value:function(e){this.element.value=e||e===0?e:""}}])&&bM(t.prototype,n),i&&bM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt));function Ri(r){return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(r)}function wM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ri(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ri(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ri(a)==="symbol"?a:String(a)),i)}var u,a}function HC(r,t){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HC(r,t)}function Rot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=rm(r);if(t){var u=rm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ri(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function rm(r){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rm(r)}var Iot=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&HC(e,o)})(a,r);var t,n,i,u=Rot(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a);var c=(o=u.call(this,e)).bindTemplate;return o.set("isVisible",!1),o.set("position","se"),o.children=o.createCollection(),o.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",c.to("position",function(l){return"ck-dropdown__panel_".concat(l)}),c.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:o.children,on:{selectstart:c.to(function(l){l.target.tagName.toLocaleLowerCase()!=="input"&&l.preventDefault()})}}),o}return t=a,(n=[{key:"focus",value:function(){if(this.children.length){var e=this.children.first;typeof e.focus=="function"?e.focus():Ct("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}},{key:"focusLast",value:function(){if(this.children.length){var e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}])&&wM(t.prototype,n),i&&wM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt),kM=x(5062),Bot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(kM.Z,Bot),kM.Z.locals;function Ii(r){return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(r)}function _M(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ii(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ii(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ii(a)==="symbol"?a:String(a)),i)}var u,a}function GC(){return GC=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Bi(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},GC.apply(this,arguments)}function WC(r,t){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WC(r,t)}function Mot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Bi(r);if(t){var u=Bi(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ii(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Bi(r){return Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bi(r)}var $C=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&WC(e,o)})(a,r);var t,n,i,u=Mot(a);function a(e,o,c){var l;(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a);var s=(l=u.call(this,e)).bindTemplate;return l.buttonView=o,l.panelView=c,l.set("isOpen",!1),l.set("isEnabled",!0),l.set("class",void 0),l.set("id",void 0),l.set("panelPosition","auto"),l.keystrokes=new de,l.focusTracker=new ce,l.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",function(f){return!f})],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[o,c]}),o.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}}),l}return t=a,n=[{key:"render",value:function(){var e=this;GC(Bi(a.prototype),"render",this).call(this),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",function(){e.isOpen=!e.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",function(c,l,s){s&&(e.panelPosition==="auto"?e.panelView.position=a._getOptimalPosition({element:e.panelView.element,target:e.buttonView.element,fitInViewport:!0,positions:e._panelPositions}).name:e.panelView.position=e.panelPosition)}),this.keystrokes.listenTo(this.element);var o=function(c,l){e.isOpen&&(e.isOpen=!1,l())};this.keystrokes.set("arrowdown",function(c,l){e.buttonView.isEnabled&&!e.isOpen&&(e.isOpen=!0,l())}),this.keystrokes.set("arrowright",function(c,l){e.isOpen&&l()}),this.keystrokes.set("arrowleft",o),this.keystrokes.set("esc",o)}},{key:"focus",value:function(){this.buttonView.focus()}},{key:"_panelPositions",get:function(){var e=a.defaultPanelPositions,o=e.south,c=e.north,l=e.southEast,s=e.southWest,f=e.northEast,d=e.northWest,h=e.southMiddleEast,b=e.southMiddleWest,v=e.northMiddleEast,g=e.northMiddleWest;return this.locale.uiLanguageDirection!=="rtl"?[l,s,h,b,o,f,d,v,g,c]:[s,l,b,h,o,d,f,g,v,c]}}],n&&_M(t.prototype,n),i&&_M(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);$C.defaultPanelPositions={south:function(r,t){return{top:r.bottom,left:r.left-(t.width-r.width)/2,name:"s"}},southEast:function(r){return{top:r.bottom,left:r.left,name:"se"}},southWest:function(r,t){return{top:r.bottom,left:r.left-t.width+r.width,name:"sw"}},southMiddleEast:function(r,t){return{top:r.bottom,left:r.left-(t.width-r.width)/4,name:"sme"}},southMiddleWest:function(r,t){return{top:r.bottom,left:r.left-3*(t.width-r.width)/4,name:"smw"}},north:function(r,t){return{top:r.top-t.height,left:r.left-(t.width-r.width)/2,name:"n"}},northEast:function(r,t){return{top:r.top-t.height,left:r.left,name:"ne"}},northWest:function(r,t){return{top:r.top-t.height,left:r.left-t.width+r.width,name:"nw"}},northMiddleEast:function(r,t){return{top:r.top-t.height,left:r.left-(t.width-r.width)/4,name:"nme"}},northMiddleWest:function(r,t){return{top:r.top-t.height,left:r.left-3*(t.width-r.width)/4,name:"nmw"}}},$C._getOptimalPosition=e4;const AM='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';function Mi(r){return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(r)}function CM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Mi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Mi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Mi(a)==="symbol"?a:String(a)),i)}var u,a}function qC(){return qC=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Ni(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},qC.apply(this,arguments)}function YC(r,t){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YC(r,t)}function Not(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ni(r);if(t){var u=Ni(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Mi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OM(a)}(this,n)}}function OM(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ni(r){return Ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ni(r)}var SM=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&YC(e,o)})(a,r);var t,n,i,u=Not(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).arrowView=o._createArrowView(),o.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":o.bindTemplate.to("isOn",function(c){return String(c)})}}),o.delegate("execute").to(OM(o),"open"),o}return t=a,(n=[{key:"render",value:function(){qC(Ni(a.prototype),"render",this).call(this),this.children.add(this.arrowView)}},{key:"_createArrowView",value:function(){var e=new _i;return e.content=AM,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}])&&CM(t.prototype,n),i&&CM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(vt);function Oy(r){return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oy(r)}function Lot(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return jM(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return jM(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function jM(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function PM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Oy(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Oy(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Oy(a)==="symbol"?a:String(a)),i)}var u,a}var Qe=function(){function r(u){var a=this;if(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,r),this.focusables=u.focusables,this.focusTracker=u.focusTracker,this.keystrokeHandler=u.keystrokeHandler,this.actions=u.actions,u.actions&&u.keystrokeHandler){var e=function(c){var l=u.actions[c];typeof l=="string"&&(l=[l]);var s,f=Lot(l);try{for(f.s();!(s=f.n()).done;){var d=s.value;u.keystrokeHandler.set(d,function(h,b){a[c](),b()})}}catch(h){f.e(h)}finally{f.f()}};for(var o in u.actions)e(o)}}var t,n,i;return t=r,(n=[{key:"first",get:function(){return this.focusables.find(KC)||null}},{key:"last",get:function(){return this.focusables.filter(KC).slice(-1)[0]||null}},{key:"next",get:function(){return this._getFocusableItem(1)}},{key:"previous",get:function(){return this._getFocusableItem(-1)}},{key:"current",get:function(){var u=this,a=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find(function(e,o){var c=e.element===u.focusTracker.focusedElement;return c&&(a=o),c}),a)}},{key:"focusFirst",value:function(){this._focus(this.first)}},{key:"focusLast",value:function(){this._focus(this.last)}},{key:"focusNext",value:function(){this._focus(this.next)}},{key:"focusPrevious",value:function(){this._focus(this.previous)}},{key:"_focus",value:function(u){u&&u.focus()}},{key:"_getFocusableItem",value:function(u){var a=this.current,e=this.focusables.length;if(!e)return null;if(a===null)return this[u===1?"first":"last"];var o=(a+e+u)%e;do{var c=this.focusables.get(o);if(KC(c))return c;o=(o+e+u)%e}while(o!==a);return null}}])&&PM(t.prototype,n),i&&PM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function KC(r){return!(!r.focus||!Zr(r.element))}function Li(r){return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(r)}function EM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Li(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Li(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Li(a)==="symbol"?a:String(a)),i)}var u,a}function ZC(r,t){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZC(r,t)}function zot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=nm(r);if(t){var u=nm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Li(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function nm(r){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nm(r)}var QC=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&ZC(e,o)})(a,r);var t,n,i,u=zot(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}}),o}return t=a,n&&EM(t.prototype,n),i&&EM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(yt);function zi(r){return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(r)}function xM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(zi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(zi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),zi(a)==="symbol"?a:String(a)),i)}var u,a}function JC(r,t){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JC(r,t)}function Fot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=om(r);if(t){var u=om(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(zi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function om(r){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},om(r)}var Vot=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&JC(e,o)})(a,r);var t,n,i,u=Fot(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}}),o}return t=a,n&&xM(t.prototype,n),i&&xM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(yt);function TM(r){return Array.isArray(r)?{items:r,removeItems:[]}:r?Object.assign({items:[],removeItems:[]},r):{items:[],removeItems:[]}}function Fi(r){return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(r)}function DM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Fi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Fi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Fi(a)==="symbol"?a:String(a)),i)}var u,a}function XC(r,t){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XC(r,t)}function Uot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=im(r);if(t){var u=im(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Fi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function im(r){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},im(r)}var Y=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&XC(e,o)})(a,r);var t,n,i,u=Uot(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this))._disableStack=new Set,o.editor=e,o.set("isEnabled",!0),o}return t=a,i=[{key:"isContextPlugin",get:function(){return!1}}],(n=[{key:"forceDisabled",value:function(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",RM,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",RM),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}])&&DM(t.prototype,n),i&&DM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt());function RM(r){r.return=!1,r.stop()}function Vi(r){return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(r)}function IM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Vi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Vi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Vi(a)==="symbol"?a:String(a)),i)}var u,a}function tO(r,t){return tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tO(r,t)}function Hot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=am(r);if(t){var u=am(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Vi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function am(r){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},am(r)}var gt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&tO(e,o)})(a,r);var t,n,i,u=Hot(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this)).editor=e,o.set("value",void 0),o.set("isEnabled",!1),o._affectsData=!0,o._isEnabledBasedOnSelection=!0,o._disableStack=new Set,o.decorate("execute"),o.listenTo(o.editor.model.document,"change",function(){o.refresh()}),o.listenTo(e,"change:isReadOnly",function(){o.refresh()}),o.on("set:isEnabled",function(c){if(o.affectsData){var l=e.model.document.selection,s=l.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(l);(e.isReadOnly||o._isEnabledBasedOnSelection&&!s)&&(c.return=!1,c.stop())}},{priority:"highest"}),o.on("execute",function(c){o.isEnabled||c.stop()},{priority:"high"}),o}return t=a,(n=[{key:"affectsData",get:function(){return this._affectsData},set:function(e){this._affectsData=e}},{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",BM,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",BM),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}])&&IM(t.prototype,n),i&&IM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt());function BM(r){r.return=!1,r.stop()}function Ui(r){return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(r)}function MM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ui(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ui(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ui(a)==="symbol"?a:String(a)),i)}var u,a}function eO(r,t){return eO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eO(r,t)}function Got(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=cm(r);if(t){var u=cm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ui(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function cm(r){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cm(r)}var NM=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&eO(e,o)})(a,r);var t,n,i,u=Got(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments))._childCommandsDefinitions=[],e}return t=a,n=[{key:"refresh",value:function(){}},{key:"execute",value:function(){for(var e=this._getFirstEnabledCommand(),o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return!!e&&e.execute(c)}},{key:"registerChildCommand",value:function(e){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vb(this._childCommandsDefinitions,{command:e,priority:c.priority||"normal"}),e.on("change:isEnabled",function(){return o._checkEnabled()}),this._checkEnabled()}},{key:"_checkEnabled",value:function(){this.isEnabled=!!this._getFirstEnabledCommand()}},{key:"_getFirstEnabledCommand",value:function(){var e=this._childCommandsDefinitions.find(function(o){return o.command.isEnabled});return e&&e.command}}],n&&MM(t.prototype,n),i&&MM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Jr(r){return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jr(r)}function Wot(r){return function(t){if(Array.isArray(t))return oO(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||nO(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rO(){rO=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&Jr(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(Jr(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function LM(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||nO(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sy(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=nO(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function nO(r,t){if(r){if(typeof r=="string")return oO(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oO(r,t):void 0}}function oO(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function zM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Jr(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Jr(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Jr(a)==="symbol"?a:String(a)),i)}var u,a}function iO(r,t){return iO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iO(r,t)}function $ot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=um(r);if(t){var u=um(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Jr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function um(r){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},um(r)}var FM=function(r,t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),c&&iO(o,c)})(e,r);var n,i,u,a=$ot(e);function e(o){var c,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];(function(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")})(this,e),(c=a.call(this))._plugins=new Map,c._context=o,c._availablePlugins=new Map;var f,d=Sy(l);try{for(d.s();!(f=d.n()).done;){var h=f.value;h.pluginName&&c._availablePlugins.set(h.pluginName,h)}}catch(A){d.e(A)}finally{d.f()}c._contextPlugins=new Map;var b,v=Sy(s);try{for(v.s();!(b=v.n()).done;){var g=LM(b.value,2),k=g[0],_=g[1];c._contextPlugins.set(k,_),c._contextPlugins.set(_,k),k.pluginName&&c._availablePlugins.set(k.pluginName,k)}}catch(A){v.e(A)}finally{v.f()}return c}return n=e,i=[{key:t,value:rO().mark(function o(){var c,l,s;return rO().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=Sy(this._plugins),f.prev=1,c.s();case 3:if((l=c.n()).done){f.next=10;break}if(typeof(s=l.value)[0]!="function"){f.next=8;break}return f.next=8,s;case 8:f.next=3;break;case 10:f.next=15;break;case 12:f.prev=12,f.t0=f.catch(1),c.e(f.t0);case 15:return f.prev=15,c.f(),f.finish(15);case 18:case"end":return f.stop()}},o,this,[[1,12,15,18]])})},{key:"get",value:function(o){var c=this._plugins.get(o);if(!c){var l=o;throw typeof o=="function"&&(l=o.pluginName||o.name),new V("plugincollection-plugin-not-loaded",this._context,{plugin:l})}return c}},{key:"has",value:function(o){return this._plugins.has(o)}},{key:"init",value:function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],s=this,f=this._context;(function C(S){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;S.forEach(function(E){b(E)&&(P.has(E)||(P.add(E),E.pluginName&&!s._availablePlugins.has(E.pluginName)&&s._availablePlugins.set(E.pluginName,E),E.requires&&C(E.requires,P)))})})(o),_(o);var d=Wot(function C(S){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;return S.map(function(E){return b(E)?E:s._availablePlugins.get(E)}).reduce(function(E,R){return P.has(R)?E:(P.add(R),R.requires&&(_(R.requires,R),C(R.requires,P).forEach(function(I){return E.add(I)})),E.add(R))},new Set)}(o.filter(function(C){return!g(C,c)})));(function(C,S){var P,E=Sy(S);try{for(E.s();!(P=E.n()).done;){var R=P.value;if(typeof R!="function")throw new V("plugincollection-replace-plugin-invalid-type",null,{pluginItem:R});var I=R.pluginName;if(!I)throw new V("plugincollection-replace-plugin-missing-name",null,{pluginItem:R});if(R.requires&&R.requires.length)throw new V("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:I});var z=s._availablePlugins.get(I);if(!z)throw new V("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:I});var F=C.indexOf(z);if(F===-1){if(s._contextPlugins.has(z))return;throw new V("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:I})}if(z.requires&&z.requires.length)throw new V("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:I});C.splice(F,1,R),s._availablePlugins.set(I,R)}}catch(tt){E.e(tt)}finally{E.f()}})(d,l);var h=function(C){return C.map(function(S){var P=s._contextPlugins.get(S);return P=P||new S(f),s._add(S,P),P})}(d);return A(h,"init").then(function(){return A(h,"afterInit")}).then(function(){return h});function b(C){return typeof C=="function"}function v(C){return b(C)&&!!C.isContextPlugin}function g(C,S){return S.some(function(P){return P===C||k(C)===P||k(P)===C})}function k(C){return b(C)?C.pluginName||C.name:C}function _(C){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;C.map(function(P){return b(P)?P:s._availablePlugins.get(P)||P}).forEach(function(P){(function(E,R){if(!b(E))throw R?new V("plugincollection-soft-required",f,{missingPlugin:E,requiredBy:k(R)}):new V("plugincollection-plugin-not-found",f,{plugin:E})})(P,S),function(E,R){if(v(R)&&!v(E))throw new V("plugincollection-context-required",f,{plugin:k(E),requiredBy:k(R)})}(P,S),function(E,R){if(R&&g(E,c))throw new V("plugincollection-required",f,{plugin:k(E),requiredBy:k(R)})}(P,S)})}function A(C,S){return C.reduce(function(P,E){return E[S]?s._contextPlugins.has(E)?P:P.then(E[S].bind(E)):P},Promise.resolve())}}},{key:"destroy",value:function(){var o,c=[],l=Sy(this);try{for(l.s();!(o=l.n()).done;){var s=LM(o.value,2)[1];typeof s.destroy!="function"||this._contextPlugins.has(s)||c.push(s.destroy())}}catch(f){l.e(f)}finally{l.f()}return Promise.all(c)}},{key:"_add",value:function(o,c){this._plugins.set(o,c);var l=o.pluginName;if(l){if(this._plugins.has(l))throw new V("plugincollection-plugin-name-conflict",null,{pluginName:l,plugin1:this._plugins.get(l).constructor,plugin2:o});this._plugins.set(l,c)}}}],i&&zM(n.prototype,i),u&&zM(n,u),Object.defineProperty(n,"prototype",{writable:!1}),e}(Nt(),Symbol.iterator);function jy(r){return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jy(r)}function VM(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return UM(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return UM(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function UM(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function HM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(jy(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(jy(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),jy(a)==="symbol"?a:String(a)),i)}var u,a}var GM=function(){function r(u){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,r),this._contextOwner=null,this.config=new P3(u,this.constructor.defaultConfig);var a=this.constructor.builtinPlugins;this.config.define("plugins",a),this.plugins=new FM(this,a);var e=this.config.get("language")||{};this.locale=new Hnt({uiLanguage:typeof e=="string"?e:e.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Qt}var t,n,i;return t=r,i=[{key:"create",value:function(u){var a=this;return new Promise(function(e){var o=new a(u);e(o.initPlugins().then(function(){return o}))})}}],(n=[{key:"initPlugins",value:function(){var u,a=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[],o=VM(a.concat(e));try{for(o.s();!(u=o.n()).done;){var c=u.value;if(typeof c!="function")throw new V("context-initplugins-constructor-only",null,{Plugin:c});if(c.isContextPlugin!==!0)throw new V("context-initplugins-invalid-plugin",null,{Plugin:c})}}catch(l){o.e(l)}finally{o.f()}return this.plugins.init(a,[],e)}},{key:"destroy",value:function(){var u=this;return Promise.all(Array.from(this.editors,function(a){return a.destroy()})).then(function(){return u.plugins.destroy()})}},{key:"_addEditor",value:function(u,a){if(this._contextOwner)throw new V("context-addeditor-private-context");this.editors.add(u),a&&(this._contextOwner=u)}},{key:"_removeEditor",value:function(u){return this.editors.has(u)&&this.editors.remove(u),this._contextOwner===u?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var u,a={},e=VM(this.config.names());try{for(e.s();!(u=e.n()).done;){var o=u.value;["plugins","removePlugins","extraPlugins"].includes(o)||(a[o]=this.config.get(o))}}catch(c){e.e(c)}finally{e.f()}return a}}])&&HM(t.prototype,n),i&&HM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Hi(r){return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(r)}function WM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Hi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Hi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Hi(a)==="symbol"?a:String(a)),i)}var u,a}function aO(r,t){return aO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aO(r,t)}function qot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=lm(r);if(t){var u=lm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Hi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function lm(r){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lm(r)}var sm=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&aO(e,o)})(a,r);var t,n,i,u=qot(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this)).context=e,o}return t=a,i=[{key:"isContextPlugin",get:function(){return!0}}],(n=[{key:"destroy",value:function(){this.stopListening()}}])&&WM(t.prototype,n),i&&WM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt()),$M=x(7372),Yot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()($M.Z,Yot),$M.Z.locals;function qM(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||KM(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function YM(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=KM(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function KM(r,t){if(r){if(typeof r=="string")return ZM(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZM(r,t):void 0}}function ZM(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}var fm=new WeakMap,QM=!1;function cO(r){var t=r.view,n=r.element,i=r.text,u=r.isDirectHost,a=u===void 0||u,e=r.keepOnFocus,o=e!==void 0&&e,c=t.document;function l(s){fm.get(c).set(n,{text:s,isDirectHost:a,keepOnFocus:o,hostElement:a?n:null}),t.change(function(f){return uO(c,f)})}fm.has(c)||(fm.set(c,new Map),c.registerPostFixer(function(s){return uO(c,s)}),c.on("change:isComposing",function(){t.change(function(s){return uO(c,s)})},{priority:"high"})),n.is("editableElement")&&n.on("change:placeholder",function(s,f,d){l(d)}),n.placeholder?l(n.placeholder):i&&l(i),i&&function(){QM||Ct("enableplaceholder-deprecated-text-option"),QM=!0}()}function Kot(r,t){return!!t.hasClass("ck-placeholder")&&(r.removeClass("ck-placeholder",t),!0)}function uO(r,t){var n,i=fm.get(r),u=[],a=!1,e=YM(i);try{for(e.s();!(n=e.n()).done;){var o=qM(n.value,2),c=o[0],l=o[1];l.isDirectHost&&(u.push(c),JM(t,c,l)&&(a=!0))}}catch(g){e.e(g)}finally{e.f()}var s,f=YM(i);try{for(f.s();!(s=f.n()).done;){var d=qM(s.value,2),h=d[0],b=d[1];if(!b.isDirectHost){var v=Zot(h);v&&(u.includes(v)||(b.hostElement=v,JM(t,h,b)&&(a=!0)))}}}catch(g){f.e(g)}finally{f.f()}return a}function JM(r,t,n){var i=n.text,u=n.isDirectHost,a=n.hostElement,e=!1;return a.getAttribute("data-placeholder")!==i&&(r.setAttribute("data-placeholder",i,a),e=!0),(u||t.childCount==1)&&function(o,c){if(!o.isAttached())return!1;var l=Array.from(o.getChildren()).some(function(d){return!d.is("uiElement")});if(l)return!1;var s=o.document,f=s.selection.anchor;return!(s.isComposing&&f&&f.parent===o||!c&&s.isFocused&&(!f||f.parent===o))}(a,n.keepOnFocus)?function(o,c){return!c.hasClass("ck-placeholder")&&(o.addClass("ck-placeholder",c),!0)}(r,a)&&(e=!0):Kot(r,a)&&(e=!0),e}function Zot(r){if(r.childCount){var t=r.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}function Py(r){return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Py(r)}function XM(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Py(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Py(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Py(a)==="symbol"?a:String(a)),i)}var u,a}var Gn=function(){function r(){(function(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")})(this,r)}var t,n,i;return t=r,(n=[{key:"is",value:function(){throw new Error("is() method is abstract")}}])&&XM(t.prototype,n),i&&XM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();const tN=function(r){return eC(r,4)};function Gi(r){return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(r)}function eN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Gi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Gi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Gi(a)==="symbol"?a:String(a)),i)}var u,a}function lO(r,t){return lO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lO(r,t)}function Qot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=dm(r);if(t){var u=dm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Gi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function dm(r){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dm(r)}var Wn=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&lO(e,o)})(a,r);var t,n,i,u=Qot(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this)).document=e,o.parent=null,o}return t=a,n=[{key:"index",get:function(){var e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new V("view-node-not-found-in-parent",this);return e}},{key:"nextSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],o=this;o.parent;)e.unshift(o.index),o=o.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=[],c=e.includeSelf?this:this.parent;c;)o[e.parentFirst?"push":"unshift"](c),c=c.parent;return o}},{key:"getCommonAncestor",value:function(e){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.getAncestors(o),l=e.getAncestors(o),s=0;c[s]==l[s]&&c[s];)s++;return s===0?null:c[s-1]}},{key:"isBefore",value:function(e){if(this==e||this.root!==e.root)return!1;var o=this.getPath(),c=e.getPath(),l=ke(o,c);switch(l){case"prefix":return!0;case"extension":return!1;default:return o[l]<c[l]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_fireChange",value:function(e,o){this.fire("change:".concat(e),o),this.parent&&this.parent._fireChange(e,o)}},{key:"toJSON",value:function(){var e=tN(this);return delete e.parent,e}}],n&&eN(t.prototype,n),i&&eN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Nt(Gn));function Wi(r){return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(r)}function rN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Wi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Wi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Wi(a)==="symbol"?a:String(a)),i)}var u,a}function sO(r,t){return sO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sO(r,t)}function Jot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=pm(r);if(t){var u=pm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Wi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function pm(r){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pm(r)}Wn.prototype.is=function(r){return r==="node"||r==="view:node"};var $t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&sO(e,o)})(a,r);var t,n,i,u=Jot(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e))._textData=o,c}return t=a,(n=[{key:"data",get:function(){return this._textData}},{key:"_data",get:function(){return this.data},set:function(e){this._fireChange("text",this),this._textData=e}},{key:"isSimilar",value:function(e){return e instanceof a&&(this===e||this.data===e.data)}},{key:"_clone",value:function(){return new a(this.document,this.data)}}])&&rN(t.prototype,n),i&&rN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Wn);function $i(r){return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(r)}function nN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if($i(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if($i(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),$i(a)==="symbol"?a:String(a)),i)}var u,a}function fO(r,t){return fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fO(r,t)}function Xot(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ym(r);if(t){var u=ym(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&($i(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dO(a)}(this,n)}}function dO(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ym(r){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ym(r)}$t.prototype.is=function(r){return r==="$text"||r==="view:$text"||r==="text"||r==="view:text"||r==="node"||r==="view:node"};var hr=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&fO(e,o)})(a,r);var t,n,i,u=Xot(a);function a(e,o,c){var l;if(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,a),(l=u.call(this)).textNode=e,o<0||o>e.data.length)throw new V("view-textproxy-wrong-offsetintext",dO(l));if(c<0||o+c>e.data.length)throw new V("view-textproxy-wrong-length",dO(l));return l.data=e.data.substring(o,o+c),l.offsetInText=o,l}return t=a,n=[{key:"offsetSize",get:function(){return this.data.length}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=[],c=e.includeSelf?this.textNode:this.parent;c!==null;)o[e.parentFirst?"push":"unshift"](c),c=c.parent;return o}}],n&&nN(t.prototype,n),i&&nN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Gn);function tit(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||iN(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ey(r){return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ey(r)}function oN(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=iN(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function iN(r,t){if(r){if(typeof r=="string")return aN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aN(r,t):void 0}}function aN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function cN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ey(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ey(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ey(a)==="symbol"?a:String(a)),i)}var u,a}hr.prototype.is=function(r){return r==="$textProxy"||r==="view:$textProxy"||r==="textProxy"||r==="view:textProxy"};var ze=function(){function r(){(function(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")})(this,r),this._patterns=[],this.add.apply(this,arguments)}var t,n,i;return t=r,n=[{key:"add",value:function(){for(var u=arguments.length,a=new Array(u),e=0;e<u;e++)a[e]=arguments[e];for(var o=0,c=a;o<c.length;o++){var l=c[o];(typeof l=="string"||l instanceof RegExp)&&(l={name:l}),this._patterns.push(l)}}},{key:"match",value:function(){for(var u=arguments.length,a=new Array(u),e=0;e<u;e++)a[e]=arguments[e];for(var o=0,c=a;o<c.length;o++){var l,s=c[o],f=oN(this._patterns);try{for(f.s();!(l=f.n()).done;){var d=l.value,h=uN(s,d);if(h)return{element:s,pattern:d,match:h}}}catch(b){f.e(b)}finally{f.f()}}return null}},{key:"matchAll",value:function(){for(var u=[],a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];for(var c=0,l=e;c<l.length;c++){var s,f=l[c],d=oN(this._patterns);try{for(d.s();!(s=d.n()).done;){var h=s.value,b=uN(f,h);b&&u.push({element:f,pattern:h,match:b})}}catch(v){d.e(v)}finally{d.f()}}return u.length>0?u:null}},{key:"getElementName",value:function(){if(this._patterns.length!==1)return null;var u=this._patterns[0],a=u.name;return typeof u=="function"||!a||a instanceof RegExp?null:a}}],n&&cN(t.prototype,n),i&&cN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function uN(r,t){if(typeof t=="function")return t(r);var n={};return t.name&&(n.name=function(i,u){return i instanceof RegExp?!!u.match(i):i===u}(t.name,r.name),!n.name)||t.attributes&&(n.attributes=function(i,u){var a=new Set(u.getAttributeKeys());return Te(i)?(i.style!==void 0&&Ct("matcher-pattern-deprecated-attributes-style-key",i),i.class!==void 0&&Ct("matcher-pattern-deprecated-attributes-class-key",i)):(a.delete("style"),a.delete("class")),pO(i,a,function(e){return u.getAttribute(e)})}(t.attributes,r),!n.attributes)||t.classes&&(n.classes=function(i,u){return pO(i,u.getClassNames(),function(){})}(t.classes,r),!n.classes)||t.styles&&(n.styles=function(i,u){return pO(i,u.getStyleNames(!0),function(a){return u.getStyle(a)})}(t.styles,r),!n.styles)?null:n}function pO(r,t,n){var i=function(e){return Array.isArray(e)?e.map(function(o){return Te(o)?(o.key!==void 0&&o.value!==void 0||Ct("matcher-pattern-missing-key-or-value",o),[o.key,o.value]):[o,!0]}):Te(e)?Object.entries(e):[[e,!0]]}(r),u=Array.from(t),a=[];if(i.forEach(function(e){var o=tit(e,2),c=o[0],l=o[1];u.forEach(function(s){(function(f,d){return f===!0||f===d||f instanceof RegExp&&d.match(f)})(c,s)&&function(f,d,h){if(f===!0)return!0;var b=h(d);return f===b||f instanceof RegExp&&!!String(b).match(f)}(l,s,n)&&a.push(s)})}),i.length&&!(a.length<i.length))return a}var eit=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rit=/^\w*$/;const nit=function(r,t){if(Se(r))return!1;var n=typeof r;return!(n!="number"&&n!="symbol"&&n!="boolean"&&r!=null&&!Zb(r))||rit.test(r)||!eit.test(r)||t!=null&&r in Object(t)};function yO(r,t){if(typeof r!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var i=arguments,u=t?t.apply(this,i):i[0],a=n.cache;if(a.has(u))return a.get(u);var e=r.apply(this,i);return n.cache=a.set(u,e)||a,e};return n.cache=new(yO.Cache||jb),n}yO.Cache=jb;const oit=yO,iit=function(r){var t=oit(r,function(i){return n.size===500&&n.clear(),i}),n=t.cache;return t};var ait=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cit=/\\(\\)?/g,uit=iit(function(r){var t=[];return r.charCodeAt(0)===46&&t.push(""),r.replace(ait,function(n,i,u,a){t.push(u?a.replace(cit,"$1"):i||n)}),t});const lit=uit,lN=function(r,t){for(var n=-1,i=r==null?0:r.length,u=Array(i);++n<i;)u[n]=t(r[n],n,r);return u};var sN=yr?yr.prototype:void 0,fN=sN?sN.toString:void 0;const sit=function r(t){if(typeof t=="string")return t;if(Se(t))return lN(t,r)+"";if(Zb(t))return fN?fN.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},xy=function(r){return r==null?"":sit(r)},hO=function(r,t){return Se(r)?r:nit(r,t)?[r]:lit(xy(r))},fit=function(r){var t=r==null?0:r.length;return t?r[t-1]:void 0},bO=function(r){if(typeof r=="string"||Zb(r))return r;var t=r+"";return t=="0"&&1/r==-1/0?"-0":t},dN=function(r,t){for(var n=0,i=(t=hO(t,r)).length;r!=null&&n<i;)r=r[bO(t[n++])];return n&&n==i?r:void 0},pN=function(r,t,n){var i=-1,u=r.length;t<0&&(t=-t>u?0:u+t),(n=n>u?u:n)<0&&(n+=u),u=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(u);++i<u;)a[i]=r[i+t];return a},dit=function(r,t){return t.length<2?r:dN(r,pN(t,0,-1))},pit=function(r,t){return t=hO(t,r),(r=dit(r,t))==null||delete r[bO(fit(t))]},yit=function(r,t){return r==null||pit(r,t)},hm=function(r,t,n){var i=r==null?void 0:dN(r,t);return i===void 0?n:i},mO=function(r,t,n){(n!==void 0&&!cy(r[t],n)||n===void 0&&!(t in r))&&zA(r,t,n)},hit=function(r){return function(t,n,i){for(var u=-1,a=Object(t),e=i(t),o=e.length;o--;){var c=e[r?o:++u];if(n(a[c],c,a)===!1)break}return t}}(),bit=function(r){return Ze(r)&&xb(r)},vO=function(r,t){if((t!=="constructor"||typeof r[t]!="function")&&t!="__proto__")return r[t]},mit=function(r){return ai(r,ui(r))},vit=function(r,t,n,i,u,a,e){var o=vO(r,n),c=vO(t,n),l=e.get(c);if(l)mO(r,n,l);else{var s=a?a(o,c,n+"",r,t,e):void 0,f=s===void 0;if(f){var d=Se(c),h=!d&&fy(c),b=!d&&!h&&GA(c);s=c,d||h||b?Se(o)?s=o:bit(o)?s=qA(o):h?(f=!1,s=o3(c,!0)):b?(f=!1,s=m3(c,!0)):s=[]:Te(c)||VA(c)?(s=o,VA(o)?s=mit(o):Gt(o)&&!Tn(o)||(s=g3(c))):f=!1}f&&(e.set(c,s),u(s,c,i,a,e),e.delete(c)),mO(r,n,s)}},yN=function r(t,n,i,u,a){t!==n&&hit(n,function(e,o){if(a||(a=new sy),Gt(e))vit(t,n,o,i,r,u,a);else{var c=u?u(vO(t,o),e,o+"",t,n,a):void 0;c===void 0&&(c=e),mO(t,o,c)}},ui)},$n=function(r){return r},git=function(r,t,n){switch(n.length){case 0:return r.call(t);case 1:return r.call(t,n[0]);case 2:return r.call(t,n[0],n[1]);case 3:return r.call(t,n[0],n[1],n[2])}return r.apply(t,n)};var hN=Math.max;const wit=function(r,t,n){return t=hN(t===void 0?r.length-1:t,0),function(){for(var i=arguments,u=-1,a=hN(i.length-t,0),e=Array(a);++u<a;)e[u]=i[t+u];u=-1;for(var o=Array(t+1);++u<t;)o[u]=i[u];return o[t]=n(e),git(r,this,o)}},kit=function(r){return function(){return r}},_it=Pb?function(r,t){return Pb(r,"toString",{configurable:!0,enumerable:!1,value:kit(t),writable:!0})}:$n;var Ait=Date.now;const Cit=function(r){var t=0,n=0;return function(){var i=Ait(),u=16-(i-n);if(n=i,u>0){if(++t>=800)return arguments[0]}else t=0;return r.apply(void 0,arguments)}}(_it),bN=function(r,t){return Cit(wit(r,t,$n),r+"")},Oit=function(r,t,n){if(!Gt(n))return!1;var i=typeof t;return!!(i=="number"?xb(n)&&UA(t,n.length):i=="string"&&t in n)&&cy(n[t],r)},gO=function(r){return bN(function(t,n){var i=-1,u=n.length,a=u>1?n[u-1]:void 0,e=u>2?n[2]:void 0;for(a=r.length>3&&typeof a=="function"?(u--,a):void 0,e&&Oit(n[0],n[1],e)&&(a=u<3?void 0:a,u=1),t=Object(t);++i<u;){var o=n[i];o&&r(t,o,i,a)}return t})},mN=gO(function(r,t,n){yN(r,t,n)}),Sit=function(r,t,n,i){if(!Gt(r))return r;for(var u=-1,a=(t=hO(t,r)).length,e=a-1,o=r;o!=null&&++u<a;){var c=bO(t[u]),l=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return r;if(u!=e){var s=o[c];(l=i?i(s,c,o):void 0)===void 0&&(l=Gt(s)?s:UA(t[u+1])?[]:{})}FA(o,c,l),o=o[c]}return r},jit=function(r,t,n){return r==null?r:Sit(r,t,n)};function qi(r){return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(r)}function bm(r){return function(t){if(Array.isArray(t))return kO(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||wO(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ty(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||wO(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wO(r,t){if(r){if(typeof r=="string")return kO(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kO(r,t):void 0}}function kO(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function vN(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function gN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(qi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(qi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),qi(a)==="symbol"?a:String(a)),i)}var u,a}function wN(r,t,n){return t&&gN(r.prototype,t),n&&gN(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}var Pit=function(){function r(t){vN(this,r),this._styles={},this._styleProcessor=t}return wN(r,[{key:"isEmpty",get:function(){var t=Object.entries(this._styles);return!Array.from(t).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}},{key:"setTo",value:function(t){this.clear();for(var n=0,i=Array.from(function(o){var c=null,l=0,s=0,f=null,d=new Map;if(o==="")return d;o.charAt(o.length-1)!=";"&&(o+=";");for(var h=0;h<o.length;h++){var b=o.charAt(h);if(c===null)switch(b){case":":f||(f=o.substr(l,h-l),s=h+1);break;case'"':case"'":c=b;break;case";":var v=o.substr(s,h-s);f&&d.set(f.trim(),v.trim()),f=null,l=h+1}else b===c&&(c=null)}return d}(t).entries());n<i.length;n++){var u=Ty(i[n],2),a=u[0],e=u[1];this._styleProcessor.toNormalizedForm(a,e,this._styles)}}},{key:"has",value:function(t){if(this.isEmpty)return!1;var n=this._styleProcessor.getReducedForm(t,this._styles).find(function(i){return Ty(i,1)[0]===t});return Array.isArray(n)}},{key:"set",value:function(t,n){if(Gt(t))for(var i=0,u=Object.entries(t);i<u.length;i++){var a=Ty(u[i],2),e=a[0],o=a[1];this._styleProcessor.toNormalizedForm(e,o,this._styles)}else this._styleProcessor.toNormalizedForm(t,n,this._styles)}},{key:"remove",value:function(t){var n=_O(t);yit(this._styles,n),delete this._styles[t],this._cleanEmptyObjectsOnPath(n)}},{key:"getNormalized",value:function(t){return this._styleProcessor.getNormalized(t,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map(function(t){return t.join(":")}).sort().join(";")+";"}},{key:"getAsString",value:function(t){if(!this.isEmpty){if(this._styles[t]&&!Gt(this._styles[t]))return this._styles[t];var n=this._styleProcessor.getReducedForm(t,this._styles).find(function(i){return Ty(i,1)[0]===t});return Array.isArray(n)?n[1]:void 0}}},{key:"getStyleNames",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return this.isEmpty?[]:t?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(function(n){return Ty(n,1)[0]})}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var t=[],n=0,i=Object.keys(this._styles);n<i.length;n++){var u=i[n];t.push.apply(t,bm(this._styleProcessor.getReducedForm(u,this._styles)))}return t}},{key:"_cleanEmptyObjectsOnPath",value:function(t){var n=t.split(".");if(n.length>1){var i=n.splice(0,n.length-1).join("."),u=hm(this._styles,i);u&&!Array.from(Object.keys(u)).length&&this.remove(i)}}}]),r}(),Eit=function(){function r(){vN(this,r),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}return wN(r,[{key:"toNormalizedForm",value:function(t,n,i){if(Gt(n))AO(i,_O(t),n);else if(this._normalizers.has(t)){var u=this._normalizers.get(t)(n);AO(i,u.path,u.value)}else AO(i,t,n)}},{key:"getNormalized",value:function(t,n){if(!t)return mN({},n);if(n[t]!==void 0)return n[t];if(this._extractors.has(t)){var i=this._extractors.get(t);if(typeof i=="string")return hm(n,i);var u=i(t,n);if(u)return u}return hm(n,_O(t))}},{key:"getReducedForm",value:function(t,n){var i=this.getNormalized(t,n);return i===void 0?[]:this._reducers.has(t)?this._reducers.get(t)(i):[[t,i]]}},{key:"getStyleNames",value:function(t){var n=this,i=Array.from(this._consumables.keys()).filter(function(a){var e=n.getNormalized(a,t);return e&&qi(e)=="object"?Object.keys(e).length:e}),u=new Set([].concat(bm(i),bm(Object.keys(t))));return Array.from(u.values())}},{key:"getRelatedStyles",value:function(t){return this._consumables.get(t)||[]}},{key:"setNormalizer",value:function(t,n){this._normalizers.set(t,n)}},{key:"setExtractor",value:function(t,n){this._extractors.set(t,n)}},{key:"setReducer",value:function(t,n){this._reducers.set(t,n)}},{key:"setStyleRelation",value:function(t,n){this._mapStyleNames(t,n);var i,u=function(e,o){var c=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!c){if(Array.isArray(e)||(c=wO(e))||o&&e&&typeof e.length=="number"){c&&(e=c);var l=0,s=function(){};return{s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f,d=!0,h=!1;return{s:function(){c=c.call(e)},n:function(){var b=c.next();return d=b.done,b},e:function(b){h=!0,f=b},f:function(){try{d||c.return==null||c.return()}finally{if(h)throw f}}}}(n);try{for(u.s();!(i=u.n()).done;){var a=i.value;this._mapStyleNames(a,[t])}}catch(e){u.e(e)}finally{u.f()}}},{key:"_mapStyleNames",value:function(t,n){var i;this._consumables.has(t)||this._consumables.set(t,[]),(i=this._consumables.get(t)).push.apply(i,bm(n))}}]),r}();function _O(r){return r.replace("-",".")}function AO(r,t,n){var i=n;Gt(n)&&(i=mN({},hm(r,t),n)),jit(r,t,i)}function Xr(r){return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(r)}function CO(r,t,n){return CO=AN()?Reflect.construct.bind():function(i,u,a){var e=[null];e.push.apply(e,u);var o=new(Function.bind.apply(i,e));return a&&mm(o,a.prototype),o},CO.apply(null,arguments)}function kN(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||OO(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rr(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=OO(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function xit(r){return function(t){if(Array.isArray(t))return SO(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||OO(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function OO(r,t){if(r){if(typeof r=="string")return SO(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SO(r,t):void 0}}function SO(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function qn(){qn=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&Xr(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(Xr(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function _N(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Xr(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Xr(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Xr(a)==="symbol"?a:String(a)),i)}var u,a}function mm(r,t){return mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mm(r,t)}function Tit(r){var t=AN();return function(){var n,i=vm(r);if(t){var u=vm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Xr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function AN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}function vm(r){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vm(r)}var ar=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&mm(e,o)})(a,r);var t,n,i,u=Tit(a);function a(e,o,c,l){var s;if(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),(s=u.call(this,e))._unsafeAttributesToRender=[],s._customProperties=new Map,s.name=o,s._attrs=function(d){var h,b=Tr(d),v=Rr(b);try{for(v.s();!(h=v.n()).done;){var g=kN(h.value,2),k=g[0],_=g[1];_===null?b.delete(k):typeof _!="string"&&b.set(k,String(_))}}catch(A){v.e(A)}finally{v.f()}return b}(c),s._children=[],l&&s._insertChild(0,l),s._classes=new Set,s._attrs.has("class")){var f=s._attrs.get("class");CN(s._classes,f),s._attrs.delete("class")}return s._styles=new Pit(s.document.stylesProcessor),s._attrs.has("style")&&(s._styles.setTo(s._attrs.get("style")),s._attrs.delete("style")),s}return t=a,n=[{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return this._children.length===0}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getAttributeKeys",value:qn().mark(function e(){return qn().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(this._classes.size>0)){o.next=3;break}return o.next=3,"class";case 3:if(this._styles.isEmpty){o.next=6;break}return o.next=6,"style";case 6:return o.delegateYield(this._attrs.keys(),"t0",7);case 7:case"end":return o.stop()}},e,this)})},{key:"getAttributes",value:qn().mark(function e(){return qn().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.delegateYield(this._attrs.entries(),"t0",1);case 1:if(!(this._classes.size>0)){o.next=4;break}return o.next=4,["class",this.getAttribute("class")];case 4:if(this._styles.isEmpty){o.next=7;break}return o.next=7,["style",this.getAttribute("style")];case 7:case"end":return o.stop()}},e,this)})},{key:"getAttribute",value:function(e){if(e=="class")return this._classes.size>0?xit(this._classes).join(" "):void 0;if(e=="style"){var o=this._styles.toString();return o==""?void 0:o}return this._attrs.get(e)}},{key:"hasAttribute",value:function(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}},{key:"isSimilar",value:function(e){if(!(e instanceof a))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;var o,c=Rr(this._attrs);try{for(c.s();!(o=c.n()).done;){var l=kN(o.value,2),s=l[0],f=l[1];if(!e._attrs.has(s)||e._attrs.get(s)!==f)return!1}}catch(_){c.e(_)}finally{c.f()}var d,h=Rr(this._classes);try{for(h.s();!(d=h.n()).done;){var b=d.value;if(!e._classes.has(b))return!1}}catch(_){h.e(_)}finally{h.f()}var v,g=Rr(this._styles.getStyleNames());try{for(g.s();!(v=g.n()).done;){var k=v.value;if(!e._styles.has(k)||e._styles.getAsString(k)!==this._styles.getAsString(k))return!1}}catch(_){g.e(_)}finally{g.f()}return!0}},{key:"hasClass",value:function(){for(var e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];for(var l=0,s=o;l<s.length;l++){var f=s[l];if(!this._classes.has(f))return!1}return!0}},{key:"getClassNames",value:function(){return this._classes.keys()}},{key:"getStyle",value:function(e){return this._styles.getAsString(e)}},{key:"getNormalizedStyle",value:function(e){return this._styles.getNormalized(e)}},{key:"getStyleNames",value:function(e){return this._styles.getStyleNames(e)}},{key:"hasStyle",value:function(){for(var e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];for(var l=0,s=o;l<s.length;l++){var f=s[l];if(!this._styles.has(f))return!1}return!0}},{key:"findAncestor",value:function(){for(var e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];for(var l=CO(ze,o),s=this.parent;s&&!s.is("documentFragment");){if(l.match(s))return s;s=s.parent}return null}},{key:"getCustomProperty",value:function(e){return this._customProperties.get(e)}},{key:"getCustomProperties",value:qn().mark(function e(){return qn().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return o.stop()}},e,this)})},{key:"getIdentity",value:function(){var e=Array.from(this._classes).sort().join(","),o=this._styles.toString(),c=Array.from(this._attrs).map(function(l){return"".concat(l[0],'="').concat(l[1],'"')}).sort().join(" ");return this.name+(e==""?"":' class="'.concat(e,'"'))+(o?' style="'.concat(o,'"'):"")+(c==""?"":" ".concat(c))}},{key:"shouldRenderUnsafeAttribute",value:function(e){return this._unsafeAttributesToRender.includes(e)}},{key:"_clone",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=[];if(e){var c,l=Rr(this.getChildren());try{for(l.s();!(c=l.n()).done;){var s=c.value;o.push(s._clone(e))}}catch(d){l.e(d)}finally{l.f()}}var f=new this.constructor(this.document,this.name,this._attrs,o);return f._classes=new Set(this._classes),f._styles.set(this._styles.getNormalized()),f._customProperties=new Map(this._customProperties),f.getFillerOffset=this.getFillerOffset,f._unsafeAttributesToRender=this._unsafeAttributesToRender,f}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,o){this._fireChange("children",this);var c,l=0,s=function(h,b){return typeof b=="string"?[new $t(h,b)]:(Le(b)||(b=[b]),Array.from(b).map(function(v){return typeof v=="string"?new $t(h,v):v instanceof hr?new $t(h,v.data):v}))}(this.document,o),f=Rr(s);try{for(f.s();!(c=f.n()).done;){var d=c.value;d.parent!==null&&d._remove(),d.parent=this,d.document=this.document,this._children.splice(e,0,d),e++,l++}}catch(h){f.e(h)}finally{f.f()}return l}},{key:"_removeChildren",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this._fireChange("children",this);for(var c=e;c<e+o;c++)this._children[c].parent=null;return this._children.splice(e,o)}},{key:"_setAttribute",value:function(e,o){var c=String(o);this._fireChange("attributes",this),e=="class"?CN(this._classes,c):e=="style"?this._styles.setTo(c):this._attrs.set(e,c)}},{key:"_removeAttribute",value:function(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}},{key:"_addClass",value:function(e){this._fireChange("attributes",this);var o,c=Rr(Kt(e));try{for(c.s();!(o=c.n()).done;){var l=o.value;this._classes.add(l)}}catch(s){c.e(s)}finally{c.f()}}},{key:"_removeClass",value:function(e){this._fireChange("attributes",this);var o,c=Rr(Kt(e));try{for(c.s();!(o=c.n()).done;){var l=o.value;this._classes.delete(l)}}catch(s){c.e(s)}finally{c.f()}}},{key:"_setStyle",value:function(e,o){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,o)}},{key:"_removeStyle",value:function(e){this._fireChange("attributes",this);var o,c=Rr(Kt(e));try{for(c.s();!(o=c.n()).done;){var l=o.value;this._styles.remove(l)}}catch(s){c.e(s)}finally{c.f()}}},{key:"_setCustomProperty",value:function(e,o){this._customProperties.set(e,o)}},{key:"_removeCustomProperty",value:function(e){return this._customProperties.delete(e)}}],n&&_N(t.prototype,n),i&&_N(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Wn);function CN(r,t){var n=t.split(/\s+/);r.clear(),n.forEach(function(i){return r.add(i)})}function Yi(r){return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(r)}function Dit(r){return function(t){if(Array.isArray(t))return jO(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||ON(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ON(r,t){if(r){if(typeof r=="string")return jO(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jO(r,t):void 0}}function jO(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function SN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Yi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Yi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Yi(a)==="symbol"?a:String(a)),i)}var u,a}function PO(r,t){return PO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PO(r,t)}function Rit(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=gm(r);if(t){var u=gm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Yi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function gm(r){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gm(r)}ar.prototype.is=function(r,t){return t?t===this.name&&(r==="element"||r==="view:element"):r==="element"||r==="view:element"||r==="node"||r==="view:node"};var Dy=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&PO(e,o)})(a,r);var t,n,i,u=Rit(a);function a(e,o,c,l){var s;return function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}(this,a),(s=u.call(this,e,o,c,l)).getFillerOffset=jN,s}return t=a,n&&SN(t.prototype,n),i&&SN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(ar);function jN(){var r=Dit(this.getChildren()),t=r[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;var n,i=function(u,a){var e=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!e){if(Array.isArray(u)||(e=ON(u))||a&&u&&typeof u.length=="number"){e&&(u=e);var o=0,c=function(){};return{s:c,n:function(){return o>=u.length?{done:!0}:{done:!1,value:u[o++]}},e:function(d){throw d},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,s=!0,f=!1;return{s:function(){e=e.call(u)},n:function(){var d=e.next();return s=d.done,d},e:function(d){f=!0,l=d},f:function(){try{s||e.return==null||e.return()}finally{if(f)throw l}}}}(r);try{for(i.s();!(n=i.n()).done;)if(!n.value.is("uiElement"))return null}catch(u){i.e(u)}finally{i.f()}return this.childCount}function Ki(r){return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(r)}function PN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ki(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ki(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ki(a)==="symbol"?a:String(a)),i)}var u,a}function EO(r,t){return EO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EO(r,t)}function Iit(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=wm(r);if(t){var u=wm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ki(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xO(a)}(this,n)}}function xO(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function wm(r){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wm(r)}Dy.prototype.is=function(r,t){return t?t===this.name&&(r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};var km=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&EO(e,o)})(a,r);var t,n,i,u=Iit(a);function a(e,o,c,l){var s;return function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}(this,a),(s=u.call(this,e,o,c,l)).set("isReadOnly",!1),s.set("isFocused",!1),s.set("placeholder",void 0),s.bind("isReadOnly").to(e),s.bind("isFocused").to(e,"isFocused",function(f){return f&&e.selection.editableElement==xO(s)}),s.listenTo(e.selection,"change",function(){s.isFocused=e.isFocused&&e.selection.editableElement==xO(s)}),s}return t=a,(n=[{key:"destroy",value:function(){this.stopListening()}}])&&PN(t.prototype,n),i&&PN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt(Dy));function Zi(r){return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(r)}function EN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Zi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Zi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Zi(a)==="symbol"?a:String(a)),i)}var u,a}function TO(r,t){return TO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TO(r,t)}function Bit(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=_m(r);if(t){var u=_m(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Zi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function _m(r){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_m(r)}km.prototype.is=function(r,t){return t?t===this.name&&(r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};var xN=Symbol("rootName"),TN=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&TO(e,o)})(a,r);var t,n,i,u=Bit(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e,o)).rootName="main",c}return t=a,(n=[{key:"rootName",get:function(){return this.getCustomProperty(xN)},set:function(e){this._setCustomProperty(xN,e)}},{key:"_name",set:function(e){this.name=e}}])&&EN(t.prototype,n),i&&EN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(km);function Ry(r){return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(r)}function DN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ry(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ry(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ry(a)==="symbol"?a:String(a)),i)}var u,a}TN.prototype.is=function(r,t){return t?t===this.name&&(r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};var Yn=function(r){function t(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,t),!a.boundaries&&!a.startPosition)throw new V("view-tree-walker-no-start-position",null);if(a.direction&&a.direction!="forward"&&a.direction!="backward")throw new V("view-tree-walker-unknown-direction",a.startPosition,{direction:a.direction});this.boundaries=a.boundaries||null,a.startPosition?this._position=ft._createAt(a.startPosition):this._position=ft._createAt(a.boundaries[a.direction=="backward"?"end":"start"]),this.direction=a.direction||"forward",this.singleCharacters=!!a.singleCharacters,this.shallow=!!a.shallow,this.ignoreElementEnd=!!a.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}var n,i,u;return n=t,(i=[{key:r,value:function(){return this}},{key:"position",get:function(){return this._position}},{key:"skip",value:function(a){var e,o;do o=this.position,e=this.next();while(!e.done&&a(e.value));e.done||(this._position=o)}},{key:"next",value:function(){return this.direction=="forward"?this._next():this._previous()}},{key:"_next",value:function(){var a,e=this.position.clone(),o=this.position,c=e.parent;if(c.parent===null&&e.offset===c.childCount)return{done:!0,value:void 0};if(c===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};if(c instanceof $t){if(e.isAtEnd)return this._position=ft._createAfter(c),this._next();a=c.data[e.offset]}else a=c.getChild(e.offset);if(a instanceof ar){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new ft(a,0);return this._position=e,this._formatReturnValue("elementStart",a,o,e,1)}if(a instanceof $t){if(this.singleCharacters)return e=new ft(a,0),this._position=e,this._next();var l,s=a.data.length;return a==this._boundaryEndParent?(s=this.boundaries.end.offset,l=new hr(a,0,s),e=ft._createAfter(l)):(l=new hr(a,0,a.data.length),e.offset++),this._position=e,this._formatReturnValue("text",l,o,e,s)}if(typeof a=="string"){var f;f=this.singleCharacters?1:(c===this._boundaryEndParent?this.boundaries.end.offset:c.data.length)-e.offset;var d=new hr(c,e.offset,f);return e.offset+=f,this._position=e,this._formatReturnValue("text",d,o,e,f)}return e=ft._createAfter(c),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",c,o,e)}},{key:"_previous",value:function(){var a,e=this.position.clone(),o=this.position,c=e.parent;if(c.parent===null&&e.offset===0)return{done:!0,value:void 0};if(c==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};if(c instanceof $t){if(e.isAtStart)return this._position=ft._createBefore(c),this._previous();a=c.data[e.offset-1]}else a=c.getChild(e.offset-1);if(a instanceof ar)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",a,o,e,1)):(e=new ft(a,a.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",a,o,e));if(a instanceof $t){if(this.singleCharacters)return e=new ft(a,a.data.length),this._position=e,this._previous();var l,s=a.data.length;if(a==this._boundaryStartParent){var f=this.boundaries.start.offset;s=(l=new hr(a,f,a.data.length-f)).data.length,e=ft._createBefore(l)}else l=new hr(a,0,a.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",l,o,e,s)}if(typeof a=="string"){var d;if(this.singleCharacters)d=1;else{var h=c===this._boundaryStartParent?this.boundaries.start.offset:0;d=e.offset-h}e.offset-=d;var b=new hr(c,e.offset,d);return this._position=e,this._formatReturnValue("text",b,o,e,d)}return e=ft._createBefore(c),this._position=e,this._formatReturnValue("elementStart",c,o,e,1)}},{key:"_formatReturnValue",value:function(a,e,o,c,l){return e instanceof hr&&(e.offsetInText+e.data.length==e.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?o=ft._createAfter(e.textNode):(c=ft._createAfter(e.textNode),this._position=c)),e.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?o=ft._createBefore(e.textNode):(c=ft._createBefore(e.textNode),this._position=c))),{done:!1,value:{type:a,item:e,previousPosition:o,nextPosition:c,length:l}}}}])&&DN(n.prototype,i),u&&DN(n,u),Object.defineProperty(n,"prototype",{writable:!1}),t}(Symbol.iterator);function Qi(r){return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(r)}function RN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Qi(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Qi(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Qi(a)==="symbol"?a:String(a)),i)}var u,a}function DO(r,t){return DO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DO(r,t)}function Mit(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Am(r);if(t){var u=Am(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Qi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Am(r){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Am(r)}var ft=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&DO(e,o)})(a,r);var t,n,i,u=Mit(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this)).parent=e,c.offset=o,c}return t=a,n=[{key:"nodeAfter",get:function(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return this.offset===0}},{key:"isAtEnd",get:function(){var e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){for(var e=this.parent;!(e instanceof km);){if(!e.parent)return null;e=e.parent}return e}},{key:"getShiftedBy",value:function(e){var o=a._createAt(this),c=o.offset+e;return o.offset=c<0?0:c,o}},{key:"getLastMatchingPosition",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.startPosition=this;var c=new Yn(o);return c.skip(e),c.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonAncestor",value:function(e){for(var o=this.getAncestors(),c=e.getAncestors(),l=0;o[l]==c[l]&&o[l];)l++;return l===0?null:o[l-1]}},{key:"isEqual",value:function(e){return this.parent==e.parent&&this.offset==e.offset}},{key:"isBefore",value:function(e){return this.compareWith(e)=="before"}},{key:"isAfter",value:function(e){return this.compareWith(e)=="after"}},{key:"compareWith",value:function(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";var o=this.parent.is("node")?this.parent.getPath():[],c=e.parent.is("node")?e.parent.getPath():[];o.push(this.offset),c.push(e.offset);var l=ke(o,c);switch(l){case"prefix":return"before";case"extension":return"after";default:return o[l]<c[l]?"before":"after"}}},{key:"getWalker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.startPosition=this,new Yn(e)}},{key:"clone",value:function(){return new a(this.parent,this.offset)}}],i=[{key:"_createAt",value:function(e,o){if(e instanceof a)return new this(e.parent,e.offset);var c=e;if(o=="end")o=c.is("$text")?c.data.length:c.childCount;else{if(o=="before")return this._createBefore(c);if(o=="after")return this._createAfter(c);if(o!==0&&!o)throw new V("view-createpositionat-offset-required",c)}return new a(c,o)}},{key:"_createAfter",value:function(e){if(e.is("$textProxy"))return new a(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new V("view-position-after-root",e,{root:e});return new a(e.parent,e.index+1)}},{key:"_createBefore",value:function(e){if(e.is("$textProxy"))return new a(e.textNode,e.offsetInText);if(!e.parent)throw new V("view-position-before-root",e,{root:e});return new a(e.parent,e.index)}}],n&&RN(t.prototype,n),i&&RN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Gn);function tn(r){return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(r)}function IN(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return BN(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return BN(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function BN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Kn(){Kn=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&tn(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(tn(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function MN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(tn(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(tn(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),tn(a)==="symbol"?a:String(a)),i)}var u,a}function RO(r,t){return RO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RO(r,t)}function Nit(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Cm(r);if(t){var u=Cm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(tn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Cm(r){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cm(r)}ft.prototype.is=function(r){return r==="position"||r==="view:position"};var Ot=function(r,t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),c&&RO(o,c)})(e,r);var n,i,u,a=Nit(e);function e(o){var c,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,e),(c=a.call(this)).start=o.clone(),c.end=l?l.clone():o.clone(),c}return n=e,i=[{key:t,value:Kn().mark(function o(){return Kn().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.delegateYield(new Yn({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return c.stop()}},o,this)})},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}},{key:"getEnlarged",value:function(){var o=this.start.getLastMatchingPosition(Om,{direction:"backward"}),c=this.end.getLastMatchingPosition(Om);return o.parent.is("$text")&&o.isAtStart&&(o=ft._createBefore(o.parent)),c.parent.is("$text")&&c.isAtEnd&&(c=ft._createAfter(c.parent)),new e(o,c)}},{key:"getTrimmed",value:function(){var o=this.start.getLastMatchingPosition(Om);if(o.isAfter(this.end)||o.isEqual(this.end))return new e(o,o);var c=this.end.getLastMatchingPosition(Om,{direction:"backward"}),l=o.nodeAfter,s=c.nodeBefore;return l&&l.is("$text")&&(o=new ft(l,0)),s&&s.is("$text")&&(c=new ft(s,s.data.length)),new e(o,c)}},{key:"isEqual",value:function(o){return this==o||this.start.isEqual(o.start)&&this.end.isEqual(o.end)}},{key:"containsPosition",value:function(o){return o.isAfter(this.start)&&o.isBefore(this.end)}},{key:"containsRange",value:function(o){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o.isCollapsed&&(c=!1);var l=this.containsPosition(o.start)||c&&this.start.isEqual(o.start),s=this.containsPosition(o.end)||c&&this.end.isEqual(o.end);return l&&s}},{key:"getDifference",value:function(o){var c=[];return this.isIntersecting(o)?(this.containsPosition(o.start)&&c.push(new e(this.start,o.start)),this.containsPosition(o.end)&&c.push(new e(o.end,this.end))):c.push(this.clone()),c}},{key:"getIntersection",value:function(o){if(this.isIntersecting(o)){var c=this.start,l=this.end;return this.containsPosition(o.start)&&(c=o.start),this.containsPosition(o.end)&&(l=o.end),new e(c,l)}return null}},{key:"getWalker",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o.boundaries=this,new Yn(o)}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var o=this.start.nodeAfter,c=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(o=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(c=this.end.parent.previousSibling),o&&o.is("element")&&o===c?o:null}},{key:"clone",value:function(){return new e(this.start,this.end)}},{key:"getItems",value:function(){var o=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Kn().mark(function l(){var s,f,d,h;return Kn().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:c.boundaries=o,c.ignoreElementEnd=!0,s=new Yn(c),f=IN(s),b.prev=4,f.s();case 6:if((d=f.n()).done){b.next=12;break}return h=d.value,b.next=10,h.item;case 10:b.next=6;break;case 12:b.next=17;break;case 14:b.prev=14,b.t0=b.catch(4),f.e(b.t0);case 17:return b.prev=17,f.f(),b.finish(17);case 20:case"end":return b.stop()}},l,null,[[4,14,17,20]])})()}},{key:"getPositions",value:function(){var o=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Kn().mark(function l(){var s,f,d,h;return Kn().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c.boundaries=o,s=new Yn(c),b.next=4,s.position;case 4:f=IN(s),b.prev=5,f.s();case 7:if((d=f.n()).done){b.next=13;break}return h=d.value,b.next=11,h.nextPosition;case 11:b.next=7;break;case 13:b.next=18;break;case 15:b.prev=15,b.t0=b.catch(5),f.e(b.t0);case 18:return b.prev=18,f.f(),b.finish(18);case 21:case"end":return b.stop()}},l,null,[[5,15,18,21]])})()}},{key:"isIntersecting",value:function(o){return this.start.isBefore(o.end)&&this.end.isAfter(o.start)}}],u=[{key:"_createFromParentsAndOffsets",value:function(o,c,l,s){return new this(new ft(o,c),new ft(l,s))}},{key:"_createFromPositionAndShift",value:function(o,c){var l=o,s=o.getShiftedBy(c);return c>0?new this(l,s):new this(s,l)}},{key:"_createIn",value:function(o){return this._createFromParentsAndOffsets(o,0,o,o.childCount)}},{key:"_createOn",value:function(o){var c=o.is("$textProxy")?o.offsetSize:1;return this._createFromPositionAndShift(ft._createBefore(o),c)}}],i&&MN(n.prototype,i),u&&MN(n,u),Object.defineProperty(n,"prototype",{writable:!1}),e}(Gn,Symbol.iterator);function Om(r){return!(!r.item.is("attributeElement")&&!r.item.is("uiElement"))}function Ir(r){return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(r)}function IO(){IO=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&Ir(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(Ir(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function Br(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return NN(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return NN(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function NN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function LN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ir(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ir(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ir(a)==="symbol"?a:String(a)),i)}var u,a}function BO(r,t){return BO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BO(r,t)}function Lit(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Sm(r);if(t){var u=Sm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ir(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Sm(r){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sm(r)}Ot.prototype.is=function(r){return r==="range"||r==="view:range"};var en=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&BO(e,o)})(a,r);var t,n,i,u=Lit(a);function a(){var e,o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.call(this))._ranges=[],e._lastRangeBackward=!1,e._isFake=!1,e._fakeSelectionLabel="",arguments.length&&(o=e).setTo.apply(o,arguments),e}return t=a,n=[{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}},{key:"focus",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}},{key:"isCollapsed",get:function(){return this.rangeCount===1&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}},{key:"getRanges",value:IO().mark(function e(){var o,c,l;return IO().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:o=Br(this._ranges),s.prev=1,o.s();case 3:if((c=o.n()).done){s.next=9;break}return l=c.value,s.next=7,l.clone();case 7:s.next=3;break;case 9:s.next=14;break;case 11:s.prev=11,s.t0=s.catch(1),o.e(s.t0);case 14:return s.prev=14,o.f(),s.finish(14);case 17:case"end":return s.stop()}},e,this,[[1,11,14,17]])})},{key:"getFirstRange",value:function(){var e,o=null,c=Br(this._ranges);try{for(c.s();!(e=c.n()).done;){var l=e.value;o&&!l.start.isBefore(o.start)||(o=l)}}catch(s){c.e(s)}finally{c.f()}return o?o.clone():null}},{key:"getLastRange",value:function(){var e,o=null,c=Br(this._ranges);try{for(c.s();!(e=c.n()).done;){var l=e.value;o&&!l.end.isAfter(o.end)||(o=l)}}catch(s){c.e(s)}finally{c.f()}return o?o.clone():null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"isEqual",value:function(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var o,c=Br(this._ranges);try{for(c.s();!(o=c.n()).done;){var l,s=o.value,f=!1,d=Br(e._ranges);try{for(d.s();!(l=d.n()).done;){var h=l.value;if(s.isEqual(h)){f=!0;break}}}catch(b){d.e(b)}finally{d.f()}if(!f)return!1}}catch(b){c.e(b)}finally{c.f()}return!0}},{key:"isSimilar",value:function(e){if(this.isBackward!=e.isBackward)return!1;var o=MA(this.getRanges());if(o!=MA(e.getRanges()))return!1;if(o==0)return!0;var c,l=Br(this.getRanges());try{for(l.s();!(c=l.n()).done;){var s=c.value;s=s.getTrimmed();var f,d=!1,h=Br(e.getRanges());try{for(h.s();!(f=h.n()).done;){var b=f.value;if(b=b.getTrimmed(),s.start.isEqual(b.start)&&s.end.isEqual(b.end)){d=!0;break}}}catch(v){h.e(v)}finally{h.f()}if(!d)return!1}}catch(v){l.e(v)}finally{l.f()}return!0}},{key:"getSelectedElement",value:function(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}},{key:"setTo",value:function(){for(var e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];var l=o[0],s=o[1],f=o[2];if(Ir(s)=="object"&&(f=s,s=void 0),l===null)this._setRanges([]),this._setFakeOptions(f);else if(l instanceof a||l instanceof LO)this._setRanges(l.getRanges(),l.isBackward),this._setFakeOptions({fake:l.isFake,label:l.fakeSelectionLabel});else if(l instanceof Ot)this._setRanges([l],f&&f.backward),this._setFakeOptions(f);else if(l instanceof ft)this._setRanges([new Ot(l)]),this._setFakeOptions(f);else if(l instanceof Wn){var d,h=!!f&&!!f.backward;if(s===void 0)throw new V("view-selection-setto-required-second-parameter",this);d=s=="in"?Ot._createIn(l):s=="on"?Ot._createOn(l):new Ot(ft._createAt(l,s)),this._setRanges([d],h),this._setFakeOptions(f)}else{if(!Le(l))throw new V("view-selection-setto-not-selectable",this);this._setRanges(l,f&&f.backward),this._setFakeOptions(f)}this.fire("change")}},{key:"setFocus",value:function(e,o){if(this.anchor===null)throw new V("view-selection-setfocus-no-ranges",this);var c=ft._createAt(e,o);if(c.compareWith(this.focus)!="same"){var l=this.anchor;this._ranges.pop(),c.compareWith(l)=="before"?this._addRange(new Ot(c,l),!0):this._addRange(new Ot(l,c)),this.fire("change")}}},{key:"_setRanges",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];e=Array.from(e),this._ranges=[];var c,l=Br(e);try{for(l.s();!(c=l.n()).done;){var s=c.value;this._addRange(s)}}catch(f){l.e(f)}finally{l.f()}this._lastRangeBackward=!!o}},{key:"_setFakeOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}},{key:"_addRange",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!(e instanceof Ot))throw new V("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!o}},{key:"_pushRange",value:function(e){var o,c=Br(this._ranges);try{for(c.s();!(o=c.n()).done;){var l=o.value;if(e.isIntersecting(l))throw new V("view-selection-range-intersects",this,{addedRange:e,intersectingRange:l})}}catch(s){c.e(s)}finally{c.f()}this._ranges.push(new Ot(e.start,e.end))}}],n&&LN(t.prototype,n),i&&LN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Nt(Gn));function rn(r){return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(r)}function MO(){MO=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&rn(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(rn(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function zN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(rn(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(rn(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),rn(a)==="symbol"?a:String(a)),i)}var u,a}function NO(r,t){return NO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NO(r,t)}function zit(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=jm(r);if(t){var u=jm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(rn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FN(a)}(this,n)}}function FN(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function jm(r){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jm(r)}en.prototype.is=function(r){return r==="selection"||r==="view:selection"};var LO=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&NO(e,o)})(a,r);var t,n,i,u=zit(a);function a(){var e,o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.call(this))._selection=new en,e._selection.delegate("change").to(FN(e)),arguments.length&&(o=e._selection).setTo.apply(o,arguments),e}return t=a,n=[{key:"isFake",get:function(){return this._selection.isFake}},{key:"fakeSelectionLabel",get:function(){return this._selection.fakeSelectionLabel}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"editableElement",get:function(){return this._selection.editableElement}},{key:"_ranges",get:function(){return this._selection._ranges}},{key:"getRanges",value:MO().mark(function e(){return MO().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.delegateYield(this._selection.getRanges(),"t0",1);case 1:case"end":return o.stop()}},e,this)})},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"isEqual",value:function(e){return this._selection.isEqual(e)}},{key:"isSimilar",value:function(e){return this._selection.isSimilar(e)}},{key:"_setTo",value:function(){var e;(e=this._selection).setTo.apply(e,arguments)}},{key:"_setFocus",value:function(e,o){this._selection.setFocus(e,o)}}],n&&zN(t.prototype,n),i&&zN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Nt(Gn));function Ji(r){return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(r)}function VN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ji(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ji(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ji(a)==="symbol"?a:String(a)),i)}var u,a}function zO(r,t){return zO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zO(r,t)}function Fit(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Pm(r);if(t){var u=Pm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ji(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Pm(r){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pm(r)}LO.prototype.is=function(r){return r==="selection"||r=="documentSelection"||r=="view:selection"||r=="view:documentSelection"};var Xi=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&zO(e,o)})(a,r);var t,n,i,u=Fit(a);function a(e,o,c){var l;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,a),(l=u.call(this,e,o)).startRange=c,l._eventPhase="none",l._currentTarget=null,l}return t=a,(n=[{key:"eventPhase",get:function(){return this._eventPhase}},{key:"currentTarget",get:function(){return this._currentTarget}}])&&VN(t.prototype,n),i&&VN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(ge);function ta(r){return ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(r)}function Vit(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||UN(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function FO(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=UN(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function UN(r,t){if(r){if(typeof r=="string")return HN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HN(r,t):void 0}}function HN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function GN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ta(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ta(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ta(a)==="symbol"?a:String(a)),i)}var u,a}function VO(r,t){return VO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VO(r,t)}function Uit(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Em(r);if(t){var u=Em(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ta(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Em(r){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Em(r)}var UO=Symbol("bubbling contexts");function HO(r){var t=function(n){(function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),l&&VO(c,l)})(o,n);var i,u,a,e=Uit(o);function o(){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,o),e.apply(this,arguments)}return i=o,u=[{key:"fire",value:function(c){try{var l=c instanceof ge?c:new ge(this,c),s=GO(this);if(!s.size)return;Iy(l,"capturing",this);for(var f=arguments.length,d=new Array(f>1?f-1:0),h=1;h<f;h++)d[h-1]=arguments[h];if(ea.apply(void 0,[s,"$capture",l].concat(d)))return l.return;var b=l.startRange||this.selection.getFirstRange(),v=b?b.getContainedElement():null,g=!!v&&!!WN(s,v),k=v||function(_){if(!_)return null;var A=_.start.parent,C=_.end.parent,S=A.getPath(),P=C.getPath();return S.length>P.length?A:C}(b);if(Iy(l,"atTarget",k),!g){if(ea.apply(void 0,[s,"$text",l].concat(d)))return l.return;Iy(l,"bubbling",k)}for(;k;){if(k.is("rootElement")){if(ea.apply(void 0,[s,"$root",l].concat(d)))return l.return}else if(k.is("element")&&ea.apply(void 0,[s,k.name,l].concat(d)))return l.return;if(ea.apply(void 0,[s,k,l].concat(d)))return l.return;Iy(l,"bubbling",k=k.parent)}return Iy(l,"bubbling",this),ea.apply(void 0,[s,"$document",l].concat(d)),l.return}catch(_){V.rethrowUnexpectedError(_,this)}}},{key:"_addEventListener",value:function(c,l,s){var f,d=Kt(s.context||"$document"),h=GO(this),b=FO(d);try{for(b.s();!(f=b.n()).done;){var v=f.value,g=h.get(v);g||(g=new(Nt()),h.set(v,g)),this.listenTo(g,c,l,s)}}catch(k){b.e(k)}finally{b.f()}}},{key:"_removeEventListener",value:function(c,l){var s,f=FO(GO(this).values());try{for(f.s();!(s=f.n()).done;){var d=s.value;this.stopListening(d,c,l)}}catch(h){f.e(h)}finally{f.f()}}}],u&&GN(i.prototype,u),a&&GN(i,a),Object.defineProperty(i,"prototype",{writable:!1}),o}(r);return t}var Hit=HO(Object);function Iy(r,t,n){r instanceof Xi&&(r._eventPhase=t,r._currentTarget=n)}function ea(r,t,n){var i=typeof t=="string"?r.get(t):WN(r,t);if(!i)return!1;for(var u=arguments.length,a=new Array(u>3?u-3:0),e=3;e<u;e++)a[e-3]=arguments[e];return i.fire.apply(i,[n].concat(a)),n.stop.called}function WN(r,t){var n,i=FO(r);try{for(i.s();!(n=i.n()).done;){var u=Vit(n.value,2),a=u[0],e=u[1];if(typeof a=="function"&&a(t))return e}}catch(o){i.e(o)}finally{i.f()}return null}function GO(r){return r[UO]||(r[UO]=new Map),r[UO]}function ra(r){return ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ra(r)}function Git(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return $N(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return $N(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function $N(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function qN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ra(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ra(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ra(a)==="symbol"?a:String(a)),i)}var u,a}function WO(r,t){return WO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WO(r,t)}function Wit(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=xm(r);if(t){var u=xm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ra(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function xm(r){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xm(r)}["fire","_addEventListener","_removeEventListener"].forEach(function(r){HO[r]=Hit.prototype[r]});var Tm=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&WO(e,o)})(a,r);var t,n,i,u=Wit(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this))._postFixers=new Set,o.selection=new LO,o.roots=new Qt({idProperty:"rootName"}),o.stylesProcessor=e,o.set("isReadOnly",!1),o.set("isFocused",!1),o.set("isSelecting",!1),o.set("isComposing",!1),o}return t=a,n=[{key:"getRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this.roots.get(e)}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"destroy",value:function(){this.roots.map(function(e){return e.destroy()}),this.stopListening()}},{key:"_callPostFixers",value:function(e){var o=!1;do{var c,l=Git(this._postFixers);try{for(l.s();!(c=l.n()).done&&!(o=(0,c.value)(e)););}catch(s){l.e(s)}finally{l.f()}}while(o)}}],n&&qN(t.prototype,n),i&&qN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(HO(Rt()));function na(r){return na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(r)}function YN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(na(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(na(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),na(a)==="symbol"?a:String(a)),i)}var u,a}function Dm(){return Dm=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Zn(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},Dm.apply(this,arguments)}function $O(r,t){return $O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$O(r,t)}function $it(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Zn(r);if(t){var u=Zn(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(na(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Zn(r){return Zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zn(r)}var Qn=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&$O(e,o)})(a,r);var t,n,i,u=$it(a);function a(e,o,c,l){var s;return function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}(this,a),(s=u.call(this,e,o,c,l))._priority=10,s._id=null,s._clonesGroup=null,s.getFillerOffset=qit,s}return t=a,n=[{key:"priority",get:function(){return this._priority}},{key:"id",get:function(){return this._id}},{key:"getElementsWithSameId",value:function(){if(this.id===null)throw new V("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}},{key:"isSimilar",value:function(e){return this.id!==null||e.id!==null?this.id===e.id:Dm(Zn(a.prototype),"isSimilar",this).call(this,e)&&this.priority==e.priority}},{key:"_clone",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=Dm(Zn(a.prototype),"_clone",this).call(this,e);return o._priority=this._priority,o._id=this._id,o}}],n&&YN(t.prototype,n),i&&YN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(ar);function qit(){if(qO(this))return null;for(var r=this.parent;r&&r.is("attributeElement");){if(qO(r)>1)return null;r=r.parent}return!r||qO(r)>1?null:this.childCount}function qO(r){return Array.from(r.getChildren()).filter(function(t){return!t.is("uiElement")}).length}function oa(r){return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oa(r)}function KN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(oa(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(oa(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),oa(a)==="symbol"?a:String(a)),i)}var u,a}function YO(r,t){return YO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YO(r,t)}function Yit(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Rm(r);if(t){var u=Rm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(oa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Rm(r){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rm(r)}Qn.DEFAULT_PRIORITY=10,Qn.prototype.is=function(r,t){return t?t===this.name&&(r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"):r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};var KO=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&YO(e,o)})(a,r);var t,n,i,u=Yit(a);function a(e,o,c,l){var s;return function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}(this,a),(s=u.call(this,e,o,c,l)).getFillerOffset=Kit,s}return t=a,(n=[{key:"_insertChild",value:function(e,o){if(o&&(o instanceof Wn||Array.from(o).length>0))throw new V("view-emptyelement-cannot-add",[this,o]);return 0}}])&&KN(t.prototype,n),i&&KN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(ar);function Kit(){return null}function ia(r){return ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(r)}function Zit(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return ZN(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ZN(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function ZN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function QN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ia(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ia(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ia(a)==="symbol"?a:String(a)),i)}var u,a}function ZO(r,t){return ZO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZO(r,t)}function Qit(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Im(r);if(t){var u=Im(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ia(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Im(r){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Im(r)}KO.prototype.is=function(r,t){return t?t===this.name&&(r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"):r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};var Bm=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&ZO(e,o)})(a,r);var t,n,i,u=Qit(a);function a(e,o,c,l){var s;return function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}(this,a),(s=u.call(this,e,o,c,l)).getFillerOffset=Xit,s}return t=a,(n=[{key:"_insertChild",value:function(e,o){if(o&&(o instanceof Wn||Array.from(o).length>0))throw new V("view-uielement-cannot-add",[this,o]);return 0}},{key:"render",value:function(e,o){return this.toDomElement(e)}},{key:"toDomElement",value:function(e){var o,c=e.createElement(this.name),l=Zit(this.getAttributeKeys());try{for(l.s();!(o=l.n()).done;){var s=o.value;c.setAttribute(s,this.getAttribute(s))}}catch(f){l.e(f)}finally{l.f()}return c}}])&&QN(t.prototype,n),i&&QN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(ar);function Jit(r){r.document.on("arrowKey",function(t,n){return function(i,u,a){if(u.keyCode==Et.arrowright){var e=u.domTarget.ownerDocument.defaultView.getSelection(),o=e.rangeCount==1&&e.getRangeAt(0).collapsed;if(o||u.shiftKey){var c=e.focusNode,l=e.focusOffset,s=a.domPositionToView(c,l);if(s===null)return;var f=!1,d=s.getLastMatchingPosition(function(b){return b.item.is("uiElement")&&(f=!0),!(!b.item.is("uiElement")&&!b.item.is("attributeElement"))});if(f){var h=a.viewPositionToDom(d);o?e.collapse(h.parent,h.offset):e.extend(h.parent,h.offset)}}}}(0,n,r.domConverter)},{priority:"low"})}function Xit(){return null}function aa(r){return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(r)}function JN(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(aa(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(aa(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),aa(a)==="symbol"?a:String(a)),i)}var u,a}function QO(r,t){return QO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QO(r,t)}function tat(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Mm(r);if(t){var u=Mm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(aa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Mm(r){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mm(r)}Bm.prototype.is=function(r,t){return t?t===this.name&&(r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"):r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};var JO=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&QO(e,o)})(a,r);var t,n,i,u=tat(a);function a(e,o,c,l){var s;return function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}(this,a),(s=u.call(this,e,o,c,l)).getFillerOffset=eat,s}return t=a,(n=[{key:"_insertChild",value:function(e,o){if(o&&(o instanceof Wn||Array.from(o).length>0))throw new V("view-rawelement-cannot-add",[this,o]);return 0}},{key:"render",value:function(e,o){}}])&&JN(t.prototype,n),i&&JN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(ar);function eat(){return null}function nn(r){return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(r)}function rat(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return XN(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return XN(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function XN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function XO(){XO=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&nn(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(nn(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function tL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(nn(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(nn(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),nn(a)==="symbol"?a:String(a)),i)}var u,a}function tS(r,t){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tS(r,t)}function nat(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Nm(r);if(t){var u=Nm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(nn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Nm(r){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nm(r)}JO.prototype.is=function(r,t){return t?t===this.name&&(r==="rawElement"||r==="view:rawElement"||r==="element"||r==="view:element"):r==="rawElement"||r==="view:rawElement"||r===this.name||r==="view:"+this.name||r==="element"||r==="view:element"||r==="node"||r==="view:node"};var Jn=function(r,t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),c&&tS(o,c)})(e,r);var n,i,u,a=nat(e);function e(o,c){var l;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,e),(l=a.call(this))._children=[],l._customProperties=new Map,l.document=o,c&&l._insertChild(0,c),l}return n=e,i=[{key:t,value:function(){return this._children[Symbol.iterator]()}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return this.childCount===0}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}},{key:"name",get:function(){}},{key:"getCustomProperty",value:function(o){return this._customProperties.get(o)}},{key:"getCustomProperties",value:XO().mark(function o(){return XO().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return c.stop()}},o,this)})},{key:"_appendChild",value:function(o){return this._insertChild(this.childCount,o)}},{key:"getChild",value:function(o){return this._children[o]}},{key:"getChildIndex",value:function(o){return this._children.indexOf(o)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"_insertChild",value:function(o,c){this._fireChange("children",this);var l,s=0,f=function(b,v){return typeof v=="string"?[new $t(b,v)]:(Le(v)||(v=[v]),Array.from(v).map(function(g){return typeof g=="string"?new $t(b,g):g instanceof hr?new $t(b,g.data):g}))}(this.document,c),d=rat(f);try{for(d.s();!(l=d.n()).done;){var h=l.value;h.parent!==null&&h._remove(),h.parent=this,this._children.splice(o,0,h),o++,s++}}catch(b){d.e(b)}finally{d.f()}return s}},{key:"_removeChildren",value:function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this._fireChange("children",this);for(var l=o;l<o+c;l++)this._children[l].parent=null;return this._children.splice(o,c)}},{key:"_fireChange",value:function(o,c){this.fire("change:"+o,c)}},{key:"_setCustomProperty",value:function(o,c){this._customProperties.set(o,c)}},{key:"_removeCustomProperty",value:function(o){return this._customProperties.delete(o)}}],i&&tL(n.prototype,i),u&&tL(n,u),Object.defineProperty(n,"prototype",{writable:!1}),e}(Nt(Gn),Symbol.iterator);function By(r){return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},By(r)}function eS(r,t,n){return eS=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}()?Reflect.construct.bind():function(i,u,a){var e=[null];e.push.apply(e,u);var o=new(Function.bind.apply(i,e));return a&&rS(o,a.prototype),o},eS.apply(null,arguments)}function rS(r,t){return rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rS(r,t)}function je(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=eL(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Xn(r){return function(t){if(Array.isArray(t))return nS(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||eL(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function eL(r,t){if(r){if(typeof r=="string")return nS(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nS(r,t):void 0}}function nS(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function rL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(By(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(By(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),By(a)==="symbol"?a:String(a)),i)}var u,a}Jn.prototype.is=function(r){return r==="documentFragment"||r==="view:documentFragment"};var nL=function(){function r(u){(function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this._cloneGroups=new Map,this._slotFactory=null,this.document=u}var t,n,i;return t=r,n=[{key:"setSelection",value:function(){var u;(u=this.document.selection)._setTo.apply(u,arguments)}},{key:"setSelectionFocus",value:function(u,a){this.document.selection._setFocus(u,a)}},{key:"createDocumentFragment",value:function(u){return new Jn(this.document,u)}},{key:"createText",value:function(u){return new $t(this.document,u)}},{key:"createAttributeElement",value:function(u,a){var e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=new Qn(this.document,u,a);return typeof o.priority=="number"&&(c._priority=o.priority),o.id&&(c._id=o.id),o.renderUnsafeAttributes&&(e=c._unsafeAttributesToRender).push.apply(e,Xn(o.renderUnsafeAttributes)),c}},{key:"createContainerElement",value:function(u,a){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=null;Te(e)?o=e:c=e;var l,s=new Dy(this.document,u,a,c);return o.renderUnsafeAttributes&&(l=s._unsafeAttributesToRender).push.apply(l,Xn(o.renderUnsafeAttributes)),s}},{key:"createEditableElement",value:function(u,a){var e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=new km(this.document,u,a);return o.renderUnsafeAttributes&&(e=c._unsafeAttributesToRender).push.apply(e,Xn(o.renderUnsafeAttributes)),c}},{key:"createEmptyElement",value:function(u,a){var e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=new KO(this.document,u,a);return o.renderUnsafeAttributes&&(e=c._unsafeAttributesToRender).push.apply(e,Xn(o.renderUnsafeAttributes)),c}},{key:"createUIElement",value:function(u,a,e){var o=new Bm(this.document,u,a);return e&&(o.render=e),o}},{key:"createRawElement",value:function(u,a,e){var o,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=new JO(this.document,u,a);return e&&(l.render=e),c.renderUnsafeAttributes&&(o=l._unsafeAttributesToRender).push.apply(o,Xn(c.renderUnsafeAttributes)),l}},{key:"setAttribute",value:function(u,a,e){e._setAttribute(u,a)}},{key:"removeAttribute",value:function(u,a){a._removeAttribute(u)}},{key:"addClass",value:function(u,a){a._addClass(u)}},{key:"removeClass",value:function(u,a){a._removeClass(u)}},{key:"setStyle",value:function(u,a,e){Te(u)&&e===void 0?a._setStyle(u):e._setStyle(u,a)}},{key:"removeStyle",value:function(u,a){a._removeStyle(u)}},{key:"setCustomProperty",value:function(u,a,e){e._setCustomProperty(u,a)}},{key:"removeCustomProperty",value:function(u,a){return a._removeCustomProperty(u)}},{key:"breakAttributes",value:function(u){return u instanceof ft?this._breakAttributes(u):this._breakAttributesRange(u)}},{key:"breakContainer",value:function(u){var a=u.parent;if(!a.is("containerElement"))throw new V("view-writer-break-non-container-element",this.document);if(!a.parent)throw new V("view-writer-break-root",this.document);if(u.isAtStart)return ft._createBefore(a);if(!u.isAtEnd){var e=a._clone(!1);this.insert(ft._createAfter(a),e);var o=new Ot(u,ft._createAt(a,"end")),c=new ft(e,0);this.move(o,c)}return ft._createAfter(a)}},{key:"mergeAttributes",value:function(u){var a=u.offset,e=u.parent;if(e.is("$text"))return u;if(e.is("attributeElement")&&e.childCount===0){var o=e.parent,c=e.index;return e._remove(),this._removeFromClonedElementsGroup(e),this.mergeAttributes(new ft(o,c))}var l=e.getChild(a-1),s=e.getChild(a);if(!l||!s)return u;if(l.is("$text")&&s.is("$text"))return iL(l,s);if(l.is("attributeElement")&&s.is("attributeElement")&&l.isSimilar(s)){var f=l.childCount;return l._appendChild(s.getChildren()),s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new ft(l,f))}return u}},{key:"mergeContainers",value:function(u){var a=u.nodeBefore,e=u.nodeAfter;if(!(a&&e&&a.is("containerElement")&&e.is("containerElement")))throw new V("view-writer-merge-containers-invalid-position",this.document);var o=a.getChild(a.childCount-1),c=o instanceof $t?ft._createAt(o,"end"):ft._createAt(a,"end");return this.move(Ot._createIn(e),ft._createAt(a,"end")),this.remove(Ot._createOn(e)),c}},{key:"insert",value:function(u,a){aL(a=Le(a)?Xn(a):[a],this.document);var e,o=a.reduce(function(v,g){var k=v[v.length-1],_=!g.is("uiElement");return k&&k.breakAttributes==_?k.nodes.push(g):v.push({breakAttributes:_,nodes:[g]}),v},[]),c=null,l=u,s=je(o);try{for(s.s();!(e=s.n()).done;){var f=e.value,d=f.nodes,h=f.breakAttributes,b=this._insertNodes(l,d,h);c||(c=b.start),l=b.end}}catch(v){s.e(v)}finally{s.f()}return c?new Ot(c,l):new Ot(u)}},{key:"remove",value:function(u){var a=u instanceof Ot?u:Ot._createOn(u);if(My(a,this.document),a.isCollapsed)return new Jn(this.document);var e,o=this._breakAttributesRange(a,!0),c=o.start,l=o.end,s=c.parent,f=l.offset-c.offset,d=s._removeChildren(c.offset,f),h=je(d);try{for(h.s();!(e=h.n()).done;){var b=e.value;this._removeFromClonedElementsGroup(b)}}catch(g){h.e(g)}finally{h.f()}var v=this.mergeAttributes(c);return a.start=v,a.end=v.clone(),new Jn(this.document,d)}},{key:"clear",value:function(u,a){My(u,this.document);var e,o=je(u.getWalker({direction:"backward",ignoreElementEnd:!0}));try{for(o.s();!(e=o.n()).done;){var c=e.value,l=c.item,s=void 0;if(l.is("element")&&a.isSimilar(l))s=Ot._createOn(l);else if(!c.nextPosition.isAfter(u.start)&&l.is("$textProxy")){var f=l.getAncestors().find(function(d){return d.is("element")&&a.isSimilar(d)});f&&(s=Ot._createIn(f))}s&&(s.end.isAfter(u.end)&&(s.end=u.end),s.start.isBefore(u.start)&&(s.start=u.start),this.remove(s))}}catch(d){o.e(d)}finally{o.f()}}},{key:"move",value:function(u,a){var e;if(a.isAfter(u.end)){var o=(a=this._breakAttributes(a,!0)).parent,c=o.childCount;u=this._breakAttributesRange(u,!0),e=this.remove(u),a.offset+=o.childCount-c}else e=this.remove(u);return this.insert(a,e)}},{key:"wrap",value:function(u,a){if(!(a instanceof Qn))throw new V("view-writer-wrap-invalid-attribute",this.document);if(My(u,this.document),u.isCollapsed){var e=u.start;e.parent.is("element")&&(c=e.parent,!Array.from(c.getChildren()).some(function(l){return!l.is("uiElement")}))&&(e=e.getLastMatchingPosition(function(l){return l.item.is("uiElement")})),e=this._wrapPosition(e,a);var o=this.document.selection;return o.isCollapsed&&o.getFirstPosition().isEqual(u.start)&&this.setSelection(e),new Ot(e)}return this._wrapRange(u,a);var c}},{key:"unwrap",value:function(u,a){if(!(a instanceof Qn))throw new V("view-writer-unwrap-invalid-attribute",this.document);if(My(u,this.document),u.isCollapsed)return u;var e=this._breakAttributesRange(u,!0),o=e.start,c=e.end,l=o.parent,s=this._unwrapChildren(l,o.offset,c.offset,a),f=this.mergeAttributes(s.start);f.isEqual(s.start)||s.end.offset--;var d=this.mergeAttributes(s.end);return new Ot(f,d)}},{key:"rename",value:function(u,a){var e=new Dy(this.document,u,a.getAttributes());return this.insert(ft._createAfter(a),e),this.move(Ot._createIn(a),ft._createAt(e,0)),this.remove(Ot._createOn(a)),e}},{key:"clearClonedElementsGroup",value:function(u){this._cloneGroups.delete(u)}},{key:"createPositionAt",value:function(u,a){return ft._createAt(u,a)}},{key:"createPositionAfter",value:function(u){return ft._createAfter(u)}},{key:"createPositionBefore",value:function(u){return ft._createBefore(u)}},{key:"createRange",value:function(u,a){return new Ot(u,a)}},{key:"createRangeOn",value:function(u){return Ot._createOn(u)}},{key:"createRangeIn",value:function(u){return Ot._createIn(u)}},{key:"createSelection",value:function(){for(var u=arguments.length,a=new Array(u),e=0;e<u;e++)a[e]=arguments[e];return eS(en,a)}},{key:"createSlot",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"children";if(!this._slotFactory)throw new V("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,u)}},{key:"_registerSlotFactory",value:function(u){this._slotFactory=u}},{key:"_clearSlotFactory",value:function(){this._slotFactory=null}},{key:"_insertNodes",value:function(u,a,e){var o,c;if(!(o=e?oS(u):u.parent.is("$text")?u.parent.parent:u.parent))throw new V("view-writer-invalid-position-container",this.document);c=e?this._breakAttributes(u,!0):u.parent.is("$text")?iS(u):u;var l,s=o._insertChild(c.offset,a),f=je(a);try{for(f.s();!(l=f.n()).done;){var d=l.value;this._addToClonedElementsGroup(d)}}catch(g){f.e(g)}finally{f.f()}var h=c.getShiftedBy(s),b=this.mergeAttributes(c);b.isEqual(c)||h.offset--;var v=this.mergeAttributes(h);return new Ot(b,v)}},{key:"_wrapChildren",value:function(u,a,e,o){for(var c=a,l=[];c<e;){var s=u.getChild(c),f=s.is("$text"),d=s.is("attributeElement");if(d&&this._wrapAttributeElement(o,s))l.push(new ft(u,c));else if(f||!d||oat(o,s)){var h=o._clone();s._remove(),h._appendChild(s),u._insertChild(c,h),this._addToClonedElementsGroup(h),l.push(new ft(u,c))}else this._wrapChildren(s,0,s.childCount,o);c++}for(var b=0,v=0,g=l;v<g.length;v++){var k=g[v];k.offset-=b,k.offset!=a&&(this.mergeAttributes(k).isEqual(k)||(b++,e--))}return Ot._createFromParentsAndOffsets(u,a,u,e)}},{key:"_unwrapChildren",value:function(u,a,e,o){for(var c=a,l=[];c<e;){var s=u.getChild(c);if(s.is("attributeElement"))if(s.isSimilar(o)){var f=s.getChildren(),d=s.childCount;s._remove(),u._insertChild(c,f),this._removeFromClonedElementsGroup(s),l.push(new ft(u,c),new ft(u,c+d)),c+=d,e+=d-1}else this._unwrapAttributeElement(o,s)?(l.push(new ft(u,c),new ft(u,c+1)),c++):(this._unwrapChildren(s,0,s.childCount,o),c++);else c++}for(var h=0,b=0,v=l;b<v.length;b++){var g=v[b];g.offset-=h,g.offset!=a&&g.offset!=e&&(this.mergeAttributes(g).isEqual(g)||(h++,e--))}return Ot._createFromParentsAndOffsets(u,a,u,e)}},{key:"_wrapRange",value:function(u,a){var e=this._breakAttributesRange(u,!0),o=e.start,c=e.end,l=o.parent,s=this._wrapChildren(l,o.offset,c.offset,a),f=this.mergeAttributes(s.start);f.isEqual(s.start)||s.end.offset--;var d=this.mergeAttributes(s.end);return new Ot(f,d)}},{key:"_wrapPosition",value:function(u,a){if(a.isSimilar(u.parent))return oL(u.clone());u.parent.is("$text")&&(u=iS(u));var e=this.createAttributeElement("_wrapPosition-fake-element");e._priority=Number.POSITIVE_INFINITY,e.isSimilar=function(){return!1},u.parent._insertChild(u.offset,e);var o=new Ot(u,u.getShiftedBy(1));this.wrap(o,a);var c=new ft(e.parent,e.index);e._remove();var l=c.nodeBefore,s=c.nodeAfter;return l instanceof $t&&s instanceof $t?iL(l,s):oL(c)}},{key:"_wrapAttributeElement",value:function(u,a){if(!cL(u,a)||u.name!==a.name||u.priority!==a.priority)return!1;var e,o=je(u.getAttributeKeys());try{for(o.s();!(e=o.n()).done;){var c=e.value;if(c!=="class"&&c!=="style"&&a.hasAttribute(c)&&a.getAttribute(c)!==u.getAttribute(c))return!1}}catch(S){o.e(S)}finally{o.f()}var l,s=je(u.getStyleNames());try{for(s.s();!(l=s.n()).done;){var f=l.value;if(a.hasStyle(f)&&a.getStyle(f)!==u.getStyle(f))return!1}}catch(S){s.e(S)}finally{s.f()}var d,h=je(u.getAttributeKeys());try{for(h.s();!(d=h.n()).done;){var b=d.value;b!=="class"&&b!=="style"&&(a.hasAttribute(b)||this.setAttribute(b,u.getAttribute(b),a))}}catch(S){h.e(S)}finally{h.f()}var v,g=je(u.getStyleNames());try{for(g.s();!(v=g.n()).done;){var k=v.value;a.hasStyle(k)||this.setStyle(k,u.getStyle(k),a)}}catch(S){g.e(S)}finally{g.f()}var _,A=je(u.getClassNames());try{for(A.s();!(_=A.n()).done;){var C=_.value;a.hasClass(C)||this.addClass(C,a)}}catch(S){A.e(S)}finally{A.f()}return!0}},{key:"_unwrapAttributeElement",value:function(u,a){if(!cL(u,a)||u.name!==a.name||u.priority!==a.priority)return!1;var e,o=je(u.getAttributeKeys());try{for(o.s();!(e=o.n()).done;){var c=e.value;if(c!=="class"&&c!=="style"&&(!a.hasAttribute(c)||a.getAttribute(c)!==u.getAttribute(c)))return!1}}catch(v){o.e(v)}finally{o.f()}if(!a.hasClass.apply(a,Xn(u.getClassNames())))return!1;var l,s=je(u.getStyleNames());try{for(s.s();!(l=s.n()).done;){var f=l.value;if(!a.hasStyle(f)||a.getStyle(f)!==u.getStyle(f))return!1}}catch(v){s.e(v)}finally{s.f()}var d,h=je(u.getAttributeKeys());try{for(h.s();!(d=h.n()).done;){var b=d.value;b!=="class"&&b!=="style"&&this.removeAttribute(b,a)}}catch(v){h.e(v)}finally{h.f()}return this.removeClass(Array.from(u.getClassNames()),a),this.removeStyle(Array.from(u.getStyleNames()),a),!0}},{key:"_breakAttributesRange",value:function(u){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],e=u.start,o=u.end;if(My(u,this.document),u.isCollapsed){var c=this._breakAttributes(u.start,a);return new Ot(c,c)}var l=this._breakAttributes(o,a),s=l.parent.childCount,f=this._breakAttributes(e,a);return l.offset+=l.parent.childCount-s,new Ot(f,l)}},{key:"_breakAttributes",value:function(u){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],e=u.offset,o=u.parent;if(u.parent.is("emptyElement"))throw new V("view-writer-cannot-break-empty-element",this.document);if(u.parent.is("uiElement"))throw new V("view-writer-cannot-break-ui-element",this.document);if(u.parent.is("rawElement"))throw new V("view-writer-cannot-break-raw-element",this.document);if(!a&&o.is("$text")&&aS(o.parent)||aS(o))return u.clone();if(o.is("$text"))return this._breakAttributes(iS(u),a);if(e==o.childCount){var c=new ft(o.parent,o.index+1);return this._breakAttributes(c,a)}if(e===0){var l=new ft(o.parent,o.index);return this._breakAttributes(l,a)}var s=o.index+1,f=o._clone();o.parent._insertChild(s,f),this._addToClonedElementsGroup(f);var d=o.childCount-e,h=o._removeChildren(e,d);f._appendChild(h);var b=new ft(o.parent,s);return this._breakAttributes(b,a)}},{key:"_addToClonedElementsGroup",value:function(u){if(u.root.is("rootElement")){if(u.is("element")){var a,e=je(u.getChildren());try{for(e.s();!(a=e.n()).done;){var o=a.value;this._addToClonedElementsGroup(o)}}catch(s){e.e(s)}finally{e.f()}}var c=u.id;if(c){var l=this._cloneGroups.get(c);l||(l=new Set,this._cloneGroups.set(c,l)),l.add(u),u._clonesGroup=l}}}},{key:"_removeFromClonedElementsGroup",value:function(u){if(u.is("element")){var a,e=je(u.getChildren());try{for(e.s();!(a=e.n()).done;){var o=a.value;this._removeFromClonedElementsGroup(o)}}catch(s){e.e(s)}finally{e.f()}}var c=u.id;if(c){var l=this._cloneGroups.get(c);l&&l.delete(u)}}}],n&&rL(t.prototype,n),i&&rL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function oS(r){for(var t=r.parent;!aS(t);){if(!t)return;t=t.parent}return t}function oat(r,t){return r.priority<t.priority||!(r.priority>t.priority)&&r.getIdentity()<t.getIdentity()}function oL(r){var t=r.nodeBefore;if(t&&t.is("$text"))return new ft(t,t.data.length);var n=r.nodeAfter;return n&&n.is("$text")?new ft(n,0):r}function iS(r){if(r.offset==r.parent.data.length)return new ft(r.parent.parent,r.parent.index+1);if(r.offset===0)return new ft(r.parent.parent,r.parent.index);var t=r.parent.data.slice(r.offset);return r.parent._data=r.parent.data.slice(0,r.offset),r.parent.parent._insertChild(r.parent.index+1,new $t(r.root.document,t)),new ft(r.parent.parent,r.parent.index+1)}function iL(r,t){var n=r.data.length;return r._data+=t.data,t._remove(),new ft(r,n)}var iat=[$t,Qn,Dy,KO,JO,Bm];function aL(r,t){var n,i=je(r);try{var u=function(){var a=n.value;if(!iat.some(function(e){return a instanceof e}))throw new V("view-writer-insert-invalid-node-type",t);a.is("$text")||aL(a.getChildren(),t)};for(i.s();!(n=i.n()).done;)u()}catch(a){i.e(a)}finally{i.f()}}function aS(r){return r&&(r.is("containerElement")||r.is("documentFragment"))}function My(r,t){var n=oS(r.start),i=oS(r.end);if(!n||!i||n!==i)throw new V("view-writer-invalid-range-container",t)}function cL(r,t){return r.id===null&&t.id===null}var uL=function(r){return r.createTextNode("\xA0")},lL=function(r){var t=r.createElement("span");return t.dataset.ckeFiller="true",t.innerText="\xA0",t},sL=function(r){var t=r.createElement("br");return t.dataset.ckeFiller="true",t},cr=7,Ny="\u2060".repeat(cr);function Fe(r){return typeof r=="string"?r.substr(0,cr)===Ny:oe(r)&&r.data.substr(0,cr)===Ny}function Ly(r){return r.data.length==cr&&Fe(r)}function fL(r){var t=typeof r=="string"?r:r.data;return Fe(r)?t.slice(cr):t}function aat(r,t){if(t.keyCode==Et.arrowleft){var n=t.domTarget.ownerDocument.defaultView.getSelection();if(n.rangeCount==1&&n.getRangeAt(0).collapsed){var i=n.getRangeAt(0).startContainer,u=n.getRangeAt(0).startOffset;Fe(i)&&u<=cr&&n.collapse(i,0)}}}var dL=x(5037),cat={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(dL.Z,cat),dL.Z.locals;function ca(r){return ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(r)}function Ie(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return pL(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return pL(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function pL(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function yL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ca(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ca(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ca(a)==="symbol"?a:String(a)),i)}var u,a}function cS(r,t){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cS(r,t)}function uat(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Lm(r);if(t){var u=Lm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ca(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Lm(r){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lm(r)}var lat=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&cS(e,o)})(a,r);var t,n,i,u=uat(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this)).domDocuments=new Set,c.markedAttributes=new Set,c.markedChildren=new Set,c.markedTexts=new Set,c._inlineFiller=null,c._fakeSelectionContainer=null,c.domConverter=e,c.selection=o,c.set("isFocused",!1),c.set("isSelecting",!1),pt.isBlink&&!pt.isAndroid&&c.on("change:isSelecting",function(){c.isSelecting||c.render()}),c.set("isComposing",!1),c.on("change:isComposing",function(){c.isComposing||c.render()}),c}return t=a,n=[{key:"markToSync",value:function(e,o){if(e==="text")this.domConverter.mapViewToDom(o.parent)&&this.markedTexts.add(o);else{if(!this.domConverter.mapViewToDom(o))return;if(e==="attributes")this.markedAttributes.add(o);else{if(e!=="children")throw new V("view-renderer-unknown-type",this);this.markedChildren.add(o)}}}},{key:"render",value:function(){if(!this.isComposing||pt.isAndroid){var e,o=null,c=!(pt.isBlink&&!pt.isAndroid&&this.isSelecting),l=Ie(this.markedChildren);try{for(l.s();!(e=l.n()).done;){var s=e.value;this._updateChildrenMappings(s)}}catch(P){l.e(P)}finally{l.f()}c?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?o=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(o=this.selection.getFirstPosition(),this.markedChildren.add(o.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(o=this.domConverter.domPositionToView(this._inlineFiller))&&o.parent.is("$text")&&(o=ft._createBefore(o.parent));var f,d=Ie(this.markedAttributes);try{for(d.s();!(f=d.n()).done;){var h=f.value;this._updateAttrs(h)}}catch(P){d.e(P)}finally{d.f()}var b,v=Ie(this.markedChildren);try{for(v.s();!(b=v.n()).done;){var g=b.value;this._updateChildren(g,{inlineFillerPosition:o})}}catch(P){v.e(P)}finally{v.f()}var k,_=Ie(this.markedTexts);try{for(_.s();!(k=_.n()).done;){var A=k.value;!this.markedChildren.has(A.parent)&&this.domConverter.mapViewToDom(A.parent)&&this._updateText(A,{inlineFillerPosition:o})}}catch(P){_.e(P)}finally{_.f()}if(c)if(o){var C=this.domConverter.viewPositionToDom(o),S=C.parent.ownerDocument;Fe(C.parent)?this._inlineFiller=C.parent:this._inlineFiller=hL(S,C.parent,C.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}}},{key:"_updateChildrenMappings",value:function(e){if(this.domConverter.mapViewToDom(e)){var o=Array.from(this.domConverter.mapViewToDom(e).childNodes),c=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),l=this._diffNodeLists(o,c),s=this._findUpdateActions(l,o,c,sat);if(s.indexOf("update")!==-1){var f,d={equal:0,insert:0,delete:0},h=Ie(s);try{for(h.s();!(f=h.n()).done;){var b=f.value;if(b==="update"){var v=d.equal+d.insert,g=d.equal+d.delete,k=e.getChild(v);!k||k.is("uiElement")||k.is("rawElement")||this._updateElementMappings(k,o[g]),n4(c[v]),d.equal++}else d[b]++}}catch(_){h.e(_)}finally{h.f()}}}}},{key:"_updateElementMappings",value:function(e,o){this.domConverter.unbindDomElement(o),this.domConverter.bindElements(o,e),this.markedChildren.add(e),this.markedAttributes.add(e)}},{key:"_getInlineFillerPosition",value:function(){var e=this.selection.getFirstPosition();return e.parent.is("$text")?ft._createBefore(e.parent):e}},{key:"_isSelectionInInlineFiller",value:function(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),o=this.domConverter.viewPositionToDom(e);return!!(o&&oe(o.parent)&&Fe(o.parent))}},{key:"_removeInlineFiller",value:function(){var e=this._inlineFiller;if(!Fe(e))throw new V("view-renderer-filler-was-lost",this);Ly(e)?e.remove():e.data=e.data.substr(cr),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),o=e.parent,c=e.offset;if(!this.domConverter.mapViewToDom(o.root)||!o.is("element")||!function(f){if(f.getAttribute("contenteditable")=="false")return!1;var d=f.findAncestor(function(h){return h.hasAttribute("contenteditable")});return!d||d.getAttribute("contenteditable")=="true"}(o)||c===o.getFillerOffset())return!1;var l=e.nodeBefore,s=e.nodeAfter;return!(l instanceof $t||s instanceof $t||pt.isAndroid&&(l||s))}},{key:"_updateText",value:function(e,o){var c=this.domConverter.findCorrespondingDomText(e),l=this.domConverter.viewToDom(e).data,s=o.inlineFillerPosition;s&&s.parent==e.parent&&s.offset==e.index&&(l=Ny+l),bL(c,l)}},{key:"_updateAttrs",value:function(e){var o=this.domConverter.mapViewToDom(e);if(o){var c,l=Array.from(o.attributes).map(function(v){return v.name}),s=Ie(e.getAttributeKeys());try{for(s.s();!(c=s.n()).done;){var f=c.value;this.domConverter.setDomElementAttribute(o,f,e.getAttribute(f),e)}}catch(v){s.e(v)}finally{s.f()}var d,h=Ie(l);try{for(h.s();!(d=h.n()).done;){var b=d.value;e.hasAttribute(b)||this.domConverter.removeDomElementAttribute(o,b)}}catch(v){h.e(v)}finally{h.f()}}}},{key:"_updateChildren",value:function(e,o){var c=this.domConverter.mapViewToDom(e);if(c){if(pt.isAndroid)for(var l=null,s=0,f=Array.from(c.childNodes);s<f.length;s++){var d=f[s];if(l&&oe(l)&&oe(d)){c.normalize();break}l=d}var h=o.inlineFillerPosition,b=c.childNodes,v=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));h&&h.parent===e&&hL(c.ownerDocument,v,h.offset);var g,k=this._diffNodeLists(b,v),_=this._findUpdateActions(k,b,v,fat),A=0,C=new Set,S=Ie(_);try{for(S.s();!(g=S.n()).done;){var P=g.value;P==="delete"?(C.add(b[A]),n4(b[A])):P!=="equal"&&P!=="update"||A++}}catch(Z){S.e(Z)}finally{S.f()}A=0;var E,R=Ie(_);try{for(R.s();!(E=R.n()).done;){var I=E.value;I==="insert"?(Q3(c,A,v[A]),A++):I==="update"?(bL(b[A],v[A].data),A++):I==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(v[A])),A++)}}catch(Z){R.e(Z)}finally{R.f()}var z,F=Ie(C);try{for(F.s();!(z=F.n()).done;){var tt=z.value;tt.parentNode||this.domConverter.unbindDomElement(tt)}}catch(Z){F.e(Z)}finally{F.f()}}}},{key:"_diffNodeLists",value:function(e,o){return e=function(c,l){var s=Array.from(c);if(s.length==0||!l)return s;var f=s[s.length-1];return f==l&&s.pop(),s}(e,this._fakeSelectionContainer),jt(e,o,dat.bind(null,this.domConverter))}},{key:"_findUpdateActions",value:function(e,o,c,l){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;var s,f=[],d=[],h=[],b={equal:0,insert:0,delete:0},v=Ie(e);try{for(v.s();!(s=v.n()).done;){var g=s.value;g==="insert"?h.push(c[b.equal+b.insert]):g==="delete"?d.push(o[b.equal+b.delete]):(f=f.concat(jt(d,h,l).map(function(k){return k==="equal"?"update":k})),f.push("equal"),d=[],h=[]),b[g]++}}catch(k){v.e(k)}finally{v.f()}return f.concat(jt(d,h,l).map(function(k){return k==="equal"?"update":k}))}},{key:"_markDescendantTextToSync",value:function(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element")){var o,c=Ie(e.getChildren());try{for(c.s();!(o=c.n()).done;){var l=o.value;this._markDescendantTextToSync(l)}}catch(s){c.e(s)}finally{c.f()}}}}},{key:"_updateSelection",value:function(){if(!pt.isBlink||pt.isAndroid||!this.isSelecting||this.markedChildren.size){if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();var e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&pt.isAndroid||this._updateDomSelection(e))}}},{key:"_updateFakeSelection",value:function(e){var o=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(f){var d=f.createElement("div");return d.className="ck-fake-selection-container",Object.assign(d.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),d.textContent="\xA0",d}(o));var c=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(c,this.selection),this._fakeSelectionNeedsUpdate(e)){c.parentElement&&c.parentElement==e||e.appendChild(c),c.textContent=this.selection.fakeSelectionLabel||"\xA0";var l=o.getSelection(),s=o.createRange();l.removeAllRanges(),s.selectNodeContents(c),l.addRange(s)}}},{key:"_updateDomSelection",value:function(e){var o=e.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(o)){var c=this.domConverter.viewPositionToDom(this.selection.anchor),l=this.domConverter.viewPositionToDom(this.selection.focus);o.setBaseAndExtent(c.parent,c.offset,l.parent,l.offset),pt.isGecko&&function(s,f){var d=s.parent;if(d.nodeType==Node.ELEMENT_NODE&&s.offset==d.childNodes.length-1){var h=d.childNodes[s.offset];h&&h.tagName=="BR"&&f.addRange(f.getRangeAt(0))}}(l,o)}}},{key:"_domSelectionNeedsUpdate",value:function(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;var o=e&&this.domConverter.domSelectionToView(e);return!(o&&this.selection.isEqual(o)||!this.selection.isCollapsed&&this.selection.isSimilar(o))}},{key:"_fakeSelectionNeedsUpdate",value:function(e){var o=this._fakeSelectionContainer,c=e.ownerDocument.getSelection();return!o||o.parentElement!==e||c.anchorNode!==o&&!o.contains(c.anchorNode)||o.textContent!==this.selection.fakeSelectionLabel}},{key:"_removeDomSelection",value:function(){var e,o=Ie(this.domDocuments);try{for(o.s();!(e=o.n()).done;){var c=e.value,l=c.getSelection();if(l.rangeCount){var s=c.activeElement,f=this.domConverter.mapDomToView(s);s&&f&&l.removeAllRanges()}}}catch(d){o.e(d)}finally{o.f()}}},{key:"_removeFakeSelection",value:function(){var e=this._fakeSelectionContainer;e&&e.remove()}},{key:"_updateFocus",value:function(){if(this.isFocused){var e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}],n&&yL(t.prototype,n),i&&yL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt());function hL(r,t,n){var i=t instanceof Array?t:t.childNodes,u=i[n];if(oe(u))return u.data=Ny+u.data,u;var a=r.createTextNode(Ny);return Array.isArray(t)?i.splice(n,0,a):Q3(t,n,a),a}function sat(r,t){return Kr(r)&&Kr(t)&&!oe(r)&&!oe(t)&&!hy(r)&&!hy(t)&&r.tagName.toLowerCase()===t.tagName.toLowerCase()}function fat(r,t){return Kr(r)&&Kr(t)&&oe(r)&&oe(t)}function dat(r,t,n){return t===n||(oe(t)&&oe(n)?t.data===n.data:!(!r.isBlockFiller(t)||!r.isBlockFiller(n)))}function bL(r,t){var n=r.data;if(n!=t){var i,u=Ie(wt(n,t));try{for(u.s();!(i=u.n()).done;){var a=i.value;a.type==="insert"?r.insertData(a.index,a.values.join("")):r.deleteData(a.index,a.howMany)}}catch(e){u.e(e)}finally{u.f()}}}function to(r){return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(r)}function pat(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||mL(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function eo(){eo=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&to(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(to(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function on(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=mL(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function mL(r,t){if(r){if(typeof r=="string")return vL(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vL(r,t):void 0}}function vL(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function gL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(to(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(to(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),to(a)==="symbol"?a:String(a)),i)}var u,a}var yat=sL(kt.document),hat=uL(kt.document),bat=lL(kt.document),zm="data-ck-unsafe-attribute-",wL="data-ck-unsafe-element",Fm=function(){function r(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=a.blockFillerMode,o=a.renderingMode,c=o===void 0?"editing":o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,r),this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new ze,this._inlineObjectElementMatcher=new ze,this.document=u,this.renderingMode=c,this.blockFillerMode=e||(c==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?kt.document:kt.document.implementation.createHTMLDocument("")}var t,n,i;return t=r,n=[{key:"bindFakeSelection",value:function(u,a){this._fakeSelectionMapping.set(u,new en(a))}},{key:"fakeSelectionToView",value:function(u){return this._fakeSelectionMapping.get(u)}},{key:"bindElements",value:function(u,a){this._domToViewMapping.set(u,a),this._viewToDomMapping.set(a,u)}},{key:"unbindDomElement",value:function(u){var a=this._domToViewMapping.get(u);if(a){this._domToViewMapping.delete(u),this._viewToDomMapping.delete(a);for(var e=0,o=Array.from(u.children);e<o.length;e++){var c=o[e];this.unbindDomElement(c)}}}},{key:"bindDocumentFragments",value:function(u,a){this._domToViewMapping.set(u,a),this._viewToDomMapping.set(a,u)}},{key:"shouldRenderAttribute",value:function(u,a,e){return this.renderingMode==="data"||!(u=u.toLowerCase()).startsWith("on")&&(u!=="srcdoc"||!a.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(e==="img"&&(u==="src"||u==="srcset")||e==="source"&&u==="srcset"||!a.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}},{key:"setContentOf",value:function(u,a){if(this.renderingMode!=="data"){for(var e=new DOMParser().parseFromString(a,"text/html"),o=e.createDocumentFragment(),c=e.body.childNodes;c.length>0;)o.appendChild(c[0]);for(var l,s=e.createTreeWalker(o,NodeFilter.SHOW_ELEMENT),f=[];l=s.nextNode();)f.push(l);for(var d=0,h=f;d<h.length;d++){var b,v=h[d],g=on(v.getAttributeNames());try{for(g.s();!(b=g.n()).done;){var k=b.value;this.setDomElementAttribute(v,k,v.getAttribute(k))}}catch(A){g.e(A)}finally{g.f()}var _=v.tagName.toLowerCase();this._shouldRenameElement(_)&&(AL(_),v.replaceWith(this._createReplacementDomElement(_,v)))}for(;u.firstChild;)u.firstChild.remove();u.append(o)}else u.innerHTML=a}},{key:"viewToDom",value:function(u){var a,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(u.is("$text")){var o=this._processDataFromViewText(u);return this._domDocument.createTextNode(o)}if(this.mapViewToDom(u))return this.mapViewToDom(u);if(u.is("documentFragment"))a=this._domDocument.createDocumentFragment(),e.bind&&this.bindDocumentFragments(a,u);else{if(u.is("uiElement"))return a=u.name==="$comment"?this._domDocument.createComment(u.getCustomProperty("$rawContent")):u.render(this._domDocument,this),e.bind&&this.bindElements(a,u),a;this._shouldRenameElement(u.name)?(AL(u.name),a=this._createReplacementDomElement(u.name)):a=u.hasAttribute("xmlns")?this._domDocument.createElementNS(u.getAttribute("xmlns"),u.name):this._domDocument.createElement(u.name),u.is("rawElement")&&u.render(a,this),e.bind&&this.bindElements(a,u);var c,l=on(u.getAttributeKeys());try{for(l.s();!(c=l.n()).done;){var s=c.value;this.setDomElementAttribute(a,s,u.getAttribute(s),u)}}catch(b){l.e(b)}finally{l.f()}}if(e.withChildren!==!1){var f,d=on(this.viewChildrenToDom(u,e));try{for(d.s();!(f=d.n()).done;){var h=f.value;a.appendChild(h)}}catch(b){d.e(b)}finally{d.f()}}return a}},{key:"setDomElementAttribute",value:function(u,a,e,o){var c=this.shouldRenderAttribute(a,e,u.tagName.toLowerCase())||o&&o.shouldRenderUnsafeAttribute(a);c||Ct("domconverter-unsafe-attribute-detected",{domElement:u,key:a,value:e}),J3(a)?(u.hasAttribute(a)&&!c?u.removeAttribute(a):u.hasAttribute(zm+a)&&c&&u.removeAttribute(zm+a),u.setAttribute(c?a:zm+a,e)):Ct("domconverter-invalid-attribute-detected",{domElement:u,key:a,value:e})}},{key:"removeDomElementAttribute",value:function(u,a){a!=wL&&(u.removeAttribute(a),u.removeAttribute(zm+a))}},{key:"viewChildrenToDom",value:function(u){var a=this,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return eo().mark(function o(){var c,l,s,f,d,h;return eo().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:c=u.getFillerOffset&&u.getFillerOffset(),l=0,s=on(u.getChildren()),b.prev=3,s.s();case 5:if((f=s.n()).done){b.next=21;break}if(d=f.value,c!==l){b.next=10;break}return b.next=10,a._getBlockFiller();case 10:if(!(h=d.is("element")&&!!d.getCustomProperty("dataPipeline:transparentRendering")&&!Vt(d.getAttributes()))||a.renderingMode!="data"){b.next=15;break}return b.delegateYield(a.viewChildrenToDom(d,e),"t0",13);case 13:b.next=18;break;case 15:return h&&Ct("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:d}),b.next=18,a.viewToDom(d,e);case 18:l++;case 19:b.next=5;break;case 21:b.next=26;break;case 23:b.prev=23,b.t1=b.catch(3),s.e(b.t1);case 26:return b.prev=26,s.f(),b.finish(26);case 29:if(c!==l){b.next=32;break}return b.next=32,a._getBlockFiller();case 32:case"end":return b.stop()}},o,null,[[3,23,26,29]])})()}},{key:"viewRangeToDom",value:function(u){var a=this.viewPositionToDom(u.start),e=this.viewPositionToDom(u.end),o=this._domDocument.createRange();return o.setStart(a.parent,a.offset),o.setEnd(e.parent,e.offset),o}},{key:"viewPositionToDom",value:function(u){var a,e,o,c=u.parent;if(c.is("$text")){var l=this.findCorrespondingDomText(c);if(!l)return null;var s=u.offset;return Fe(l)&&(s+=cr),{parent:l,offset:s}}if(u.offset===0){if(!(a=this.mapViewToDom(c)))return null;o=a.childNodes[0]}else{var f=u.nodeBefore;if(!(e=f.is("$text")?this.findCorrespondingDomText(f):this.mapViewToDom(f)))return null;a=e.parentNode,o=e.nextSibling}return oe(o)&&Fe(o)?{parent:o,offset:cr}:{parent:a,offset:e?Nb(e)+1:0}}},{key:"domToView",value:function(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=[],o=this._domToView(u,a,e),c=o.next().value;return c?(o.next(),this._processDomInlineNodes(null,e,a),c.is("$text")&&c.data.length==0?null:c):null}},{key:"domChildrenToView",value:function(u){var a=this,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return eo().mark(function c(){var l,s,f,d;return eo().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:l=0;case 1:if(!(l<u.childNodes.length)){h.next=13;break}if(s=u.childNodes[l],f=a._domToView(s,e,o),(d=f.next().value)===null){h.next=10;break}return a._isBlockViewElement(d)&&a._processDomInlineNodes(u,o,e),h.next=9,d;case 9:f.next();case 10:l++,h.next=1;break;case 13:a._processDomInlineNodes(u,o,e);case 14:case"end":return h.stop()}},c)})()}},{key:"domSelectionToView",value:function(u){if(u.rangeCount===1){var a=u.getRangeAt(0).startContainer;oe(a)&&(a=a.parentNode);var e=this.fakeSelectionToView(a);if(e)return e}for(var o=this.isDomSelectionBackward(u),c=[],l=0;l<u.rangeCount;l++){var s=u.getRangeAt(l),f=this.domRangeToView(s);f&&c.push(f)}return new en(c,{backward:o})}},{key:"domRangeToView",value:function(u){var a=this.domPositionToView(u.startContainer,u.startOffset),e=this.domPositionToView(u.endContainer,u.endOffset);return a&&e?new Ot(a,e):null}},{key:"domPositionToView",value:function(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this.isBlockFiller(u))return this.domPositionToView(u.parentNode,Nb(u));var e=this.mapDomToView(u);if(e&&(e.is("uiElement")||e.is("rawElement")))return ft._createBefore(e);if(oe(u)){if(Ly(u))return this.domPositionToView(u.parentNode,Nb(u));var o=this.findCorrespondingViewText(u),c=a;return o?(Fe(u)&&(c=(c-=cr)<0?0:c),new ft(o,c)):null}if(a===0){var l=this.mapDomToView(u);if(l)return new ft(l,0)}else{var s=u.childNodes[a-1];if(oe(s)&&Ly(s)||s&&this.isBlockFiller(s))return this.domPositionToView(s.parentNode,Nb(s));var f=oe(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(f&&f.parent)return new ft(f.parent,f.index+1)}return null}},{key:"mapDomToView",value:function(u){return this.getHostViewElement(u)||this._domToViewMapping.get(u)}},{key:"findCorrespondingViewText",value:function(u){if(Ly(u))return null;var a=this.getHostViewElement(u);if(a)return a;var e=u.previousSibling;if(e){if(!this.isElement(e))return null;var o=this.mapDomToView(e);if(o){var c=o.nextSibling;return c instanceof $t?c:null}}else{var l=this.mapDomToView(u.parentNode);if(l){var s=l.getChild(0);return s instanceof $t?s:null}}return null}},{key:"mapViewToDom",value:function(u){return this._viewToDomMapping.get(u)}},{key:"findCorrespondingDomText",value:function(u){var a=u.previousSibling;return a&&this.mapViewToDom(a)?this.mapViewToDom(a).nextSibling:!a&&u.parent&&this.mapViewToDom(u.parent)?this.mapViewToDom(u.parent).childNodes[0]:null}},{key:"focus",value:function(u){var a=this.mapViewToDom(u);if(a&&a.ownerDocument.activeElement!==a){var e=kt.window,o=e.scrollX,c=e.scrollY,l=[];kL(a,function(s){var f=s.scrollLeft,d=s.scrollTop;l.push([f,d])}),a.focus(),kL(a,function(s){var f=pat(l.shift(),2),d=f[0],h=f[1];s.scrollLeft=d,s.scrollTop=h}),kt.window.scrollTo(o,c)}}},{key:"_clearDomSelection",value:function(){var u=this.mapViewToDom(this.document.selection.editableElement);if(u){var a=u.ownerDocument.defaultView.getSelection(),e=this.domSelectionToView(a);e&&e.rangeCount>0&&a.removeAllRanges()}}},{key:"isElement",value:function(u){return u&&u.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(u){return u&&u.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isBlockFiller",value:function(u){return this.blockFillerMode=="br"?u.isEqualNode(yat):!(u.tagName!=="BR"||!_L(u,this.blockElements)||u.parentNode.childNodes.length!==1)||u.isEqualNode(bat)||function(a,e){var o=a.isEqualNode(hat);return o&&_L(a,e)&&a.parentNode.childNodes.length===1}(u,this.blockElements)}},{key:"isDomSelectionBackward",value:function(u){if(u.isCollapsed)return!1;var a=this._domDocument.createRange();try{a.setStart(u.anchorNode,u.anchorOffset),a.setEnd(u.focusNode,u.focusOffset)}catch(o){return!1}var e=a.collapsed;return a.detach(),e}},{key:"getHostViewElement",value:function(u){var a=function(c){for(var l=[],s=c;s&&s.nodeType!=Node.DOCUMENT_NODE;)l.unshift(s),s=s.parentNode;return l}(u);for(a.pop();a.length;){var e=a.pop(),o=this._domToViewMapping.get(e);if(o&&(o.is("uiElement")||o.is("rawElement")))return o}return null}},{key:"isDomSelectionCorrect",value:function(u){return this._isDomSelectionPositionCorrect(u.anchorNode,u.anchorOffset)&&this._isDomSelectionPositionCorrect(u.focusNode,u.focusOffset)}},{key:"registerRawContentMatcher",value:function(u){this._rawContentElementMatcher.add(u)}},{key:"registerInlineObjectMatcher",value:function(u){this._inlineObjectElementMatcher.add(u)}},{key:"_getBlockFiller",value:function(){switch(this.blockFillerMode){case"nbsp":return uL(this._domDocument);case"markedNbsp":return lL(this._domDocument);case"br":return sL(this._domDocument)}}},{key:"_isDomSelectionPositionCorrect",value:function(u,a){if(oe(u)&&Fe(u)&&a<cr||this.isElement(u)&&Fe(u.childNodes[a]))return!1;var e=this.mapDomToView(u);return!e||!e.is("uiElement")&&!e.is("rawElement")}},{key:"_domToView",value:eo().mark(function u(a,e,o){var c,l,s,f,d,h,b,v,g,k,_,A,C,S;return eo().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!this.isBlockFiller(a)){P.next=2;break}return P.abrupt("return",null);case 2:if(!(c=this.getHostViewElement(a))){P.next=5;break}return P.abrupt("return",c);case 5:if(!hy(a)||!e.skipComments){P.next=7;break}return P.abrupt("return",null);case 7:if(!oe(a)){P.next=20;break}if(!Ly(a)){P.next=12;break}return P.abrupt("return",null);case 12:if((l=a.data)!==""){P.next=15;break}return P.abrupt("return",null);case 15:return s=new $t(this.document,l),o.push(s),P.abrupt("return",s);case 18:P.next=45;break;case 20:if(!(f=this.mapDomToView(a))){P.next=24;break}return this._isInlineObjectElement(f)&&o.push(f),P.abrupt("return",f);case 24:if(!this.isDocumentFragment(a)){P.next=29;break}f=new Jn(this.document),e.bind&&this.bindDocumentFragments(a,f),P.next=40;break;case 29:if(f=this._createViewElement(a,e),e.bind&&this.bindElements(a,f),d=a.attributes)for(h=d.length,b=0;b<h;b++)f._setAttribute(d[b].name,d[b].value);if(!this._isViewElementWithRawContent(f,e)){P.next=37;break}return f._setCustomProperty("$rawContent",a.innerHTML),this._isBlockViewElement(f)||o.push(f),P.abrupt("return",f);case 37:if(!hy(a)){P.next=40;break}return f._setCustomProperty("$rawContent",a.data),P.abrupt("return",f);case 40:return P.next=42,f;case 42:if(v=[],e.withChildren!==!1){g=on(this.domChildrenToView(a,e,v));try{for(g.s();!(k=g.n()).done;)_=k.value,f._appendChild(_)}catch(E){g.e(E)}finally{g.f()}}if(this._isInlineObjectElement(f))o.push(f);else{A=on(v);try{for(A.s();!(C=A.n()).done;)S=C.value,o.push(S)}catch(E){A.e(E)}finally{A.f()}}case 45:case"end":return P.stop()}},u,this)})},{key:"_processDomInlineNodes",value:function(u,a,e){if(a.length&&(!u||this.isDocumentFragment(u)||this._isBlockDomElement(u))){for(var o=!1,c=0;c<a.length;c++){var l=a[c];if(l.is("$text")){var s=void 0,f=!1;if(mat(l,this.preElements))s=fL(l.data);else{s=l.data.replace(/[ \n\t\r]{1,}/g," "),f=/[^\S\u00A0]/.test(s.charAt(s.length-1));var d=c>0?a[c-1]:null,h=c+1<a.length?a[c+1]:null,b=!d||d.is("element")&&d.name=="br"||o,v=!h&&!Fe(l.data);e.withChildren!==!1&&(b&&(s=s.replace(/^ /,"")),v&&(s=s.replace(/ $/,""))),s=(s=fL(s)).replace(/ \u00A0/g,"  ");var g=h&&h.is("element")&&h.name!="br",k=h&&h.is("$text")&&h.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(s)||!h||g||k)&&(s=s.replace(/\u00A0$/," ")),(b||d&&d.is("element")&&d.name!="br")&&(s=s.replace(/^\u00A0/," "))}s.length==0&&l.parent?(l._remove(),a.splice(c,1),c--):(l._data=s,o=f)}else o=!1}a.length=0}}},{key:"_processDataFromViewText",value:function(u){var a=this,e=u.data;if(u.getAncestors().some(function(s){return a.preElements.includes(s.name)}))return e;if(e.charAt(0)==" "){var o=this._getTouchingInlineViewNode(u,!1);!(o&&o.is("$textProxy")&&this._nodeEndsWithSpace(o))&&o||(e="\xA0"+e.substr(1))}if(e.charAt(e.length-1)==" "){var c=this._getTouchingInlineViewNode(u,!0),l=c&&c.is("$textProxy")&&c.data.charAt(0)==" ";e.charAt(e.length-2)!=" "&&c&&!l||(e=e.substr(0,e.length-1)+"\xA0")}return e.replace(/ {2}/g," \xA0")}},{key:"_nodeEndsWithSpace",value:function(u){var a=this;if(u.getAncestors().some(function(o){return a.preElements.includes(o.name)}))return!1;var e=this._processDataFromViewText(u);return e.charAt(e.length-1)==" "}},{key:"_getTouchingInlineViewNode",value:function(u,a){var e,o=on(new Yn({startPosition:a?ft._createAfter(u):ft._createBefore(u),direction:a?"forward":"backward"}));try{for(o.s();!(e=o.n()).done;){var c=e.value;if(c.item.is("element","br"))return null;if(this._isInlineObjectElement(c.item))return c.item;if(c.item.is("containerElement"))return null;if(c.item.is("$textProxy"))return c.item}}catch(l){o.e(l)}finally{o.f()}return null}},{key:"_isBlockDomElement",value:function(u){return this.isElement(u)&&this.blockElements.includes(u.tagName.toLowerCase())}},{key:"_isBlockViewElement",value:function(u){return u.is("element")&&this.blockElements.includes(u.name)}},{key:"_isInlineObjectElement",value:function(u){return!!u.is("element")&&(u.name=="br"||this.inlineObjectElements.includes(u.name)||!!this._inlineObjectElementMatcher.match(u))}},{key:"_createViewElement",value:function(u,a){if(hy(u))return new Bm(this.document,"$comment");var e=a.keepOriginalCase?u.tagName:u.tagName.toLowerCase();return new ar(this.document,e)}},{key:"_isViewElementWithRawContent",value:function(u,a){return a.withChildren!==!1&&u.is("element")&&!!this._rawContentElementMatcher.match(u)}},{key:"_shouldRenameElement",value:function(u){var a=u.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(a)}},{key:"_createReplacementDomElement",value:function(u,a){var e=this._domDocument.createElement("span");if(e.setAttribute(wL,u),a){for(;a.firstChild;)e.appendChild(a.firstChild);var o,c=on(a.getAttributeNames());try{for(c.s();!(o=c.n()).done;){var l=o.value;e.setAttribute(l,a.getAttribute(l))}}catch(s){c.e(s)}finally{c.f()}}return e}}],n&&gL(t.prototype,n),i&&gL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function mat(r,t){return r.getAncestors().some(function(n){return n.is("element")&&t.includes(n.name)})}function kL(r,t){for(var n=r;n;)t(n),n=n.parentElement}function _L(r,t){var n=r.parentNode;return!!n&&!!n.tagName&&t.includes(n.tagName.toLowerCase())}function AL(r){r==="script"&&Ct("domconverter-unsafe-script-element-detected"),r==="style"&&Ct("domconverter-unsafe-style-element-detected")}function ua(r){return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ua(r)}function CL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ua(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ua(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ua(a)==="symbol"?a:String(a)),i)}var u,a}function uS(r,t){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uS(r,t)}function vat(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Vm(r);if(t){var u=Vm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ua(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Vm(r){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vm(r)}var br=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&uS(e,o)})(a,r);var t,n,i,u=vat(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this))._isEnabled=!1,o.view=e,o.document=e.document,o}return t=a,(n=[{key:"isEnabled",get:function(){return this._isEnabled}},{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}},{key:"checkShouldIgnoreEventFromTarget",value:function(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}])&&CL(t.prototype,n),i&&CL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(xr());const OL=gO(function(r,t){ai(t,ui(t),r)});function zy(r){return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zy(r)}function SL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(zy(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(zy(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),zy(a)==="symbol"?a:String(a)),i)}var u,a}var la=function(){function r(u,a,e){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,r),this.view=u,this.document=u.document,this.domEvent=a,this.domTarget=a.target,OL(this,e)}var t,n,i;return t=r,(n=[{key:"target",get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}},{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}}])&&SL(t.prototype,n),i&&SL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function sa(r){return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sa(r)}function jL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(sa(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(sa(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),sa(a)==="symbol"?a:String(a)),i)}var u,a}function lS(r,t){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lS(r,t)}function gat(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Um(r);if(t){var u=Um(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(sa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Um(r){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Um(r)}var an=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&lS(e,o)})(a,r);var t,n,i,u=gat(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments)).useCapture=!1,e}return t=a,(n=[{key:"observe",value:function(e){var o=this;(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(function(c){o.listenTo(e,c,function(l,s){o.isEnabled&&!o.checkShouldIgnoreEventFromTarget(s.target)&&o.onDomEvent(s)},{useCapture:o.useCapture})})}},{key:"stopObserving",value:function(e){this.stopListening(e)}},{key:"fire",value:function(e,o,c){this.isEnabled&&this.document.fire(e,new la(this.view,o,c))}}])&&jL(t.prototype,n),i&&jL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(br);function fa(r){return fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(r)}function PL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(fa(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(fa(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),fa(a)==="symbol"?a:String(a)),i)}var u,a}function sS(r,t){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sS(r,t)}function wat(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Hm(r);if(t){var u=Hm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Hm(r){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hm(r)}var kat=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&sS(e,o)})(a,r);var t,n,i,u=wat(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments)).domEventType=["keydown","keyup"],e}return t=a,(n=[{key:"onDomEvent",value:function(e){var o={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return zn(this)}};this.fire(e.type,e,o)}}])&&PL(t.prototype,n),i&&PL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(an);function da(r){return da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},da(r)}function EL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(da(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(da(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),da(a)==="symbol"?a:String(a)),i)}var u,a}function fS(){return fS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=pa(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},fS.apply(this,arguments)}function dS(r,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dS(r,t)}function _at(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=pa(r);if(t){var u=pa(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function pa(r){return pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pa(r)}var Aat=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&dS(e,o)})(a,r);var t,n,i,u=_at(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._fireSelectionChangeDoneDebounced=Dr(function(c){o.document.fire("selectionChangeDone",c)},200),o}return t=a,(n=[{key:"observe",value:function(){var e=this,o=this.document;o.on("arrowKey",function(c,l){o.selection.isFake&&e.isEnabled&&l.preventDefault()},{context:"$capture"}),o.on("arrowKey",function(c,l){o.selection.isFake&&e.isEnabled&&e._handleSelectionMove(l.keyCode)},{priority:"lowest"})}},{key:"stopObserving",value:function(){}},{key:"destroy",value:function(){fS(pa(a.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(e){var o=this.document.selection,c=new en(o.getRanges(),{backward:o.isBackward,fake:!1});e!=Et.arrowleft&&e!=Et.arrowup||c.setTo(c.getFirstPosition()),e!=Et.arrowright&&e!=Et.arrowdown||c.setTo(c.getLastPosition());var l={oldSelection:o,newSelection:c,domSelection:null};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}])&&EL(t.prototype,n),i&&EL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(br);const Cat=function(r){return this.__data__.set(r,"__lodash_hash_undefined__"),this},Oat=function(r){return this.__data__.has(r)};function Gm(r){var t=-1,n=r==null?0:r.length;for(this.__data__=new jb;++t<n;)this.add(r[t])}Gm.prototype.add=Gm.prototype.push=Cat,Gm.prototype.has=Oat;const Sat=Gm,jat=function(r,t){for(var n=-1,i=r==null?0:r.length;++n<i;)if(t(r[n],n,r))return!0;return!1},Pat=function(r,t){return r.has(t)},xL=function(r,t,n,i,u,a){var e=1&n,o=r.length,c=t.length;if(o!=c&&!(e&&c>o))return!1;var l=a.get(r),s=a.get(t);if(l&&s)return l==t&&s==r;var f=-1,d=!0,h=2&n?new Sat:void 0;for(a.set(r,t),a.set(t,r);++f<o;){var b=r[f],v=t[f];if(i)var g=e?i(v,b,f,t,r,a):i(b,v,f,r,t,a);if(g!==void 0){if(g)continue;d=!1;break}if(h){if(!jat(t,function(k,_){if(!Pat(h,_)&&(b===k||u(b,k,n,i,a)))return h.push(_)})){d=!1;break}}else if(b!==v&&!u(b,v,n,i,a)){d=!1;break}}return a.delete(r),a.delete(t),d},Eat=function(r){var t=-1,n=Array(r.size);return r.forEach(function(i,u){n[++t]=[u,i]}),n},xat=function(r){var t=-1,n=Array(r.size);return r.forEach(function(i){n[++t]=i}),n};var TL=yr?yr.prototype:void 0,pS=TL?TL.valueOf:void 0;const Tat=function(r,t,n,i,u,a,e){switch(n){case"[object DataView]":if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(r.byteLength!=t.byteLength||!a(new Tb(r),new Tb(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return cy(+r,+t);case"[object Error]":return r.name==t.name&&r.message==t.message;case"[object RegExp]":case"[object String]":return r==t+"";case"[object Map]":var o=Eat;case"[object Set]":var c=1&i;if(o||(o=xat),r.size!=t.size&&!c)return!1;var l=e.get(r);if(l)return l==t;i|=2,e.set(r,t);var s=xL(o(r),o(t),i,u,a,e);return e.delete(r),s;case"[object Symbol]":if(pS)return pS.call(r)==pS.call(t)}return!1};var Dat=Object.prototype.hasOwnProperty;const Rat=function(r,t,n,i,u,a){var e=1&n,o=KA(r),c=o.length;if(c!=KA(t).length&&!e)return!1;for(var l=c;l--;){var s=o[l];if(!(e?s in t:Dat.call(t,s)))return!1}var f=a.get(r),d=a.get(t);if(f&&d)return f==t&&d==r;var h=!0;a.set(r,t),a.set(t,r);for(var b=e;++l<c;){var v=r[s=o[l]],g=t[s];if(i)var k=e?i(g,v,s,t,r,a):i(v,g,s,r,t,a);if(!(k===void 0?v===g||u(v,g,n,i,a):k)){h=!1;break}b||(b=s=="constructor")}if(h&&!b){var _=r.constructor,A=t.constructor;_==A||!("constructor"in r)||!("constructor"in t)||typeof _=="function"&&_ instanceof _&&typeof A=="function"&&A instanceof A||(h=!1)}return a.delete(r),a.delete(t),h};var DL="[object Arguments]",RL="[object Array]",Wm="[object Object]",IL=Object.prototype.hasOwnProperty;const Iat=function(r,t,n,i,u,a){var e=Se(r),o=Se(t),c=e?RL:py(r),l=o?RL:py(t),s=(c=c==DL?Wm:c)==Wm,f=(l=l==DL?Wm:l)==Wm,d=c==l;if(d&&fy(r)){if(!fy(t))return!1;e=!0,s=!1}if(d&&!s)return a||(a=new sy),e||GA(r)?xL(r,t,n,i,u,a):Tat(r,t,c,n,i,u,a);if(!(1&n)){var h=s&&IL.call(r,"__wrapped__"),b=f&&IL.call(t,"__wrapped__");if(h||b){var v=h?r.value():r,g=b?t.value():t;return a||(a=new sy),u(v,g,n,i,a)}}return!!d&&(a||(a=new sy),Rat(r,t,n,i,u,a))},BL=function r(t,n,i,u,a){return t===n||(t==null||n==null||!Ze(t)&&!Ze(n)?t!=t&&n!=n:Iat(t,n,i,u,r,a))},Bat=function(r,t,n){var i=(n=typeof n=="function"?n:void 0)?n(r,t):void 0;return i===void 0?BL(r,t,void 0,n):!!i};function ya(r){return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(r)}function ha(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return ML(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ML(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function ML(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function NL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ya(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ya(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ya(a)==="symbol"?a:String(a)),i)}var u,a}function Fy(){return Fy=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=cn(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},Fy.apply(this,arguments)}function yS(r,t){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yS(r,t)}function Mat(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=cn(r);if(t){var u=cn(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ya(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LL(a)}(this,n)}}function LL(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function cn(r){return cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cn(r)}var zL=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&yS(e,o)})(a,r);var t,n,i,u=Mat(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._config={childList:!0,characterData:!0,subtree:!0},o.domConverter=e.domConverter,o.renderer=e._renderer,o._domElements=new Set,o._mutationObserver=new window.MutationObserver(o._onMutations.bind(LL(o))),o}return t=a,(n=[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}},{key:"stopObserving",value:function(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();var o,c=ha(this._domElements);try{for(c.s();!(o=c.n()).done;){var l=o.value;this._mutationObserver.observe(l,this._config)}}catch(s){c.e(s)}finally{c.f()}}}},{key:"enable",value:function(){Fy(cn(a.prototype),"enable",this).call(this);var e,o=ha(this._domElements);try{for(o.s();!(e=o.n()).done;){var c=e.value;this._mutationObserver.observe(c,this._config)}}catch(l){o.e(l)}finally{o.f()}}},{key:"disable",value:function(){Fy(cn(a.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){Fy(cn(a.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(e){if(e.length!==0){var o,c=this.domConverter,l=new Set,s=new Set,f=ha(e);try{for(f.s();!(o=f.n()).done;){var d=o.value,h=c.mapDomToView(d.target);h&&(h.is("uiElement")||h.is("rawElement")||d.type!=="childList"||this._isBogusBrMutation(d)||s.add(h))}}catch(Z){f.e(Z)}finally{f.f()}var b,v=ha(e);try{for(v.s();!(b=v.n()).done;){var g=b.value,k=c.mapDomToView(g.target);if((!k||!k.is("uiElement")&&!k.is("rawElement"))&&g.type==="characterData"){var _=c.findCorrespondingViewText(g.target);_&&!s.has(_.parent)?l.add(_):!_&&Fe(g.target)&&s.add(c.mapDomToView(g.target.parentNode))}}}catch(Z){v.e(Z)}finally{v.f()}var A,C=!1,S=ha(l);try{for(S.s();!(A=S.n()).done;){var P=A.value;C=!0,this.renderer.markToSync("text",P)}}catch(Z){S.e(Z)}finally{S.f()}var E,R=ha(s);try{for(R.s();!(E=R.n()).done;){var I=E.value,z=c.mapViewToDom(I),F=Array.from(I.getChildren()),tt=Array.from(c.domChildrenToView(z,{withChildren:!1}));Bat(F,tt,Nat)||(C=!0,this.renderer.markToSync("children",I))}}catch(Z){R.e(Z)}finally{R.f()}C&&this.view.forceRender()}}},{key:"_isBogusBrMutation",value:function(e){var o=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(o=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),o&&o.is("element","br")}}])&&NL(t.prototype,n),i&&NL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(br);function Nat(r,t){if(!Array.isArray(r))return r===t||!(!r.is("$text")||!t.is("$text"))&&r.data===t.data}function ba(r){return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(r)}function FL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ba(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ba(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ba(a)==="symbol"?a:String(a)),i)}var u,a}function hS(){return hS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=ma(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},hS.apply(this,arguments)}function bS(r,t){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bS(r,t)}function Lat(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ma(r);if(t){var u=ma(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function ma(r){return ma=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ma(r)}var $m=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&bS(e,o)})(a,r);var t,n,i,u=Lat(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a),(o=u.call(this,e))._isFocusChanging=!1,o.domEventType=["focus","blur"],o.useCapture=!0;var c=o.document;return c.on("focus",function(){o._isFocusChanging=!0,o._renderTimeoutId=setTimeout(function(){o.flush(),e.change(function(){})},50)}),c.on("blur",function(l,s){var f=c.selection.editableElement;f!==null&&f!==s.target||(c.isFocused=!1,o._isFocusChanging=!1,e.change(function(){}))}),o}return t=a,(n=[{key:"flush",value:function(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}},{key:"onDomEvent",value:function(e){this.fire(e.type,e)}},{key:"destroy",value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),hS(ma(a.prototype),"destroy",this).call(this)}}])&&FL(t.prototype,n),i&&FL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(an);function va(r){return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},va(r)}function VL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(va(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(va(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),va(a)==="symbol"?a:String(a)),i)}var u,a}function mS(){return mS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=ga(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},mS.apply(this,arguments)}function vS(r,t){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vS(r,t)}function zat(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ga(r);if(t){var u=ga(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(va(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function ga(r){return ga=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ga(r)}var Fat=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&vS(e,o)})(a,r);var t,n,i,u=zat(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).mutationObserver=e.getObserver(zL),o.focusObserver=e.getObserver($m),o.selection=o.document.selection,o.domConverter=e.domConverter,o._documents=new WeakSet,o._fireSelectionChangeDoneDebounced=Dr(function(c){o.document.fire("selectionChangeDone",c)},200),o._clearInfiniteLoopInterval=setInterval(function(){return o._clearInfiniteLoop()},1e3),o._documentIsSelectingInactivityTimeoutDebounced=Dr(function(){return o.document.isSelecting=!1},5e3),o._loopbackCounter=0,o}return t=a,(n=[{key:"observe",value:function(e){var o=this,c=e.ownerDocument,l=function(){o.document.isSelecting&&(o._handleSelectionChange(null,c),o.document.isSelecting=!1,o._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",function(){o.document.isSelecting=!0,o._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",l,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",l,{priority:"highest",useCapture:!0}),this._documents.has(c)||(this.listenTo(c,"mouseup",l,{priority:"highest",useCapture:!0}),this.listenTo(c,"selectionchange",function(s,f){o.document.isComposing&&!pt.isAndroid||(o._handleSelectionChange(f,c),o._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(c))}},{key:"stopObserving",value:function(e){this.stopListening(e)}},{key:"destroy",value:function(){mS(ga(a.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}},{key:"_reportInfiniteLoop",value:function(){}},{key:"_handleSelectionChange",value:function(e,o){if(this.isEnabled){var c=o.defaultView.getSelection();if(!this.checkShouldIgnoreEventFromTarget(c.anchorNode)){this.mutationObserver.flush();var l=this.domConverter.domSelectionToView(c);if(l.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(l)||!this.domConverter.isDomSelectionCorrect(c))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(l))this.view.forceRender();else{var s={oldSelection:this.selection,newSelection:l,domSelection:c};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}else this.view.hasDomSelection=!1}}}},{key:"_clearInfiniteLoop",value:function(){this._loopbackCounter=0}}])&&VL(t.prototype,n),i&&VL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(br);function wa(r){return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wa(r)}function UL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(wa(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(wa(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),wa(a)==="symbol"?a:String(a)),i)}var u,a}function gS(r,t){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gS(r,t)}function Vat(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=qm(r);if(t){var u=qm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function qm(r){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qm(r)}var Uat=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&gS(e,o)})(a,r);var t,n,i,u=Vat(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a),(o=u.call(this,e)).domEventType=["compositionstart","compositionupdate","compositionend"];var c=o.document;return c.on("compositionstart",function(){c.isComposing=!0},{priority:"low"}),c.on("compositionend",function(){c.isComposing=!1},{priority:"low"}),o}return t=a,(n=[{key:"onDomEvent",value:function(e){this.fire(e.type,e,{data:e.data})}}])&&UL(t.prototype,n),i&&UL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(an);function Vy(r){return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vy(r)}function HL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Vy(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Vy(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Vy(a)==="symbol"?a:String(a)),i)}var u,a}var GL=function(){function r(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")})(this,r),this._files=a.cacheFiles?WL(u):null,this._native=u}var t,n,i;return t=r,(n=[{key:"files",get:function(){return this._files||(this._files=WL(this._native)),this._files}},{key:"types",get:function(){return this._native.types}},{key:"getData",value:function(u){return this._native.getData(u)}},{key:"setData",value:function(u,a){this._native.setData(u,a)}},{key:"effectAllowed",get:function(){return this._native.effectAllowed},set:function(u){this._native.effectAllowed=u}},{key:"dropEffect",get:function(){return this._native.dropEffect},set:function(u){this._native.dropEffect=u}},{key:"setDragImage",value:function(u,a,e){this._native.setDragImage(u,a,e)}},{key:"isCanceled",get:function(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}])&&HL(t.prototype,n),i&&HL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function WL(r){var t=Array.from(r.files||[]),n=Array.from(r.items||[]);return t.length?t:n.filter(function(i){return i.kind==="file"}).map(function(i){return i.getAsFile()})}function ka(r){return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ka(r)}function $L(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ka(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ka(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ka(a)==="symbol"?a:String(a)),i)}var u,a}function wS(r,t){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wS(r,t)}function Hat(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ym(r);if(t){var u=Ym(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ym(r){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ym(r)}var Gat=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&wS(e,o)})(a,r);var t,n,i,u=Hat(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments)).domEventType="beforeinput",e}return t=a,(n=[{key:"onDomEvent",value:function(e){var o=e.getTargetRanges(),c=this.view,l=c.document,s=null,f=null,d=[];if(e.dataTransfer&&(s=new GL(e.dataTransfer)),e.data!==null?f=e.data:s&&(f=s.getData("text/plain")),l.selection.isFake)d=Array.from(l.selection.getRanges());else if(o.length)d=o.map(function(_){var A=c.domConverter.domPositionToView(_.startContainer,_.startOffset),C=c.domConverter.domPositionToView(_.endContainer,_.endOffset);return A?c.createRange(A,C):C?c.createRange(C):void 0}).filter(function(_){return!!_});else if(pt.isAndroid){var h=e.target.ownerDocument.defaultView.getSelection();d=Array.from(c.domConverter.domSelectionToView(h).getRanges())}if(pt.isAndroid&&e.inputType=="insertCompositionText"&&f&&f.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[c.createRange(d[0].end)]});else if(e.inputType=="insertText"&&f&&f.includes(`
`))for(var b=f.split(/\n{1,2}/g),v=d,g=0;g<b.length;g++){var k=b[g];k!=""&&(this.fire(e.type,e,{data:k,dataTransfer:s,targetRanges:v,inputType:e.inputType,isComposing:e.isComposing}),v=[l.selection.getFirstRange()]),g+1<b.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:v}),v=[l.selection.getFirstRange()])}else this.fire(e.type,e,{data:f,dataTransfer:s,targetRanges:d,inputType:e.inputType,isComposing:e.isComposing})}}])&&$L(t.prototype,n),i&&$L(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(an);function _a(r){return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(r)}function qL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(_a(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(_a(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),_a(a)==="symbol"?a:String(a)),i)}var u,a}function kS(r,t){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kS(r,t)}function Wat(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Km(r);if(t){var u=Km(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(_a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Km(r){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Km(r)}var $at=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&kS(e,o)})(a,r);var t,n,i,u=Wat(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).document.on("keydown",function(c,l){if(o.isEnabled&&((f=l.keyCode)==Et.arrowright||f==Et.arrowleft||f==Et.arrowup||f==Et.arrowdown)){var s=new Xi(o.document,"arrowKey",o.document.selection.getFirstRange());o.document.fire(s,l),s.stop.called&&c.stop()}var f}),o}return t=a,(n=[{key:"observe",value:function(){}},{key:"stopObserving",value:function(){}}])&&qL(t.prototype,n),i&&qL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(br);function Aa(r){return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aa(r)}function YL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Aa(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Aa(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Aa(a)==="symbol"?a:String(a)),i)}var u,a}function _S(r,t){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_S(r,t)}function qat(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Zm(r);if(t){var u=Zm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Aa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Zm(r){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zm(r)}var Yat=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&_S(e,o)})(a,r);var t,n,i,u=qat(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a);var c=(o=u.call(this,e)).document;return c.on("keydown",function(l,s){if(o.isEnabled&&s.keyCode==Et.tab&&!s.ctrlKey){var f=new Xi(c,"tab",c.selection.getFirstRange());c.fire(f,s),f.stop.called&&l.stop()}}),o}return t=a,(n=[{key:"observe",value:function(){}},{key:"stopObserving",value:function(){}}])&&YL(t.prototype,n),i&&YL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(br);const Mr=function(r){return eC(r,5)};function Ca(r){return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(r)}function AS(r,t,n){return AS=JL()?Reflect.construct.bind():function(i,u,a){var e=[null];e.push.apply(e,u);var o=new(Function.bind.apply(i,e));return a&&Qm(o,a.prototype),o},AS.apply(null,arguments)}function Kat(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||KL(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oa(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=KL(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function KL(r,t){if(r){if(typeof r=="string")return ZL(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZL(r,t):void 0}}function ZL(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function QL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ca(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ca(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ca(a)==="symbol"?a:String(a)),i)}var u,a}function Qm(r,t){return Qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qm(r,t)}function Zat(r){var t=JL();return function(){var n,i=Jm(r);if(t){var u=Jm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ca(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CS(a)}(this,n)}}function CS(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function JL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}function Jm(r){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jm(r)}var Qat=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Qm(e,o)})(a,r);var t,n,i,u=Zat(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this)).domRoots=new Map,o._initialDomRootAttributes=new WeakMap,o._observers=new Map,o._ongoingChange=!1,o._postFixersInProgress=!1,o._renderingDisabled=!1,o._hasChangedSinceTheLastRendering=!1,o.document=new Tm(e),o.domConverter=new Fm(o.document),o.set("isRenderingInProgress",!1),o.set("hasDomSelection",!1),o._renderer=new lat(o.domConverter,o.document.selection),o._renderer.bind("isFocused","isSelecting","isComposing").to(o.document,"isFocused","isSelecting","isComposing"),o._writer=new nL(o.document),o.addObserver(zL),o.addObserver($m),o.addObserver(Fat),o.addObserver(kat),o.addObserver(Aat),o.addObserver(Uat),o.addObserver($at),o.addObserver(Gat),o.addObserver(Yat),CS(o).document.on("arrowKey",aat,{priority:"low"}),Jit(CS(o)),o.on("render",function(){o._render(),o.document.fire("layoutChanged"),o._hasChangedSinceTheLastRendering=!1}),o.listenTo(o.document.selection,"change",function(){o._hasChangedSinceTheLastRendering=!0}),o.listenTo(o.document,"change:isFocused",function(){o._hasChangedSinceTheLastRendering=!0}),pt.isiOS&&o.listenTo(o.document,"blur",function(c,l){o.domConverter.mapDomToView(l.domEvent.relatedTarget)||o.domConverter._clearDomSelection()}),o}return t=a,n=[{key:"attachDomRoot",value:function(e){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"main",l=this.document.getRoot(c);l._name=e.tagName.toLowerCase();for(var s={},f=0,d=Array.from(e.attributes);f<d.length;f++){var h=d[f],b=h.name,v=h.value;s[b]=v,b==="class"?this._writer.addClass(v.split(" "),l):this._writer.setAttribute(b,v,l)}this._initialDomRootAttributes.set(e,s);var g=function(){o._writer.setAttribute("contenteditable",(!l.isReadOnly).toString(),l),l.isReadOnly?o._writer.addClass("ck-read-only",l):o._writer.removeClass("ck-read-only",l)};g(),this.domRoots.set(c,e),this.domConverter.bindElements(e,l),this._renderer.markToSync("children",l),this._renderer.markToSync("attributes",l),this._renderer.domDocuments.add(e.ownerDocument),l.on("change:children",function(A,C){return o._renderer.markToSync("children",C)}),l.on("change:attributes",function(A,C){return o._renderer.markToSync("attributes",C)}),l.on("change:text",function(A,C){return o._renderer.markToSync("text",C)}),l.on("change:isReadOnly",function(){return o.change(g)}),l.on("change",function(){o._hasChangedSinceTheLastRendering=!0});var k,_=Oa(this._observers.values());try{for(_.s();!(k=_.n()).done;)k.value.observe(e,c)}catch(A){_.e(A)}finally{_.f()}}},{key:"detachDomRoot",value:function(e){var o=this.domRoots.get(e);Array.from(o.attributes).forEach(function(d){var h=d.name;return o.removeAttribute(h)});var c=this._initialDomRootAttributes.get(o);for(var l in c)o.setAttribute(l,c[l]);this.domRoots.delete(e),this.domConverter.unbindDomElement(o);var s,f=Oa(this._observers.values());try{for(f.s();!(s=f.n()).done;)s.value.stopObserving(o)}catch(d){f.e(d)}finally{f.f()}}},{key:"getDomRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this.domRoots.get(e)}},{key:"addObserver",value:function(e){var o=this._observers.get(e);if(o)return o;o=new e(this),this._observers.set(e,o);var c,l=Oa(this.domRoots);try{for(l.s();!(c=l.n()).done;){var s=Kat(c.value,2),f=s[0],d=s[1];o.observe(d,f)}}catch(h){l.e(h)}finally{l.f()}return o.enable(),o}},{key:"getObserver",value:function(e){return this._observers.get(e)}},{key:"disableObservers",value:function(){var e,o=Oa(this._observers.values());try{for(o.s();!(e=o.n()).done;)e.value.disable()}catch(c){o.e(c)}finally{o.f()}}},{key:"enableObservers",value:function(){var e,o=Oa(this._observers.values());try{for(o.s();!(e=o.n()).done;)e.value.enable()}catch(c){o.e(c)}finally{o.f()}}},{key:"scrollToTheSelection",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.alignToTop,c=e.forceScroll,l=e.viewportOffset,s=l===void 0?20:l,f=e.ancestorOffset,d=f===void 0?20:f,h=this.document.selection.getFirstRange();if(h){var b=Mr({alignToTop:o,forceScroll:c,viewportOffset:s,ancestorOffset:d});typeof s=="number"&&(s={top:s,bottom:s,left:s,right:s});var v={target:this.domConverter.viewRangeToDom(h),viewportOffset:s,ancestorOffset:d,alignToTop:o,forceScroll:c};this.fire("scrollToTheSelection",v,b),o4(v)}}},{key:"focus",value:function(){if(!this.document.isFocused){var e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}},{key:"change",value:function(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new V("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;var o=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),o}catch(c){V.rethrowUnexpectedError(c,this)}}},{key:"forceRender",value:function(){this._hasChangedSinceTheLastRendering=!0,this.getObserver($m).flush(),this.change(function(){})}},{key:"destroy",value:function(){var e,o=Oa(this._observers.values());try{for(o.s();!(e=o.n()).done;)e.value.destroy()}catch(c){o.e(c)}finally{o.f()}this.document.destroy(),this.stopListening()}},{key:"createPositionAt",value:function(e,o){return ft._createAt(e,o)}},{key:"createPositionAfter",value:function(e){return ft._createAfter(e)}},{key:"createPositionBefore",value:function(e){return ft._createBefore(e)}},{key:"createRange",value:function(e,o){return new Ot(e,o)}},{key:"createRangeOn",value:function(e){return Ot._createOn(e)}},{key:"createRangeIn",value:function(e){return Ot._createIn(e)}},{key:"createSelection",value:function(){for(var e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return AS(en,o)}},{key:"_disableRendering",value:function(e){this._renderingDisabled=e,e==0&&this.change(function(){})}},{key:"_render",value:function(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}],n&&QL(t.prototype,n),i&&QL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt());function Uy(r){return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uy(r)}function XL(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Uy(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Uy(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Uy(a)==="symbol"?a:String(a)),i)}var u,a}var un=function(){function r(){(function(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")})(this,r)}var t,n,i;return t=r,(n=[{key:"is",value:function(){throw new Error("is() method is abstract")}}])&&XL(t.prototype,n),i&&XL(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Sa(r){return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sa(r)}function t6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Sa(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Sa(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Sa(a)==="symbol"?a:String(a)),i)}var u,a}function OS(r,t){return OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OS(r,t)}function Jat(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Xm(r);if(t){var u=Xm(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Sa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Xm(r){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xm(r)}var ro=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&OS(e,o)})(a,r);var t,n,i,u=Jat(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this)).parent=null,o._attrs=Tr(e),o}return t=a,n=[{key:"document",get:function(){return null}},{key:"index",get:function(){var e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new V("model-node-not-found-in-parent",this);return e}},{key:"startOffset",get:function(){var e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new V("model-node-not-found-in-parent",this);return e}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"isAttached",value:function(){return this.parent!==null&&this.root.isAttached()}},{key:"getPath",value:function(){for(var e=[],o=this;o.parent;)e.unshift(o.startOffset),o=o.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=[],c=e.includeSelf?this:this.parent;c;)o[e.parentFirst?"push":"unshift"](c),c=c.parent;return o}},{key:"getCommonAncestor",value:function(e){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.getAncestors(o),l=e.getAncestors(o),s=0;c[s]==l[s]&&c[s];)s++;return s===0?null:c[s-1]}},{key:"isBefore",value:function(e){if(this==e||this.root!==e.root)return!1;var o=this.getPath(),c=e.getPath(),l=ke(o,c);switch(l){case"prefix":return!0;case"extension":return!1;default:return o[l]<c[l]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"toJSON",value:function(){var e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce(function(o,c){return o[c[0]]=c[1],o},{})),e}},{key:"_clone",value:function(e){return new this.constructor(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(e,o){this._attrs.set(e,o)}},{key:"_setAttributesTo",value:function(e){this._attrs=Tr(e)}},{key:"_removeAttribute",value:function(e){return this._attrs.delete(e)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}}],n&&t6(t.prototype,n),i&&t6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(un);function Hy(r){return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hy(r)}function e6(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return r6(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return r6(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function r6(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function n6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Hy(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Hy(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Hy(a)==="symbol"?a:String(a)),i)}var u,a}ro.prototype.is=function(r){return r==="node"||r==="model:node"};var Gy=function(r){function t(a){(function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),this._nodes=[],a&&this._insertNodes(0,a)}var n,i,u;return n=t,i=[{key:r,value:function(){return this._nodes[Symbol.iterator]()}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce(function(a,e){return a+e.offsetSize},0)}},{key:"getNode",value:function(a){return this._nodes[a]||null}},{key:"getNodeIndex",value:function(a){var e=this._nodes.indexOf(a);return e==-1?null:e}},{key:"getNodeStartOffset",value:function(a){var e=this.getNodeIndex(a);return e===null?null:this._nodes.slice(0,e).reduce(function(o,c){return o+c.offsetSize},0)}},{key:"indexToOffset",value:function(a){if(a==this._nodes.length)return this.maxOffset;var e=this._nodes[a];if(!e)throw new V("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}},{key:"offsetToIndex",value:function(a){var e,o=0,c=e6(this._nodes);try{for(c.s();!(e=c.n()).done;){var l=e.value;if(a>=o&&a<o+l.offsetSize)return this.getNodeIndex(l);o+=l.offsetSize}}catch(s){c.e(s)}finally{c.f()}if(o!=a)throw new V("model-nodelist-offset-out-of-bounds",this,{offset:a,nodeList:this});return this.length}},{key:"_insertNodes",value:function(a,e){var o,c=e6(e);try{for(c.s();!(o=c.n()).done;)if(!(o.value instanceof ro))throw new V("model-nodelist-insertnodes-not-node",this)}catch(l){c.e(l)}finally{c.f()}this._nodes=function(l,s,f,d){if(Math.max(s.length,l.length)>1e4)return l.slice(0,f).concat(s).concat(l.slice(f+d,l.length));var h=Array.from(l);return h.splice.apply(h,[f,d].concat(qnt(s))),h}(this._nodes,Array.from(e),a,0)}},{key:"_removeNodes",value:function(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._nodes.splice(a,e)}},{key:"toJSON",value:function(){return this._nodes.map(function(a){return a.toJSON()})}}],i&&n6(n.prototype,i),u&&n6(n,u),Object.defineProperty(n,"prototype",{writable:!1}),t}(Symbol.iterator);function ja(r){return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ja(r)}function o6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ja(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ja(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ja(a)==="symbol"?a:String(a)),i)}var u,a}function SS(){return SS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Pa(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},SS.apply(this,arguments)}function jS(r,t){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jS(r,t)}function Xat(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Pa(r);if(t){var u=Pa(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Pa(r){return Pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pa(r)}var qt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&jS(e,o)})(a,r);var t,n,i,u=Xat(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,o))._data=e||"",c}return t=a,i=[{key:"fromJSON",value:function(e){return new a(e.data,e.attributes)}}],(n=[{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}},{key:"toJSON",value:function(){var e=SS(Pa(a.prototype),"toJSON",this).call(this);return e.data=this.data,e}},{key:"_clone",value:function(){return new a(this.data,this.getAttributes())}}])&&o6(t.prototype,n),i&&o6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(ro);function Ea(r){return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(r)}function i6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ea(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ea(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ea(a)==="symbol"?a:String(a)),i)}var u,a}function PS(r,t){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PS(r,t)}function tct(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=tv(r);if(t){var u=tv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ea(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ES(a)}(this,n)}}function ES(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function tv(r){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tv(r)}qt.prototype.is=function(r){return r==="$text"||r==="model:$text"||r==="text"||r==="model:text"||r==="node"||r==="model:node"};var ur=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&PS(e,o)})(a,r);var t,n,i,u=tct(a);function a(e,o,c){var l;if(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,a),(l=u.call(this)).textNode=e,o<0||o>e.offsetSize)throw new V("model-textproxy-wrong-offsetintext",ES(l));if(c<0||o+c>e.offsetSize)throw new V("model-textproxy-wrong-length",ES(l));return l.data=e.data.substring(o,o+c),l.offsetInText=o,l}return t=a,n=[{key:"startOffset",get:function(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"getPath",value:function(){var e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=[],c=e.includeSelf?this:this.parent;c;)o[e.parentFirst?"push":"unshift"](c),c=c.parent;return o}},{key:"hasAttribute",value:function(e){return this.textNode.hasAttribute(e)}},{key:"getAttribute",value:function(e){return this.textNode.getAttribute(e)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}}],n&&i6(t.prototype,n),i&&i6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(un);function xa(r){return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xa(r)}function Wy(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return a6(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return a6(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function a6(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function c6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(xa(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(xa(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),xa(a)==="symbol"?a:String(a)),i)}var u,a}function xS(){return xS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Ta(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},xS.apply(this,arguments)}function TS(r,t){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TS(r,t)}function ect(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ta(r);if(t){var u=Ta(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ta(r){return Ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ta(r)}ur.prototype.is=function(r){return r==="$textProxy"||r==="model:$textProxy"||r==="textProxy"||r==="model:textProxy"};var Ut=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&TS(e,o)})(a,r);var t,n,i,u=ect(a);function a(e,o,c){var l;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,a),(l=u.call(this,o))._children=new Gy,l.name=e,c&&l._insertChild(0,c),l}return t=a,n=[{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return this.childCount===0}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"getNodeByPath",value:function(e){var o,c=this,l=Wy(e);try{for(l.s();!(o=l.n()).done;){var s=o.value;c=c.getChild(c.offsetToIndex(s))}}catch(f){l.e(f)}finally{l.f()}return c}},{key:"findAncestor",value:function(e){for(var o=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).includeSelf?this:this.parent;o;){if(o.name===e)return o;o=o.parent}return null}},{key:"toJSON",value:function(){var e=xS(Ta(a.prototype),"toJSON",this).call(this);if(e.name=this.name,this._children.length>0){e.children=[];var o,c=Wy(this._children);try{for(c.s();!(o=c.n()).done;){var l=o.value;e.children.push(l.toJSON())}}catch(s){c.e(s)}finally{c.f()}}return e}},{key:"_clone",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0]?Array.from(this._children).map(function(o){return o._clone(!0)}):void 0;return new a(this.name,this.getAttributes(),e)}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,o){var c,l=function(d){return typeof d=="string"?[new qt(d)]:(Le(d)||(d=[d]),Array.from(d).map(function(h){return typeof h=="string"?new qt(h):h instanceof ur?new qt(h.data,h.getAttributes()):h}))}(o),s=Wy(l);try{for(s.s();!(c=s.n()).done;){var f=c.value;f.parent!==null&&f._remove(),f.parent=this}}catch(d){s.e(d)}finally{s.f()}this._children._insertNodes(e,l)}},{key:"_removeChildren",value:function(e){var o,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,l=this._children._removeNodes(e,c),s=Wy(l);try{for(s.s();!(o=s.n()).done;)o.value.parent=null}catch(f){s.e(f)}finally{s.f()}return l}}],i=[{key:"fromJSON",value:function(e){var o;if(e.children){o=[];var c,l=Wy(e.children);try{for(l.s();!(c=l.n()).done;){var s=c.value;s.name?o.push(a.fromJSON(s)):o.push(qt.fromJSON(s))}}catch(f){l.e(f)}finally{l.f()}}return new a(e.name,e.attributes,o)}}],n&&c6(t.prototype,n),i&&c6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(ro);function $y(r){return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$y(r)}function u6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if($y(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if($y(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),$y(a)==="symbol"?a:String(a)),i)}var u,a}Ut.prototype.is=function(r,t){return t?t===this.name&&(r==="element"||r==="model:element"):r==="element"||r==="model:element"||r==="node"||r==="model:node"};var mr=function(r){function t(a){if(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,t),!a||!a.boundaries&&!a.startPosition)throw new V("model-tree-walker-no-start-position",null);var e=a.direction||"forward";if(e!="forward"&&e!="backward")throw new V("model-tree-walker-unknown-direction",a,{direction:e});this.direction=e,this.boundaries=a.boundaries||null,a.startPosition?this._position=a.startPosition.clone():this._position=ct._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!a.singleCharacters,this.shallow=!!a.shallow,this.ignoreElementEnd=!!a.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}var n,i,u;return n=t,(i=[{key:r,value:function(){return this}},{key:"position",get:function(){return this._position}},{key:"skip",value:function(a){var e,o,c,l;do{c=this.position,l=this._visitedParent;var s=this.next();e=s.done,o=s.value}while(!e&&a(o));e||(this._position=c,this._visitedParent=l)}},{key:"next",value:function(){return this.direction=="forward"?this._next():this._previous()}},{key:"_next",value:function(){var a=this.position,e=this.position.clone(),o=this._visitedParent;if(o.parent===null&&e.offset===o.maxOffset)return{done:!0,value:void 0};if(o===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};var c=qy(e,o),l=c||s6(e,o,c);if(l instanceof Ut){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e.path.push(0),this._visitedParent=l;return this._position=e,no("elementStart",l,a,e,1)}if(l instanceof qt){var s;if(this.singleCharacters)s=1;else{var f=l.endOffset;this._boundaryEndParent==o&&this.boundaries.end.offset<f&&(f=this.boundaries.end.offset),s=f-e.offset}var d=e.offset-l.startOffset,h=new ur(l,d,s);return e.offset+=s,this._position=e,no("text",h,a,e,s)}return e.path.pop(),e.offset++,this._position=e,this._visitedParent=o.parent,this.ignoreElementEnd?this._next():no("elementEnd",o,a,e)}},{key:"_previous",value:function(){var a=this.position,e=this.position.clone(),o=this._visitedParent;if(o.parent===null&&e.offset===0)return{done:!0,value:void 0};if(o==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};var c=e.parent,l=qy(e,c),s=l||f6(e,c,l);if(s instanceof Ut)return e.offset--,this.shallow?(this._position=e,no("elementStart",s,a,e,1)):(e.path.push(s.maxOffset),this._position=e,this._visitedParent=s,this.ignoreElementEnd?this._previous():no("elementEnd",s,a,e));if(s instanceof qt){var f;if(this.singleCharacters)f=1;else{var d=s.startOffset;this._boundaryStartParent==o&&this.boundaries.start.offset>d&&(d=this.boundaries.start.offset),f=e.offset-d}var h=e.offset-s.startOffset,b=new ur(s,h-f,f);return e.offset-=f,this._position=e,no("text",b,a,e,f)}return e.path.pop(),this._position=e,this._visitedParent=o.parent,no("elementStart",o,a,e,1)}}])&&u6(n.prototype,i),u&&u6(n,u),Object.defineProperty(n,"prototype",{writable:!1}),t}(Symbol.iterator);function no(r,t,n,i,u){return{done:!1,value:{type:r,item:t,previousPosition:n,nextPosition:i,length:u}}}function Da(r){return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(r)}function ev(r){return function(t){if(Array.isArray(t))return DS(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||function(t,n){if(t){if(typeof t=="string")return DS(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return DS(t,n)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function DS(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function l6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Da(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Da(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Da(a)==="symbol"?a:String(a)),i)}var u,a}function RS(r,t){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RS(r,t)}function rct(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=rv(r);if(t){var u=rv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function rv(r){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rv(r)}var ct=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&RS(e,o)})(a,r);var t,n,i,u=rct(a);function a(e,o){var c,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"toNone";if(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,a),c=u.call(this),!e.is("element")&&!e.is("documentFragment"))throw new V("model-position-root-invalid",e);if(!(o instanceof Array)||o.length===0)throw new V("model-position-path-incorrect-format",e,{path:o});return e.is("rootElement")?o=o.slice():(o=[].concat(ev(e.getPath()),ev(o)),e=e.root),c.root=e,c.path=o,c.stickiness=l,c}return t=a,n=[{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(e){this.path[this.path.length-1]=e}},{key:"parent",get:function(){for(var e=this.root,o=0;o<this.path.length-1;o++)if(!(e=e.getChild(e.offsetToIndex(this.path[o]))))throw new V("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new V("model-position-path-incorrect",this,{position:this});return e}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return qy(this,this.parent)}},{key:"nodeAfter",get:function(){var e=this.parent;return s6(this,e,qy(this,e))}},{key:"nodeBefore",get:function(){var e=this.parent;return f6(this,e,qy(this,e))}},{key:"isAtStart",get:function(){return this.offset===0}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}},{key:"compareWith",value:function(e){if(this.root!=e.root)return"different";var o=ke(this.path,e.path);switch(o){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[o]<e.path[o]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.startPosition=this;var c=new mr(o);return c.skip(e),c.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){var e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}},{key:"findAncestor",value:function(e){var o=this.parent;return o.is("element")?o.findAncestor(e,{includeSelf:!0}):null}},{key:"getCommonPath",value:function(e){if(this.root!=e.root)return[];var o=ke(this.path,e.path),c=typeof o=="string"?Math.min(this.path.length,e.path.length):o;return this.path.slice(0,c)}},{key:"getCommonAncestor",value:function(e){for(var o=this.getAncestors(),c=e.getAncestors(),l=0;o[l]==c[l]&&o[l];)l++;return l===0?null:o[l-1]}},{key:"getShiftedBy",value:function(e){var o=this.clone(),c=o.offset+e;return o.offset=c<0?0:c,o}},{key:"isAfter",value:function(e){return this.compareWith(e)=="after"}},{key:"isBefore",value:function(e){return this.compareWith(e)=="before"}},{key:"isEqual",value:function(e){return this.compareWith(e)=="same"}},{key:"isTouching",value:function(e){if(this.root!==e.root)return!1;for(var o=Math.min(this.path.length,e.path.length),c=0;c<o;c++){var l=this.path[c]-e.path[c];if(l<-1||l>1)return!1;if(l===1)return d6(e,this,c);if(l===-1)return d6(this,e,c)}return this.path.length===e.path.length||(this.path.length>e.path.length?IS(this.path,o):IS(e.path,o))}},{key:"hasSameParentAs",value:function(e){return this.root===e.root&&ke(this.getParentPath(),e.getParentPath())=="same"}},{key:"getTransformedByOperation",value:function(e){var o;switch(e.type){case"insert":o=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":o=this._getTransformedByMoveOperation(e);break;case"split":o=this._getTransformedBySplitOperation(e);break;case"merge":o=this._getTransformedByMergeOperation(e);break;default:o=a._createAt(this)}return o}},{key:"_getTransformedByInsertOperation",value:function(e){return this._getTransformedByInsertion(e.position,e.howMany)}},{key:"_getTransformedByMoveOperation",value:function(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}},{key:"_getTransformedBySplitOperation",value:function(e){var o=e.movedRange;return o.containsPosition(this)||o.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(e){var o,c=e.movedRange;return c.containsPosition(this)||c.start.isEqual(this)?(o=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(o=o._getTransformedByDeletion(e.deletionPosition,1))):o=this.isEqual(e.deletionPosition)?a._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),o}},{key:"_getTransformedByDeletion",value:function(e,o){var c=a._createAt(this);if(this.root!=e.root)return c;if(ke(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+o>this.offset)return null;c.offset-=o}}else if(ke(e.getParentPath(),this.getParentPath())=="prefix"){var l=e.path.length-1;if(e.offset<=this.path[l]){if(e.offset+o>this.path[l])return null;c.path[l]-=o}}return c}},{key:"_getTransformedByInsertion",value:function(e,o){var c=a._createAt(this);if(this.root!=e.root)return c;if(ke(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(c.offset+=o);else if(ke(e.getParentPath(),this.getParentPath())=="prefix"){var l=e.path.length-1;e.offset<=this.path[l]&&(c.path[l]+=o)}return c}},{key:"_getTransformedByMove",value:function(e,o,c){if(o=o._getTransformedByDeletion(e,c),e.isEqual(o))return a._createAt(this);var l=this._getTransformedByDeletion(e,c);return l===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(c).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,o):l._getTransformedByInsertion(o,c)}},{key:"_getCombined",value:function(e,o){var c=e.path.length-1,l=a._createAt(o);return l.stickiness=this.stickiness,l.offset=l.offset+this.path[c]-e.offset,l.path=[].concat(ev(l.path),ev(this.path.slice(c+1))),l}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}}],i=[{key:"_createAt",value:function(e,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"toNone";if(e instanceof a)return new a(e.root,e.path,e.stickiness);var l=e;if(o=="end")o=l.maxOffset;else{if(o=="before")return this._createBefore(l,c);if(o=="after")return this._createAfter(l,c);if(o!==0&&!o)throw new V("model-createpositionat-offset-required",[this,e])}if(!l.is("element")&&!l.is("documentFragment"))throw new V("model-position-parent-incorrect",[this,e]);var s=l.getPath();return s.push(o),new this(l.root,s,c)}},{key:"_createAfter",value:function(e,o){if(!e.parent)throw new V("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,o)}},{key:"_createBefore",value:function(e,o){if(!e.parent)throw new V("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,o)}},{key:"fromJSON",value:function(e,o){if(e.root==="$graveyard"){var c=new a(o.graveyard,e.path);return c.stickiness=e.stickiness,c}if(!o.getRoot(e.root))throw new V("model-position-fromjson-no-root",o,{rootName:e.root});return new a(o.getRoot(e.root),e.path,e.stickiness)}}],n&&l6(t.prototype,n),i&&l6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(un);function qy(r,t){var n=t.getChild(t.offsetToIndex(r.offset));return n&&n.is("$text")&&n.startOffset<r.offset?n:null}function s6(r,t,n){return n!==null?null:t.getChild(t.offsetToIndex(r.offset))}function f6(r,t,n){return n!==null?null:t.getChild(t.offsetToIndex(r.offset)-1)}function d6(r,t,n){return n+1!==r.path.length&&!!IS(t.path,n+1)&&!!function(i,u){for(var a=i.parent,e=i.path.length-1,o=0;e>=u;){if(i.path[e]+o!==a.maxOffset)return!1;o=1,e--,a=a.parent}return!0}(r,n+1)}function IS(r,t){for(;t<r.length;){if(r[t]!==0)return!1;t++}return!0}function ln(r){return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(r)}function nct(r){return function(t){if(Array.isArray(t))return MS(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||p6(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function BS(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=p6(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function p6(r,t){if(r){if(typeof r=="string")return MS(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MS(r,t):void 0}}function MS(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function oo(){oo=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&ln(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(ln(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function y6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ln(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ln(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ln(a)==="symbol"?a:String(a)),i)}var u,a}function NS(r,t){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NS(r,t)}function oct(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=nv(r);if(t){var u=nv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ln(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function nv(r){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nv(r)}ct.prototype.is=function(r){return r==="position"||r==="model:position"};var ot=function(r,t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),c&&NS(o,c)})(e,r);var n,i,u,a=oct(e);function e(o,c){var l;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,e),(l=a.call(this)).start=ct._createAt(o),l.end=c?ct._createAt(c):ct._createAt(o),l.start.stickiness=l.isCollapsed?"toNone":"toNext",l.end.stickiness=l.isCollapsed?"toNone":"toPrevious",l}return n=e,i=[{key:t,value:oo().mark(function o(){return oo().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.delegateYield(new mr({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return c.stop()}},o,this)})},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return ke(this.start.getParentPath(),this.end.getParentPath())=="same"}},{key:"root",get:function(){return this.start.root}},{key:"containsPosition",value:function(o){return o.isAfter(this.start)&&o.isBefore(this.end)}},{key:"containsRange",value:function(o){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o.isCollapsed&&(c=!1);var l=this.containsPosition(o.start)||c&&this.start.isEqual(o.start),s=this.containsPosition(o.end)||c&&this.end.isEqual(o.end);return l&&s}},{key:"containsItem",value:function(o){var c=ct._createBefore(o);return this.containsPosition(c)||this.start.isEqual(c)}},{key:"isEqual",value:function(o){return this.start.isEqual(o.start)&&this.end.isEqual(o.end)}},{key:"isIntersecting",value:function(o){return this.start.isBefore(o.end)&&this.end.isAfter(o.start)}},{key:"getDifference",value:function(o){var c=[];return this.isIntersecting(o)?(this.containsPosition(o.start)&&c.push(new e(this.start,o.start)),this.containsPosition(o.end)&&c.push(new e(o.end,this.end))):c.push(new e(this.start,this.end)),c}},{key:"getIntersection",value:function(o){if(this.isIntersecting(o)){var c=this.start,l=this.end;return this.containsPosition(o.start)&&(c=o.start),this.containsPosition(o.end)&&(l=o.end),new e(c,l)}return null}},{key:"getJoined",value:function(o){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],l=this.isIntersecting(o);if(l||(l=this.start.isBefore(o.start)?c?this.end.isTouching(o.start):this.end.isEqual(o.start):c?o.end.isTouching(this.start):o.end.isEqual(this.start)),!l)return null;var s=this.start,f=this.end;return o.start.isBefore(s)&&(s=o.start),o.end.isAfter(f)&&(f=o.end),new e(s,f)}},{key:"getMinimalFlatRanges",value:function(){for(var o=[],c=this.start.getCommonPath(this.end).length,l=ct._createAt(this.start),s=l.parent;l.path.length>c+1;){var f=s.maxOffset-l.offset;f!==0&&o.push(new e(l,l.getShiftedBy(f))),l.path=l.path.slice(0,-1),l.offset++,s=s.parent}for(;l.path.length<=this.end.path.length;){var d=this.end.path[l.path.length-1],h=d-l.offset;h!==0&&o.push(new e(l,l.getShiftedBy(h))),l.offset=d,l.path.push(0)}return o}},{key:"getWalker",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o.boundaries=this,new mr(o)}},{key:"getItems",value:function(){var o=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return oo().mark(function l(){var s,f,d,h;return oo().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:c.boundaries=o,c.ignoreElementEnd=!0,s=new mr(c),f=BS(s),b.prev=4,f.s();case 6:if((d=f.n()).done){b.next=12;break}return h=d.value,b.next=10,h.item;case 10:b.next=6;break;case 12:b.next=17;break;case 14:b.prev=14,b.t0=b.catch(4),f.e(b.t0);case 17:return b.prev=17,f.f(),b.finish(17);case 20:case"end":return b.stop()}},l,null,[[4,14,17,20]])})()}},{key:"getPositions",value:function(){var o=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return oo().mark(function l(){var s,f,d,h;return oo().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c.boundaries=o,s=new mr(c),b.next=4,s.position;case 4:f=BS(s),b.prev=5,f.s();case 7:if((d=f.n()).done){b.next=13;break}return h=d.value,b.next=11,h.nextPosition;case 11:b.next=7;break;case 13:b.next=18;break;case 15:b.prev=15,b.t0=b.catch(5),f.e(b.t0);case 18:return b.prev=18,f.f(),b.finish(18);case 21:case"end":return b.stop()}},l,null,[[5,15,18,21]])})()}},{key:"getTransformedByOperation",value:function(o){switch(o.type){case"insert":return this._getTransformedByInsertOperation(o);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(o);case"split":return[this._getTransformedBySplitOperation(o)];case"merge":return[this._getTransformedByMergeOperation(o)]}return[new e(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(o){var c,l=[new e(this.start,this.end)],s=BS(o);try{for(s.s();!(c=s.n()).done;)for(var f=c.value,d=0;d<l.length;d++){var h=l[d].getTransformedByOperation(f);l.splice.apply(l,[d,1].concat(nct(h))),d+=h.length-1}}catch(_){s.e(_)}finally{s.f()}for(var b=0;b<l.length;b++)for(var v=l[b],g=b+1;g<l.length;g++){var k=l[g];(v.containsRange(k)||k.containsRange(v)||v.isEqual(k))&&l.splice(g,1)}return l}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var o=this.start.nodeAfter,c=this.end.nodeBefore;return o&&o.is("element")&&o===c?o:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(o){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this._getTransformedByInsertion(o.position,o.howMany,c)}},{key:"_getTransformedByMoveOperation",value:function(o){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],l=o.sourcePosition,s=o.howMany,f=o.targetPosition;return this._getTransformedByMove(l,f,s,c)}},{key:"_getTransformedBySplitOperation",value:function(o){var c=this.start._getTransformedBySplitOperation(o),l=this.end._getTransformedBySplitOperation(o);return this.end.isEqual(o.insertionPosition)&&(l=this.end.getShiftedBy(1)),c.root!=l.root&&(l=this.end.getShiftedBy(-1)),new e(c,l)}},{key:"_getTransformedByMergeOperation",value:function(o){if(this.start.isEqual(o.targetPosition)&&this.end.isEqual(o.deletionPosition))return new e(this.start);var c=this.start._getTransformedByMergeOperation(o),l=this.end._getTransformedByMergeOperation(o);return c.root!=l.root&&(l=this.end.getShiftedBy(-1)),c.isAfter(l)?(o.sourcePosition.isBefore(o.targetPosition)?(c=ct._createAt(l)).offset=0:(o.deletionPosition.isEqual(c)||(l=o.deletionPosition),c=o.targetPosition),new e(c,l)):new e(c,l)}},{key:"_getTransformedByInsertion",value:function(o,c){if(arguments.length>2&&arguments[2]!==void 0&&arguments[2]&&this.containsPosition(o))return[new e(this.start,o),new e(o.getShiftedBy(c),this.end._getTransformedByInsertion(o,c))];var l=new e(this.start,this.end);return l.start=l.start._getTransformedByInsertion(o,c),l.end=l.end._getTransformedByInsertion(o,c),[l]}},{key:"_getTransformedByMove",value:function(o,c,l){var s=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(this.isCollapsed)return[new e(this.start._getTransformedByMove(o,c,l))];var f,d=e._createFromPositionAndShift(o,l),h=c._getTransformedByDeletion(o,l);if(this.containsPosition(c)&&!s&&(d.containsPosition(this.start)||d.containsPosition(this.end)))return[new e(this.start._getTransformedByMove(o,c,l),this.end._getTransformedByMove(o,c,l))];var b=this.getDifference(d),v=null,g=this.getIntersection(d);if(b.length==1?v=new e(b[0].start._getTransformedByDeletion(o,l),b[0].end._getTransformedByDeletion(o,l)):b.length==2&&(v=new e(this.start,this.end._getTransformedByDeletion(o,l))),f=v?v._getTransformedByInsertion(h,l,g!==null||s):[],g){var k=new e(g.start._getCombined(d.start,h),g.end._getCombined(d.start,h));f.length==2?f.splice(1,0,k):f.push(k)}return f}},{key:"_getTransformedByDeletion",value:function(o,c){var l=this.start._getTransformedByDeletion(o,c),s=this.end._getTransformedByDeletion(o,c);return l==null&&s==null?null:(l==null&&(l=o),s==null&&(s=o),new e(l,s))}}],u=[{key:"_createFromPositionAndShift",value:function(o,c){var l=o,s=o.getShiftedBy(c);return c>0?new this(l,s):new this(s,l)}},{key:"_createIn",value:function(o){return new this(ct._createAt(o,0),ct._createAt(o,o.maxOffset))}},{key:"_createOn",value:function(o){return this._createFromPositionAndShift(ct._createBefore(o),o.offsetSize)}},{key:"_createFromRanges",value:function(o){if(o.length===0)throw new V("range-create-from-ranges-empty-array",null);if(o.length==1)return o[0].clone();var c=o[0];o.sort(function(h,b){return h.start.isAfter(b.start)?1:-1});var l=o.indexOf(c),s=new this(c.start,c.end);if(l>0)for(var f=l-1;o[f].end.isEqual(s.start);f++)s.start=ct._createAt(o[f].start);for(var d=l+1;d<o.length&&o[d].start.isEqual(s.end);d++)s.end=ct._createAt(o[d].end);return s}},{key:"fromJSON",value:function(o,c){return new this(ct.fromJSON(o.start,c),ct.fromJSON(o.end,c))}}],i&&y6(n.prototype,i),u&&y6(n,u),Object.defineProperty(n,"prototype",{writable:!1}),e}(un,Symbol.iterator);function Ra(r){return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ra(r)}function ict(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||h6(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yy(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=h6(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function h6(r,t){if(r){if(typeof r=="string")return b6(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b6(r,t):void 0}}function b6(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function m6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ra(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ra(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ra(a)==="symbol"?a:String(a)),i)}var u,a}function LS(r,t){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LS(r,t)}function act(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ov(r);if(t){var u=ov(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ra(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v6(a)}(this,n)}}function v6(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ov(r){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ov(r)}ot.prototype.is=function(r){return r==="range"||r==="model:range"};var g6=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&LS(e,o)})(a,r);var t,n,i,u=act(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.call(this))._modelToViewMapping=new WeakMap,e._viewToModelMapping=new WeakMap,e._viewToModelLengthCallbacks=new Map,e._markerNameToElements=new Map,e._elementToMarkerNames=new Map,e._deferredBindingRemovals=new Map,e._unboundMarkerNames=new Set,e.on("modelToViewPosition",function(o,c){if(!c.viewPosition){var l=e._modelToViewMapping.get(c.modelPosition.parent);if(!l)throw new V("mapping-model-position-view-parent-not-found",v6(e),{modelPosition:c.modelPosition});c.viewPosition=e.findPositionIn(l,c.modelPosition.offset)}},{priority:"low"}),e.on("viewToModelPosition",function(o,c){if(!c.modelPosition){var l=e.findMappedViewAncestor(c.viewPosition),s=e._viewToModelMapping.get(l),f=e._toModelOffset(c.viewPosition.parent,c.viewPosition.offset,l);c.modelPosition=ct._createAt(s,f)}},{priority:"low"}),e}return t=a,n=[{key:"bindElements",value:function(e,o){this._modelToViewMapping.set(e,o),this._viewToModelMapping.set(o,e)}},{key:"unbindViewElement",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.toModelElement(e);if(this._elementToMarkerNames.has(e)){var l,s=Yy(this._elementToMarkerNames.get(e));try{for(s.s();!(l=s.n()).done;){var f=l.value;this._unboundMarkerNames.add(f)}}catch(d){s.e(d)}finally{s.f()}}o.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(c)==e&&this._modelToViewMapping.delete(c))}},{key:"unbindModelElement",value:function(e){var o=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(o)==e&&this._viewToModelMapping.delete(o)}},{key:"bindElementToMarker",value:function(e,o){var c=this._markerNameToElements.get(o)||new Set;c.add(e);var l=this._elementToMarkerNames.get(e)||new Set;l.add(o),this._markerNameToElements.set(o,c),this._elementToMarkerNames.set(e,l)}},{key:"unbindElementFromMarkerName",value:function(e,o){var c=this._markerNameToElements.get(o);c&&(c.delete(e),c.size==0&&this._markerNameToElements.delete(o));var l=this._elementToMarkerNames.get(e);l&&(l.delete(o),l.size==0&&this._elementToMarkerNames.delete(e))}},{key:"flushUnboundMarkerNames",value:function(){var e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}},{key:"flushDeferredBindings",value:function(){var e,o=Yy(this._deferredBindingRemovals);try{for(o.s();!(e=o.n()).done;){var c=ict(e.value,2),l=c[0],s=c[1];l.root==s&&this.unbindViewElement(l)}}catch(f){o.e(f)}finally{o.f()}this._deferredBindingRemovals=new Map}},{key:"clearBindings",value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}},{key:"toModelElement",value:function(e){return this._viewToModelMapping.get(e)}},{key:"toViewElement",value:function(e){return this._modelToViewMapping.get(e)}},{key:"toModelRange",value:function(e){return new ot(this.toModelPosition(e.start),this.toModelPosition(e.end))}},{key:"toViewRange",value:function(e){return new Ot(this.toViewPosition(e.start),this.toViewPosition(e.end))}},{key:"toModelPosition",value:function(e){var o={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",o),o.modelPosition}},{key:"toViewPosition",value:function(e){var o={modelPosition:e,mapper:this,isPhantom:(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).isPhantom};return this.fire("modelToViewPosition",o),o.viewPosition}},{key:"markerNameToElements",value:function(e){var o=this._markerNameToElements.get(e);if(!o)return null;var c,l=new Set,s=Yy(o);try{for(s.s();!(c=s.n()).done;){var f=c.value;if(f.is("attributeElement")){var d,h=Yy(f.getElementsWithSameId());try{for(h.s();!(d=h.n()).done;){var b=d.value;l.add(b)}}catch(v){h.e(v)}finally{h.f()}}else l.add(f)}}catch(v){s.e(v)}finally{s.f()}return l}},{key:"registerViewToModelLength",value:function(e,o){this._viewToModelLengthCallbacks.set(e,o)}},{key:"findMappedViewAncestor",value:function(e){for(var o=e.parent;!this._viewToModelMapping.has(o);)o=o.parent;return o}},{key:"_toModelOffset",value:function(e,o,c){if(c!=e)return this._toModelOffset(e.parent,e.index,c)+this._toModelOffset(e,o,e);if(e.is("$text"))return o;for(var l=0,s=0;s<o;s++)l+=this.getModelLength(e.getChild(s));return l}},{key:"getModelLength",value:function(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;var o,c=0,l=Yy(e.getChildren());try{for(l.s();!(o=l.n()).done;){var s=o.value;c+=this.getModelLength(s)}}catch(f){l.e(f)}finally{l.f()}return c}},{key:"findPositionIn",value:function(e,o){var c,l=0,s=0,f=0;if(e.is("$text"))return new ft(e,o);for(;s<o;)c=e.getChild(f),s+=l=this.getModelLength(c),f++;return s==o?this._moveViewPositionToTextNode(new ft(e,f)):this.findPositionIn(c,o-(s-l))}},{key:"_moveViewPositionToTextNode",value:function(e){var o=e.nodeBefore,c=e.nodeAfter;return o instanceof $t?new ft(o,o.data.length):c instanceof $t?new ft(c,0):e}}],n&&m6(t.prototype,n),i&&m6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Nt());function Ky(r){return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ky(r)}function w6(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||_6(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k6(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=_6(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function _6(r,t){if(r){if(typeof r=="string")return A6(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A6(r,t):void 0}}function A6(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function C6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ky(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ky(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ky(a)==="symbol"?a:String(a)),i)}var u,a}var cct=function(){function r(){(function(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")})(this,r),this._consumable=new Map,this._textProxyRegistry=new Map}var t,n,i;return t=r,(n=[{key:"add",value:function(u,a){a=iv(a),u instanceof ur&&(u=this._getSymbolForTextProxy(u)),this._consumable.has(u)||this._consumable.set(u,new Map),this._consumable.get(u).set(a,!0)}},{key:"consume",value:function(u,a){return a=iv(a),u instanceof ur&&(u=this._getSymbolForTextProxy(u)),!!this.test(u,a)&&(this._consumable.get(u).set(a,!1),!0)}},{key:"test",value:function(u,a){a=iv(a),u instanceof ur&&(u=this._getSymbolForTextProxy(u));var e=this._consumable.get(u);if(e===void 0)return null;var o=e.get(a);return o===void 0?null:o}},{key:"revert",value:function(u,a){a=iv(a),u instanceof ur&&(u=this._getSymbolForTextProxy(u));var e=this.test(u,a);return e===!1?(this._consumable.get(u).set(a,!0),!0):e!==!0&&null}},{key:"verifyAllConsumed",value:function(u){var a,e=[],o=k6(this._consumable);try{for(o.s();!(a=o.n()).done;){var c,l=w6(a.value,2),s=l[0],f=k6(l[1]);try{for(f.s();!(c=f.n()).done;){var d=w6(c.value,2),h=d[0],b=d[1],v=h.split(":")[0];b&&u==v&&e.push({event:h,item:s.name||s.description})}}catch(g){f.e(g)}finally{f.f()}}}catch(g){o.e(g)}finally{o.f()}if(e.length)throw new V("conversion-model-consumable-not-consumed",null,{items:e})}},{key:"_getSymbolForTextProxy",value:function(u){var a=null,e=this._textProxyRegistry.get(u.startOffset);if(e){var o=e.get(u.endOffset);o&&(a=o.get(u.parent))}return a||(a=this._addSymbolForTextProxy(u)),a}},{key:"_addSymbolForTextProxy",value:function(u){var a,e,o=u.startOffset,c=u.endOffset,l=u.parent,s=Symbol("$textProxy:"+u.data);return(a=this._textProxyRegistry.get(o))||(a=new Map,this._textProxyRegistry.set(o,a)),(e=a.get(c))||(e=new Map,a.set(c,e)),e.set(l,s),s}}])&&C6(t.prototype,n),i&&C6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function iv(r){var t=r.split(":");return t[0]=="insert"?t[0]:t[0]=="addMarker"||t[0]=="removeMarker"?r:t.length>1?t[0]+":"+t[1]:t[0]}function Ia(r){return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(r)}function uct(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||O6(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _e(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=O6(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function O6(r,t){if(r){if(typeof r=="string")return S6(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S6(r,t):void 0}}function S6(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function j6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function Zy(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j6(Object(n),!0).forEach(function(i){lct(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):j6(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function lct(r,t,n){return(t=E6(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function P6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,E6(i.key),i)}}function E6(r){var t=function(n,i){if(Ia(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(Ia(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return Ia(t)==="symbol"?t:String(t)}function zS(r,t){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zS(r,t)}function sct(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=av(r);if(t){var u=av(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ia(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x6(a)}(this,n)}}function x6(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function av(r){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},av(r)}var T6=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&zS(e,o)})(a,r);var t,n,i,u=sct(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this))._conversionApi=Zy({dispatcher:x6(o)},e),o._firedEventsMap=new WeakMap,o}return t=a,n=[{key:"convertChanges",value:function(e,o,c){var l,s=this._createConversionApi(c,e.getRefreshedItems()),f=_e(e.getMarkersToRemove());try{for(f.s();!(l=f.n()).done;){var d=l.value;this._convertMarkerRemove(d.name,d.range,s)}}catch(E){f.e(E)}finally{f.f()}var h,b=_e(this._reduceChanges(e.getChanges()));try{for(b.s();!(h=b.n()).done;){var v=h.value;v.type==="insert"?this._convertInsert(ot._createFromPositionAndShift(v.position,v.length),s):v.type==="reinsert"?this._convertReinsert(ot._createFromPositionAndShift(v.position,v.length),s):v.type==="remove"?this._convertRemove(v.position,v.length,v.name,s):this._convertAttribute(v.range,v.attributeKey,v.attributeOldValue,v.attributeNewValue,s)}}catch(E){b.e(E)}finally{b.f()}var g,k=_e(s.mapper.flushUnboundMarkerNames());try{for(k.s();!(g=k.n()).done;){var _=g.value,A=o.get(_).getRange();this._convertMarkerRemove(_,A,s),this._convertMarkerAdd(_,A,s)}}catch(E){k.e(E)}finally{k.f()}var C,S=_e(e.getMarkersToAdd());try{for(S.s();!(C=S.n()).done;){var P=C.value;this._convertMarkerAdd(P.name,P.range,s)}}catch(E){S.e(E)}finally{S.f()}s.mapper.flushDeferredBindings(),s.consumable.verifyAllConsumed("insert")}},{key:"convert",value:function(e,o,c){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=this._createConversionApi(c,void 0,l);this._convertInsert(e,s);var f,d=_e(o);try{for(d.s();!(f=d.n()).done;){var h=uct(f.value,2),b=h[0],v=h[1];this._convertMarkerAdd(b,v,s)}}catch(g){d.e(g)}finally{d.f()}s.consumable.verifyAllConsumed("insert")}},{key:"convertSelection",value:function(e,o,c){var l=this._createConversionApi(c);this.fire("cleanSelection",{selection:e},l);var s=e.getFirstPosition().root;if(l.mapper.toViewElement(s)){var f=Array.from(o.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(l.consumable,e,f),this.fire("selection",{selection:e},l),e.isCollapsed){for(var d=0,h=f;d<h.length;d++){var b=h[d];if(l.consumable.test(e,"addMarker:"+b.name)){var v=b.getRange();if(!fct(e.getFirstPosition(),b,l.mapper))continue;var g={item:e,markerName:b.name,markerRange:v};this.fire("addMarker:".concat(b.name),g,l)}}var k,_=_e(e.getAttributeKeys());try{for(_.s();!(k=_.n()).done;){var A=k.value;if(l.consumable.test(e,"attribute:"+A)){var C={item:e,range:e.getFirstRange(),attributeKey:A,attributeOldValue:null,attributeNewValue:e.getAttribute(A)};this.fire("attribute:".concat(A,":$text"),C,l)}}}catch(S){_.e(S)}finally{_.f()}}}}},{key:"_convertInsert",value:function(e,o){(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).doNotAddConsumables||this._addConsumablesForInsert(o.consumable,Array.from(e));var c,l=_e(Array.from(e.getWalker({shallow:!0})).map(D6));try{for(l.s();!(c=l.n()).done;){var s=c.value;this._testAndFire("insert",s,o)}}catch(f){l.e(f)}finally{l.f()}}},{key:"_convertRemove",value:function(e,o,c,l){this.fire("remove:".concat(c),{position:e,length:o},l)}},{key:"_convertAttribute",value:function(e,o,c,l,s){this._addConsumablesForRange(s.consumable,e,"attribute:".concat(o));var f,d=_e(e);try{for(d.s();!(f=d.n()).done;){var h=f.value,b={item:h.item,range:ot._createFromPositionAndShift(h.previousPosition,h.length),attributeKey:o,attributeOldValue:c,attributeNewValue:l};this._testAndFire("attribute:".concat(o),b,s)}}catch(v){d.e(v)}finally{d.f()}}},{key:"_convertReinsert",value:function(e,o){var c=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(o.consumable,c);var l,s=_e(c.map(D6));try{for(s.s();!(l=s.n()).done;){var f=l.value;this._testAndFire("insert",Zy(Zy({},f),{},{reconversion:!0}),o)}}catch(d){s.e(d)}finally{s.f()}}},{key:"_convertMarkerAdd",value:function(e,o,c){if(o.root.rootName!="$graveyard"){var l="addMarker:".concat(e);if(c.consumable.add(o,l),this.fire(l,{markerName:e,markerRange:o},c),c.consumable.consume(o,l)){this._addConsumablesForRange(c.consumable,o,l);var s,f=_e(o.getItems());try{for(f.s();!(s=f.n()).done;){var d=s.value;if(c.consumable.test(d,l)){var h={item:d,range:ot._createOn(d),markerName:e,markerRange:o};this.fire(l,h,c)}}}catch(b){f.e(b)}finally{f.f()}}}}},{key:"_convertMarkerRemove",value:function(e,o,c){o.root.rootName!="$graveyard"&&this.fire("removeMarker:".concat(e),{markerName:e,markerRange:o},c)}},{key:"_reduceChanges",value:function(e){var o={changes:e};return this.fire("reduceChanges",o),o.changes}},{key:"_addConsumablesForInsert",value:function(e,o){var c,l=_e(o);try{for(l.s();!(c=l.n()).done;){var s=c.value.item;if(e.test(s,"insert")===null){e.add(s,"insert");var f,d=_e(s.getAttributeKeys());try{for(d.s();!(f=d.n()).done;){var h=f.value;e.add(s,"attribute:"+h)}}catch(b){d.e(b)}finally{d.f()}}}}catch(b){l.e(b)}finally{l.f()}return e}},{key:"_addConsumablesForRange",value:function(e,o,c){var l,s=_e(o.getItems());try{for(s.s();!(l=s.n()).done;){var f=l.value;e.add(f,c)}}catch(d){s.e(d)}finally{s.f()}return e}},{key:"_addConsumablesForSelection",value:function(e,o,c){e.add(o,"selection");var l,s=_e(c);try{for(s.s();!(l=s.n()).done;){var f=l.value;e.add(o,"addMarker:"+f.name)}}catch(v){s.e(v)}finally{s.f()}var d,h=_e(o.getAttributeKeys());try{for(h.s();!(d=h.n()).done;){var b=d.value;e.add(o,"attribute:"+b)}}catch(v){h.e(v)}finally{h.f()}return e}},{key:"_testAndFire",value:function(e,o,c){var l=function(h,b){var v=b.item.is("element")?b.item.name:"$text";return"".concat(h,":").concat(v)}(e,o),s=o.item.is("$textProxy")?c.consumable._getSymbolForTextProxy(o.item):o.item,f=this._firedEventsMap.get(c),d=f.get(s);if(d){if(d.has(l))return;d.add(l)}else f.set(s,new Set([l]));this.fire(l,o,c)}},{key:"_testAndFireAddAttributes",value:function(e,o){var c,l={item:e,range:ot._createOn(e)},s=_e(l.item.getAttributeKeys());try{for(s.s();!(c=s.n()).done;){var f=c.value;l.attributeKey=f,l.attributeOldValue=null,l.attributeNewValue=l.item.getAttribute(f),this._testAndFire("attribute:".concat(f),l,o)}}catch(d){s.e(d)}finally{s.f()}}},{key:"_createConversionApi",value:function(e){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=Zy(Zy({},this._conversionApi),{},{consumable:new cct,writer:e,options:l,convertItem:function(f){return o._convertInsert(ot._createOn(f),s)},convertChildren:function(f){return o._convertInsert(ot._createIn(f),s,{doNotAddConsumables:!0})},convertAttributes:function(f){return o._testAndFireAddAttributes(f,s)},canReuseView:function(f){return!c.has(s.mapper.toModelElement(f))}});return this._firedEventsMap.set(s,new Map),s}}],n&&P6(t.prototype,n),i&&P6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Nt());function fct(r,t,n){var i=t.getRange(),u=Array.from(r.getAncestors());return u.shift(),u.reverse(),!u.some(function(a){if(i.containsItem(a))return!!n.toViewElement(a).getCustomProperty("addHighlight")})}function D6(r){return{item:r.item,range:ot._createFromPositionAndShift(r.previousPosition,r.length)}}function Nr(r){return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(r)}function Qy(){Qy=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&Nr(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(Nr(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function sn(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return R6(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return R6(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function R6(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function I6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Nr(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Nr(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Nr(a)==="symbol"?a:String(a)),i)}var u,a}function FS(r,t){return FS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FS(r,t)}function dct(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=cv(r);if(t){var u=cv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Nr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function cv(r){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cv(r)}var lr=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&FS(e,o)})(a,r);var t,n,i,u=dct(a);function a(){var e,o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.call(this))._lastRangeBackward=!1,e._attrs=new Map,e._ranges=[],arguments.length&&(o=e).setTo.apply(o,arguments),e}return t=a,n=[{key:"anchor",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}},{key:"focus",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}},{key:"isCollapsed",get:function(){return this._ranges.length===1&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"isEqual",value:function(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var o,c=sn(this._ranges);try{for(c.s();!(o=c.n()).done;){var l,s=o.value,f=!1,d=sn(e._ranges);try{for(d.s();!(l=d.n()).done;){var h=l.value;if(s.isEqual(h)){f=!0;break}}}catch(b){d.e(b)}finally{d.f()}if(!f)return!1}}catch(b){c.e(b)}finally{c.f()}return!0}},{key:"getRanges",value:Qy().mark(function e(){var o,c,l;return Qy().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:o=sn(this._ranges),s.prev=1,o.s();case 3:if((c=o.n()).done){s.next=9;break}return l=c.value,s.next=7,new ot(l.start,l.end);case 7:s.next=3;break;case 9:s.next=14;break;case 11:s.prev=11,s.t0=s.catch(1),o.e(s.t0);case 14:return s.prev=14,o.f(),s.finish(14);case 17:case"end":return s.stop()}},e,this,[[1,11,14,17]])})},{key:"getFirstRange",value:function(){var e,o=null,c=sn(this._ranges);try{for(c.s();!(e=c.n()).done;){var l=e.value;o&&!l.start.isBefore(o.start)||(o=l)}}catch(s){c.e(s)}finally{c.f()}return o?new ot(o.start,o.end):null}},{key:"getLastRange",value:function(){var e,o=null,c=sn(this._ranges);try{for(c.s();!(e=c.n()).done;){var l=e.value;o&&!l.end.isAfter(o.end)||(o=l)}}catch(s){c.e(s)}finally{c.f()}return o?new ot(o.start,o.end):null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"setTo",value:function(){for(var e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];var l=o[0],s=o[1],f=o[2];if(Nr(s)=="object"&&(f=s,s=void 0),l===null)this._setRanges([]);else if(l instanceof a)this._setRanges(l.getRanges(),l.isBackward);else if(l&&typeof l.getRanges=="function")this._setRanges(l.getRanges(),l.isBackward);else if(l instanceof ot)this._setRanges([l],!!f&&!!f.backward);else if(l instanceof ct)this._setRanges([new ot(l)]);else if(l instanceof ro){var d,h=!!f&&!!f.backward;if(s=="in")d=ot._createIn(l);else if(s=="on")d=ot._createOn(l);else{if(s===void 0)throw new V("model-selection-setto-required-second-parameter",[this,l]);d=new ot(ct._createAt(l,s))}this._setRanges([d],h)}else{if(!Le(l))throw new V("model-selection-setto-not-selectable",[this,l]);this._setRanges(l,f&&!!f.backward)}}},{key:"_setRanges",value:function(e){var o=this,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],l=Array.from(e),s=l.some(function(f){if(!(f instanceof ot))throw new V("model-selection-set-ranges-not-range",[o,e]);return o._ranges.every(function(d){return!d.isEqual(f)})});(l.length!==this._ranges.length||s)&&(this._replaceAllRanges(l),this._lastRangeBackward=!!c,this.fire("change:range",{directChange:!0}))}},{key:"setFocus",value:function(e,o){if(this.anchor===null)throw new V("model-selection-setfocus-no-ranges",[this,e]);var c=ct._createAt(e,o);if(c.compareWith(this.focus)!="same"){var l=this.anchor;this._ranges.length&&this._popRange(),c.compareWith(l)=="before"?(this._pushRange(new ot(c,l)),this._lastRangeBackward=!0):(this._pushRange(new ot(l,c)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"removeAttribute",value:function(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"setAttribute",value:function(e,o){this.getAttribute(e)!==o&&(this._attrs.set(e,o),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"getSelectedElement",value:function(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}},{key:"getSelectedBlocks",value:Qy().mark(function e(){var o,c,l,s,f,d,h,b,v,g;return Qy().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:o=new WeakSet,c=sn(this.getRanges()),k.prev=2,c.s();case 4:if((l=c.n()).done){k.next=35;break}if(s=l.value,!yct(f=M6(s.start,o),s)){k.next=10;break}return k.next=10,f;case 10:d=sn(s.getWalker()),k.prev=11,d.s();case 13:if((h=d.n()).done){k.next=21;break}if(b=h.value,v=b.item,b.type!="elementEnd"||!pct(v,o,s)){k.next=19;break}return k.next=19,v;case 19:k.next=13;break;case 21:k.next=26;break;case 23:k.prev=23,k.t0=k.catch(11),d.e(k.t0);case 26:return k.prev=26,d.f(),k.finish(26);case 29:if(!hct(g=M6(s.end,o),s)){k.next=33;break}return k.next=33,g;case 33:k.next=4;break;case 35:k.next=40;break;case 37:k.prev=37,k.t1=k.catch(2),c.e(k.t1);case 40:return k.prev=40,c.f(),k.finish(40);case 43:case"end":return k.stop()}},e,this,[[2,37,40,43],[11,23,26,29]])})},{key:"containsEntireContent",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.anchor.root,o=ct._createAt(e,0),c=ct._createAt(e,"end");return o.isTouching(this.getFirstPosition())&&c.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(e){this._checkRange(e),this._ranges.push(new ot(e.start,e.end))}},{key:"_checkRange",value:function(e){for(var o=0;o<this._ranges.length;o++)if(e.isIntersecting(this._ranges[o]))throw new V("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[o]})}},{key:"_replaceAllRanges",value:function(e){this._removeAllRanges();var o,c=sn(e);try{for(c.s();!(o=c.n()).done;){var l=o.value;this._pushRange(l)}}catch(s){c.e(s)}finally{c.f()}}},{key:"_removeAllRanges",value:function(){for(;this._ranges.length>0;)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}}],n&&I6(t.prototype,n),i&&I6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Nt(un));function B6(r,t){return!t.has(r)&&(t.add(r),r.root.document.model.schema.isBlock(r)&&!!r.parent)}function pct(r,t,n){return B6(r,t)&&VS(r,n)}function M6(r,t){var n=r.parent.root.document.model.schema,i=r.parent.getAncestors({parentFirst:!0,includeSelf:!0}),u=!1,a=i.find(function(e){return!u&&!(u=n.isLimit(e))&&B6(e,t)});return i.forEach(function(e){return t.add(e)}),a}function VS(r,t){var n=function(i){for(var u=i.root.document.model.schema,a=i.parent;a;){if(u.isBlock(a))return a;a=a.parent}}(r);return!n||!t.containsRange(ot._createOn(n),!0)}function yct(r,t){return!!r&&(!(!t.isCollapsed&&!r.isEmpty)||!t.start.isTouching(ct._createAt(r,r.maxOffset))&&VS(r,t))}function hct(r,t){return!!r&&(!(!t.isCollapsed&&!r.isEmpty)||!t.end.isTouching(ct._createAt(r,0))&&VS(r,t))}function Ba(r){return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ba(r)}function N6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ba(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ba(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ba(a)==="symbol"?a:String(a)),i)}var u,a}function US(r,t){return US=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},US(r,t)}function bct(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=uv(r);if(t){var u=uv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L6(a)}(this,n)}}function L6(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function uv(r){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uv(r)}lr.prototype.is=function(r){return r==="selection"||r==="model:selection"};var Lr=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&US(e,o)})(a,r);var t,n,i,u=bct(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),c=u.call(this,e,o),mct.call(L6(c)),c}return t=a,i=[{key:"fromRange",value:function(e){return new a(e.start,e.end)}}],(n=[{key:"detach",value:function(){this.stopListening()}},{key:"toRange",value:function(){return new ot(this.start,this.end)}}])&&N6(t.prototype,n),i&&N6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Nt(ot));function mct(){var r=this;this.listenTo(this.root.document.model,"applyOperation",function(t,n){var i=n[0];i.isDocumentOperation&&vct.call(r,i)},{priority:"low"})}function vct(r){var t=this.getTransformedByOperation(r),n=ot._createFromRanges(t),i=!n.isEqual(this),u=function(o,c){switch(c.type){case"insert":return o.containsPosition(c.position);case"move":case"remove":case"reinsert":case"merge":return o.containsPosition(c.sourcePosition)||o.start.isEqual(c.sourcePosition)||o.containsPosition(c.targetPosition);case"split":return o.containsPosition(c.splitPosition)||o.containsPosition(c.insertionPosition)}return!1}(this,r),a=null;if(i){n.root.rootName=="$graveyard"&&(a=r.type=="remove"?r.sourcePosition:r.deletionPosition);var e=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",e,{deletionPosition:a})}else u&&this.fire("change:content",this.toRange(),{deletionPosition:a})}function fn(r){return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fn(r)}function Ma(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||z6(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Be(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=z6(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function z6(r,t){if(r){if(typeof r=="string")return F6(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F6(r,t):void 0}}function F6(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Jy(){Jy=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&fn(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(fn(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function Ve(){return Ve=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Ae(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},Ve.apply(this,arguments)}function V6(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function U6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(fn(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(fn(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),fn(a)==="symbol"?a:String(a)),i)}var u,a}function H6(r,t,n){return t&&U6(r.prototype,t),n&&U6(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function G6(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&HS(r,t)}function HS(r,t){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HS(r,t)}function W6(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ae(r);if(t){var u=Ae(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(fn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lv(a)}(this,n)}}function lv(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ae(r){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ae(r)}Lr.prototype.is=function(r){return r==="liveRange"||r==="model:liveRange"||r=="range"||r==="model:range"};var sv="selection:",sr=function(r){G6(n,r);var t=W6(n);function n(i){var u;return V6(this,n),(u=t.call(this))._selection=new gct(i),u._selection.delegate("change:range").to(lv(u)),u._selection.delegate("change:attribute").to(lv(u)),u._selection.delegate("change:marker").to(lv(u)),u}return H6(n,[{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"hasOwnRange",get:function(){return this._selection.hasOwnRange}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"isGravityOverridden",get:function(){return this._selection.isGravityOverridden}},{key:"markers",get:function(){return this._selection.markers}},{key:"_ranges",get:function(){return this._selection._ranges}},{key:"getRanges",value:function(){return this._selection.getRanges()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getSelectedBlocks",value:function(){return this._selection.getSelectedBlocks()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"containsEntireContent",value:function(i){return this._selection.containsEntireContent(i)}},{key:"destroy",value:function(){this._selection.destroy()}},{key:"getAttributeKeys",value:function(){return this._selection.getAttributeKeys()}},{key:"getAttributes",value:function(){return this._selection.getAttributes()}},{key:"getAttribute",value:function(i){return this._selection.getAttribute(i)}},{key:"hasAttribute",value:function(i){return this._selection.hasAttribute(i)}},{key:"refresh",value:function(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}},{key:"observeMarkers",value:function(i){this._selection.observeMarkers(i)}},{key:"_setFocus",value:function(i,u){this._selection.setFocus(i,u)}},{key:"_setTo",value:function(){var i;(i=this._selection).setTo.apply(i,arguments)}},{key:"_setAttribute",value:function(i,u){this._selection.setAttribute(i,u)}},{key:"_removeAttribute",value:function(i){this._selection.removeAttribute(i)}},{key:"_getStoredAttributes",value:function(){return this._selection.getStoredAttributes()}},{key:"_overrideGravity",value:function(){return this._selection.overrideGravity()}},{key:"_restoreGravity",value:function(i){this._selection.restoreGravity(i)}}],[{key:"_getStoreAttributeKey",value:function(i){return sv+i}},{key:"_isStoreAttributeKey",value:function(i){return i.startsWith(sv)}}]),n}(Nt(un));sr.prototype.is=function(r){return r==="selection"||r=="model:selection"||r=="documentSelection"||r=="model:documentSelection"};var gct=function(r){G6(n,r);var t=W6(n);function n(i){var u;return V6(this,n),(u=t.call(this)).markers=new Qt({idProperty:"name"}),u._attributePriority=new Map,u._selectionRestorePosition=null,u._hasChangedRange=!1,u._overriddenGravityRegister=new Set,u._observedMarkers=new Set,u._model=i.model,u._document=i,u.listenTo(u._model,"applyOperation",function(a,e){var o=e[0];o.isDocumentOperation&&o.type!="marker"&&o.type!="rename"&&o.type!="noop"&&(u._ranges.length==0&&u._selectionRestorePosition&&u._fixGraveyardSelection(u._selectionRestorePosition),u._selectionRestorePosition=null,u._hasChangedRange&&(u._hasChangedRange=!1,u.fire("change:range",{directChange:!1})))},{priority:"lowest"}),u.on("change:range",function(){u._validateSelectionRanges(u.getRanges())}),u.listenTo(u._model.markers,"update",function(a,e,o,c){u._updateMarker(e,c)}),u.listenTo(u._document,"change",function(a,e){(function(o,c){var l,s=Be(o.document.differ.getChanges());try{var f=function(){var d=l.value;if(d.type!="insert")return 1;var h=d.position.parent;d.length===h.maxOffset&&o.enqueueChange(c,function(b){var v,g=Array.from(h.getAttributeKeys()).filter(function(A){return A.startsWith(sv)}),k=Be(g);try{for(k.s();!(v=k.n()).done;){var _=v.value;b.removeAttribute(_,h)}}catch(A){k.e(A)}finally{k.f()}})};for(s.s();!(l=s.n()).done;)f()}catch(d){s.e(d)}finally{s.f()}})(u._model,e)}),u}return H6(n,[{key:"isCollapsed",get:function(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:Ve(Ae(n.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return Ve(Ae(n.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return Ve(Ae(n.prototype),"focus",this)||this._document._getDefaultRange().end}},{key:"rangeCount",get:function(){return this._ranges.length?this._ranges.length:1}},{key:"hasOwnRange",get:function(){return this._ranges.length>0}},{key:"isGravityOverridden",get:function(){return!!this._overriddenGravityRegister.size}},{key:"destroy",value:function(){for(var i=0;i<this._ranges.length;i++)this._ranges[i].detach();this.stopListening()}},{key:"getRanges",value:Jy().mark(function i(){return Jy().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this._ranges.length){u.next=4;break}return u.delegateYield(Ve(Ae(n.prototype),"getRanges",this).call(this),"t0",2);case 2:u.next=6;break;case 4:return u.next=6,this._document._getDefaultRange();case 6:case"end":return u.stop()}},i,this)})},{key:"getFirstRange",value:function(){return Ve(Ae(n.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return Ve(Ae(n.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"setTo",value:function(){for(var i,u=arguments.length,a=new Array(u),e=0;e<u;e++)a[e]=arguments[e];(i=Ve(Ae(n.prototype),"setTo",this)).call.apply(i,[this].concat(a)),this._updateAttributes(!0),this.updateMarkers()}},{key:"setFocus",value:function(i,u){Ve(Ae(n.prototype),"setFocus",this).call(this,i,u),this._updateAttributes(!0),this.updateMarkers()}},{key:"setAttribute",value:function(i,u){if(this._setAttribute(i,u)){var a=[i];this.fire("change:attribute",{attributeKeys:a,directChange:!0})}}},{key:"removeAttribute",value:function(i){if(this._removeAttribute(i)){var u=[i];this.fire("change:attribute",{attributeKeys:u,directChange:!0})}}},{key:"overrideGravity",value:function(){var i=Oe();return this._overriddenGravityRegister.add(i),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),i}},{key:"restoreGravity",value:function(i){if(!this._overriddenGravityRegister.has(i))throw new V("document-selection-gravity-wrong-restore",this,{uid:i});this._overriddenGravityRegister.delete(i),this.isGravityOverridden||this._updateAttributes(!0)}},{key:"observeMarkers",value:function(i){this._observedMarkers.add(i),this.updateMarkers()}},{key:"_replaceAllRanges",value:function(i){this._validateSelectionRanges(i),Ve(Ae(n.prototype),"_replaceAllRanges",this).call(this,i)}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(i){var u=this._prepareRange(i);u&&this._ranges.push(u)}},{key:"_validateSelectionRanges",value:function(i){var u,a=Be(i);try{for(a.s();!(u=a.n()).done;){var e=u.value;if(!this._document._validateSelectionRange(e))throw new V("document-selection-wrong-position",this,{range:e})}}catch(o){a.e(o)}finally{a.f()}}},{key:"_prepareRange",value:function(i){var u=this;if(this._checkRange(i),i.root!=this._document.graveyard){var a=Lr.fromRange(i);return a.on("change:range",function(e,o,c){if(u._hasChangedRange=!0,a.root==u._document.graveyard){u._selectionRestorePosition=c.deletionPosition;var l=u._ranges.indexOf(a);u._ranges.splice(l,1),a.detach()}}),a}}},{key:"updateMarkers",value:function(){if(this._observedMarkers.size){var i,u=[],a=!1,e=Be(this._model.markers);try{for(e.s();!(i=e.n()).done;){var o=i.value,c=o.name.split(":",1)[0];if(this._observedMarkers.has(c)){var l,s=o.getRange(),f=Be(this.getRanges());try{for(f.s();!(l=f.n()).done;){var d=l.value;s.containsRange(d,!d.isCollapsed)&&u.push(o)}}catch(C){f.e(C)}finally{f.f()}}}}catch(C){e.e(C)}finally{e.f()}for(var h=Array.from(this.markers),b=0,v=u;b<v.length;b++){var g=v[b];this.markers.has(g)||(this.markers.add(g),a=!0)}for(var k=0,_=Array.from(this.markers);k<_.length;k++){var A=_[k];u.includes(A)||(this.markers.remove(A),a=!0)}a&&this.fire("change:marker",{oldMarkers:h,directChange:!1})}}},{key:"_updateMarker",value:function(i,u){var a=i.name.split(":",1)[0];if(this._observedMarkers.has(a)){var e=!1,o=Array.from(this.markers),c=this.markers.has(i);if(u){var l,s=!1,f=Be(this.getRanges());try{for(f.s();!(l=f.n()).done;){var d=l.value;if(u.containsRange(d,!d.isCollapsed)){s=!0;break}}}catch(h){f.e(h)}finally{f.f()}s&&!c?(this.markers.add(i),e=!0):!s&&c&&(this.markers.remove(i),e=!0)}else c&&(this.markers.remove(i),e=!0);e&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}}},{key:"_updateAttributes",value:function(i){var u=Tr(this._getSurroundingAttributes()),a=Tr(this.getAttributes());if(i)this._attributePriority=new Map,this._attrs=new Map;else{var e,o=Be(this._attributePriority);try{for(o.s();!(e=o.n()).done;){var c=Ma(e.value,2),l=c[0];c[1]=="low"&&(this._attrs.delete(l),this._attributePriority.delete(l))}}catch(A){o.e(A)}finally{o.f()}}this._setAttributesTo(u);var s,f=[],d=Be(this.getAttributes());try{for(d.s();!(s=d.n()).done;){var h=Ma(s.value,2),b=h[0],v=h[1];a.has(b)&&a.get(b)===v||f.push(b)}}catch(A){d.e(A)}finally{d.f()}var g,k=Be(a);try{for(k.s();!(g=k.n()).done;){var _=Ma(g.value,1)[0];this.hasAttribute(_)||f.push(_)}}catch(A){k.e(A)}finally{k.f()}f.length>0&&this.fire("change:attribute",{attributeKeys:f,directChange:!1})}},{key:"_setAttribute",value:function(i,u){var a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?"normal":"low";return(a!="low"||this._attributePriority.get(i)!="normal")&&Ve(Ae(n.prototype),"getAttribute",this).call(this,i)!==u&&(this._attrs.set(i,u),this._attributePriority.set(i,a),!0)}},{key:"_removeAttribute",value:function(i){var u=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1]?"normal":"low";return(u!="low"||this._attributePriority.get(i)!="normal")&&(this._attributePriority.set(i,u),!!Ve(Ae(n.prototype),"hasAttribute",this).call(this,i)&&(this._attrs.delete(i),!0))}},{key:"_setAttributesTo",value:function(i){var u,a=new Set,e=Be(this.getAttributes());try{for(e.s();!(u=e.n()).done;){var o=Ma(u.value,2),c=o[0],l=o[1];i.get(c)!==l&&this._removeAttribute(c,!1)}}catch(v){e.e(v)}finally{e.f()}var s,f=Be(i);try{for(f.s();!(s=f.n()).done;){var d=Ma(s.value,2),h=d[0],b=d[1];this._setAttribute(h,b,!1)&&a.add(h)}}catch(v){f.e(v)}finally{f.f()}return a}},{key:"getStoredAttributes",value:Jy().mark(function i(){var u,a,e,o,c;return Jy().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(u=this.getFirstPosition().parent,!this.isCollapsed||!u.isEmpty){l.next=21;break}a=Be(u.getAttributeKeys()),l.prev=3,a.s();case 5:if((e=a.n()).done){l.next=13;break}if(!(o=e.value).startsWith(sv)){l.next=11;break}return c=o.substr(10),l.next=11,[c,u.getAttribute(o)];case 11:l.next=5;break;case 13:l.next=18;break;case 15:l.prev=15,l.t0=l.catch(3),a.e(l.t0);case 18:return l.prev=18,a.f(),l.finish(18);case 21:case"end":return l.stop()}},i,this,[[3,15,18,21]])})},{key:"_getSurroundingAttributes",value:function(){var i=this.getFirstPosition(),u=this._model.schema;if(i.root.rootName=="$graveyard")return null;var a=null;if(this.isCollapsed){var e=i.textNode?i.textNode:i.nodeBefore,o=i.textNode?i.textNode:i.nodeAfter;if(this.isGravityOverridden||(a=Xy(e,u)),a||(a=Xy(o,u)),!this.isGravityOverridden&&!a)for(var c=e;c&&!a;)a=Xy(c=c.previousSibling,u);if(!a)for(var l=o;l&&!a;)a=Xy(l=l.nextSibling,u);a||(a=this.getStoredAttributes())}else{var s,f=Be(this.getFirstRange());try{for(f.s();!(s=f.n()).done;){var d=s.value;if(d.item.is("element")&&u.isObject(d.item)){a=Xy(d.item,u);break}if(d.type=="text"){a=d.item.getAttributes();break}}}catch(h){f.e(h)}finally{f.f()}}return a}},{key:"_fixGraveyardSelection",value:function(i){var u=this._model.schema.getNearestSelectionRange(i);u&&this._pushRange(u)}}]),n}(lr);function Xy(r,t){if(!r)return null;if(r instanceof ur||r instanceof qt)return r.getAttributes();if(!t.isInline(r))return null;if(!t.isObject(r))return[];var n,i=[],u=Be(r.getAttributes());try{for(u.s();!(n=u.n()).done;){var a=Ma(n.value,2),e=a[0],o=a[1];t.checkAttribute("$text",e)&&t.getAttributeProperties(e).copyFromObject!==!1&&i.push([e,o])}}catch(c){u.e(c)}finally{u.f()}return i}function th(r){return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(r)}function wct(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return $6(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return $6(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function $6(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function q6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(th(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(th(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),th(a)==="symbol"?a:String(a)),i)}var u,a}var Y6=function(){function r(u){(function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this._dispatchers=u}var t,n,i;return t=r,(n=[{key:"add",value:function(u){var a,e=wct(this._dispatchers);try{for(e.s();!(a=e.n()).done;)u(a.value)}catch(o){e.e(o)}finally{e.f()}return this}}])&&q6(t.prototype,n),i&&q6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function kct(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||K6(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function io(r){return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(r)}function le(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=K6(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function K6(r,t){if(r){if(typeof r=="string")return Z6(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z6(r,t):void 0}}function Z6(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Q6(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(io(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(io(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),io(a)==="symbol"?a:String(a)),i)}var u,a}function GS(r,t){return GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GS(r,t)}function _ct(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=fv(r);if(t){var u=fv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(io(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function fv(r){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fv(r)}var Act=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&GS(e,o)})(a,r);var t,n,i,u=_ct(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"elementToElement",value:function(e){return this.add(function(o){var c=t8(o.model),l=eh(o.view,"container");return c.attributes.length&&(c.children=!0),function(s){s.on("insert:".concat(c.name),function(f){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oct;return function(h,b,v){if(d(b.item,v.consumable,{preflight:!0})){var g=f(b.item,v,b);if(g){d(b.item,v.consumable);var k=v.mapper.toViewPosition(b.range.start);v.mapper.bindElements(b.item,g),v.writer.insert(k,g),v.convertAttributes(b.item),i8(g,b.item.getChildren(),v,{reconversion:b.reconversion})}}}}(l,o8(c)),{priority:o.converterPriority||"normal"}),(c.children||c.attributes.length)&&s.on("reduceChanges",n8(c),{priority:"low"})}}(e))}},{key:"elementToStructure",value:function(e){return this.add(function(o){var c=t8(o.model),l=eh(o.view,"container");return c.children=!0,function(s){if(s._conversionApi.schema.checkChild(c.name,"$text"))throw new V("conversion-element-to-structure-disallowed-text",s,{elementName:c.name});var f,d;s.on("insert:".concat(c.name),(f=l,d=o8(c),function(h,b,v){if(d(b.item,v.consumable,{preflight:!0})){var g=new Map;v.writer._registerSlotFactory(function(A,C,S){return function(P,E){var R=P.createContainerElement("$slot"),I=null;if(E==="children")I=Array.from(A.getChildren());else{if(typeof E!="function")throw new V("conversion-slot-mode-unknown",S.dispatcher,{modeOrFilter:E});I=Array.from(A.getChildren()).filter(function(z){return E(z)})}return C.set(R,I),R}}(b.item,g,v));var k=f(b.item,v,b);if(v.writer._clearSlotFactory(),k){(function(A,C,S){var P=Array.from(C.values()).flat(),E=new Set(P);if(E.size!=P.length)throw new V("conversion-slot-filter-overlap",S.dispatcher,{element:A});if(E.size!=A.childCount)throw new V("conversion-slot-filter-incomplete",S.dispatcher,{element:A})})(b.item,g,v),d(b.item,v.consumable);var _=v.mapper.toViewPosition(b.range.start);v.mapper.bindElements(b.item,k),v.writer.insert(_,k),v.convertAttributes(b.item),function(A,C,S,P){S.mapper.on("modelToViewPosition",tt,{priority:"highest"});var E,R=null,I=null,z=le(C);try{for(z.s();!(E=z.n()).done;){var F=kct(E.value,2);R=F[0],i8(A,I=F[1],S,P),S.writer.move(S.writer.createRangeIn(R),S.writer.createPositionBefore(R)),S.writer.remove(R)}}catch(Z){z.e(Z)}finally{z.f()}function tt(Z,G){var et=G.modelPosition.nodeAfter,y=I.indexOf(et);y<0||(G.viewPosition=G.mapper.findPositionIn(R,y))}S.mapper.off("modelToViewPosition",tt)}(k,g,v,{reconversion:b.reconversion})}}}),{priority:o.converterPriority||"normal"}),s.on("reduceChanges",n8(c),{priority:"low"})}}(e))}},{key:"attributeToElement",value:function(e){return this.add(function(o){var c=(o=Mr(o)).model;typeof c=="string"&&(c={key:c});var l="attribute:".concat(c.key);if(c.name&&(l+=":"+c.name),c.values){var s,f=le(c.values);try{for(f.s();!(s=f.n()).done;){var d=s.value;o.view[d]=eh(o.view[d],"attribute")}}catch(b){f.e(b)}finally{f.f()}}else o.view=eh(o.view,"attribute");var h=e8(o);return function(b){b.on(l,function(v){return function(g,k,_){if(_.consumable.test(k.item,g.name)){var A=v(k.attributeOldValue,_,k),C=v(k.attributeNewValue,_,k);if(A||C){_.consumable.consume(k.item,g.name);var S=_.writer,P=S.document.selection;if(k.item instanceof lr||k.item instanceof sr)S.wrap(P.getFirstRange(),C);else{var E=_.mapper.toViewRange(k.range);k.attributeOldValue!==null&&A&&(E=S.unwrap(E,A)),k.attributeNewValue!==null&&C&&S.wrap(E,C)}}}}}(h),{priority:o.converterPriority||"normal"})}}(e))}},{key:"attributeToAttribute",value:function(e){return this.add(function(o){var c=(o=Mr(o)).model;typeof c=="string"&&(c={key:c});var l="attribute:".concat(c.key);if(c.name&&(l+=":"+c.name),c.values){var s,f=le(c.values);try{for(f.s();!(s=f.n()).done;){var d=s.value;o.view[d]=r8(o.view[d])}}catch(b){f.e(b)}finally{f.f()}}else o.view=r8(o.view);var h=e8(o);return function(b){var v;b.on(l,(v=h,function(g,k,_){if(_.consumable.test(k.item,g.name)){var A=v(k.attributeOldValue,_,k),C=v(k.attributeNewValue,_,k);if(A||C){_.consumable.consume(k.item,g.name);var S=_.mapper.toViewElement(k.item),P=_.writer;if(!S)throw new V("conversion-attribute-to-attribute-on-text",_.dispatcher,k);if(k.attributeOldValue!==null&&A)if(A.key=="class"){var E,R=le(Kt(A.value));try{for(R.s();!(E=R.n()).done;){var I=E.value;P.removeClass(I,S)}}catch(O){R.e(O)}finally{R.f()}}else if(A.key=="style")for(var z=0,F=Object.keys(A.value);z<F.length;z++){var tt=F[z];P.removeStyle(tt,S)}else P.removeAttribute(A.key,S);if(k.attributeNewValue!==null&&C)if(C.key=="class"){var Z,G=le(Kt(C.value));try{for(G.s();!(Z=G.n()).done;){var et=Z.value;P.addClass(et,S)}}catch(O){G.e(O)}finally{G.f()}}else if(C.key=="style")for(var y=0,p=Object.keys(C.value);y<p.length;y++){var m=p[y];P.setStyle(m,C.value[m],S)}else P.setAttribute(C.key,C.value,S)}}}),{priority:o.converterPriority||"normal"})}}(e))}},{key:"markerToElement",value:function(e){return this.add(function(o){var c=eh(o.view,"ui");return function(l){var s;l.on("addMarker:".concat(o.model),(s=c,function(f,d,h){d.isOpening=!0;var b=s(d,h);d.isOpening=!1;var v=s(d,h);if(b&&v){var g=d.markerRange;if(!g.isCollapsed||h.consumable.consume(g,f.name)){var k,_=le(g);try{for(_.s();!(k=_.n()).done;){var A=k.value;if(!h.consumable.consume(A.item,f.name))return}}catch(P){_.e(P)}finally{_.f()}var C=h.mapper,S=h.writer;S.insert(C.toViewPosition(g.start),b),h.mapper.bindElementToMarker(b,d.markerName),g.isCollapsed||(S.insert(C.toViewPosition(g.end),v),h.mapper.bindElementToMarker(v,d.markerName)),f.stop()}}}),{priority:o.converterPriority||"normal"}),l.on("removeMarker:".concat(o.model),function(f,d,h){var b=h.mapper.markerNameToElements(d.markerName);if(b){var v,g=le(b);try{for(g.s();!(v=g.n()).done;){var k=v.value;h.mapper.unbindElementFromMarkerName(k,d.markerName),h.writer.clear(h.writer.createRangeOn(k),k)}}catch(_){g.e(_)}finally{g.f()}h.writer.clearClonedElementsGroup(d.markerName),f.stop()}},{priority:o.converterPriority||"normal"})}}(e))}},{key:"markerToHighlight",value:function(e){return this.add(function(o){return function(c){var l;c.on("addMarker:".concat(o.model),(l=o.view,function(s,f,d){if(f.item&&(f.item instanceof lr||f.item instanceof sr||f.item.is("$textProxy"))){var h=WS(l,f,d);if(h&&d.consumable.consume(f.item,s.name)){var b=d.writer,v=J6(b,h),g=b.document.selection;if(f.item instanceof lr||f.item instanceof sr)b.wrap(g.getFirstRange(),v);else{var k,_=d.mapper.toViewRange(f.range),A=le(b.wrap(_,v).getItems());try{for(A.s();!(k=A.n()).done;){var C=k.value;if(C.is("attributeElement")&&C.isSimilar(v)){d.mapper.bindElementToMarker(C,f.markerName);break}}}catch(S){A.e(S)}finally{A.f()}}}}}),{priority:o.converterPriority||"normal"}),c.on("addMarker:".concat(o.model),function(s){return function(f,d,h){if(d.item&&d.item instanceof Ut){var b=WS(s,d,h);if(b&&h.consumable.test(d.item,f.name)){var v=h.mapper.toViewElement(d.item);if(v&&v.getCustomProperty("addHighlight")){h.consumable.consume(d.item,f.name);var g,k=le(ot._createIn(d.item));try{for(k.s();!(g=k.n()).done;){var _=g.value;h.consumable.consume(_.item,f.name)}}catch(A){k.e(A)}finally{k.f()}v.getCustomProperty("addHighlight")(v,b,h.writer),h.mapper.bindElementToMarker(v,d.markerName)}}}}}(o.view),{priority:o.converterPriority||"normal"}),c.on("removeMarker:".concat(o.model),function(s){return function(f,d,h){if(!d.markerRange.isCollapsed){var b=WS(s,d,h);if(b){var v=J6(h.writer,b),g=h.mapper.markerNameToElements(d.markerName);if(g){var k,_=le(g);try{for(_.s();!(k=_.n()).done;){var A=k.value;h.mapper.unbindElementFromMarkerName(A,d.markerName),A.is("attributeElement")?h.writer.unwrap(h.writer.createRangeOn(A),v):A.getCustomProperty("removeHighlight")(A,b.id,h.writer)}}catch(C){_.e(C)}finally{_.f()}h.writer.clearClonedElementsGroup(d.markerName),f.stop()}}}}}(o.view),{priority:o.converterPriority||"normal"})}}(e))}},{key:"markerToData",value:function(e){return this.add(function(o){var c=(o=Mr(o)).model,l=o.view;return l||(l=function(s){return{group:c,name:s.substr(o.model.length+1)}}),function(s){var f;s.on("addMarker:".concat(c),(f=l,function(d,h,b){var v=f(h.markerName,b);if(v){var g=h.markerRange;b.consumable.consume(g,d.name)&&(X6(g,!1,b,h,v),X6(g,!0,b,h,v),d.stop())}}),{priority:o.converterPriority||"normal"}),s.on("removeMarker:".concat(c),function(d){return function(h,b,v){var g=d(b.markerName,v);if(g){var k=v.mapper.markerNameToElements(b.markerName);if(k){var _,A=le(k);try{for(A.s();!(_=A.n()).done;){var C=_.value;v.mapper.unbindElementFromMarkerName(C,b.markerName),C.is("containerElement")?(S("data-".concat(g.group,"-start-before"),C),S("data-".concat(g.group,"-start-after"),C),S("data-".concat(g.group,"-end-before"),C),S("data-".concat(g.group,"-end-after"),C)):v.writer.clear(v.writer.createRangeOn(C),C)}}catch(P){A.e(P)}finally{A.f()}v.writer.clearClonedElementsGroup(b.markerName),h.stop()}}function S(P,E){if(E.hasAttribute(P)){var R=new Set(E.getAttribute(P).split(","));R.delete(g.name),R.size==0?v.writer.removeAttribute(P,E):v.writer.setAttribute(P,Array.from(R).join(","),E)}}}}(l),{priority:o.converterPriority||"normal"})}}(e))}}],n&&Q6(t.prototype,n),i&&Q6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y6);function J6(r,t){var n=r.createAttributeElement("span",t.attributes);return t.classes&&n._addClass(t.classes),typeof t.priority=="number"&&(n._priority=t.priority),n._id=t.id,n}function X6(r,t,n,i,u){var a=t?r.start:r.end,e=a.nodeAfter&&a.nodeAfter.is("element")?a.nodeAfter:null,o=a.nodeBefore&&a.nodeBefore.is("element")?a.nodeBefore:null;if(e||o){var c,l;t&&e||!t&&!o?(c=e,l=!0):(c=o,l=!1);var s=n.mapper.toViewElement(c);if(s)return void function(f,d,h,b,v,g){var k="data-".concat(g.group,"-").concat(d?"start":"end","-").concat(h?"before":"after"),_=f.hasAttribute(k)?f.getAttribute(k).split(","):[];_.unshift(g.name),b.writer.setAttribute(k,_.join(","),f),b.mapper.bindElementToMarker(f,v.markerName)}(s,t,l,n,i,u)}(function(f,d,h,b,v){var g="".concat(v.group,"-").concat(d?"start":"end"),k=v.name?{name:v.name}:null,_=h.writer.createUIElement(g,k);h.writer.insert(f,_),h.mapper.bindElementToMarker(_,b.markerName)})(n.mapper.toViewPosition(a),t,n,i,u)}function t8(r){return typeof r=="string"&&(r={name:r}),r.attributes?Array.isArray(r.attributes)||(r.attributes=[r.attributes]):r.attributes=[],r.children=!!r.children,r}function eh(r,t){return typeof r=="function"?r:function(n,i){return function(u,a,e){typeof u=="string"&&(u={name:u});var o,c=a.writer,l=Object.assign({},u.attributes);if(e=="container")o=c.createContainerElement(u.name,l);else if(e=="attribute"){var s={priority:u.priority||Qn.DEFAULT_PRIORITY};o=c.createAttributeElement(u.name,l,s)}else o=c.createUIElement(u.name,l);if(u.styles)for(var f=0,d=Object.keys(u.styles);f<d.length;f++){var h=d[f];c.setStyle(h,u.styles[h],o)}if(u.classes){var b=u.classes;if(typeof b=="string")c.addClass(b,o);else{var v,g=le(b);try{for(g.s();!(v=g.n()).done;){var k=v.value;c.addClass(k,o)}}catch(_){g.e(_)}finally{g.f()}}}return o}(r,i,t)}}function e8(r){return r.model.values?function(t,n,i){var u=r.view[t];return u?u(t,n,i):null}:r.view}function r8(r){return typeof r=="string"?function(t){return{key:r,value:t}}:io(r)=="object"?r.value?function(){return r}:function(t){return{key:r.key,value:t}}:r}function WS(r,t,n){var i=typeof r=="function"?r(t,n):r;return i?(i.priority||(i.priority=10),i.id||(i.id=t.markerName),i):null}function n8(r){var t=function(n){return function(i,u){if(!i.is("element",n.name))return!1;if(u.type=="attribute"){if(n.attributes.includes(u.attributeKey))return!0}else if(n.children)return!0;return!1}}(r);return function(n,i){var u=[];i.reconvertedElements||(i.reconvertedElements=new Set);var a,e=le(i.changes);try{for(e.s();!(a=e.n()).done;){var o=a.value,c=o.type=="attribute"?o.range.start.nodeAfter:o.position.parent;if(c&&t(c,o)){if(!i.reconvertedElements.has(c)){i.reconvertedElements.add(c);for(var l=ct._createBefore(c),s=u.length,f=u.length-1;f>=0;f--){var d=u[f],h=(d.type=="attribute"?d.range.start:d.position).compareWith(l);if(h=="before"||d.type=="remove"&&h=="same")break;s=f}u.splice(s,0,{type:"remove",name:c.name,position:l,length:1},{type:"reinsert",name:c.name,position:l,length:1})}}else u.push(o)}}catch(b){e.e(b)}finally{e.f()}i.changes=u}}function o8(r){return function(t,n){var i,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=["insert"],e=le(r.attributes);try{for(e.s();!(i=e.n()).done;){var o=i.value;t.hasAttribute(o)&&a.push("attribute:".concat(o))}}catch(c){e.e(c)}finally{e.f()}return!!a.every(function(c){return n.test(t,c)})&&(u.preflight||a.forEach(function(c){return n.consume(t,c)}),!0)}}function i8(r,t,n,i){var u,a=le(t);try{for(a.s();!(u=a.n()).done;){var e=u.value;Cct(r.root,e,n,i)||n.convertItem(e)}}catch(o){a.e(o)}finally{a.f()}}function Cct(r,t,n,i){var u=n.writer,a=n.mapper;if(!i.reconversion)return!1;var e=a.toViewElement(t);return!(!e||e.root==r)&&!!n.canReuseView(e)&&(u.move(u.createRangeOn(e),a.toViewPosition(ct._createBefore(t))),!0)}function Oct(r,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).preflight?t.test(r,"insert"):t.consume(r,"insert")}function Sct(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return a8(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return a8(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function a8(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function c8(r){var t,n=r.model,i=n.schema,u=Sct(n.document.getRoots());try{for(u.s();!(t=u.n()).done;){var a=t.value;if(a.isEmpty&&!i.checkChild(a,"$text")&&i.checkChild(a,"paragraph"))return r.insertElement("paragraph",a),!0}}catch(e){u.e(e)}finally{u.f()}return!1}function u8(r,t,n){var i=n.createContext(r);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),t)}function l8(r,t){var n=t.createElement("paragraph");return t.insert(n,r),t.createPositionAt(n,0)}function vr(r){return vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vr(r)}function s8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function f8(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s8(Object(n),!0).forEach(function(i){$S(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):s8(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function $S(r,t,n){return(t=h8(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function d8(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return p8(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return p8(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function p8(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function y8(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,h8(i.key),i)}}function h8(r){var t=function(n,i){if(vr(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(vr(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return vr(t)==="symbol"?t:String(t)}function qS(r,t){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qS(r,t)}function jct(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=dv(r);if(t){var u=dv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(vr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function dv(r){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dv(r)}var Pct=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&qS(e,o)})(a,r);var t,n,i,u=jct(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(n=[{key:"elementToElement",value:function(e){return this.add(b8(e))}},{key:"elementToAttribute",value:function(e){return this.add(function(o){m8(o=Mr(o));var c=v8(o,!1),l=YS(o.view),s=l?"element:".concat(l):"element";return function(f){f.on(s,c,{priority:o.converterPriority||"low"})}}(e))}},{key:"attributeToAttribute",value:function(e){return this.add(function(o){o=Mr(o);var c=null;(typeof o.view=="string"||o.view.key)&&(c=function(s){typeof s.view=="string"&&(s.view={key:s.view});var f,d=s.view.key;return f=d=="class"||d=="style"?$S({},d=="class"?"classes":"styles",s.view.value):{attributes:$S({},d,s.view.value===void 0?/[\s\S]*/:s.view.value)},s.view.name&&(f.name=s.view.name),s.view=f,d}(o)),m8(o,c);var l=v8(o,!0);return function(s){s.on("element",l,{priority:o.converterPriority||"low"})}}(e))}},{key:"elementToMarker",value:function(e){return this.add(function(o){var c=function(l){return function(s,f){var d=typeof l=="string"?l:l(s,f);return f.writer.createElement("$marker",{"data-name":d})}}(o.model);return b8(f8(f8({},o),{},{model:c}))}(e))}},{key:"dataToMarker",value:function(e){return this.add(function(o){(o=Mr(o)).model||(o.model=function(f){return f?o.view+":"+f:o.view});var c={view:o.view,model:o.model},l=KS(g8(c,"start")),s=KS(g8(c,"end"));return function(f){f.on("element:".concat(o.view,"-start"),l,{priority:o.converterPriority||"normal"}),f.on("element:".concat(o.view,"-end"),s,{priority:o.converterPriority||"normal"});var d=we.low,h=we.highest,b=we.get(o.converterPriority)/h;f.on("element",function(v){return function(g,k,_){var A="data-".concat(v.view);function C(S,P){var E,R=d8(P);try{for(R.s();!(E=R.n()).done;){var I=E.value,z=v.model(I,_),F=_.writer.createElement("$marker",{"data-name":z});_.writer.insert(F,S),k.modelCursor.isEqual(S)?k.modelCursor=k.modelCursor.getShiftedBy(1):k.modelCursor=k.modelCursor._getTransformedByInsertion(S,1),k.modelRange=k.modelRange._getTransformedByInsertion(S,1)[0]}}catch(tt){R.e(tt)}finally{R.f()}}(_.consumable.test(k.viewItem,{attributes:A+"-end-after"})||_.consumable.test(k.viewItem,{attributes:A+"-start-after"})||_.consumable.test(k.viewItem,{attributes:A+"-end-before"})||_.consumable.test(k.viewItem,{attributes:A+"-start-before"}))&&(k.modelRange||Object.assign(k,_.convertChildren(k.viewItem,k.modelCursor)),_.consumable.consume(k.viewItem,{attributes:A+"-end-after"})&&C(k.modelRange.end,k.viewItem.getAttribute(A+"-end-after").split(",")),_.consumable.consume(k.viewItem,{attributes:A+"-start-after"})&&C(k.modelRange.end,k.viewItem.getAttribute(A+"-start-after").split(",")),_.consumable.consume(k.viewItem,{attributes:A+"-end-before"})&&C(k.modelRange.start,k.viewItem.getAttribute(A+"-end-before").split(",")),_.consumable.consume(k.viewItem,{attributes:A+"-start-before"})&&C(k.modelRange.start,k.viewItem.getAttribute(A+"-start-before").split(",")))}}(c),{priority:d+b})}}(e))}}])&&y8(t.prototype,n),i&&y8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y6);function b8(r){var t=KS(r=Mr(r)),n=YS(r.view),i=n?"element:".concat(n):"element";return function(u){u.on(i,t,{priority:r.converterPriority||"normal"})}}function YS(r){return typeof r=="string"?r:vr(r)=="object"&&typeof r.name=="string"?r.name:null}function KS(r){var t=new ze(r.view);return function(n,i,u){var a=t.match(i.viewItem);if(a){var e=a.match;if(e.name=!0,u.consumable.test(i.viewItem,e)){var o=function(c,l,s){return c instanceof Function?c(l,s):s.writer.createElement(c)}(r.model,i.viewItem,u);o&&u.safeInsert(o,i.modelCursor)&&(u.consumable.consume(i.viewItem,e),u.convertChildren(i.viewItem,o),u.updateConversionResult(o,i))}}}}function m8(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=t===null||function(a){return a.getAttribute(t)},i=vr(r.model)!="object"?r.model:r.model.key,u=vr(r.model)!="object"||r.model.value===void 0?n:r.model.value;r.model={key:i,value:u}}function v8(r,t){var n=new ze(r.view);return function(i,u,a){if(u.modelRange||!t){var e=n.match(u.viewItem);if(e&&(function(s,f){var d=typeof s=="function"?s(f):s;return vr(d)=="object"&&!YS(d)?!1:!d.classes&&!d.attributes&&!d.styles}(r.view,u.viewItem)?e.match.name=!0:delete e.match.name,a.consumable.test(u.viewItem,e.match))){var o=r.model.key,c=typeof r.model.value=="function"?r.model.value(u.viewItem,a):r.model.value;if(c!==null){u.modelRange||Object.assign(u,a.convertChildren(u.viewItem,u.modelCursor));var l=function(s,f,d,h){for(var b=!1,v=0,g=Array.from(s.getItems({shallow:d}));v<g.length;v++){var k=g[v];h.schema.checkAttribute(k,f.key)&&(b=!0,k.hasAttribute(f.key)||h.writer.setAttribute(f.key,f.value,k))}return b}(u.modelRange,{key:o,value:c},t,a);l&&(a.consumable.test(u.viewItem,{name:!0})&&(e.match.name=!0),a.consumable.consume(u.viewItem,e.match))}}}}}function g8(r,t){return{view:"".concat(r.view,"-").concat(t),model:function(n,i){var u=n.getAttribute("name"),a=r.model(u,i);return i.writer.createElement("$marker",{"data-name":a})}}}function Ect(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||ZS(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xct(r){return function(t){if(Array.isArray(t))return QS(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||ZS(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w8(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=ZS(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function ZS(r,t){if(r){if(typeof r=="string")return QS(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QS(r,t):void 0}}function QS(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Tct(r){r.document.registerPostFixer(function(t){return function(n,i){var u,a=i.document.selection,e=i.schema,o=[],c=!1,l=w8(a.getRanges());try{for(l.s();!(u=l.n()).done;){var s=u.value,f=k8(s,e);f&&!f.isEqual(s)?(o.push(f),c=!0):o.push(s)}}catch(d){l.e(d)}finally{l.f()}return c&&n.setSelection(function(d){for(var h=xct(d),b=new Set,v=1;v<h.length;){var g,k=h[v],_=w8(h.slice(0,v).entries());try{for(_.s();!(g=_.n()).done;){var A=Ect(g.value,2),C=A[0],S=A[1];if(!b.has(C)){if(k.isEqual(S))b.add(C);else if(k.isIntersecting(S)){b.add(C),b.add(v);var P=k.getJoined(S);h.push(P)}}}}catch(E){_.e(E)}finally{_.f()}v++}return h.filter(function(E,R){return!b.has(R)})}(o),{backward:a.isBackward}),!1}(t,r)})}function k8(r,t){return r.isCollapsed?function(n,i){var u=n.start,a=i.getNearestSelectionRange(u);if(!a){var e=u.getAncestors().reverse().find(function(c){return i.isObject(c)});return e?ot._createOn(e):null}if(!a.isCollapsed)return a;var o=a.start;return u.isEqual(o)?null:new ot(o)}(r,t):function(n,i){var u=n.start,a=n.end,e=i.checkChild(u,"$text"),o=i.checkChild(a,"$text"),c=i.getLimitElement(u),l=i.getLimitElement(a);if(c===l){if(e&&o)return null;if(function(S,P,E){var R=S.nodeAfter&&!E.isLimit(S.nodeAfter)||E.checkChild(S,"$text"),I=P.nodeBefore&&!E.isLimit(P.nodeBefore)||E.checkChild(P,"$text");return R||I}(u,a,i)){var s=u.nodeAfter&&i.isSelectable(u.nodeAfter)?null:i.getNearestSelectionRange(u,"forward"),f=a.nodeBefore&&i.isSelectable(a.nodeBefore)?null:i.getNearestSelectionRange(a,"backward"),d=s?s.start:u,h=f?f.end:a;return new ot(d,h)}}var b=c&&!c.is("rootElement"),v=l&&!l.is("rootElement");if(b||v){var g=u.nodeAfter&&a.nodeBefore&&u.nodeAfter.parent===a.nodeBefore.parent,k=b&&(!g||!A8(u.nodeAfter,i)),_=v&&(!g||!A8(a.nodeBefore,i)),A=u,C=a;return k&&(A=ct._createBefore(_8(c,i))),_&&(C=ct._createAfter(_8(l,i))),new ot(A,C)}return null}(r,t)}function _8(r,t){for(var n=r,i=n;t.isLimit(i)&&i.parent;)n=i,i=i.parent;return n}function A8(r,t){return r&&t.isSelectable(r)}function Na(r){return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(r)}function C8(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Na(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Na(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Na(a)==="symbol"?a:String(a)),i)}var u,a}function JS(r,t){return JS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JS(r,t)}function Dct(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=pv(r);if(t){var u=pv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Na(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function pv(r){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pv(r)}var Rct=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&JS(e,o)})(a,r);var t,n,i,u=Dct(a);function a(e,o){var c;(function(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")})(this,a),(c=u.call(this)).model=e,c.view=new Qat(o),c.mapper=new g6,c.downcastDispatcher=new T6({mapper:c.mapper,schema:e.schema});var l,s,f,d=c.model.document,h=d.selection,b=c.model.markers;return c.listenTo(c.model,"_beforeChanges",function(){c.view._disableRendering(!0)},{priority:"highest"}),c.listenTo(c.model,"_afterChanges",function(){c.view._disableRendering(!1)},{priority:"lowest"}),c.listenTo(d,"change",function(){c.view.change(function(v){c.downcastDispatcher.convertChanges(d.differ,b,v),c.downcastDispatcher.convertSelection(h,b,v)})},{priority:"low"}),c.listenTo(c.view.document,"selectionChange",function(v,g){return function(k,_){var A,C=_.newSelection,S=[],P=d8(C.getRanges());try{for(P.s();!(A=P.n()).done;){var E=A.value;S.push(g.toModelRange(E))}}catch(I){P.e(I)}finally{P.f()}var R=v.createSelection(S,{backward:C.isBackward});R.isEqual(v.document.selection)||v.change(function(I){I.setSelection(R)})}}(c.model,c.mapper)),c.listenTo(c.view.document,"beforeinput",(l=c.mapper,s=c.model.schema,f=c.view,function(v,g){if(!f.document.isComposing||pt.isAndroid)for(var k=0;k<g.targetRanges.length;k++){var _=g.targetRanges[k],A=l.toModelRange(_),C=k8(A,s);C&&!C.isEqual(A)&&(g.targetRanges[k]=l.toViewRange(C))}}),{priority:"high"}),c.downcastDispatcher.on("insert:$text",function(v,g,k){if(k.consumable.consume(g.item,v.name)){var _=k.writer,A=k.mapper.toViewPosition(g.range.start),C=_.createText(g.item.data);_.insert(A,C)}},{priority:"lowest"}),c.downcastDispatcher.on("insert",function(v,g,k){k.convertAttributes(g.item),g.reconversion||!g.item.is("element")||g.item.isEmpty||k.convertChildren(g.item)},{priority:"lowest"}),c.downcastDispatcher.on("remove",function(v,g,k){var _,A=k.mapper.toViewPosition(g.position),C=g.position.getShiftedBy(g.length),S=k.mapper.toViewPosition(C,{isPhantom:!0}),P=k.writer.createRange(A,S),E=k.writer.remove(P.getTrimmed()),R=le(k.writer.createRangeIn(E).getItems());try{for(R.s();!(_=R.n()).done;){var I=_.value;k.mapper.unbindViewElement(I,{defer:!0})}}catch(z){R.e(z)}finally{R.f()}},{priority:"low"}),c.downcastDispatcher.on("cleanSelection",function(v,g,k){var _,A=k.writer,C=le(A.document.selection.getRanges());try{for(C.s();!(_=C.n()).done;){var S=_.value;S.isCollapsed&&S.end.parent.isAttached()&&k.writer.mergeAttributes(S.start)}}catch(P){C.e(P)}finally{C.f()}A.setSelection(null)}),c.downcastDispatcher.on("selection",function(v,g,k){var _=g.selection;if(!_.isCollapsed&&k.consumable.consume(_,"selection")){var A,C=[],S=le(_.getRanges());try{for(S.s();!(A=S.n()).done;){var P=A.value;C.push(k.mapper.toViewRange(P))}}catch(E){S.e(E)}finally{S.f()}k.writer.setSelection(C,{backward:_.isBackward})}},{priority:"low"}),c.downcastDispatcher.on("selection",function(v,g,k){var _=g.selection;if(_.isCollapsed&&k.consumable.consume(_,"selection")){var A=k.writer,C=_.getFirstPosition(),S=k.mapper.toViewPosition(C),P=A.breakAttributes(S);A.setSelection(P)}},{priority:"low"}),c.view.document.roots.bindTo(c.model.document.roots).using(function(v){if(v.rootName=="$graveyard")return null;var g=new TN(c.view.document,v.name);return g.rootName=v.rootName,c.mapper.bindElements(v,g),g}),c}return t=a,(n=[{key:"destroy",value:function(){this.view.destroy(),this.stopListening()}},{key:"reconvertMarker",value:function(e){var o=this,c=typeof e=="string"?e:e.name,l=this.model.markers.get(c);if(!l)throw new V("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:c});this.model.change(function(){o.model.markers._refresh(l)})}},{key:"reconvertItem",value:function(e){var o=this;this.model.change(function(){o.model.document.differ._refreshItem(e)})}}])&&C8(t.prototype,n),i&&C8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt());function XS(r){return function(t){if(Array.isArray(t))return tj(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||O8(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rh(r){return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(r)}function gr(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=O8(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function O8(r,t){if(r){if(typeof r=="string")return tj(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tj(r,t):void 0}}function tj(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function S8(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function j8(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(rh(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(rh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),rh(a)==="symbol"?a:String(a)),i)}var u,a}function P8(r,t,n){return t&&j8(r.prototype,t),n&&j8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}var Ict=function(){function r(){S8(this,r),this._consumables=new Map}return P8(r,[{key:"add",value:function(t,n){var i;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?i=this._consumables.get(t):(i=new Bct(t),this._consumables.set(t,i)),i.add(n))}},{key:"test",value:function(t,n){var i=this._consumables.get(t);return i===void 0?null:t.is("$text")||t.is("documentFragment")?i:i.test(n)}},{key:"consume",value:function(t,n){return!!this.test(t,n)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(n),!0)}},{key:"revert",value:function(t,n){var i=this._consumables.get(t);i!==void 0&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):i.revert(n))}}],[{key:"consumablesFromElement",value:function(t){var n,i={element:t,name:!0,attributes:[],classes:[],styles:[]},u=gr(t.getAttributeKeys());try{for(u.s();!(n=u.n()).done;){var a=n.value;a!="style"&&a!="class"&&i.attributes.push(a)}}catch(d){u.e(d)}finally{u.f()}var e,o=gr(t.getClassNames());try{for(o.s();!(e=o.n()).done;){var c=e.value;i.classes.push(c)}}catch(d){o.e(d)}finally{o.f()}var l,s=gr(t.getStyleNames());try{for(s.s();!(l=s.n()).done;){var f=l.value;i.styles.push(f)}}catch(d){s.e(d)}finally{s.f()}return i}},{key:"createFrom",value:function(t,n){if(n||(n=new r),t.is("$text"))return n.add(t),n;t.is("element")&&n.add(t,r.consumablesFromElement(t)),t.is("documentFragment")&&n.add(t);var i,u=gr(t.getChildren());try{for(u.s();!(i=u.n()).done;){var a=i.value;n=r.createFrom(a,n)}}catch(e){u.e(e)}finally{u.f()}return n}}]),r}(),yv=["attributes","classes","styles"],Bct=function(){function r(t){S8(this,r),this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}return P8(r,[{key:"add",value:function(t){t.name&&(this._canConsumeName=!0);for(var n=0,i=yv;n<i.length;n++){var u=i[n];u in t&&this._add(u,t[u])}}},{key:"test",value:function(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(var n=0,i=yv;n<i.length;n++){var u=i[n];if(u in t){var a=this._test(u,t[u]);if(a!==!0)return a}}return!0}},{key:"consume",value:function(t){t.name&&(this._canConsumeName=!1);for(var n=0,i=yv;n<i.length;n++){var u=i[n];u in t&&this._consume(u,t[u])}}},{key:"revert",value:function(t){t.name&&(this._canConsumeName=!0);for(var n=0,i=yv;n<i.length;n++){var u=i[n];u in t&&this._revert(u,t[u])}}},{key:"_add",value:function(t,n){var i,u=Se(n)?n:[n],a=this._consumables[t],e=gr(u);try{for(e.s();!(i=e.n()).done;){var o=i.value;if(t==="attributes"&&(o==="class"||o==="style"))throw new V("viewconsumable-invalid-attribute",this);if(a.set(o,!0),t==="styles"){var c,l=gr(this.element.document.stylesProcessor.getRelatedStyles(o));try{for(l.s();!(c=l.n()).done;){var s=c.value;a.set(s,!0)}}catch(f){l.e(f)}finally{l.f()}}}}catch(f){e.e(f)}finally{e.f()}}},{key:"_test",value:function(t,n){var i,u=Se(n)?n:[n],a=this._consumables[t],e=gr(u);try{for(e.s();!(i=e.n()).done;){var o=i.value;if(t!=="attributes"||o!=="class"&&o!=="style"){var c=a.get(o);if(c===void 0)return null;if(!c)return!1}else{var l=o=="class"?"classes":"styles",s=this._test(l,XS(this._consumables[l].keys()));if(s!==!0)return s}}}catch(f){e.e(f)}finally{e.f()}return!0}},{key:"_consume",value:function(t,n){var i,u=Se(n)?n:[n],a=this._consumables[t],e=gr(u);try{for(e.s();!(i=e.n()).done;){var o=i.value;if(t!=="attributes"||o!=="class"&&o!=="style"){if(a.set(o,!1),t=="styles"){var c,l=gr(this.element.document.stylesProcessor.getRelatedStyles(o));try{for(l.s();!(c=l.n()).done;){var s=c.value;a.set(s,!1)}}catch(d){l.e(d)}finally{l.f()}}}else{var f=o=="class"?"classes":"styles";this._consume(f,XS(this._consumables[f].keys()))}}}catch(d){e.e(d)}finally{e.f()}}},{key:"_revert",value:function(t,n){var i,u=Se(n)?n:[n],a=this._consumables[t],e=gr(u);try{for(e.s();!(i=e.n()).done;){var o=i.value;if(t!=="attributes"||o!=="class"&&o!=="style")a.get(o)===!1&&a.set(o,!0);else{var c=o=="class"?"classes":"styles";this._revert(c,XS(this._consumables[c].keys()))}}}catch(l){e.e(l)}finally{e.f()}}}]),r}();function dn(r){return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(r)}var Mct=Pe().mark(D8),Nct=Pe().mark(R8);function Pe(){Pe=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&dn(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(dn(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function La(r){return function(t){if(Array.isArray(t))return rj(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||ej(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hv(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||ej(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=ej(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function ej(r,t){if(r){if(typeof r=="string")return rj(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rj(r,t):void 0}}function rj(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function E8(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function x8(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(dn(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(dn(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),dn(a)==="symbol"?a:String(a)),i)}var u,a}function T8(r,t,n){return t&&x8(r.prototype,t),n&&x8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function nj(r,t){return nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nj(r,t)}function Lct(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=bv(r);if(t){var u=bv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(dn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function bv(r){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bv(r)}var zct=function(r){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),u&&nj(i,u)})(n,r);var t=Lct(n);function n(){var i;return E8(this,n),(i=t.call(this))._sourceDefinitions={},i._attributeProperties={},i.decorate("checkChild"),i.decorate("checkAttribute"),i.on("checkAttribute",function(u,a){a[0]=new mv(a[0])},{priority:"highest"}),i.on("checkChild",function(u,a){a[0]=new mv(a[0]),a[1]=i.getDefinition(a[1])},{priority:"highest"}),i}return T8(n,[{key:"register",value:function(i,u){if(this._sourceDefinitions[i])throw new V("schema-cannot-register-item-twice",this,{itemName:i});this._sourceDefinitions[i]=[Object.assign({},u)],this._clearCache()}},{key:"extend",value:function(i,u){if(!this._sourceDefinitions[i])throw new V("schema-cannot-extend-missing-item",this,{itemName:i});this._sourceDefinitions[i].push(Object.assign({},u)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(i){var u;return u=typeof i=="string"?i:"is"in i&&(i.is("$text")||i.is("$textProxy"))?"$text":i.name,this.getDefinitions()[u]}},{key:"isRegistered",value:function(i){return!!this.getDefinition(i)}},{key:"isBlock",value:function(i){var u=this.getDefinition(i);return!(!u||!u.isBlock)}},{key:"isLimit",value:function(i){var u=this.getDefinition(i);return!!u&&!(!u.isLimit&&!u.isObject)}},{key:"isObject",value:function(i){var u=this.getDefinition(i);return!!u&&!!(u.isObject||u.isLimit&&u.isSelectable&&u.isContent)}},{key:"isInline",value:function(i){var u=this.getDefinition(i);return!(!u||!u.isInline)}},{key:"isSelectable",value:function(i){var u=this.getDefinition(i);return!!u&&!(!u.isSelectable&&!u.isObject)}},{key:"isContent",value:function(i){var u=this.getDefinition(i);return!!u&&!(!u.isContent&&!u.isObject)}},{key:"checkChild",value:function(i,u){return!!u&&this._checkContextMatch(u,i)}},{key:"checkAttribute",value:function(i,u){var a=this.getDefinition(i.last);return!!a&&a.allowAttributes.includes(u)}},{key:"checkMerge",value:function(i,u){if(i instanceof ct){var a=i.nodeBefore,e=i.nodeAfter;if(!(a instanceof Ut))throw new V("schema-check-merge-no-element-before",this);if(!(e instanceof Ut))throw new V("schema-check-merge-no-element-after",this);return this.checkMerge(a,e)}var o,c=Jt(u.getChildren());try{for(c.s();!(o=c.n()).done;){var l=o.value;if(!this.checkChild(i,l))return!1}}catch(s){c.e(s)}finally{c.f()}return!0}},{key:"addChildCheck",value:function(i){this.on("checkChild",function(u,a){var e=hv(a,2),o=e[0],c=e[1];if(c){var l=i(o,c);typeof l=="boolean"&&(u.stop(),u.return=l)}},{priority:"high"})}},{key:"addAttributeCheck",value:function(i){this.on("checkAttribute",function(u,a){var e=hv(a,2),o=e[0],c=e[1],l=i(o,c);typeof l=="boolean"&&(u.stop(),u.return=l)},{priority:"high"})}},{key:"setAttributeProperties",value:function(i,u){this._attributeProperties[i]=Object.assign(this.getAttributeProperties(i),u)}},{key:"getAttributeProperties",value:function(i){return this._attributeProperties[i]||{}}},{key:"getLimitElement",value:function(i){var u;for(i instanceof ct?u=i.parent:u=(i instanceof ot?[i]:Array.from(i.getRanges())).reduce(function(a,e){var o=e.getCommonAncestor();return a?a.getCommonAncestor(o,{includeSelf:!0}):o},null);!this.isLimit(u)&&u.parent;)u=u.parent;return u}},{key:"checkAttributeInSelection",value:function(i,u){if(i.isCollapsed){var a=i.getFirstPosition(),e=[].concat(La(a.getAncestors()),[new qt("",i.getAttributes())]);return this.checkAttribute(e,u)}var o,c=Jt(i.getRanges());try{for(c.s();!(o=c.n()).done;){var l,s=Jt(o.value);try{for(s.s();!(l=s.n()).done;){var f=l.value;if(this.checkAttribute(f.item,u))return!0}}catch(d){s.e(d)}finally{s.f()}}}catch(d){c.e(d)}finally{c.f()}return!1}},{key:"getValidRanges",value:Pe().mark(function i(u,a){var e,o,c;return Pe().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:u=R8(u),e=Jt(u),l.prev=2,e.s();case 4:if((o=e.n()).done){l.next=9;break}return c=o.value,l.delegateYield(this._getValidRangesForRange(c,a),"t0",7);case 7:l.next=4;break;case 9:l.next=14;break;case 11:l.prev=11,l.t1=l.catch(2),e.e(l.t1);case 14:return l.prev=14,e.f(),l.finish(14);case 17:case"end":return l.stop()}},i,this,[[2,11,14,17]])})},{key:"getNearestSelectionRange",value:function(i){var u,a,e=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"both";if(i.root.rootName=="$graveyard")return null;if(this.checkChild(i,"$text"))return new ot(i);var c=i.getAncestors().reverse().find(function(b){return e.isLimit(b)})||i.root;o!="both"&&o!="backward"||(u=new mr({boundaries:ot._createIn(c),startPosition:i,direction:"backward"})),o!="both"&&o!="forward"||(a=new mr({boundaries:ot._createIn(c),startPosition:i}));var l,s=Jt(D8(u,a));try{for(s.s();!(l=s.n()).done;){var f=l.value,d=f.walker==u?"elementEnd":"elementStart",h=f.value;if(h.type==d&&this.isObject(h.item))return ot._createOn(h.item);if(this.checkChild(h.nextPosition,"$text"))return new ot(h.nextPosition)}}catch(b){s.e(b)}finally{s.f()}return null}},{key:"findAllowedParent",value:function(i,u){for(var a=i.parent;a;){if(this.checkChild(a,u))return a;if(this.isLimit(a))return null;a=a.parent}return null}},{key:"setAllowedAttributes",value:function(i,u,a){for(var e=a.model,o=0,c=Object.entries(u);o<c.length;o++){var l=hv(c[o],2),s=l[0],f=l[1];e.schema.checkAttribute(i,s)&&a.setAttribute(s,f,i)}}},{key:"removeDisallowedAttributes",value:function(i,u){var a,e=Jt(i);try{for(e.s();!(a=e.n()).done;){var o=a.value;if(o.is("$text"))I8(this,o,u);else{var c,l=Jt(ot._createIn(o).getPositions());try{for(l.s();!(c=l.n()).done;){var s=c.value;I8(this,s.nodeBefore||s.parent,u)}}catch(f){l.e(f)}finally{l.f()}}}}catch(f){e.e(f)}finally{e.f()}}},{key:"getAttributesWithProperty",value:function(i,u,a){var e,o={},c=Jt(i.getAttributes());try{for(c.s();!(e=c.n()).done;){var l=hv(e.value,2),s=l[0],f=l[1],d=this.getAttributeProperties(s);d[u]!==void 0&&(a!==void 0&&a!==d[u]||(o[s]=f))}}catch(h){c.e(h)}finally{c.f()}return o}},{key:"createContext",value:function(i){return new mv(i)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){for(var i={},u=this._sourceDefinitions,a=Object.keys(u),e=0,o=a;e<o.length;e++){var c=o[e];i[c]=Fct(u[c],c)}for(var l=0,s=a;l<s.length;l++)Vct(i,s[l]);for(var f=0,d=a;f<d.length;f++)Uct(i,d[f]);for(var h=0,b=a;h<b.length;h++)Hct(i,b[h]);for(var v=0,g=a;v<g.length;v++){var k=g[v];Gct(i,k),Wct(i,k)}for(var _=0,A=a;_<A.length;_++){var C=A[_];$ct(i,C),qct(i,C),Yct(i,C)}this._compiledDefinitions=i}},{key:"_checkContextMatch",value:function(i,u){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.length-1,e=u.getItem(a);if(i.allowIn.includes(e.name)){if(a==0)return!0;var o=this.getDefinition(e);return this._checkContextMatch(o,u,a-1)}return!1}},{key:"_getValidRangesForRange",value:Pe().mark(function i(u,a){var e,o,c,l,s;return Pe().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:e=u.start,o=u.start,c=Jt(u.getItems({shallow:!0})),f.prev=3,c.s();case 5:if((l=c.n()).done){f.next=17;break}if(!(s=l.value).is("element")){f.next=9;break}return f.delegateYield(this._getValidRangesForRange(ot._createIn(s),a),"t0",9);case 9:if(this.checkAttribute(s,a)){f.next=14;break}if(e.isEqual(o)){f.next=13;break}return f.next=13,new ot(e,o);case 13:e=ct._createAfter(s);case 14:o=ct._createAfter(s);case 15:f.next=5;break;case 17:f.next=22;break;case 19:f.prev=19,f.t1=f.catch(3),c.e(f.t1);case 22:return f.prev=22,c.f(),f.finish(22);case 25:if(e.isEqual(o)){f.next=28;break}return f.next=28,new ot(e,o);case 28:case"end":return f.stop()}},i,this,[[3,19,22,25]])})}]),n}(Rt()),mv=function(r){function t(n){if(E8(this,t),n instanceof t)return n;var i;i=typeof n=="string"?[n]:Array.isArray(n)?n:n.getAncestors({includeSelf:!0}),this._items=i.map(Zct)}return T8(t,[{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"push",value:function(n){var i=new t([n]);return i._items=[].concat(La(this._items),La(i._items)),i}},{key:"getItem",value:function(n){return this._items[n]}},{key:"getNames",value:Pe().mark(function n(){return Pe().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.delegateYield(this._items.map(function(u){return u.name}),"t0",1);case 1:case"end":return i.stop()}},n,this)})},{key:"endsWith",value:function(n){return Array.from(this.getNames()).join(" ").endsWith(n)}},{key:"startsWith",value:function(n){return Array.from(this.getNames()).join(" ").startsWith(n)}}]),t}();function Fct(r,t){var n={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(i,u){var a,e=Jt(i);try{for(e.s();!(a=e.n()).done;){var o,c=a.value,l=Object.keys(c).filter(function(d){return d.startsWith("is")}),s=Jt(l);try{for(s.s();!(o=s.n()).done;){var f=o.value;u[f]=!!c[f]}}catch(d){s.e(d)}finally{s.f()}}}catch(d){e.e(d)}finally{e.f()}}(r,n),ao(r,n,"allowIn"),ao(r,n,"allowContentOf"),ao(r,n,"allowWhere"),ao(r,n,"allowAttributes"),ao(r,n,"allowAttributesOf"),ao(r,n,"allowChildren"),ao(r,n,"inheritTypesFrom"),function(i,u){var a,e=Jt(i);try{for(e.s();!(a=e.n()).done;){var o=a.value.inheritAllFrom;o&&(u.allowContentOf.push(o),u.allowWhere.push(o),u.allowAttributesOf.push(o),u.inheritTypesFrom.push(o))}}catch(c){e.e(c)}finally{e.f()}}(r,n),n}function Vct(r,t){var n,i=r[t],u=Jt(i.allowChildren);try{for(u.s();!(n=u.n()).done;){var a=r[n.value];a&&a.allowIn.push(t)}}catch(e){u.e(e)}finally{u.f()}i.allowChildren.length=0}function Uct(r,t){var n,i=Jt(r[t].allowContentOf);try{for(i.s();!(n=i.n()).done;){var u=n.value;r[u]&&Kct(r,u).forEach(function(a){a.allowIn.push(t)})}}catch(a){i.e(a)}finally{i.f()}delete r[t].allowContentOf}function Hct(r,t){var n,i=Jt(r[t].allowWhere);try{for(i.s();!(n=i.n()).done;){var u=r[n.value];if(u){var a,e=u.allowIn;(a=r[t].allowIn).push.apply(a,La(e))}}}catch(o){i.e(o)}finally{i.f()}delete r[t].allowWhere}function Gct(r,t){var n,i=Jt(r[t].allowAttributesOf);try{for(i.s();!(n=i.n()).done;){var u=r[n.value];if(u){var a,e=u.allowAttributes;(a=r[t].allowAttributes).push.apply(a,La(e))}}}catch(o){i.e(o)}finally{i.f()}delete r[t].allowAttributesOf}function Wct(r,t){var n,i=r[t],u=Jt(i.inheritTypesFrom);try{for(u.s();!(n=u.n()).done;){var a=r[n.value];if(a){var e,o=Object.keys(a).filter(function(s){return s.startsWith("is")}),c=Jt(o);try{for(c.s();!(e=c.n()).done;){var l=e.value;l in i||(i[l]=a[l])}}catch(s){c.e(s)}finally{c.f()}}}}catch(s){u.e(s)}finally{u.f()}delete i.inheritTypesFrom}function $ct(r,t){var n=r[t],i=n.allowIn.filter(function(u){return r[u]});n.allowIn=Array.from(new Set(i))}function qct(r,t){var n,i=Jt(r[t].allowIn);try{for(i.s();!(n=i.n()).done;)r[n.value].allowChildren.push(t)}catch(u){i.e(u)}finally{i.f()}}function Yct(r,t){var n=r[t];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function ao(r,t,n){var i,u=Jt(r);try{for(u.s();!(i=u.n()).done;){var a=i.value[n];if(typeof a=="string")t[n].push(a);else if(Array.isArray(a)){var e;(e=t[n]).push.apply(e,La(a))}}}catch(o){u.e(o)}finally{u.f()}}function Kct(r,t){var n,i=r[t];return(n=r,Object.keys(n).map(function(u){return n[u]})).filter(function(u){return u.allowIn.includes(i.name)})}function Zct(r){return typeof r=="string"||r.is("documentFragment")?{name:typeof r=="string"?r:"$documentFragment",getAttributeKeys:Pe().mark(function t(){return Pe().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},t)}),getAttribute:function(){}}:{name:r.is("element")?r.name:"$text",getAttributeKeys:Pe().mark(function t(){return Pe().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(r.getAttributeKeys(),"t0",1);case 1:case"end":return n.stop()}},t)}),getAttribute:function(t){return r.getAttribute(t)}}}function D8(r,t){var n,i,u;return Pe().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=!1;case 1:if(n){a.next=17;break}if(n=!0,!r){a.next=9;break}if((i=r.next()).done){a.next=9;break}return n=!1,a.next=9,{walker:r,value:i.value};case 9:if(!t){a.next=15;break}if((u=t.next()).done){a.next=15;break}return n=!1,a.next=15,{walker:t,value:u.value};case 15:a.next=1;break;case 17:case"end":return a.stop()}},Mct)}function R8(r){var t,n,i;return Pe().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:t=Jt(r),u.prev=1,t.s();case 3:if((n=t.n()).done){u.next=8;break}return i=n.value,u.delegateYield(i.getMinimalFlatRanges(),"t0",6);case 6:u.next=3;break;case 8:u.next=13;break;case 10:u.prev=10,u.t1=u.catch(1),t.e(u.t1);case 13:return u.prev=13,t.f(),u.finish(13);case 16:case"end":return u.stop()}},Nct,null,[[1,10,13,16]])}function I8(r,t,n){var i,u=Jt(t.getAttributeKeys());try{for(u.s();!(i=u.n()).done;){var a=i.value;r.checkAttribute(t,a)||n.removeAttribute(a,t)}}catch(e){u.e(e)}finally{u.f()}}function za(r){return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(r)}function Fa(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return B8(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return B8(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function B8(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function M8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function N8(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(n),!0).forEach(function(i){Qct(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):M8(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Qct(r,t,n){return(t=z8(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function L8(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,z8(i.key),i)}}function z8(r){var t=function(n,i){if(za(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(za(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return za(t)==="symbol"?t:String(t)}function oj(r,t){return oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oj(r,t)}function Jct(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=vv(r);if(t){var u=vv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function vv(r){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vv(r)}var Xct=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&oj(e,o)})(a,r);var t,n,i,u=Jct(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this))._splitParts=new Map,o._cursorParents=new Map,o._modelCursor=null,o._emptyElementsToKeep=new Set,o.conversionApi=N8(N8({},e),{},{consumable:null,writer:null,store:null,convertItem:function(c,l){return o._convertItem(c,l)},convertChildren:function(c,l){return o._convertChildren(c,l)},safeInsert:function(c,l){return o._safeInsert(c,l)},updateConversionResult:function(c,l){return o._updateConversionResult(c,l)},splitToAllowedParent:function(c,l){return o._splitToAllowedParent(c,l)},getSplitParts:function(c){return o._getSplitParts(c)},keepEmptyElement:function(c){return o._keepEmptyElement(c)}}),o}return t=a,n=[{key:"convert",value:function(e,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:["$root"];this.fire("viewCleanup",e),this._modelCursor=function(b,v){var g,k,_=Fa(new mv(b));try{for(_.s();!(k=_.n()).done;){var A,C=k.value,S={},P=Fa(C.getAttributeKeys());try{for(P.s();!(A=P.n()).done;){var E=A.value;S[E]=C.getAttribute(E)}}catch(I){P.e(I)}finally{P.f()}var R=v.createElement(C.name,S);g&&v.insert(R,g),g=ct._createAt(R,0)}}catch(I){_.e(I)}finally{_.f()}return g}(c,o),this.conversionApi.writer=o,this.conversionApi.consumable=Ict.createFrom(e),this.conversionApi.store={};var l=this._convertItem(e,this._modelCursor).modelRange,s=o.createDocumentFragment();if(l){this._removeEmptyElements();for(var f=0,d=Array.from(this._modelCursor.parent.getChildren());f<d.length;f++){var h=d[f];o.append(h,s)}s.markers=function(b,v){var g,k=new Set,_=new Map,A=Fa(ot._createIn(b).getItems());try{for(A.s();!(g=A.n()).done;){var C=g.value;C.is("element","$marker")&&k.add(C)}}catch(z){A.e(z)}finally{A.f()}var S,P=Fa(k);try{for(P.s();!(S=P.n()).done;){var E=S.value,R=E.getAttribute("data-name"),I=v.createPositionBefore(E);_.has(R)?_.get(R).end=I.clone():_.set(R,new ot(I.clone())),v.remove(E)}}catch(z){P.e(z)}finally{P.f()}return _}(s,o)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}},{key:"_convertItem",value:function(e,o){var c={viewItem:e,modelCursor:o,modelRange:null};if(e.is("element")?this.fire("element:".concat(e.name),c,this.conversionApi):e.is("$text")?this.fire("text",c,this.conversionApi):this.fire("documentFragment",c,this.conversionApi),c.modelRange&&!(c.modelRange instanceof ot))throw new V("view-conversion-dispatcher-incorrect-result",this);return{modelRange:c.modelRange,modelCursor:c.modelCursor}}},{key:"_convertChildren",value:function(e,o){for(var c=o.is("position")?o:ct._createAt(o,0),l=new ot(c),s=0,f=Array.from(e.getChildren());s<f.length;s++){var d=f[s],h=this._convertItem(d,c);h.modelRange instanceof ot&&(l.end=h.modelRange.end,c=h.modelCursor)}return{modelRange:l,modelCursor:c}}},{key:"_safeInsert",value:function(e,o){var c=this._splitToAllowedParent(e,o);return!!c&&(this.conversionApi.writer.insert(e,c.position),!0)}},{key:"_updateConversionResult",value:function(e,o){var c=this._getSplitParts(e),l=this.conversionApi.writer;o.modelRange||(o.modelRange=l.createRange(l.createPositionBefore(e),l.createPositionAfter(c[c.length-1])));var s=this._cursorParents.get(e);o.modelCursor=s?l.createPositionAt(s,0):o.modelRange.end}},{key:"_splitToAllowedParent",value:function(e,o){var c=this.conversionApi,l=c.schema,s=c.writer,f=l.findAllowedParent(o,e);if(f){if(f===o.parent)return{position:o};this._modelCursor.parent.getAncestors().includes(f)&&(f=null)}if(!f)return u8(o,e,l)?{position:l8(o,s)}:null;var d,h=this.conversionApi.writer.split(o,f),b=[],v=Fa(h.range.getWalker());try{for(v.s();!(d=v.n()).done;){var g=d.value;if(g.type=="elementEnd")b.push(g.item);else{var k=b.pop(),_=g.item;this._registerSplitPair(k,_)}}}catch(C){v.e(C)}finally{v.f()}var A=h.range.end.parent;return this._cursorParents.set(e,A),{position:h.position,cursorParent:A}}},{key:"_registerSplitPair",value:function(e,o){this._splitParts.has(e)||this._splitParts.set(e,[e]);var c=this._splitParts.get(e);this._splitParts.set(o,c),c.push(o)}},{key:"_getSplitParts",value:function(e){return this._splitParts.has(e)?this._splitParts.get(e):[e]}},{key:"_keepEmptyElement",value:function(e){this._emptyElementsToKeep.add(e)}},{key:"_removeEmptyElements",value:function(){var e,o=!1,c=Fa(this._splitParts.keys());try{for(c.s();!(e=c.n()).done;){var l=e.value;l.isEmpty&&!this._emptyElementsToKeep.has(l)&&(this.conversionApi.writer.remove(l),this._splitParts.delete(l),o=!0)}}catch(s){c.e(s)}finally{c.f()}o&&this._removeEmptyElements()}}],n&&L8(t.prototype,n),i&&L8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Nt());function nh(r){return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(r)}function F8(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(nh(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(nh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),nh(a)==="symbol"?a:String(a)),i)}var u,a}var tut=function(){function r(){(function(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")})(this,r)}var t,n,i;return t=r,(n=[{key:"getHtml",value:function(u){var a=document.implementation.createHTMLDocument("").createElement("div");return a.appendChild(u),a.innerHTML}}])&&F8(t.prototype,n),i&&F8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function oh(r){return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(r)}function V8(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(oh(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(oh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),oh(a)==="symbol"?a:String(a)),i)}var u,a}var eut=function(){function r(u){(function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Fm(u,{renderingMode:"data"}),this.htmlWriter=new tut}var t,n,i;return t=r,(n=[{key:"toData",value:function(u){var a=this.domConverter.viewToDom(u);return this.htmlWriter.getHtml(a)}},{key:"toView",value:function(u){var a=this._toDom(u);return this.domConverter.domToView(a,{skipComments:this.skipComments})}},{key:"registerRawContentMatcher",value:function(u){this.domConverter.registerRawContentMatcher(u)}},{key:"useFillerType",value:function(u){this.domConverter.blockFillerMode=u=="marked"?"markedNbsp":"nbsp"}},{key:"_toDom",value:function(u){u.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(u="<body>".concat(u,"</body>"));for(var a=this.domParser.parseFromString(u,"text/html"),e=a.createDocumentFragment(),o=a.body.childNodes;o.length>0;)e.appendChild(o[0]);return e}}])&&V8(t.prototype,n),i&&V8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Va(r){return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(r)}function U8(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||G8(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function H8(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=G8(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function G8(r,t){if(r){if(typeof r=="string")return W8(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W8(r,t):void 0}}function W8(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function $8(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Va(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Va(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Va(a)==="symbol"?a:String(a)),i)}var u,a}function ij(r,t){return ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ij(r,t)}function rut(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=gv(r);if(t){var u=gv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Va(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ua(a)}(this,n)}}function Ua(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function gv(r){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gv(r)}var nut=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&ij(e,o)})(a,r);var t,n,i,u=rut(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this)).model=e,c.mapper=new g6,c.downcastDispatcher=new T6({mapper:c.mapper,schema:e.schema}),c.downcastDispatcher.on("insert:$text",function(l,s,f){if(f.consumable.consume(s.item,l.name)){var d=f.writer,h=f.mapper.toViewPosition(s.range.start),b=d.createText(s.item.data);d.insert(h,b)}},{priority:"lowest"}),c.downcastDispatcher.on("insert",function(l,s,f){f.convertAttributes(s.item),s.reconversion||!s.item.is("element")||s.item.isEmpty||f.convertChildren(s.item)},{priority:"lowest"}),c.upcastDispatcher=new Xct({schema:e.schema}),c.viewDocument=new Tm(o),c.stylesProcessor=o,c.htmlProcessor=new eut(c.viewDocument),c.processor=c.htmlProcessor,c._viewWriter=new nL(c.viewDocument),c.upcastDispatcher.on("text",function(l,s,f){var d=f.schema,h=f.consumable,b=f.writer,v=s.modelCursor;if(h.test(s.viewItem)){if(!d.checkChild(v,"$text")){if(!u8(v,"$text",d)||s.viewItem.data.trim().length==0)return;var g=v.nodeBefore;v=l8(v,b),g&&g.is("element","$marker")&&(b.move(b.createRangeOn(g),v),v=b.createPositionAfter(g))}h.consume(s.viewItem);var k=b.createText(s.viewItem.data);b.insert(k,v),s.modelRange=b.createRange(v,v.getShiftedBy(k.offsetSize)),s.modelCursor=s.modelRange.end}},{priority:"lowest"}),c.upcastDispatcher.on("element",function(l,s,f){if(!s.modelRange&&f.consumable.consume(s.viewItem,{name:!0})){var d=f.convertChildren(s.viewItem,s.modelCursor),h=d.modelRange,b=d.modelCursor;s.modelRange=h,s.modelCursor=b}},{priority:"lowest"}),c.upcastDispatcher.on("documentFragment",function(l,s,f){if(!s.modelRange&&f.consumable.consume(s.viewItem,{name:!0})){var d=f.convertChildren(s.viewItem,s.modelCursor),h=d.modelRange,b=d.modelCursor;s.modelRange=h,s.modelCursor=b}},{priority:"lowest"}),Rt().prototype.decorate.call(Ua(c),"init"),Rt().prototype.decorate.call(Ua(c),"set"),Rt().prototype.decorate.call(Ua(c),"get"),Rt().prototype.decorate.call(Ua(c),"toView"),Rt().prototype.decorate.call(Ua(c),"toModel"),c.on("init",function(){c.fire("ready")},{priority:"lowest"}),c.on("ready",function(){c.model.enqueueChange({isUndoable:!1},c8)},{priority:"lowest"}),c}return t=a,n=[{key:"get",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.rootName,c=o===void 0?"main":o,l=e.trim,s=l===void 0?"empty":l;if(!this._checkIfRootsExists([c]))throw new V("datacontroller-get-non-existent-root",this);var f=this.model.document.getRoot(c);return f.isAttached()||Ct("datacontroller-get-detached-root",this),s!=="empty"||this.model.hasContent(f,{ignoreWhitespaces:!0})?this.stringify(f,e):""}},{key:"stringify",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.toView(e,o);return this.processor.toData(c)}},{key:"toView",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.viewDocument,l=this._viewWriter;this.mapper.clearBindings();var s=ot._createIn(e),f=new Jn(c);this.mapper.bindElements(e,f);var d=e.is("documentFragment")?e.markers:function(h){var b=[],v=h.root.document;if(!v)return new Map;var g,k=ot._createIn(h),_=H8(v.model.markers);try{for(_.s();!(g=_.n()).done;){var A=g.value,C=A.getRange(),S=C.isCollapsed,P=C.start.isEqual(k.start)||C.end.isEqual(k.end);if(S&&P)b.push([A.name,C]);else{var E=k.getIntersection(C);E&&b.push([A.name,E])}}}catch(R){_.e(R)}finally{_.f()}return b.sort(function(R,I){var z=U8(R,2),F=z[0],tt=z[1],Z=U8(I,2),G=Z[0],et=Z[1];if(tt.end.compareWith(et.start)!=="after")return 1;if(tt.start.compareWith(et.end)!=="before")return-1;switch(tt.start.compareWith(et.start)){case"before":return 1;case"after":return-1;default:switch(tt.end.compareWith(et.end)){case"before":return 1;case"after":return-1;default:return G.localeCompare(F)}}}),new Map(b)}(e);return this.downcastDispatcher.convert(s,d,l,o),f}},{key:"init",value:function(e){var o=this;if(this.model.document.version)throw new V("datacontroller-init-document-not-empty",this);var c={};if(typeof e=="string"?c.main=e:c=e,!this._checkIfRootsExists(Object.keys(c)))throw new V("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},function(l){for(var s=0,f=Object.keys(c);s<f.length;s++){var d=f[s],h=o.model.document.getRoot(d);l.insert(o.parse(c[d],h),h,0)}}),Promise.resolve()}},{key:"set",value:function(e){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l={};if(typeof e=="string"?l.main=e:l=e,!this._checkIfRootsExists(Object.keys(l)))throw new V("datacontroller-set-non-existent-root",this);this.model.enqueueChange(c.batchType||{},function(s){s.setSelection(null),s.removeSelectionAttribute(o.model.document.selection.getAttributeKeys());for(var f=0,d=Object.keys(l);f<d.length;f++){var h=d[f],b=o.model.document.getRoot(h);s.remove(s.createRangeIn(b)),s.insert(o.parse(l[h],b),b,0)}})}},{key:"parse",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$root",c=this.processor.toView(e);return this.toModel(c,o)}},{key:"toModel",value:function(e){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$root";return this.model.change(function(l){return o.upcastDispatcher.convert(e,l,c)})}},{key:"addStyleProcessorRules",value:function(e){e(this.stylesProcessor)}},{key:"registerRawContentMatcher",value:function(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(e){var o,c=H8(e);try{for(c.s();!(o=c.n()).done;){var l=o.value;if(!this.model.document.getRoot(l))return!1}}catch(s){c.e(s)}finally{c.f()}return!0}}],n&&$8(t.prototype,n),i&&$8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Nt());function ih(){ih=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&co(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(co(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}var out=ih().mark(wv),iut=ih().mark(aj);function co(r){return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(r)}function ah(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return q8(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return q8(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function q8(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Y8(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(co(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(co(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),co(a)==="symbol"?a:String(a)),i)}var u,a}var aut=function(){function r(u,a){(function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")})(this,r),this._helpers=new Map,this._downcast=Kt(u),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Kt(a),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}var t,n,i;return t=r,(n=[{key:"addAlias",value:function(u,a){var e=this._downcast.includes(a);if(!this._upcast.includes(a)&&!e)throw new V("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:u,dispatchers:[a],isDowncast:e})}},{key:"for",value:function(u){if(!this._helpers.has(u))throw new V("conversion-for-unknown-group",this);return this._helpers.get(u)}},{key:"elementToElement",value:function(u){this.for("downcast").elementToElement(u);var a,e=ah(wv(u));try{for(e.s();!(a=e.n()).done;){var o=a.value,c=o.model,l=o.view;this.for("upcast").elementToElement({model:c,view:l,converterPriority:u.converterPriority})}}catch(s){e.e(s)}finally{e.f()}}},{key:"attributeToElement",value:function(u){this.for("downcast").attributeToElement(u);var a,e=ah(wv(u));try{for(e.s();!(a=e.n()).done;){var o=a.value,c=o.model,l=o.view;this.for("upcast").elementToAttribute({view:l,model:c,converterPriority:u.converterPriority})}}catch(s){e.e(s)}finally{e.f()}}},{key:"attributeToAttribute",value:function(u){this.for("downcast").attributeToAttribute(u);var a,e=ah(wv(u));try{for(e.s();!(a=e.n()).done;){var o=a.value,c=o.model,l=o.view;this.for("upcast").attributeToAttribute({view:l,model:c})}}catch(s){e.e(s)}finally{e.f()}}},{key:"_createConversionHelpers",value:function(u){var a=u.name,e=u.dispatchers,o=u.isDowncast;if(this._helpers.has(a))throw new V("conversion-group-exists",this);var c=o?new Act(e):new Pct(e);this._helpers.set(a,c)}}])&&Y8(t.prototype,n),i&&Y8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function wv(r){var t,n,i,u,a,e;return ih().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!r.model.values){o.next=22;break}t=ah(r.model.values),o.prev=2,t.s();case 4:if((n=t.n()).done){o.next=12;break}return i=n.value,u={key:r.model.key,value:i},a=r.view[i],e=r.upcastAlso?r.upcastAlso[i]:void 0,o.delegateYield(aj(u,a,e),"t0",10);case 10:o.next=4;break;case 12:o.next=17;break;case 14:o.prev=14,o.t1=o.catch(2),t.e(o.t1);case 17:return o.prev=17,t.f(),o.finish(17);case 20:o.next=23;break;case 22:return o.delegateYield(aj(r.model,r.view,r.upcastAlso),"t2",23);case 23:case"end":return o.stop()}},out,null,[[2,14,17,20]])}function aj(r,t,n){var i,u,a;return ih().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{model:r,view:t};case 2:if(!n){e.next=20;break}i=ah(Kt(n)),e.prev=4,i.s();case 6:if((u=i.n()).done){e.next=12;break}return a=u.value,e.next=10,{model:r,view:a};case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:case"end":return e.stop()}},iut,null,[[4,14,17,20]])}function ch(r){return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(r)}function K8(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ch(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ch(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ch(a)==="symbol"?a:String(a)),i)}var u,a}var Ue=function(){function r(u){(function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.baseVersion=u,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}var t,n,i;return t=r,i=[{key:"className",get:function(){return"Operation"}},{key:"fromJSON",value:function(u,a){return new this(u.baseVersion)}}],(n=[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var u=Object.assign({},this);return u.__className=this.constructor.className,delete u.batch,delete u.isDocumentOperation,u}}])&&K8(t.prototype,n),i&&K8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function cj(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return Z8(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Z8(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Z8(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function uj(r,t){var n=J8(t),i=n.reduce(function(e,o){return e+o.offsetSize},0),u=r.parent;sh(r);var a=r.index;return u._insertChild(a,n),lh(u,a+n.length),lh(u,a),new ot(r,r.getShiftedBy(i))}function Q8(r){if(!r.isFlat)throw new V("operation-utils-remove-range-not-flat",this);var t=r.start.parent;sh(r.start),sh(r.end);var n=t._removeChildren(r.start.index,r.end.index-r.start.index);return lh(t,r.start.index),n}function uh(r,t){if(!r.isFlat)throw new V("operation-utils-move-range-not-flat",this);var n=Q8(r);return uj(t=t._getTransformedByDeletion(r.start,r.end.offset-r.start.offset),n)}function J8(r){var t=[];(function a(e){if(typeof e=="string")t.push(new qt(e));else if(e instanceof ur)t.push(new qt(e.data,e.getAttributes()));else if(e instanceof ro)t.push(e);else if(Le(e)){var o,c=cj(e);try{for(c.s();!(o=c.n()).done;)a(o.value)}catch(l){c.e(l)}finally{c.f()}}})(r);for(var n=1;n<t.length;n++){var i=t[n],u=t[n-1];i instanceof qt&&u instanceof qt&&X8(i,u)&&(t.splice(n-1,2,new qt(u.data+i.data,u.getAttributes())),n--)}return t}function lh(r,t){var n=r.getChild(t-1),i=r.getChild(t);if(n&&i&&n.is("$text")&&i.is("$text")&&X8(n,i)){var u=new qt(n.data+i.data,n.getAttributes());r._removeChildren(t-1,2),r._insertChild(t-1,u)}}function sh(r){var t=r.textNode,n=r.parent;if(t){var i=r.offset-t.startOffset,u=t.index;n._removeChildren(u,1);var a=new qt(t.data.substr(0,i),t.getAttributes()),e=new qt(t.data.substr(i),t.getAttributes());n._insertChild(u,[a,e])}}function X8(r,t){var n,i=r.getAttributes(),u=t.getAttributes(),a=cj(i);try{for(a.s();!(n=a.n()).done;){var e=n.value;if(e[1]!==t.getAttribute(e[0]))return!1;u.next()}}catch(o){a.e(o)}finally{a.f()}return u.next().done}function Ha(r){return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ha(r)}function t7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ha(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ha(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ha(a)==="symbol"?a:String(a)),i)}var u,a}function lj(){return lj=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Ga(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},lj.apply(this,arguments)}function sj(r,t){return sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sj(r,t)}function cut(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ga(r);if(t){var u=Ga(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ha(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ga(r){return Ga=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ga(r)}var Bt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&sj(e,o)})(a,r);var t,n,i,u=cut(a);function a(e,o,c,l){var s;return function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}(this,a),(s=u.call(this,l)).sourcePosition=e.clone(),s.sourcePosition.stickiness="toNext",s.howMany=o,s.targetPosition=c.clone(),s.targetPosition.stickiness="toNone",s}return t=a,i=[{key:"className",get:function(){return"MoveOperation"}},{key:"fromJSON",value:function(e,o){var c=ct.fromJSON(e.sourcePosition,o),l=ct.fromJSON(e.targetPosition,o);return new this(c,e.howMany,l,e.baseVersion)}}],(n=[{key:"type",get:function(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}},{key:"affectedSelectable",get:function(){return[ot._createFromPositionAndShift(this.sourcePosition,this.howMany),ot._createFromPositionAndShift(this.targetPosition,0)]}},{key:"clone",value:function(){return new a(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new a(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,o=this.targetPosition.parent,c=this.sourcePosition.offset,l=this.targetPosition.offset;if(c+this.howMany>e.maxOffset)throw new V("move-operation-nodes-do-not-exist",this);if(e===o&&c<l&&l<c+this.howMany)throw new V("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&ke(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){var s=this.sourcePosition.path.length-1;if(this.targetPosition.path[s]>=c&&this.targetPosition.path[s]<c+this.howMany)throw new V("move-operation-node-into-itself",this)}}},{key:"_execute",value:function(){uh(ot._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var e=lj(Ga(a.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}}])&&t7(t.prototype,n),i&&t7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ue);function Wa(r){return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(r)}function e7(r){return function(t){if(Array.isArray(t))return fj(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||r7(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function r7(r,t){if(r){if(typeof r=="string")return fj(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fj(r,t):void 0}}function fj(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function n7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Wa(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Wa(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Wa(a)==="symbol"?a:String(a)),i)}var u,a}function dj(){return dj=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=$a(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},dj.apply(this,arguments)}function pj(r,t){return pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pj(r,t)}function uut(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=$a(r);if(t){var u=$a(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function $a(r){return $a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$a(r)}var Ee=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&pj(e,o)})(a,r);var t,n,i,u=uut(a);function a(e,o,c){var l;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,a),(l=u.call(this,c)).position=e.clone(),l.position.stickiness="toNone",l.nodes=new Gy(J8(o)),l.shouldReceiveAttributes=!1,l}return t=a,i=[{key:"className",get:function(){return"InsertOperation"}},{key:"fromJSON",value:function(e,o){var c,l=[],s=function(h,b){var v=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!v){if(Array.isArray(h)||(v=r7(h))||b&&h&&typeof h.length=="number"){v&&(h=v);var g=0,k=function(){};return{s:k,n:function(){return g>=h.length?{done:!0}:{done:!1,value:h[g++]}},e:function(S){throw S},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,A=!0,C=!1;return{s:function(){v=v.call(h)},n:function(){var S=v.next();return A=S.done,S},e:function(S){C=!0,_=S},f:function(){try{A||v.return==null||v.return()}finally{if(C)throw _}}}}(e.nodes);try{for(s.s();!(c=s.n()).done;){var f=c.value;f.name?l.push(Ut.fromJSON(f)):l.push(qt.fromJSON(f))}}catch(h){s.e(h)}finally{s.f()}var d=new a(ct.fromJSON(e.position,o),l,e.baseVersion);return d.shouldReceiveAttributes=e.shouldReceiveAttributes,d}}],(n=[{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}},{key:"affectedSelectable",get:function(){return this.position.clone()}},{key:"clone",value:function(){var e=new Gy(e7(this.nodes).map(function(c){return c._clone(!0)})),o=new a(this.position,e,this.baseVersion);return o.shouldReceiveAttributes=this.shouldReceiveAttributes,o}},{key:"getReversed",value:function(){var e=this.position.root.document.graveyard,o=new ct(e,[0]);return new Bt(this.position,this.nodes.maxOffset,o,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new V("insert-operation-position-invalid",this)}},{key:"_execute",value:function(){var e=this.nodes;this.nodes=new Gy(e7(e).map(function(o){return o._clone(!0)})),uj(this.position,e)}},{key:"toJSON",value:function(){var e=dj($a(a.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}}])&&n7(t.prototype,n),i&&n7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ue);function qa(r){return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(r)}function o7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(qa(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(qa(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),qa(a)==="symbol"?a:String(a)),i)}var u,a}function yj(){return yj=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Ya(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},yj.apply(this,arguments)}function hj(r,t){return hj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hj(r,t)}function lut(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ya(r);if(t){var u=Ya(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ya(r){return Ya=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ya(r)}var Ht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&hj(e,o)})(a,r);var t,n,i,u=lut(a);function a(e,o,c,l,s){var f;return function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),(f=u.call(this,s)).splitPosition=e.clone(),f.splitPosition.stickiness="toNext",f.howMany=o,f.insertionPosition=c,f.graveyardPosition=l?l.clone():null,f.graveyardPosition&&(f.graveyardPosition.stickiness="toNext"),f}return t=a,i=[{key:"className",get:function(){return"SplitOperation"}},{key:"getInsertionPosition",value:function(e){var o=e.path.slice(0,-1);return o[o.length-1]++,new ct(e.root,o,"toPrevious")}},{key:"fromJSON",value:function(e,o){var c=ct.fromJSON(e.splitPosition,o),l=ct.fromJSON(e.insertionPosition,o),s=e.graveyardPosition?ct.fromJSON(e.graveyardPosition,o):null;return new this(c,e.howMany,l,s,e.baseVersion)}}],(n=[{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var e=this.insertionPosition.path.slice();return e.push(0),new ct(this.insertionPosition.root,e)}},{key:"movedRange",get:function(){var e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ot(this.splitPosition,e)}},{key:"affectedSelectable",get:function(){var e=[ot._createFromPositionAndShift(this.splitPosition,0),ot._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(ot._createFromPositionAndShift(this.graveyardPosition,0)),e}},{key:"clone",value:function(){return new a(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var e=this.splitPosition.root.document.graveyard,o=new ct(e,[0]);return new ie(this.moveTargetPosition,this.howMany,this.splitPosition,o,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.splitPosition.parent,o=this.splitPosition.offset;if(!e||e.maxOffset<o)throw new V("split-operation-position-invalid",this);if(!e.parent)throw new V("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new V("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new V("split-operation-graveyard-position-invalid",this)}},{key:"_execute",value:function(){var e=this.splitPosition.parent;if(this.graveyardPosition)uh(ot._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var o=e._clone();uj(this.insertionPosition,o)}uh(new ot(ct._createAt(e,this.splitPosition.offset),ct._createAt(e,e.maxOffset)),this.moveTargetPosition)}},{key:"toJSON",value:function(){var e=yj(Ya(a.prototype),"toJSON",this).call(this);return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}}])&&o7(t.prototype,n),i&&o7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ue);function Ka(r){return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(r)}function i7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ka(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ka(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ka(a)==="symbol"?a:String(a)),i)}var u,a}function bj(){return bj=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Za(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},bj.apply(this,arguments)}function mj(r,t){return mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mj(r,t)}function sut(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Za(r);if(t){var u=Za(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Za(r){return Za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Za(r)}var ie=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&mj(e,o)})(a,r);var t,n,i,u=sut(a);function a(e,o,c,l,s){var f;return function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),(f=u.call(this,s)).sourcePosition=e.clone(),f.sourcePosition.stickiness="toPrevious",f.howMany=o,f.targetPosition=c.clone(),f.targetPosition.stickiness="toNext",f.graveyardPosition=l.clone(),f}return t=a,i=[{key:"className",get:function(){return"MergeOperation"}},{key:"fromJSON",value:function(e,o){var c=ct.fromJSON(e.sourcePosition,o),l=ct.fromJSON(e.targetPosition,o),s=ct.fromJSON(e.graveyardPosition,o);return new this(c,e.howMany,l,s,e.baseVersion)}}],(n=[{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new ct(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ot(this.sourcePosition,e)}},{key:"affectedSelectable",get:function(){var e=this.sourcePosition.parent;return[ot._createOn(e),ot._createFromPositionAndShift(this.targetPosition,0),ot._createFromPositionAndShift(this.graveyardPosition,0)]}},{key:"clone",value:function(){return new a(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var e=this.targetPosition._getTransformedByMergeOperation(this),o=this.sourcePosition.path.slice(0,-1),c=new ct(this.sourcePosition.root,o)._getTransformedByMergeOperation(this);return new Ht(e,this.howMany,c,this.graveyardPosition,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,o=this.targetPosition.parent;if(!e.parent)throw new V("merge-operation-source-position-invalid",this);if(!o.parent)throw new V("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new V("merge-operation-how-many-invalid",this)}},{key:"_execute",value:function(){var e=this.sourcePosition.parent;uh(ot._createIn(e),this.targetPosition),uh(ot._createOn(e),this.graveyardPosition)}},{key:"toJSON",value:function(){var e=bj(Za(a.prototype),"toJSON",this).call(this);return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}}])&&i7(t.prototype,n),i&&i7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ue);function Qa(r){return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(r)}function fut(r){return function(t){if(Array.isArray(t))return vj(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||function(t,n){if(t){if(typeof t=="string")return vj(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return vj(t,n)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vj(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function a7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Qa(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Qa(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Qa(a)==="symbol"?a:String(a)),i)}var u,a}function gj(){return gj=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Ja(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},gj.apply(this,arguments)}function wj(r,t){return wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wj(r,t)}function dut(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ja(r);if(t){var u=Ja(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ja(r){return Ja=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ja(r)}var wr=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&wj(e,o)})(a,r);var t,n,i,u=dut(a);function a(e,o,c,l,s,f){var d;return function(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),(d=u.call(this,f)).name=e,d.oldRange=o?o.clone():null,d.newRange=c?c.clone():null,d.affectsData=s,d._markers=l,d}return t=a,i=[{key:"className",get:function(){return"MarkerOperation"}},{key:"fromJSON",value:function(e,o){return new a(e.name,e.oldRange?ot.fromJSON(e.oldRange,o):null,e.newRange?ot.fromJSON(e.newRange,o):null,o.model.markers,e.affectsData,e.baseVersion)}}],(n=[{key:"type",get:function(){return"marker"}},{key:"affectedSelectable",get:function(){var e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push.apply(e,fut(this.newRange.getDifference(this.oldRange))):e.push(this.newRange.clone())),e}},{key:"clone",value:function(){return new a(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new a(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}},{key:"toJSON",value:function(){var e=gj(Ja(a.prototype),"toJSON",this).call(this);return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}}])&&a7(t.prototype,n),i&&a7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ue);const kv=function(r,t){return BL(r,t)};function Xa(r){return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(r)}function put(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return c7(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return c7(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function c7(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function u7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Xa(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Xa(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Xa(a)==="symbol"?a:String(a)),i)}var u,a}function kj(){return kj=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=tc(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},kj.apply(this,arguments)}function _j(r,t){return _j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_j(r,t)}function yut(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=tc(r);if(t){var u=tc(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function tc(r){return tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tc(r)}var pe=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&_j(e,o)})(a,r);var t,n,i,u=yut(a);function a(e,o,c,l,s){var f;return function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),(f=u.call(this,s)).range=e.clone(),f.key=o,f.oldValue=c===void 0?null:c,f.newValue=l===void 0?null:l,f}return t=a,i=[{key:"className",get:function(){return"AttributeOperation"}},{key:"fromJSON",value:function(e,o){return new a(ot.fromJSON(e.range,o),e.key,e.oldValue,e.newValue,e.baseVersion)}}],(n=[{key:"type",get:function(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}},{key:"affectedSelectable",get:function(){return this.range.clone()}},{key:"clone",value:function(){return new a(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new a(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var e=kj(tc(a.prototype),"toJSON",this).call(this);return e.range=this.range.toJSON(),e}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new V("attribute-operation-range-not-flat",this);var e,o=put(this.range.getItems({shallow:!0}));try{for(o.s();!(e=o.n()).done;){var c=e.value;if(this.oldValue!==null&&!kv(c.getAttribute(this.key),this.oldValue))throw new V("attribute-operation-wrong-old-value",this,{item:c,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&c.hasAttribute(this.key))throw new V("attribute-operation-attribute-exists",this,{node:c,key:this.key})}}catch(l){o.e(l)}finally{o.f()}}},{key:"_execute",value:function(){kv(this.oldValue,this.newValue)||function(e,o,c){sh(e.start),sh(e.end);var l,s=cj(e.getItems({shallow:!0}));try{for(s.s();!(l=s.n()).done;){var f=l.value,d=f.is("$textProxy")?f.textNode:f;c!==null?d._setAttribute(o,c):d._removeAttribute(o),lh(d.parent,d.index)}}catch(h){s.e(h)}finally{s.f()}lh(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}}])&&u7(t.prototype,n),i&&u7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ue);function ec(r){return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(r)}function l7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ec(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ec(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ec(a)==="symbol"?a:String(a)),i)}var u,a}function Aj(r,t){return Aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Aj(r,t)}function hut(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=_v(r);if(t){var u=_v(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function _v(r){return _v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_v(r)}var ye=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Aj(e,o)})(a,r);var t,n,i,u=hut(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"className",get:function(){return"NoOperation"}}],(n=[{key:"type",get:function(){return"noop"}},{key:"affectedSelectable",get:function(){return null}},{key:"clone",value:function(){return new a(this.baseVersion)}},{key:"getReversed",value:function(){return new a(this.baseVersion+1)}},{key:"_execute",value:function(){}}])&&l7(t.prototype,n),i&&l7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ue);function rc(r){return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(r)}function s7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(rc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(rc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),rc(a)==="symbol"?a:String(a)),i)}var u,a}function Cj(){return Cj=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=nc(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},Cj.apply(this,arguments)}function Oj(r,t){return Oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Oj(r,t)}function but(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=nc(r);if(t){var u=nc(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function nc(r){return nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nc(r)}var kr=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Oj(e,o)})(a,r);var t,n,i,u=but(a);function a(e,o,c,l){var s;return function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}(this,a),(s=u.call(this,l)).position=e,s.position.stickiness="toNext",s.oldName=o,s.newName=c,s}return t=a,i=[{key:"className",get:function(){return"RenameOperation"}},{key:"fromJSON",value:function(e,o){return new a(ct.fromJSON(e.position,o),e.oldName,e.newName,e.baseVersion)}}],(n=[{key:"type",get:function(){return"rename"}},{key:"affectedSelectable",get:function(){return this.position.nodeAfter}},{key:"clone",value:function(){return new a(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new a(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.nodeAfter;if(!(e instanceof Ut))throw new V("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new V("rename-operation-wrong-name",this)}},{key:"_execute",value:function(){this.position.nodeAfter.name=this.newName}},{key:"toJSON",value:function(){var e=Cj(nc(a.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e}}])&&s7(t.prototype,n),i&&s7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ue);function oc(r){return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(r)}function f7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(oc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(oc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),oc(a)==="symbol"?a:String(a)),i)}var u,a}function Sj(){return Sj=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=ic(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},Sj.apply(this,arguments)}function jj(r,t){return jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jj(r,t)}function mut(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ic(r);if(t){var u=ic(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function ic(r){return ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ic(r)}var fh=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&jj(e,o)})(a,r);var t,n,i,u=mut(a);function a(e,o,c,l,s){var f;return function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),(f=u.call(this,s)).root=e,f.key=o,f.oldValue=c===void 0?null:c,f.newValue=l===void 0?null:l,f}return t=a,i=[{key:"className",get:function(){return"RootAttributeOperation"}},{key:"fromJSON",value:function(e,o){if(!o.getRoot(e.root))throw new V("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new a(o.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}],(n=[{key:"type",get:function(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}},{key:"affectedSelectable",get:function(){return this.root}},{key:"clone",value:function(){return new a(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new a(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new V("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new V("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new V("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var e=Sj(ic(a.prototype),"toJSON",this).call(this);return e.root=this.root.toJSON(),e}}])&&f7(t.prototype,n),i&&f7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ue);function ac(r){return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(r)}function d7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ac(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ac(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ac(a)==="symbol"?a:String(a)),i)}var u,a}function Pj(){return Pj=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=cc(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},Pj.apply(this,arguments)}function Ej(r,t){return Ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ej(r,t)}function vut(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=cc(r);if(t){var u=cc(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function cc(r){return cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cc(r)}var uc=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Ej(e,o)})(a,r);var t,n,i,u=vut(a);function a(e,o,c,l,s){var f;return function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),(f=u.call(this,s)).rootName=e,f.elementName=o,f.isAdd=c,f._document=l,f._document.getRoot(f.rootName)||(f._document.createRoot(f.elementName,f.rootName)._isAttached=!1),f}return t=a,i=[{key:"className",get:function(){return"RootOperation"}},{key:"fromJSON",value:function(e,o){return new a(e.rootName,e.elementName,e.isAdd,o,e.baseVersion)}}],(n=[{key:"type",get:function(){return this.isAdd?"addRoot":"detachRoot"}},{key:"affectedSelectable",get:function(){return this._document.getRoot(this.rootName)}},{key:"clone",value:function(){return new a(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}},{key:"getReversed",value:function(){return new a(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}},{key:"_execute",value:function(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}},{key:"toJSON",value:function(){var e=Pj(cc(a.prototype),"toJSON",this).call(this);return delete e._document,e}}])&&d7(t.prototype,n),i&&d7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ue);function dh(r){return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(r)}function p7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(dh(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(dh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),dh(a)==="symbol"?a:String(a)),i)}var u,a}var Je={};Je[pe.className]=pe,Je[Ee.className]=Ee,Je[wr.className]=wr,Je[Bt.className]=Bt,Je[ye.className]=ye,Je[Ue.className]=Ue,Je[kr.className]=kr,Je[fh.className]=fh,Je[uc.className]=uc,Je[Ht.className]=Ht,Je[ie.className]=ie;var gut=function(){function r(){(function(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")})(this,r)}var t,n,i;return t=r,i=[{key:"fromJSON",value:function(u,a){return Je[u.__className].fromJSON(u,a)}}],(n=null)&&p7(t.prototype,n),i&&p7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function ph(r){return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ph(r)}function y7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ph(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ph(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ph(a)==="symbol"?a:String(a)),i)}var u,a}function Av(r){return function(t){if(Array.isArray(t))return xj(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||h7(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lc(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=h7(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function h7(r,t){if(r){if(typeof r=="string")return xj(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xj(r,t):void 0}}function xj(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}var Tj=new Map;function xt(r,t,n){var i=Tj.get(r);i||(i=new Map,Tj.set(r,i)),i.set(t,n)}function wut(r){return[r]}function b7(r,t){var n,i,u,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},e=(n=r.constructor,i=t.constructor,(u=Tj.get(n))&&u.has(i)?u.get(i):wut);try{return e(r=r.clone(),t,a)}catch(o){throw o}}function kut(r,t,n){r=r.slice(),t=t.slice();var i=new _ut(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(r),i.setOriginalOperations(t);var u=i.originalOperations;if(r.length==0||t.length==0)return{operationsA:r,operationsB:t,originalOperations:u};var a,e=new WeakMap,o=lc(r);try{for(o.s();!(a=o.n()).done;){var c=a.value;e.set(c,0)}}catch(E){o.e(E)}finally{o.f()}for(var l={nextBaseVersionA:r[r.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:r.length,originalOperationsBCount:t.length},s=0;s<r.length;){var f,d,h=r[s],b=e.get(h);if(b!=t.length){var v=t[b],g=b7(h,v,i.getContext(h,v,!0)),k=b7(v,h,i.getContext(v,h,!1));i.updateRelation(h,v),i.setOriginalOperations(g,h),i.setOriginalOperations(k,v);var _,A=lc(g);try{for(A.s();!(_=A.n()).done;){var C=_.value;e.set(C,b+k.length)}}catch(E){A.e(E)}finally{A.f()}(f=r).splice.apply(f,[s,1].concat(Av(g))),(d=t).splice.apply(d,[b,1].concat(Av(k)))}else s++}if(n.padWithNoOps){var S=r.length-l.originalOperationsACount,P=t.length-l.originalOperationsBCount;v7(r,P-S),v7(t,S-P)}return m7(r,l.nextBaseVersionB),m7(t,l.nextBaseVersionA),{operationsA:r,operationsB:t,originalOperations:u}}var _ut=function(){function r(u,a){var e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,r),this.originalOperations=new Map,this._history=u.history,this._useRelations=a,this._forceWeakRemove=!!e,this._relations=new Map}var t,n,i;return t=r,n=[{key:"setOriginalOperations",value:function(u){var a,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=e?this.originalOperations.get(e):null,c=lc(u);try{for(c.s();!(a=c.n()).done;){var l=a.value;this.originalOperations.set(l,o||l)}}catch(s){c.e(s)}finally{c.f()}}},{key:"updateRelation",value:function(u,a){if(u instanceof Bt)a instanceof ie?u.targetPosition.isEqual(a.sourcePosition)||a.movedRange.containsPosition(u.targetPosition)?this._setRelation(u,a,"insertAtSource"):u.targetPosition.isEqual(a.deletionPosition)?this._setRelation(u,a,"insertBetween"):u.targetPosition.isAfter(a.sourcePosition)&&this._setRelation(u,a,"moveTargetAfter"):a instanceof Bt&&(u.targetPosition.isEqual(a.sourcePosition)||u.targetPosition.isBefore(a.sourcePosition)?this._setRelation(u,a,"insertBefore"):this._setRelation(u,a,"insertAfter"));else if(u instanceof Ht){if(a instanceof ie)u.splitPosition.isBefore(a.sourcePosition)&&this._setRelation(u,a,"splitBefore");else if(a instanceof Bt)if(u.splitPosition.isEqual(a.sourcePosition)||u.splitPosition.isBefore(a.sourcePosition))this._setRelation(u,a,"splitBefore");else{var e=ot._createFromPositionAndShift(a.sourcePosition,a.howMany);if(u.splitPosition.hasSameParentAs(a.sourcePosition)&&e.containsPosition(u.splitPosition)){var o=e.end.offset-u.splitPosition.offset,c=u.splitPosition.offset-e.start.offset;this._setRelation(u,a,{howMany:o,offset:c})}}}else if(u instanceof ie)a instanceof ie?(u.targetPosition.isEqual(a.sourcePosition)||this._setRelation(u,a,"mergeTargetNotMoved"),u.sourcePosition.isEqual(a.targetPosition)&&this._setRelation(u,a,"mergeSourceNotMoved"),u.sourcePosition.isEqual(a.sourcePosition)&&this._setRelation(u,a,"mergeSameElement")):a instanceof Ht&&u.sourcePosition.isEqual(a.splitPosition)&&this._setRelation(u,a,"splitAtSource");else if(u instanceof wr){var l=u.newRange;if(!l)return;if(a instanceof Bt){var s=ot._createFromPositionAndShift(a.sourcePosition,a.howMany),f=s.containsPosition(l.start)||s.start.isEqual(l.start),d=s.containsPosition(l.end)||s.end.isEqual(l.end);!f&&!d||s.containsRange(l)||this._setRelation(u,a,{side:f?"left":"right",path:f?l.start.path.slice():l.end.path.slice()})}else if(a instanceof ie){var h=l.start.isEqual(a.targetPosition),b=l.start.isEqual(a.deletionPosition),v=l.end.isEqual(a.deletionPosition),g=l.end.isEqual(a.sourcePosition);(h||b||v||g)&&this._setRelation(u,a,{wasInLeftElement:h,wasStartBeforeMergedElement:b,wasEndBeforeMergedElement:v,wasInRightElement:g})}}}},{key:"getContext",value:function(u,a,e){return{aIsStrong:e,aWasUndone:this._wasUndone(u),bWasUndone:this._wasUndone(a),abRelation:this._useRelations?this._getRelation(u,a):null,baRelation:this._useRelations?this._getRelation(a,u):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(u){var a=this.originalOperations.get(u);return a.wasUndone||this._history.isUndoneOperation(a)}},{key:"_getRelation",value:function(u,a){var e=this.originalOperations.get(a),o=this._history.getUndoneOperation(e);if(!o)return null;var c=this.originalOperations.get(u),l=this._relations.get(c);return l&&l.get(o)||null}},{key:"_setRelation",value:function(u,a,e){var o=this.originalOperations.get(u),c=this.originalOperations.get(a),l=this._relations.get(o);l||(l=new Map,this._relations.set(o,l)),l.set(c,e)}}],n&&y7(t.prototype,n),i&&y7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function m7(r,t){var n,i=lc(r);try{for(i.s();!(n=i.n()).done;)n.value.baseVersion=t++}catch(u){i.e(u)}finally{i.f()}}function v7(r,t){for(var n=0;n<t;n++)r.push(new ye(0))}function g7(r,t,n){var i=r.nodes.getNode(0).getAttribute(t);if(i==n)return null;var u=new ot(r.position,r.position.getShiftedBy(r.howMany));return new pe(u,t,i,n,0)}function w7(r,t){return r.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function sc(r,t){for(var n=[],i=0;i<r.length;i++){var u=r[i],a=new Bt(u.start,u.end.offset-u.start.offset,t,0);n.push(a);for(var e=i+1;e<r.length;e++)r[e]=r[e]._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)[0];t=t._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)}return n}function fc(r){return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(r)}function k7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(fc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(fc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),fc(a)==="symbol"?a:String(a)),i)}var u,a}function Dj(r,t){return Dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dj(r,t)}function Aut(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Cv(r);if(t){var u=Cv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _7(a)}(this,n)}}function _7(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Cv(r){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cv(r)}xt(pe,pe,function(r,t,n){if(r.key===t.key&&r.range.start.hasSameParentAs(t.range.start)){var i=r.range.getDifference(t.range).map(function(a){return new pe(a,r.key,r.oldValue,r.newValue,0)}),u=r.range.getIntersection(t.range);return u&&n.aIsStrong&&i.push(new pe(u,t.key,t.newValue,r.newValue,0)),i.length==0?[new ye(0)]:i}return[r]}),xt(pe,Ee,function(r,t){if(r.range.start.hasSameParentAs(t.position)&&r.range.containsPosition(t.position)){var n=r.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(function(u){return new pe(u,r.key,r.oldValue,r.newValue,r.baseVersion)});if(t.shouldReceiveAttributes){var i=g7(t,r.key,r.oldValue);i&&n.unshift(i)}return n}return r.range=r.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[r]}),xt(pe,ie,function(r,t){var n=[];r.range.start.hasSameParentAs(t.deletionPosition)&&(r.range.containsPosition(t.deletionPosition)||r.range.start.isEqual(t.deletionPosition))&&n.push(ot._createFromPositionAndShift(t.graveyardPosition,1));var i=r.range._getTransformedByMergeOperation(t);return i.isCollapsed||n.push(i),n.map(function(u){return new pe(u,r.key,r.oldValue,r.newValue,r.baseVersion)})}),xt(pe,Bt,function(r,t){var n=function(i,u){var a=ot._createFromPositionAndShift(u.sourcePosition,u.howMany),e=null,o=[];a.containsRange(i,!0)?e=i:i.start.hasSameParentAs(a.start)?(o=i.getDifference(a),e=i.getIntersection(a)):o=[i];var c,l=[],s=lc(o);try{for(s.s();!(c=s.n()).done;){var f=c.value;f=f._getTransformedByDeletion(u.sourcePosition,u.howMany);var d=u.getMovedRangeStart(),h=f.start.hasSameParentAs(d),b=f._getTransformedByInsertion(d,u.howMany,h);l.push.apply(l,Av(b))}}catch(v){s.e(v)}finally{s.f()}return e&&l.push(e._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany,!1)[0]),l}(r.range,t);return n.map(function(i){return new pe(i,r.key,r.oldValue,r.newValue,r.baseVersion)})}),xt(pe,Ht,function(r,t){if(r.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||r.range.end.offset++,[r];if(r.range.start.hasSameParentAs(t.splitPosition)&&r.range.containsPosition(t.splitPosition)){var n=r.clone();return n.range=new ot(t.moveTargetPosition.clone(),r.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),r.range.end=t.splitPosition.clone(),r.range.end.stickiness="toPrevious",[r,n]}return r.range=r.range._getTransformedBySplitOperation(t),[r]}),xt(Ee,pe,function(r,t){var n=[r];if(r.shouldReceiveAttributes&&r.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(r.position)){var i=g7(r,t.key,t.newValue);i&&n.push(i)}return n}),xt(Ee,Ee,function(r,t,n){return r.position.isEqual(t.position)&&n.aIsStrong||(r.position=r.position._getTransformedByInsertOperation(t)),[r]}),xt(Ee,Bt,function(r,t){return r.position=r.position._getTransformedByMoveOperation(t),[r]}),xt(Ee,Ht,function(r,t){return r.position=r.position._getTransformedBySplitOperation(t),[r]}),xt(Ee,ie,function(r,t){return r.position=r.position._getTransformedByMergeOperation(t),[r]}),xt(wr,Ee,function(r,t){return r.oldRange&&(r.oldRange=r.oldRange._getTransformedByInsertOperation(t)[0]),r.newRange&&(r.newRange=r.newRange._getTransformedByInsertOperation(t)[0]),[r]}),xt(wr,wr,function(r,t,n){if(r.name==t.name){if(!n.aIsStrong)return[new ye(0)];r.oldRange=t.newRange?t.newRange.clone():null}return[r]}),xt(wr,ie,function(r,t){return r.oldRange&&(r.oldRange=r.oldRange._getTransformedByMergeOperation(t)),r.newRange&&(r.newRange=r.newRange._getTransformedByMergeOperation(t)),[r]}),xt(wr,Bt,function(r,t,n){if(r.oldRange&&(r.oldRange=ot._createFromRanges(r.oldRange._getTransformedByMoveOperation(t))),r.newRange){if(n.abRelation){var i=ot._createFromRanges(r.newRange._getTransformedByMoveOperation(t));if(n.abRelation.side=="left"&&t.targetPosition.isEqual(r.newRange.start))return r.newRange.end=i.end,r.newRange.start.path=n.abRelation.path,[r];if(n.abRelation.side=="right"&&t.targetPosition.isEqual(r.newRange.end))return r.newRange.start=i.start,r.newRange.end.path=n.abRelation.path,[r]}r.newRange=ot._createFromRanges(r.newRange._getTransformedByMoveOperation(t))}return[r]}),xt(wr,Ht,function(r,t,n){if(r.oldRange&&(r.oldRange=r.oldRange._getTransformedBySplitOperation(t)),r.newRange){if(n.abRelation){var i=r.newRange._getTransformedBySplitOperation(t);return r.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?r.newRange.start=ct._createAt(t.insertionPosition):r.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement&&(r.newRange.start=ct._createAt(t.moveTargetPosition)),r.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?r.newRange.end=ct._createAt(t.moveTargetPosition):r.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?r.newRange.end=ct._createAt(t.insertionPosition):r.newRange.end=i.end,[r]}r.newRange=r.newRange._getTransformedBySplitOperation(t)}return[r]}),xt(ie,Ee,function(r,t){return r.sourcePosition.hasSameParentAs(t.position)&&(r.howMany+=t.howMany),r.sourcePosition=r.sourcePosition._getTransformedByInsertOperation(t),r.targetPosition=r.targetPosition._getTransformedByInsertOperation(t),[r]}),xt(ie,ie,function(r,t,n){if(r.sourcePosition.isEqual(t.sourcePosition)&&r.targetPosition.isEqual(t.targetPosition)){if(n.bWasUndone){var i=t.graveyardPosition.path.slice();return i.push(0),r.sourcePosition=new ct(t.graveyardPosition.root,i),r.howMany=0,[r]}return[new ye(0)]}if(r.sourcePosition.isEqual(t.sourcePosition)&&!r.targetPosition.isEqual(t.targetPosition)&&!n.bWasUndone&&n.abRelation!="splitAtSource"){var u=r.targetPosition.root.rootName=="$graveyard",a=t.targetPosition.root.rootName=="$graveyard";if(a&&!u||!(u&&!a)&&n.aIsStrong){var e=t.targetPosition._getTransformedByMergeOperation(t),o=r.targetPosition._getTransformedByMergeOperation(t);return[new Bt(e,r.howMany,o,0)]}return[new ye(0)]}return r.sourcePosition.hasSameParentAs(t.targetPosition)&&(r.howMany+=t.howMany),r.sourcePosition=r.sourcePosition._getTransformedByMergeOperation(t),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(t),r.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(t)),[r]}),xt(ie,Bt,function(r,t,n){var i=ot._createFromPositionAndShift(t.sourcePosition,t.howMany);return t.type=="remove"&&!n.bWasUndone&&!n.forceWeakRemove&&r.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(r.sourcePosition)?[new ye(0)]:(r.sourcePosition.hasSameParentAs(t.targetPosition)&&(r.howMany+=t.howMany),r.sourcePosition.hasSameParentAs(t.sourcePosition)&&(r.howMany-=t.howMany),r.sourcePosition=r.sourcePosition._getTransformedByMoveOperation(t),r.targetPosition=r.targetPosition._getTransformedByMoveOperation(t),r.graveyardPosition.isEqual(t.targetPosition)||(r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(t)),[r])}),xt(ie,Ht,function(r,t,n){if(t.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),r.deletionPosition.isEqual(t.graveyardPosition)&&(r.howMany=t.howMany)),r.targetPosition.isEqual(t.splitPosition)){var i=t.howMany!=0,u=t.graveyardPosition&&r.deletionPosition.isEqual(t.graveyardPosition);if(i||u||n.abRelation=="mergeTargetNotMoved")return r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(t),[r]}if(r.sourcePosition.isEqual(t.splitPosition)){if(n.abRelation=="mergeSourceNotMoved")return r.howMany=0,r.targetPosition=r.targetPosition._getTransformedBySplitOperation(t),[r];if(n.abRelation=="mergeSameElement"||r.sourcePosition.offset>0)return r.sourcePosition=t.moveTargetPosition.clone(),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(t),[r]}return r.sourcePosition.hasSameParentAs(t.splitPosition)&&(r.howMany=t.splitPosition.offset),r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(t),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(t),[r]}),xt(Bt,Ee,function(r,t){var n=ot._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByInsertOperation(t,!1)[0];return r.sourcePosition=n.start,r.howMany=n.end.offset-n.start.offset,r.targetPosition.isEqual(t.position)||(r.targetPosition=r.targetPosition._getTransformedByInsertOperation(t)),[r]}),xt(Bt,Bt,function(r,t,n){var i,u=ot._createFromPositionAndShift(r.sourcePosition,r.howMany),a=ot._createFromPositionAndShift(t.sourcePosition,t.howMany),e=n.aIsStrong,o=!n.aIsStrong;if(n.abRelation=="insertBefore"||n.baRelation=="insertAfter"?o=!0:n.abRelation!="insertAfter"&&n.baRelation!="insertBefore"||(o=!1),i=r.targetPosition.isEqual(t.targetPosition)&&o?r.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):r.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),w7(r,t)&&w7(t,r))return[t.getReversed()];if(u.containsPosition(t.targetPosition)&&u.containsRange(a,!0))return u.start=u.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),u.end=u.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),sc([u],i);if(a.containsPosition(r.targetPosition)&&a.containsRange(u,!0))return u.start=u.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),u.end=u.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),sc([u],i);var c=ke(r.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(c=="prefix"||c=="extension")return u.start=u.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),u.end=u.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),sc([u],i);r.type!="remove"||t.type=="remove"||n.aWasUndone||n.forceWeakRemove?r.type=="remove"||t.type!="remove"||n.bWasUndone||n.forceWeakRemove||(e=!1):e=!0;var l,s=[],f=lc(u.getDifference(a));try{for(f.s();!(l=f.n()).done;){var d=l.value;d.start=d.start._getTransformedByDeletion(t.sourcePosition,t.howMany),d.end=d.end._getTransformedByDeletion(t.sourcePosition,t.howMany);var h=ke(d.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same",b=d._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,h);s.push.apply(s,Av(b))}}catch(g){f.e(g)}finally{f.f()}var v=u.getIntersection(a);return v!==null&&e&&(v.start=v.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),v.end=v.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),s.length===0?s.push(v):s.length==1?a.start.isBefore(u.start)||a.start.isEqual(u.start)?s.unshift(v):s.push(v):s.splice(1,0,v)),s.length===0?[new ye(r.baseVersion)]:sc(s,i)}),xt(Bt,Ht,function(r,t,n){var i=r.targetPosition.clone();r.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&n.abRelation!="moveTargetAfter"||(i=r.targetPosition._getTransformedBySplitOperation(t));var u=ot._createFromPositionAndShift(r.sourcePosition,r.howMany);if(u.end.isEqual(t.insertionPosition))return t.graveyardPosition||r.howMany++,r.targetPosition=i,[r];if(u.start.hasSameParentAs(t.splitPosition)&&u.containsPosition(t.splitPosition)){var a=new ot(t.splitPosition,u.end);return a=a._getTransformedBySplitOperation(t),sc([new ot(u.start,t.splitPosition),a],i)}r.targetPosition.isEqual(t.splitPosition)&&n.abRelation=="insertAtSource"&&(i=t.moveTargetPosition),r.targetPosition.isEqual(t.insertionPosition)&&n.abRelation=="insertBetween"&&(i=r.targetPosition);var e=[u._getTransformedBySplitOperation(t)];if(t.graveyardPosition){var o=u.start.isEqual(t.graveyardPosition)||u.containsPosition(t.graveyardPosition);r.howMany>1&&o&&!n.aWasUndone&&e.push(ot._createFromPositionAndShift(t.insertionPosition,1))}return sc(e,i)}),xt(Bt,ie,function(r,t,n){var i=ot._createFromPositionAndShift(r.sourcePosition,r.howMany);if(t.deletionPosition.hasSameParentAs(r.sourcePosition)&&i.containsPosition(t.sourcePosition)){if(r.type!="remove"||n.forceWeakRemove){if(r.howMany==1)return n.bWasUndone?(r.sourcePosition=t.graveyardPosition.clone(),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(t),[r]):[new ye(0)]}else if(!n.aWasUndone){var u=[],a=t.graveyardPosition.clone(),e=t.targetPosition._getTransformedByMergeOperation(t);r.howMany>1&&(u.push(new Bt(r.sourcePosition,r.howMany-1,r.targetPosition,0)),a=a._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1),e=e._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1));var o=t.deletionPosition._getCombined(r.sourcePosition,r.targetPosition),c=new Bt(a,1,o,0),l=c.getMovedRangeStart().path.slice();l.push(0);var s=new ct(c.targetPosition.root,l);e=e._getTransformedByMove(a,o,1);var f=new Bt(e,t.howMany,s,0);return u.push(c),u.push(f),u}}var d=ot._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByMergeOperation(t);return r.sourcePosition=d.start,r.howMany=d.end.offset-d.start.offset,r.targetPosition=r.targetPosition._getTransformedByMergeOperation(t),[r]}),xt(kr,Ee,function(r,t){return r.position=r.position._getTransformedByInsertOperation(t),[r]}),xt(kr,ie,function(r,t){return r.position.isEqual(t.deletionPosition)?(r.position=t.graveyardPosition.clone(),r.position.stickiness="toNext",[r]):(r.position=r.position._getTransformedByMergeOperation(t),[r])}),xt(kr,Bt,function(r,t){return r.position=r.position._getTransformedByMoveOperation(t),[r]}),xt(kr,kr,function(r,t,n){if(r.position.isEqual(t.position)){if(!n.aIsStrong)return[new ye(0)];r.oldName=t.newName}return[r]}),xt(kr,Ht,function(r,t){if(ke(r.position.path,t.splitPosition.getParentPath())=="same"&&!t.graveyardPosition){var n=new kr(r.position.getShiftedBy(1),r.oldName,r.newName,0);return[r,n]}return r.position=r.position._getTransformedBySplitOperation(t),[r]}),xt(fh,fh,function(r,t,n){if(r.root===t.root&&r.key===t.key){if(!n.aIsStrong||r.newValue===t.newValue)return[new ye(0)];r.oldValue=t.newValue}return[r]}),xt(uc,uc,function(r,t){return r.rootName===t.rootName&&r.isAdd===t.isAdd?[new ye(0)]:[r]}),xt(Ht,Ee,function(r,t){return r.splitPosition.hasSameParentAs(t.position)&&r.splitPosition.offset<t.position.offset&&(r.howMany+=t.howMany),r.splitPosition=r.splitPosition._getTransformedByInsertOperation(t),r.insertionPosition=r.insertionPosition._getTransformedByInsertOperation(t),[r]}),xt(Ht,ie,function(r,t,n){if(!r.graveyardPosition&&!n.bWasUndone&&r.splitPosition.hasSameParentAs(t.sourcePosition)){var i=t.graveyardPosition.path.slice();i.push(0);var u=new ct(t.graveyardPosition.root,i),a=Ht.getInsertionPosition(new ct(t.graveyardPosition.root,i)),e=new Ht(u,0,a,null,0);return r.splitPosition=r.splitPosition._getTransformedByMergeOperation(t),r.insertionPosition=Ht.getInsertionPosition(r.splitPosition),r.graveyardPosition=e.insertionPosition.clone(),r.graveyardPosition.stickiness="toNext",[e,r]}return r.splitPosition.hasSameParentAs(t.deletionPosition)&&!r.splitPosition.isAfter(t.deletionPosition)&&r.howMany--,r.splitPosition.hasSameParentAs(t.targetPosition)&&(r.howMany+=t.howMany),r.splitPosition=r.splitPosition._getTransformedByMergeOperation(t),r.insertionPosition=Ht.getInsertionPosition(r.splitPosition),r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(t)),[r]}),xt(Ht,Bt,function(r,t,n){var i=ot._createFromPositionAndShift(t.sourcePosition,t.howMany);if(r.graveyardPosition){var u=i.start.isEqual(r.graveyardPosition)||i.containsPosition(r.graveyardPosition);if(!n.bWasUndone&&u){var a=r.splitPosition._getTransformedByMoveOperation(t),e=r.graveyardPosition._getTransformedByMoveOperation(t),o=e.path.slice();o.push(0);var c=new ct(e.root,o);return[new Bt(a,r.howMany,c,0)]}r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(t)}var l=r.splitPosition.isEqual(t.targetPosition);if(l&&(n.baRelation=="insertAtSource"||n.abRelation=="splitBefore"))return r.howMany+=t.howMany,r.splitPosition=r.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),r.insertionPosition=Ht.getInsertionPosition(r.splitPosition),[r];if(l&&n.abRelation&&n.abRelation.howMany){var s=n.abRelation,f=s.howMany,d=s.offset;return r.howMany+=f,r.splitPosition=r.splitPosition.getShiftedBy(d),[r]}if(r.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(r.splitPosition)){var h=t.howMany-(r.splitPosition.offset-t.sourcePosition.offset);return r.howMany-=h,r.splitPosition.hasSameParentAs(t.targetPosition)&&r.splitPosition.offset<t.targetPosition.offset&&(r.howMany+=t.howMany),r.splitPosition=t.sourcePosition.clone(),r.insertionPosition=Ht.getInsertionPosition(r.splitPosition),[r]}return t.sourcePosition.isEqual(t.targetPosition)||(r.splitPosition.hasSameParentAs(t.sourcePosition)&&r.splitPosition.offset<=t.sourcePosition.offset&&(r.howMany-=t.howMany),r.splitPosition.hasSameParentAs(t.targetPosition)&&r.splitPosition.offset<t.targetPosition.offset&&(r.howMany+=t.howMany)),r.splitPosition.stickiness="toNone",r.splitPosition=r.splitPosition._getTransformedByMoveOperation(t),r.splitPosition.stickiness="toNext",r.graveyardPosition?r.insertionPosition=r.insertionPosition._getTransformedByMoveOperation(t):r.insertionPosition=Ht.getInsertionPosition(r.splitPosition),[r]}),xt(Ht,Ht,function(r,t,n){if(r.splitPosition.isEqual(t.splitPosition)){if(!r.graveyardPosition&&!t.graveyardPosition)return[new ye(0)];if(r.graveyardPosition&&t.graveyardPosition&&r.graveyardPosition.isEqual(t.graveyardPosition))return[new ye(0)];if(n.abRelation=="splitBefore")return r.howMany=0,r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(t),[r]}if(r.graveyardPosition&&t.graveyardPosition&&r.graveyardPosition.isEqual(t.graveyardPosition)){var i=r.splitPosition.root.rootName=="$graveyard",u=t.splitPosition.root.rootName=="$graveyard";if(u&&!i||!(i&&!u)&&n.aIsStrong){var a=[];return t.howMany&&a.push(new Bt(t.moveTargetPosition,t.howMany,t.splitPosition,0)),r.howMany&&a.push(new Bt(r.splitPosition,r.howMany,r.moveTargetPosition,0)),a}return[new ye(0)]}if(r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(t)),r.splitPosition.isEqual(t.insertionPosition)&&n.abRelation=="splitBefore")return r.howMany++,[r];if(t.splitPosition.isEqual(r.insertionPosition)&&n.baRelation=="splitBefore"){var e=t.insertionPosition.path.slice();e.push(0);var o=new ct(t.insertionPosition.root,e);return[r,new Bt(r.insertionPosition,1,o,0)]}return r.splitPosition.hasSameParentAs(t.splitPosition)&&r.splitPosition.offset<t.splitPosition.offset&&(r.howMany-=t.howMany),r.splitPosition=r.splitPosition._getTransformedBySplitOperation(t),r.insertionPosition=Ht.getInsertionPosition(r.splitPosition),[r]});var he=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Dj(e,o)})(a,r);var t,n,i,u=Aut(a);function a(e,o){var c,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"toNone";if(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,a),!(c=u.call(this,e,o,l)).root.is("rootElement"))throw new V("model-liveposition-root-not-rootelement",e);return Cut.call(_7(c)),c}return t=a,i=[{key:"fromPosition",value:function(e,o){return new this(e.root,e.path.slice(),o||e.stickiness)}}],(n=[{key:"detach",value:function(){this.stopListening()}},{key:"toPosition",value:function(){return new ct(this.root,this.path.slice(),this.stickiness)}}])&&k7(t.prototype,n),i&&k7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Nt(ct));function Cut(){var r=this;this.listenTo(this.root.document.model,"applyOperation",function(t,n){var i=n[0];i.isDocumentOperation&&Out.call(r,i)},{priority:"low"})}function Out(r){var t=this.getTransformedByOperation(r);if(!this.isEqual(t)){var n=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",n)}}function yh(r){return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(r)}function Sut(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return A7(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return A7(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function A7(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function C7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(yh(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(yh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),yh(a)==="symbol"?a:String(a)),i)}var u,a}he.prototype.is=function(r){return r==="livePosition"||r==="model:livePosition"||r=="position"||r==="model:position"};var dc=function(){function r(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")})(this,r),typeof u=="string"&&(u=u==="transparent"?{isUndoable:!1}:{},Ct("batch-constructor-deprecated-string-type"));var a=u,e=a.isUndoable,o=e===void 0||e,c=a.isLocal,l=c===void 0||c,s=a.isUndo,f=s!==void 0&&s,d=a.isTyping,h=d!==void 0&&d;this.operations=[],this.isUndoable=o,this.isLocal=l,this.isUndo=f,this.isTyping=h}var t,n,i;return t=r,(n=[{key:"type",get:function(){return Ct("batch-type-deprecated"),"default"}},{key:"baseVersion",get:function(){var u,a=Sut(this.operations);try{for(a.s();!(u=a.n()).done;){var e=u.value;if(e.baseVersion!==null)return e.baseVersion}}catch(o){a.e(o)}finally{a.f()}return null}},{key:"addOperation",value:function(u){return u.batch=this,this.operations.push(u),u}}])&&C7(t.prototype,n),i&&C7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function hh(r){return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hh(r)}function O7(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function Rj(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O7(Object(n),!0).forEach(function(i){jut(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):O7(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function jut(r,t,n){return(t=P7(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function S7(r){return function(t){if(Array.isArray(t))return Bj(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||Ij(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bh(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||Ij(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function se(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=Ij(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Ij(r,t){if(r){if(typeof r=="string")return Bj(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bj(r,t):void 0}}function Bj(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function j7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,P7(i.key),i)}}function P7(r){var t=function(n,i){if(hh(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(hh(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return hh(t)==="symbol"?t:String(t)}var Put=function(){function r(u){(function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=u}var t,n,i;return t=r,n=[{key:"isEmpty",get:function(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}},{key:"bufferOperation",value:function(u){var a=u;switch(a.type){case"insert":if(this._isInInsertedElement(a.position.parent))return;this._markInsert(a.position.parent,a.position.offset,a.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var e,o=se(a.range.getItems({shallow:!0}));try{for(o.s();!(e=o.n()).done;){var c=e.value;this._isInInsertedElement(c.parent)||this._markAttribute(c)}}catch(P){o.e(P)}finally{o.f()}break;case"remove":case"move":case"reinsert":if(a.sourcePosition.isEqual(a.targetPosition)||a.sourcePosition.getShiftedBy(a.howMany).isEqual(a.targetPosition))return;var l=this._isInInsertedElement(a.sourcePosition.parent),s=this._isInInsertedElement(a.targetPosition.parent);l||this._markRemove(a.sourcePosition.parent,a.sourcePosition.offset,a.howMany),s||this._markInsert(a.targetPosition.parent,a.getMovedRangeStart().offset,a.howMany);break;case"rename":if(this._isInInsertedElement(a.position.parent))return;this._markRemove(a.position.parent,a.position.offset,1),this._markInsert(a.position.parent,a.position.offset,1);var f,d=ot._createFromPositionAndShift(a.position,1),h=se(this._markerCollection.getMarkersIntersectingRange(d));try{for(h.s();!(f=h.n()).done;){var b=f.value,v=b.getData();this.bufferMarkerChange(b.name,v,v)}}catch(P){h.e(P)}finally{h.f()}break;case"split":var g=a.splitPosition.parent;this._isInInsertedElement(g)||this._markRemove(g,a.splitPosition.offset,a.howMany),this._isInInsertedElement(a.insertionPosition.parent)||this._markInsert(a.insertionPosition.parent,a.insertionPosition.offset,1),a.graveyardPosition&&this._markRemove(a.graveyardPosition.parent,a.graveyardPosition.offset,1);break;case"merge":var k=a.sourcePosition.parent;this._isInInsertedElement(k.parent)||this._markRemove(k.parent,k.startOffset,1);var _=a.graveyardPosition.parent;this._markInsert(_,a.graveyardPosition.offset,1);var A=a.targetPosition.parent;this._isInInsertedElement(A)||this._markInsert(A,a.targetPosition.offset,k.maxOffset);break;case"detachRoot":case"addRoot":var C=a.affectedSelectable;if(!C._isLoaded||C.isAttached()==a.isAdd)return;this._bufferRootStateChange(a.rootName,a.isAdd);break;case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":if(!a.root._isLoaded)return;var S=a.root.rootName;this._bufferRootAttributeChange(S,a.key,a.oldValue,a.newValue)}this._cachedChanges=null}},{key:"bufferMarkerChange",value:function(u,a,e){a.range&&a.range.root.is("rootElement")&&!a.range.root._isLoaded&&(a.range=null),e.range&&e.range.root.is("rootElement")&&!e.range.root._isLoaded&&(e.range=null);var o=this._changedMarkers.get(u);o?o.newMarkerData=e:(o={newMarkerData:e,oldMarkerData:a},this._changedMarkers.set(u,o)),o.oldMarkerData.range==null&&e.range==null&&this._changedMarkers.delete(u)}},{key:"getMarkersToRemove",value:function(){var u,a=[],e=se(this._changedMarkers);try{for(e.s();!(u=e.n()).done;){var o=bh(u.value,2),c=o[0],l=o[1];l.oldMarkerData.range!=null&&a.push({name:c,range:l.oldMarkerData.range})}}catch(s){e.e(s)}finally{e.f()}return a}},{key:"getMarkersToAdd",value:function(){var u,a=[],e=se(this._changedMarkers);try{for(e.s();!(u=e.n()).done;){var o=bh(u.value,2),c=o[0],l=o[1];l.newMarkerData.range!=null&&a.push({name:c,range:l.newMarkerData.range})}}catch(s){e.e(s)}finally{e.f()}return a}},{key:"getChangedMarkers",value:function(){return Array.from(this._changedMarkers).map(function(u){var a=bh(u,2),e=a[0],o=a[1];return{name:e,data:{oldRange:o.oldMarkerData.range,newRange:o.newMarkerData.range}}})}},{key:"hasDataChanges",value:function(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;var u,a=se(this._changedMarkers.values());try{for(a.s();!(u=a.n()).done;){var e=u.value,o=e.newMarkerData,c=e.oldMarkerData;if(o.affectsData!==c.affectsData)return!0;if(o.affectsData){var l=o.range&&!c.range,s=!o.range&&c.range,f=o.range&&c.range&&!o.range.isEqual(c.range);if(l||s||f)return!0}}}catch(d){a.e(d)}finally{a.f()}return!1}},{key:"getChanges",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._cachedChanges)return u.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();var a,e=[],o=se(this._changesInElement.keys());try{for(o.s();!(a=o.n()).done;){var c,l=a.value,s=this._changesInElement.get(l).sort(function(p,m){return p.offset===m.offset?p.type!=m.type?p.type=="remove"?-1:1:0:p.offset<m.offset?-1:1}),f=this._elementSnapshots.get(l),d=E7(l.getChildren()),h=Eut(f.length,s),b=0,v=0,g=se(h);try{for(g.s();!(c=g.n()).done;){var k=c.value;if(k==="i")e.push(this._getInsertDiff(l,b,d[b])),b++;else if(k==="r")e.push(this._getRemoveDiff(l,b,f[v])),v++;else if(k==="a"){var _,A=d[b].attributes,C=f[v].attributes,S=void 0;if(d[b].name=="$text")S=new ot(ct._createAt(l,b),ct._createAt(l,b+1));else{var P=l.offsetToIndex(b);S=new ot(ct._createAt(l,b),ct._createAt(l.getChild(P),0))}(_=e).push.apply(_,S7(this._getAttributesDiff(S,C,A))),b++,v++}else b++,v++}}catch(p){g.e(p)}finally{g.f()}}}catch(p){o.e(p)}finally{o.f()}e.sort(function(p,m){return p.position.root!=m.position.root?p.position.root.rootName<m.position.root.rootName?-1:1:p.position.isEqual(m.position)?p.changeCount-m.changeCount:p.position.isBefore(m.position)?-1:1});for(var E=1,R=0;E<e.length;E++){var I=e[R],z=e[E],F=I.type=="remove"&&z.type=="remove"&&I.name=="$text"&&z.name=="$text"&&I.position.isEqual(z.position),tt=I.type=="insert"&&z.type=="insert"&&I.name=="$text"&&z.name=="$text"&&I.position.parent==z.position.parent&&I.position.offset+I.length==z.position.offset,Z=I.type=="attribute"&&z.type=="attribute"&&I.position.parent==z.position.parent&&I.range.isFlat&&z.range.isFlat&&I.position.offset+I.length==z.position.offset&&I.attributeKey==z.attributeKey&&I.attributeOldValue==z.attributeOldValue&&I.attributeNewValue==z.attributeNewValue;F||tt||Z?(I.length++,Z&&(I.range.end=I.range.end.getShiftedBy(1)),e[E]=null):R=E}var G,et=se(e=e.filter(function(p){return p}));try{for(et.s();!(G=et.n()).done;){var y=G.value;delete y.changeCount,y.type=="attribute"&&(delete y.position,delete y.length)}}catch(p){et.e(p)}finally{et.f()}return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter(xut),u.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}},{key:"getChangedRoots",value:function(){return Array.from(this._changedRoots.values()).map(function(u){var a=Rj({},u);return a.state!==void 0&&delete a.attributes,a})}},{key:"getRefreshedItems",value:function(){return new Set(this._refreshedItems)}},{key:"reset",value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}},{key:"_bufferRootStateChange",value:function(u,a){if(this._changedRoots.has(u)){var e=this._changedRoots.get(u);e.state!==void 0?(delete e.state,e.attributes===void 0&&this._changedRoots.delete(u)):e.state=a?"attached":"detached"}else this._changedRoots.set(u,{name:u,state:a?"attached":"detached"})}},{key:"_bufferRootAttributeChange",value:function(u,a,e,o){var c=this._changedRoots.get(u)||{name:u},l=c.attributes||{};if(l[a]){var s=l[a];o===s.oldValue?delete l[a]:s.newValue=o}else l[a]={oldValue:e,newValue:o};Object.entries(l).length===0?(delete c.attributes,c.state===void 0&&this._changedRoots.delete(u)):(c.attributes=l,this._changedRoots.set(u,c))}},{key:"_refreshItem",value:function(u){if(!this._isInInsertedElement(u.parent)){this._markRemove(u.parent,u.startOffset,u.offsetSize),this._markInsert(u.parent,u.startOffset,u.offsetSize),this._refreshedItems.add(u);var a,e=ot._createOn(u),o=se(this._markerCollection.getMarkersIntersectingRange(e));try{for(o.s();!(a=o.n()).done;){var c=a.value,l=c.getData();this.bufferMarkerChange(c.name,l,l)}}catch(s){o.e(s)}finally{o.f()}this._cachedChanges=null}}},{key:"_bufferRootLoad",value:function(u){if(u.isAttached()){this._bufferRootStateChange(u.rootName,!0),this._markInsert(u,0,u.maxOffset);var a,e=se(u.getAttributeKeys());try{for(e.s();!(a=e.n()).done;){var o=a.value;this._bufferRootAttributeChange(u.rootName,o,null,u.getAttribute(o))}}catch(d){e.e(d)}finally{e.f()}var c,l=se(this._markerCollection);try{for(l.s();!(c=l.n()).done;){var s=c.value;if(s.getRange().root==u){var f=s.getData();this.bufferMarkerChange(s.name,Rj(Rj({},f),{},{range:null}),f)}}}catch(d){l.e(d)}finally{l.f()}}}},{key:"_markInsert",value:function(u,a,e){if(!u.root.is("rootElement")||u.root._isLoaded){var o={type:"insert",offset:a,howMany:e,count:this._changeCount++};this._markChange(u,o)}}},{key:"_markRemove",value:function(u,a,e){if(!u.root.is("rootElement")||u.root._isLoaded){var o={type:"remove",offset:a,howMany:e,count:this._changeCount++};this._markChange(u,o),this._removeAllNestedChanges(u,a,e)}}},{key:"_markAttribute",value:function(u){if(!u.root.is("rootElement")||u.root._isLoaded){var a={type:"attribute",offset:u.startOffset,howMany:u.offsetSize,count:this._changeCount++};this._markChange(u.parent,a)}}},{key:"_markChange",value:function(u,a){this._makeSnapshot(u);var e=this._getChangesForElement(u);this._handleChange(a,e),e.push(a);for(var o=0;o<e.length;o++)e[o].howMany<1&&(e.splice(o,1),o--)}},{key:"_getChangesForElement",value:function(u){var a;return this._changesInElement.has(u)?a=this._changesInElement.get(u):(a=[],this._changesInElement.set(u,a)),a}},{key:"_makeSnapshot",value:function(u){this._elementSnapshots.has(u)||this._elementSnapshots.set(u,E7(u.getChildren()))}},{key:"_handleChange",value:function(u,a){u.nodesToHandle=u.howMany;var e,o=se(a);try{for(o.s();!(e=o.n()).done;){var c=e.value,l=u.offset+u.howMany,s=c.offset+c.howMany;if(u.type=="insert"&&(c.type=="insert"&&(u.offset<=c.offset?c.offset+=u.howMany:u.offset<s&&(c.howMany+=u.nodesToHandle,u.nodesToHandle=0)),c.type=="remove"&&u.offset<c.offset&&(c.offset+=u.howMany),c.type=="attribute")){if(u.offset<=c.offset)c.offset+=u.howMany;else if(u.offset<s){var f=c.howMany;c.howMany=u.offset-c.offset,a.unshift({type:"attribute",offset:l,howMany:f-c.howMany,count:this._changeCount++})}}if(u.type=="remove"){if(c.type=="insert"){if(l<=c.offset)c.offset-=u.howMany;else if(l<=s)if(u.offset<c.offset){var d=l-c.offset;c.offset=u.offset,c.howMany-=d,u.nodesToHandle-=d}else c.howMany-=u.nodesToHandle,u.nodesToHandle=0;else if(u.offset<=c.offset)u.nodesToHandle-=c.howMany,c.howMany=0;else if(u.offset<s){var h=s-u.offset;c.howMany-=h,u.nodesToHandle-=h}}if(c.type=="remove"&&(l<=c.offset?c.offset-=u.howMany:u.offset<c.offset&&(u.nodesToHandle+=c.howMany,c.howMany=0)),c.type=="attribute"){if(l<=c.offset)c.offset-=u.howMany;else if(u.offset<c.offset){var b=l-c.offset;c.offset=u.offset,c.howMany-=b}else if(u.offset<s)if(l<=s){var v=c.howMany;c.howMany=u.offset-c.offset;var g=v-c.howMany-u.nodesToHandle;a.unshift({type:"attribute",offset:u.offset,howMany:g,count:this._changeCount++})}else c.howMany-=s-u.offset}}if(u.type=="attribute"){if(c.type=="insert")if(u.offset<c.offset&&l>c.offset){if(l>s){var k={type:"attribute",offset:s,howMany:l-s,count:this._changeCount++};this._handleChange(k,a),a.push(k)}u.nodesToHandle=c.offset-u.offset,u.howMany=u.nodesToHandle}else u.offset>=c.offset&&u.offset<s&&(l>s?(u.nodesToHandle=l-s,u.offset=s):u.nodesToHandle=0);if(c.type=="remove"&&u.offset<c.offset&&l>c.offset){var _={type:"attribute",offset:c.offset,howMany:l-c.offset,count:this._changeCount++};this._handleChange(_,a),a.push(_),u.nodesToHandle=c.offset-u.offset,u.howMany=u.nodesToHandle}c.type=="attribute"&&(u.offset>=c.offset&&l<=s?(u.nodesToHandle=0,u.howMany=0,u.offset=0):u.offset<=c.offset&&l>=s&&(c.howMany=0))}}}catch(A){o.e(A)}finally{o.f()}u.howMany=u.nodesToHandle,delete u.nodesToHandle}},{key:"_getInsertDiff",value:function(u,a,e){return{type:"insert",position:ct._createAt(u,a),name:e.name,attributes:new Map(e.attributes),length:1,changeCount:this._changeCount++}}},{key:"_getRemoveDiff",value:function(u,a,e){return{type:"remove",position:ct._createAt(u,a),name:e.name,attributes:new Map(e.attributes),length:1,changeCount:this._changeCount++}}},{key:"_getAttributesDiff",value:function(u,a,e){var o=[];e=new Map(e);var c,l=se(a);try{for(l.s();!(c=l.n()).done;){var s=bh(c.value,2),f=s[0],d=s[1],h=e.has(f)?e.get(f):null;h!==d&&o.push({type:"attribute",position:u.start,range:u.clone(),length:1,attributeKey:f,attributeOldValue:d,attributeNewValue:h,changeCount:this._changeCount++}),e.delete(f)}}catch(A){l.e(A)}finally{l.f()}var b,v=se(e);try{for(v.s();!(b=v.n()).done;){var g=bh(b.value,2),k=g[0],_=g[1];o.push({type:"attribute",position:u.start,range:u.clone(),length:1,attributeKey:k,attributeOldValue:null,attributeNewValue:_,changeCount:this._changeCount++})}}catch(A){v.e(A)}finally{v.f()}return o}},{key:"_isInInsertedElement",value:function(u){var a=u.parent;if(!a)return!1;var e=this._changesInElement.get(a),o=u.startOffset;if(e){var c,l=se(e);try{for(l.s();!(c=l.n()).done;){var s=c.value;if(s.type=="insert"&&o>=s.offset&&o<s.offset+s.howMany)return!0}}catch(f){l.e(f)}finally{l.f()}}return this._isInInsertedElement(a)}},{key:"_removeAllNestedChanges",value:function(u,a,e){var o,c=se(new ot(ct._createAt(u,a),ct._createAt(u,a+e)).getItems({shallow:!0}));try{for(c.s();!(o=c.n()).done;){var l=o.value;l.is("element")&&(this._elementSnapshots.delete(l),this._changesInElement.delete(l),this._removeAllNestedChanges(l,0,l.maxOffset))}}catch(s){c.e(s)}finally{c.f()}}}],n&&j7(t.prototype,n),i&&j7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function E7(r){var t,n=[],i=se(r);try{for(i.s();!(t=i.n()).done;){var u=t.value;if(u.is("$text"))for(var a=0;a<u.data.length;a++)n.push({name:"$text",attributes:new Map(u.getAttributes())});else n.push({name:u.name,attributes:new Map(u.getAttributes())})}}catch(e){i.e(e)}finally{i.f()}return n}function Eut(r,t){var n,i=[],u=0,a=0,e=se(t);try{for(e.s();!(n=e.n()).done;){var o=n.value;if(o.offset>u){for(var c=0;c<o.offset-u;c++)i.push("e");a+=o.offset-u}if(o.type=="insert"){for(var l=0;l<o.howMany;l++)i.push("i");u=o.offset+o.howMany}else if(o.type=="remove"){for(var s=0;s<o.howMany;s++)i.push("r");u=o.offset,a+=o.howMany}else i.push.apply(i,S7("a".repeat(o.howMany).split(""))),u=o.offset+o.howMany,a+=o.howMany}}catch(d){e.e(d)}finally{e.f()}if(a<r)for(var f=0;f<r-a-u;f++)i.push("e");return i}function xut(r){var t="position"in r&&r.position.root.rootName=="$graveyard",n="range"in r&&r.range.root.rootName=="$graveyard";return!t&&!n}function mh(r){return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mh(r)}function Tut(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||x7(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x7(r,t){if(r){if(typeof r=="string")return T7(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T7(r,t):void 0}}function T7(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function D7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(mh(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(mh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),mh(a)==="symbol"?a:String(a)),i)}var u,a}var Dut=function(){function r(){(function(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")})(this,r),this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}var t,n,i;return t=r,n=[{key:"version",get:function(){return this._version},set:function(u){this._operations.length&&u>this._version+1&&this._gaps.set(this._version,u),this._version=u}},{key:"lastOperation",get:function(){return this._operations[this._operations.length-1]}},{key:"addOperation",value:function(u){if(u.baseVersion!==this.version)throw new V("model-document-history-addoperation-incorrect-version",this,{operation:u,historyVersion:this.version});this._operations.push(u),this._version++,this._baseVersionToOperationIndex.set(u.baseVersion,this._operations.length-1)}},{key:"getOperations",value:function(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.version;if(!this._operations.length)return[];var e=this._operations[0];u===void 0&&(u=e.baseVersion);var o,c=a-1,l=function(v,g){var k=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!k){if(Array.isArray(v)||(k=x7(v))||g&&v&&typeof v.length=="number"){k&&(v=k);var _=0,A=function(){};return{s:A,n:function(){return _>=v.length?{done:!0}:{done:!1,value:v[_++]}},e:function(E){throw E},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,S=!0,P=!1;return{s:function(){k=k.call(v)},n:function(){var E=k.next();return S=E.done,E},e:function(E){P=!0,C=E},f:function(){try{S||k.return==null||k.return()}finally{if(P)throw C}}}}(this._gaps);try{for(l.s();!(o=l.n()).done;){var s=Tut(o.value,2),f=s[0],d=s[1];u>f&&u<d&&(u=d),c>f&&c<d&&(c=f-1)}}catch(v){l.e(v)}finally{l.f()}if(c<e.baseVersion||u>this.lastOperation.baseVersion)return[];var h=this._baseVersionToOperationIndex.get(u);h===void 0&&(h=0);var b=this._baseVersionToOperationIndex.get(c);return b===void 0&&(b=this._operations.length-1),this._operations.slice(h,b+1)}},{key:"getOperation",value:function(u){var a=this._baseVersionToOperationIndex.get(u);if(a!==void 0)return this._operations[a]}},{key:"setOperationAsUndone",value:function(u,a){this._undoPairs.set(a,u),this._undoneOperations.add(u)}},{key:"isUndoingOperation",value:function(u){return this._undoPairs.has(u)}},{key:"isUndoneOperation",value:function(u){return this._undoneOperations.has(u)}},{key:"getUndoneOperation",value:function(u){return this._undoPairs.get(u)}},{key:"reset",value:function(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}],n&&D7(t.prototype,n),i&&D7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function pc(r){return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(r)}function R7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(pc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(pc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),pc(a)==="symbol"?a:String(a)),i)}var u,a}function Mj(r,t){return Mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mj(r,t)}function Rut(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ov(r);if(t){var u=Ov(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ov(r){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ov(r)}var Sv=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Mj(e,o)})(a,r);var t,n,i,u=Rut(a);function a(e,o){var c,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"main";return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,o))._isAttached=!0,c._isLoaded=!0,c._document=e,c.rootName=l,c}return t=a,(n=[{key:"document",get:function(){return this._document}},{key:"isAttached",value:function(){return this._isAttached}},{key:"toJSON",value:function(){return this.rootName}}])&&R7(t.prototype,n),i&&R7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ut);function yc(r){return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(r)}function Nj(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return I7(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return I7(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function I7(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function B7(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function jv(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B7(Object(n),!0).forEach(function(i){Iut(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):B7(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Iut(r,t,n){return(t=N7(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function M7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,N7(i.key),i)}}function N7(r){var t=function(n,i){if(yc(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(yc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return yc(t)==="symbol"?t:String(t)}function Lj(r,t){return Lj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lj(r,t)}function But(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Pv(r);if(t){var u=Pv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L7(a)}(this,n)}}function L7(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Pv(r){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pv(r)}Sv.prototype.is=function(r,t){return t?t===this.name&&(r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"):r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"||r==="node"||r==="model:node"};var z7="$graveyard",Mut=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Lj(e,o)})(a,r);var t,n,i,u=But(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this)).model=e,o.history=new Dut,o.selection=new sr(L7(o)),o.roots=new Qt({idProperty:"rootName"}),o.differ=new Put(e.markers),o.isReadOnly=!1,o._postFixers=new Set,o._hasSelectionChangedFromTheLastChangeBlock=!1,o.createRoot("$root",z7),o.listenTo(e,"applyOperation",function(c,l){var s=l[0];s.isDocumentOperation&&o.differ.bufferOperation(s)},{priority:"high"}),o.listenTo(e,"applyOperation",function(c,l){var s=l[0];s.isDocumentOperation&&o.history.addOperation(s)},{priority:"low"}),o.listenTo(o.selection,"change",function(){o._hasSelectionChangedFromTheLastChangeBlock=!0}),o.listenTo(e.markers,"update",function(c,l,s,f,d){var h=jv(jv({},l.getData()),{},{range:f});o.differ.bufferMarkerChange(l.name,d,h),s===null&&l.on("change",function(b,v){var g=l.getData();o.differ.bufferMarkerChange(l.name,jv(jv({},g),{},{range:v}),g)})}),o.registerPostFixer(function(c){var l,s=!1,f=Nj(o.roots);try{for(f.s();!(l=f.n()).done;){var d=l.value;d.isAttached()||d.isEmpty||(c.remove(c.createRangeIn(d)),s=!0)}}catch(g){f.e(g)}finally{f.f()}var h,b=Nj(o.model.markers);try{for(b.s();!(h=b.n()).done;){var v=h.value;v.getRange().root.isAttached()||(c.removeMarker(v),s=!0)}}catch(g){b.e(g)}finally{b.f()}return s}),o}return t=a,n=[{key:"version",get:function(){return this.history.version},set:function(e){this.history.version=e}},{key:"graveyard",get:function(){return this.getRoot(z7)}},{key:"createRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"$root",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"main";if(this.roots.get(o))throw new V("model-document-createroot-name-exists",this,{name:o});var c=new Sv(this,e,o);return this.roots.add(c),c}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"getRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this.roots.get(e)}},{key:"getRootNames",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return this.getRoots(e).map(function(o){return o.rootName})}},{key:"getRoots",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return Array.from(this.roots).filter(function(c){return c!=e.graveyard&&(o||c.isAttached())&&c._isLoaded})}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"toJSON",value:function(){var e=tN(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}},{key:"_handleChangeBlock",value:function(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}},{key:"_hasDocumentChangedFromTheLastChangeBlock",value:function(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}},{key:"_getDefaultRoot",value:function(){var e=this.getRoots();return e.length?e[0]:this.graveyard}},{key:"_getDefaultRange",value:function(){var e=this._getDefaultRoot(),o=this.model,c=o.schema,l=o.createPositionFromPath(e,[0]);return c.getNearestSelectionRange(l)||o.createRange(l)}},{key:"_validateSelectionRange",value:function(e){return F7(e.start)&&F7(e.end)}},{key:"_callPostFixers",value:function(e){var o=!1;do{var c,l=Nj(this._postFixers);try{for(l.s();!(c=l.n()).done;){var s=c.value;if(this.selection.refresh(),o=s(e))break}}catch(f){l.e(f)}finally{l.f()}}while(o)}}],n&&M7(t.prototype,n),i&&M7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Nt());function F7(r){var t=r.textNode;if(t){var n=t.data,i=r.offset-t.startOffset;return!yC(n,i)&&!hC(n,i)}return!0}function pn(r){return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(r)}function uo(){uo=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&pn(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(pn(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function Ev(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return V7(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return V7(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function V7(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function U7(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function H7(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U7(Object(n),!0).forEach(function(i){Nut(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):U7(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Nut(r,t,n){return(t=q7(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function G7(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function W7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,q7(i.key),i)}}function $7(r,t,n){return t&&W7(r.prototype,t),n&&W7(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function q7(r){var t=function(n,i){if(pn(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(pn(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return pn(t)==="symbol"?t:String(t)}function Y7(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&zj(r,t)}function zj(r,t){return zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zj(r,t)}function K7(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=xv(r);if(t){var u=xv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(pn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function xv(r){return xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xv(r)}var Lut=function(r,t){Y7(i,r);var n=K7(i);function i(){var u;return G7(this,i),(u=n.apply(this,arguments))._markers=new Map,u}return $7(i,[{key:t,value:function(){return this._markers.values()}},{key:"has",value:function(u){var a=u instanceof hc?u.name:u;return this._markers.has(a)}},{key:"get",value:function(u){return this._markers.get(u)||null}},{key:"_set",value:function(u,a){var e=arguments.length>2&&arguments[2]!==void 0&&arguments[2],o=arguments.length>3&&arguments[3]!==void 0&&arguments[3],c=u instanceof hc?u.name:u;if(c.includes(","))throw new V("markercollection-incorrect-marker-name",this);var l=this._markers.get(c);if(l){var s=l.getData(),f=l.getRange(),d=!1;return f.isEqual(a)||(l._attachLiveRange(Lr.fromRange(a)),d=!0),e!=l.managedUsingOperations&&(l._managedUsingOperations=e,d=!0),typeof o=="boolean"&&o!=l.affectsData&&(l._affectsData=o,d=!0),d&&this.fire("update:".concat(c),l,f,a,s),l}var h=Lr.fromRange(a),b=new hc(c,h,e,o);return this._markers.set(c,b),this.fire("update:".concat(c),b,null,a,H7(H7({},b.getData()),{},{range:null})),b}},{key:"_remove",value:function(u){var a=u instanceof hc?u.name:u,e=this._markers.get(a);return!!e&&(this._markers.delete(a),this.fire("update:".concat(a),e,e.getRange(),null,e.getData()),this._destroyMarker(e),!0)}},{key:"_refresh",value:function(u){var a=u instanceof hc?u.name:u,e=this._markers.get(a);if(!e)throw new V("markercollection-refresh-marker-not-exists",this);var o=e.getRange();this.fire("update:".concat(a),e,o,o,e.getData())}},{key:"getMarkersAtPosition",value:uo().mark(function u(a){var e,o,c;return uo().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:e=Ev(this),l.prev=1,e.s();case 3:if((o=e.n()).done){l.next=10;break}if(!(c=o.value).getRange().containsPosition(a)){l.next=8;break}return l.next=8,c;case 8:l.next=3;break;case 10:l.next=15;break;case 12:l.prev=12,l.t0=l.catch(1),e.e(l.t0);case 15:return l.prev=15,e.f(),l.finish(15);case 18:case"end":return l.stop()}},u,this,[[1,12,15,18]])})},{key:"getMarkersIntersectingRange",value:uo().mark(function u(a){var e,o,c;return uo().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:e=Ev(this),l.prev=1,e.s();case 3:if((o=e.n()).done){l.next=10;break}if((c=o.value).getRange().getIntersection(a)===null){l.next=8;break}return l.next=8,c;case 8:l.next=3;break;case 10:l.next=15;break;case 12:l.prev=12,l.t0=l.catch(1),e.e(l.t0);case 15:return l.prev=15,e.f(),l.finish(15);case 18:case"end":return l.stop()}},u,this,[[1,12,15,18]])})},{key:"destroy",value:function(){var u,a=Ev(this._markers.values());try{for(a.s();!(u=a.n()).done;){var e=u.value;this._destroyMarker(e)}}catch(o){a.e(o)}finally{a.f()}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:uo().mark(function u(a){var e,o,c;return uo().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:e=Ev(this._markers.values()),l.prev=1,e.s();case 3:if((o=e.n()).done){l.next=10;break}if(!(c=o.value).name.startsWith(a+":")){l.next=8;break}return l.next=8,c;case 8:l.next=3;break;case 10:l.next=15;break;case 12:l.prev=12,l.t0=l.catch(1),e.e(l.t0);case 15:return l.prev=15,e.f(),l.finish(15);case 18:case"end":return l.stop()}},u,this,[[1,12,15,18]])})},{key:"_destroyMarker",value:function(u){u.stopListening(),u._detachLiveRange()}}]),i}(Nt(),Symbol.iterator),hc=function(r){Y7(n,r);var t=K7(n);function n(i,u,a,e){var o;return G7(this,n),(o=t.call(this)).name=i,o._liveRange=o._attachLiveRange(u),o._managedUsingOperations=a,o._affectsData=e,o}return $7(n,[{key:"managedUsingOperations",get:function(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._managedUsingOperations}},{key:"affectsData",get:function(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._affectsData}},{key:"getData",value:function(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}},{key:"getStart",value:function(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._liveRange.start.clone()}},{key:"getEnd",value:function(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._liveRange.end.clone()}},{key:"getRange",value:function(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._liveRange.toRange()}},{key:"_attachLiveRange",value:function(i){return this._liveRange&&this._detachLiveRange(),i.delegate("change:range").to(this),i.delegate("change:content").to(this),this._liveRange=i,i}},{key:"_detachLiveRange",value:function(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}]),n}(Nt(un));function bc(r){return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(r)}function Z7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(bc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(bc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),bc(a)==="symbol"?a:String(a)),i)}var u,a}function Fj(){return Fj=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=mc(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},Fj.apply(this,arguments)}function Vj(r,t){return Vj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vj(r,t)}function zut(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=mc(r);if(t){var u=mc(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function mc(r){return mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mc(r)}hc.prototype.is=function(r){return r==="marker"||r==="model:marker"};var Fut=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Vj(e,o)})(a,r);var t,n,i,u=zut(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,null)).sourcePosition=e.clone(),c.howMany=o,c}return t=a,i=[{key:"className",get:function(){return"DetachOperation"}}],(n=[{key:"type",get:function(){return"detach"}},{key:"affectedSelectable",get:function(){return null}},{key:"toJSON",value:function(){var e=Fj(mc(a.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new V("detach-operation-on-document-node",this)}},{key:"_execute",value:function(){Q8(ot._createFromPositionAndShift(this.sourcePosition,this.howMany))}}])&&Z7(t.prototype,n),i&&Z7(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ue);function vc(r){return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(r)}function vh(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return Q7(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Q7(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Q7(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function J7(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(vc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(vc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),vc(a)==="symbol"?a:String(a)),i)}var u,a}function Uj(r,t){return Uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Uj(r,t)}function Vut(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Tv(r);if(t){var u=Tv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Tv(r){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tv(r)}var lo=function(r,t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),c&&Uj(o,c)})(e,r);var n,i,u,a=Vut(e);function e(o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,e),(c=a.call(this)).markers=new Map,c._children=new Gy,o&&c._insertChild(0,o),c}return n=e,i=[{key:t,value:function(){return this.getChildren()}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return this.childCount===0}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}},{key:"document",get:function(){return null}},{key:"isAttached",value:function(){return!1}},{key:"getAncestors",value:function(){return[]}},{key:"getChild",value:function(o){return this._children.getNode(o)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(o){return this._children.getNodeIndex(o)}},{key:"getChildStartOffset",value:function(o){return this._children.getNodeStartOffset(o)}},{key:"getPath",value:function(){return[]}},{key:"getNodeByPath",value:function(o){var c,l=this,s=vh(o);try{for(s.s();!(c=s.n()).done;){var f=c.value;l=l.getChild(l.offsetToIndex(f))}}catch(d){s.e(d)}finally{s.f()}return l}},{key:"offsetToIndex",value:function(o){return this._children.offsetToIndex(o)}},{key:"toJSON",value:function(){var o,c=[],l=vh(this._children);try{for(l.s();!(o=l.n()).done;){var s=o.value;c.push(s.toJSON())}}catch(f){l.e(f)}finally{l.f()}return c}},{key:"_appendChild",value:function(o){this._insertChild(this.childCount,o)}},{key:"_insertChild",value:function(o,c){var l,s=function(h){return typeof h=="string"?[new qt(h)]:(Le(h)||(h=[h]),Array.from(h).map(function(b){return typeof b=="string"?new qt(b):b instanceof ur?new qt(b.data,b.getAttributes()):b}))}(c),f=vh(s);try{for(f.s();!(l=f.n()).done;){var d=l.value;d.parent!==null&&d._remove(),d.parent=this}}catch(h){f.e(h)}finally{f.f()}this._children._insertNodes(o,s)}},{key:"_removeChildren",value:function(o){var c,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,s=this._children._removeNodes(o,l),f=vh(s);try{for(f.s();!(c=f.n()).done;)c.value.parent=null}catch(d){f.e(d)}finally{f.f()}return s}}],u=[{key:"fromJSON",value:function(o){var c,l=[],s=vh(o);try{for(s.s();!(c=s.n()).done;){var f=c.value;f.name?l.push(Ut.fromJSON(f)):l.push(qt.fromJSON(f))}}catch(d){s.e(d)}finally{s.f()}return new e(l)}}],i&&J7(n.prototype,i),u&&J7(n,u),Object.defineProperty(n,"prototype",{writable:!1}),e}(un,Symbol.iterator);function gh(r){return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gh(r)}function Hj(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||X7(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function He(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=X7(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function X7(r,t){if(r){if(typeof r=="string")return tz(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tz(r,t):void 0}}function tz(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function ez(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(gh(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(gh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),gh(a)==="symbol"?a:String(a)),i)}var u,a}lo.prototype.is=function(r){return r==="documentFragment"||r==="model:documentFragment"};var Uut=function(){function r(u,a){(function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")})(this,r),this.model=u,this.batch=a}var t,n,i;return t=r,n=[{key:"createText",value:function(u,a){return new qt(u,a)}},{key:"createElement",value:function(u,a){return new Ut(u,a)}},{key:"createDocumentFragment",value:function(){return new lo}},{key:"cloneElement",value:function(u){var a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return u._clone(a)}},{key:"insert",value:function(u,a){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(u instanceof qt&&u.data=="")){var o=ct._createAt(a,e);if(u.parent){if(oz(u.root,o.root))return void this.move(ot._createOn(u),o);if(u.root.document)throw new V("model-writer-insert-forbidden-move",this);this.remove(u)}var c=o.root.document?o.root.document.version:null,l=new Ee(o,u,c);if(u instanceof qt&&(l.shouldReceiveAttributes=!0),this.batch.addOperation(l),this.model.applyOperation(l),u instanceof lo){var s,f=He(u.markers);try{for(f.s();!(s=f.n()).done;){var d=Hj(s.value,2),h=d[0],b=d[1],v=ct._createAt(b.root,0),g={range:new ot(b.start._getCombined(v,o),b.end._getCombined(v,o)),usingOperation:!0,affectsData:!0};this.model.markers.has(h)?this.updateMarker(h,g):this.addMarker(h,g)}}catch(k){f.e(k)}finally{f.f()}}}}},{key:"insertText",value:function(u,a,e,o){a instanceof lo||a instanceof Ut||a instanceof ct?this.insert(this.createText(u),a,e):this.insert(this.createText(u,a),e,o)}},{key:"insertElement",value:function(u,a,e,o){a instanceof lo||a instanceof Ut||a instanceof ct?this.insert(this.createElement(u),a,e):this.insert(this.createElement(u,a),e,o)}},{key:"append",value:function(u,a){this.insert(u,a,"end")}},{key:"appendText",value:function(u,a,e){a instanceof lo||a instanceof Ut?this.insert(this.createText(u),a,"end"):this.insert(this.createText(u,a),e,"end")}},{key:"appendElement",value:function(u,a,e){a instanceof lo||a instanceof Ut?this.insert(this.createElement(u),a,"end"):this.insert(this.createElement(u,a),e,"end")}},{key:"setAttribute",value:function(u,a,e){if(this._assertWriterUsedCorrectly(),e instanceof ot){var o,c=He(e.getMinimalFlatRanges());try{for(c.s();!(o=c.n()).done;)rz(this,u,a,o.value)}catch(l){c.e(l)}finally{c.f()}}else nz(this,u,a,e)}},{key:"setAttributes",value:function(u,a){var e,o=He(Tr(u));try{for(o.s();!(e=o.n()).done;){var c=Hj(e.value,2),l=c[0],s=c[1];this.setAttribute(l,s,a)}}catch(f){o.e(f)}finally{o.f()}}},{key:"removeAttribute",value:function(u,a){if(this._assertWriterUsedCorrectly(),a instanceof ot){var e,o=He(a.getMinimalFlatRanges());try{for(o.s();!(e=o.n()).done;)rz(this,u,null,e.value)}catch(c){o.e(c)}finally{o.f()}}else nz(this,u,null,a)}},{key:"clearAttributes",value:function(u){var a=this;this._assertWriterUsedCorrectly();var e=function(l){var s,f=He(l.getAttributeKeys());try{for(f.s();!(s=f.n()).done;){var d=s.value;a.removeAttribute(d,l)}}catch(h){f.e(h)}finally{f.f()}};if(u instanceof ot){var o,c=He(u.getItems());try{for(c.s();!(o=c.n()).done;)e(o.value)}catch(l){c.e(l)}finally{c.f()}}else e(u)}},{key:"move",value:function(u,a,e){if(this._assertWriterUsedCorrectly(),!(u instanceof ot))throw new V("writer-move-invalid-range",this);if(!u.isFlat)throw new V("writer-move-range-not-flat",this);var o=ct._createAt(a,e);if(!o.isEqual(u.start)){if(this._addOperationForAffectedMarkers("move",u),!oz(u.root,o.root))throw new V("writer-move-different-document",this);var c=u.root.document?u.root.document.version:null,l=new Bt(u.start,u.end.offset-u.start.offset,o,c);this.batch.addOperation(l),this.model.applyOperation(l)}}},{key:"remove",value:function(u){this._assertWriterUsedCorrectly();var a,e=He((u instanceof ot?u:ot._createOn(u)).getMinimalFlatRanges().reverse());try{for(e.s();!(a=e.n()).done;){var o=a.value;this._addOperationForAffectedMarkers("move",o),Hut(o.start,o.end.offset-o.start.offset,this.batch,this.model)}}catch(c){e.e(c)}finally{e.f()}}},{key:"merge",value:function(u){this._assertWriterUsedCorrectly();var a=u.nodeBefore,e=u.nodeAfter;if(this._addOperationForAffectedMarkers("merge",u),!(a instanceof Ut))throw new V("writer-merge-no-element-before",this);if(!(e instanceof Ut))throw new V("writer-merge-no-element-after",this);u.root.document?this._merge(u):this._mergeDetached(u)}},{key:"createPositionFromPath",value:function(u,a,e){return this.model.createPositionFromPath(u,a,e)}},{key:"createPositionAt",value:function(u,a){return this.model.createPositionAt(u,a)}},{key:"createPositionAfter",value:function(u){return this.model.createPositionAfter(u)}},{key:"createPositionBefore",value:function(u){return this.model.createPositionBefore(u)}},{key:"createRange",value:function(u,a){return this.model.createRange(u,a)}},{key:"createRangeIn",value:function(u){return this.model.createRangeIn(u)}},{key:"createRangeOn",value:function(u){return this.model.createRangeOn(u)}},{key:"createSelection",value:function(){var u;return(u=this.model).createSelection.apply(u,arguments)}},{key:"_mergeDetached",value:function(u){var a=u.nodeBefore,e=u.nodeAfter;this.move(ot._createIn(e),ct._createAt(a,"end")),this.remove(e)}},{key:"_merge",value:function(u){var a=ct._createAt(u.nodeBefore,"end"),e=ct._createAt(u.nodeAfter,0),o=u.root.document.graveyard,c=new ct(o,[0]),l=u.root.document.version,s=new ie(e,u.nodeAfter.maxOffset,a,c,l);this.batch.addOperation(s),this.model.applyOperation(s)}},{key:"rename",value:function(u,a){if(this._assertWriterUsedCorrectly(),!(u instanceof Ut))throw new V("writer-rename-not-element-instance",this);var e=u.root.document?u.root.document.version:null,o=new kr(ct._createBefore(u),u.name,a,e);this.batch.addOperation(o),this.model.applyOperation(o)}},{key:"split",value:function(u,a){this._assertWriterUsedCorrectly();var e,o,c=u.parent;if(!c.parent)throw new V("writer-split-element-no-parent",this);if(a||(a=c.parent),!u.parent.getAncestors({includeSelf:!0}).includes(a))throw new V("writer-split-invalid-limit-element",this);do{var l=c.root.document?c.root.document.version:null,s=c.maxOffset-u.offset,f=Ht.getInsertionPosition(u),d=new Ht(u,s,f,null,l);this.batch.addOperation(d),this.model.applyOperation(d),e||o||(e=c,o=u.parent.nextSibling),c=(u=this.createPositionAfter(u.parent)).parent}while(c!==a);return{position:u,range:new ot(ct._createAt(e,"end"),ct._createAt(o,0))}}},{key:"wrap",value:function(u,a){if(this._assertWriterUsedCorrectly(),!u.isFlat)throw new V("writer-wrap-range-not-flat",this);var e=a instanceof Ut?a:new Ut(a);if(e.childCount>0)throw new V("writer-wrap-element-not-empty",this);if(e.parent!==null)throw new V("writer-wrap-element-attached",this);this.insert(e,u.start);var o=new ot(u.start.getShiftedBy(1),u.end.getShiftedBy(1));this.move(o,ct._createAt(e,0))}},{key:"unwrap",value:function(u){if(this._assertWriterUsedCorrectly(),u.parent===null)throw new V("writer-unwrap-element-no-parent",this);this.move(ot._createIn(u),this.createPositionAfter(u)),this.remove(u)}},{key:"addMarker",value:function(u,a){if(this._assertWriterUsedCorrectly(),!a||typeof a.usingOperation!="boolean")throw new V("writer-addmarker-no-usingoperation",this);var e=a.usingOperation,o=a.range,c=a.affectsData!==void 0&&a.affectsData;if(this.model.markers.has(u))throw new V("writer-addmarker-marker-exists",this);if(!o)throw new V("writer-addmarker-no-range",this);return e?(wh(this,u,null,o,c),this.model.markers.get(u)):this.model.markers._set(u,o,e,c)}},{key:"updateMarker",value:function(u,a){this._assertWriterUsedCorrectly();var e=typeof u=="string"?u:u.name,o=this.model.markers.get(e);if(!o)throw new V("writer-updatemarker-marker-not-exists",this);if(!a)return Ct("writer-updatemarker-reconvert-using-editingcontroller",{markerName:e}),void this.model.markers._refresh(o);var c=typeof a.usingOperation=="boolean",l=typeof a.affectsData=="boolean",s=l?a.affectsData:o.affectsData;if(!c&&!a.range&&!l)throw new V("writer-updatemarker-wrong-options",this);var f=o.getRange(),d=a.range?a.range:f;c&&a.usingOperation!==o.managedUsingOperations?a.usingOperation?wh(this,e,null,d,s):(wh(this,e,f,null,s),this.model.markers._set(e,d,void 0,s)):o.managedUsingOperations?wh(this,e,f,d,s):this.model.markers._set(e,d,void 0,s)}},{key:"removeMarker",value:function(u){this._assertWriterUsedCorrectly();var a=typeof u=="string"?u:u.name;if(!this.model.markers.has(a))throw new V("writer-removemarker-no-marker",this);var e=this.model.markers.get(a);e.managedUsingOperations?wh(this,a,e.getRange(),null,e.affectsData):this.model.markers._remove(a)}},{key:"addRoot",value:function(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$root";this._assertWriterUsedCorrectly();var e=this.model.document.getRoot(u);if(e&&e.isAttached())throw new V("writer-addroot-root-exists",this);var o=this.model.document,c=new uc(u,a,!0,o,o.version);return this.batch.addOperation(c),this.model.applyOperation(c),this.model.document.getRoot(u)}},{key:"detachRoot",value:function(u){this._assertWriterUsedCorrectly();var a=typeof u=="string"?this.model.document.getRoot(u):u;if(!a||!a.isAttached())throw new V("writer-detachroot-no-root",this);var e,o=He(this.model.markers);try{for(o.s();!(e=o.n()).done;){var c=e.value;c.getRange().root===a&&this.removeMarker(c)}}catch(b){o.e(b)}finally{o.f()}var l,s=He(a.getAttributeKeys());try{for(s.s();!(l=s.n()).done;){var f=l.value;this.removeAttribute(f,a)}}catch(b){s.e(b)}finally{s.f()}this.remove(this.createRangeIn(a));var d=this.model.document,h=new uc(a.rootName,a.name,!1,d,d.version);this.batch.addOperation(h),this.model.applyOperation(h)}},{key:"setSelection",value:function(){var u;this._assertWriterUsedCorrectly(),(u=this.model.document.selection)._setTo.apply(u,arguments)}},{key:"setSelectionFocus",value:function(u,a){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(u,a)}},{key:"setSelectionAttribute",value:function(u,a){if(this._assertWriterUsedCorrectly(),typeof u=="string")this._setSelectionAttribute(u,a);else{var e,o=He(Tr(u));try{for(o.s();!(e=o.n()).done;){var c=Hj(e.value,2),l=c[0],s=c[1];this._setSelectionAttribute(l,s)}}catch(f){o.e(f)}finally{o.f()}}}},{key:"removeSelectionAttribute",value:function(u){if(this._assertWriterUsedCorrectly(),typeof u=="string")this._removeSelectionAttribute(u);else{var a,e=He(u);try{for(e.s();!(a=e.n()).done;){var o=a.value;this._removeSelectionAttribute(o)}}catch(c){e.e(c)}finally{e.f()}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(u){this.model.document.selection._restoreGravity(u)}},{key:"_setSelectionAttribute",value:function(u,a){var e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){var o=sr._getStoreAttributeKey(u);this.setAttribute(o,a,e.anchor.parent)}e._setAttribute(u,a)}},{key:"_removeSelectionAttribute",value:function(u){var a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){var e=sr._getStoreAttributeKey(u);this.removeAttribute(e,a.anchor.parent)}a._removeAttribute(u)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new V("writer-incorrect-use",this)}},{key:"_addOperationForAffectedMarkers",value:function(u,a){var e,o=He(this.model.markers);try{for(o.s();!(e=o.n()).done;){var c=e.value;if(c.managedUsingOperations){var l=c.getRange(),s=!1;if(u==="move"){var f=a;s=f.containsPosition(l.start)||f.start.isEqual(l.start)||f.containsPosition(l.end)||f.end.isEqual(l.end)}else{var d=a,h=d.nodeBefore,b=d.nodeAfter,v=l.start.parent==h&&l.start.isAtEnd,g=l.end.parent==b&&l.end.offset==0,k=l.end.nodeAfter==b,_=l.start.nodeAfter==b;s=v||g||k||_}s&&this.updateMarker(c.name,{range:l})}}}catch(A){o.e(A)}finally{o.f()}}}],n&&ez(t.prototype,n),i&&ez(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function rz(r,t,n,i){var u,a,e,o,c=r.model,l=c.document,s=i.start,f=He(i.getWalker({shallow:!0}));try{for(f.s();!(o=f.n()).done;){var d=o.value;e=d.item.getAttribute(t),u&&a!=e&&(a!=n&&h(),s=u),u=d.nextPosition,a=e}}catch(b){f.e(b)}finally{f.f()}function h(){var b=new ot(s,u),v=b.root.document?l.version:null,g=new pe(b,t,a,n,v);r.batch.addOperation(g),c.applyOperation(g)}u instanceof ct&&u!=s&&a!=n&&h()}function nz(r,t,n,i){var u,a,e=r.model,o=e.document,c=i.getAttribute(t);if(c!=n){if(i.root===i){var l=i.document?o.version:null;a=new fh(i,t,c,n,l)}else{var s=(u=new ot(ct._createBefore(i),r.createPositionAfter(i))).root.document?o.version:null;a=new pe(u,t,c,n,s)}r.batch.addOperation(a),e.applyOperation(a)}}function wh(r,t,n,i,u){var a=r.model,e=a.document,o=new wr(t,n,i,a.markers,!!u,e.version);r.batch.addOperation(o),a.applyOperation(o)}function Hut(r,t,n,i){var u;if(r.root.document){var a=i.document,e=new ct(a.graveyard,[0]);u=new Bt(r,t,e,a.version)}else u=new Fut(r,t);n.addOperation(u),i.applyOperation(u)}function oz(r,t){return r===t||r instanceof Sv&&t instanceof Sv}function iz(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=cz(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function az(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||cz(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cz(r,t){if(r){if(typeof r=="string")return uz(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uz(r,t):void 0}}function uz(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Gut(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t.isCollapsed){var i=t.getFirstRange();if(i.root.rootName!="$graveyard"){var u=r.schema;r.change(function(a){if(n.doNotResetEntireContent||!function(d,h){var b=d.getLimitElement(h);if(!h.containsEntireContent(b))return!1;var v=h.getFirstRange();return v.start.parent==v.end.parent?!1:d.checkChild(b,"paragraph")}(u,t)){var e={};if(!n.doNotAutoparagraph){var o=t.getSelectedElement();o&&Object.assign(e,u.getAttributesWithProperty(o,"copyOnReplace",!0))}var c=function(d){var h=d.root.document.model,b=d.start,v=d.end;if(h.hasContent(d,{ignoreMarkers:!0})){var g=function(C){var S,P=C.parent,E=P.root.document.model.schema,R=iz(P.getAncestors({parentFirst:!0,includeSelf:!0}));try{for(R.s();!(S=R.n()).done;){var I=S.value;if(E.isLimit(I))return null;if(E.isBlock(I))return I}}catch(z){R.e(z)}finally{R.f()}}(v);if(g&&v.isTouching(h.createPositionAt(g,0))){var k=h.createSelection(d);h.modifySelection(k,{direction:"backward"});var _=k.getLastPosition(),A=h.createRange(_,v);h.hasContent(A,{ignoreMarkers:!0})||(v=_)}}return[he.fromPosition(b,"toPrevious"),he.fromPosition(v,"toNext")]}(i),l=az(c,2),s=l[0],f=l[1];s.isTouching(f)||a.remove(a.createRange(s,f)),n.leaveUnmerged||(function(d,h,b){var v=d.model;if(Gj(d.model.schema,h,b)){var g=function(C,S){for(var P=C.getAncestors(),E=S.getAncestors(),R=0;P[R]&&P[R]==E[R];)R++;return[P[R],E[R]]}(h,b),k=az(g,2),_=k[0],A=k[1];!_||!A||(!v.hasContent(_,{ignoreMarkers:!0})&&v.hasContent(A,{ignoreMarkers:!0})?sz(d,h,b,_.parent):lz(d,h,b,_.parent))}}(a,s,f),u.removeDisallowedAttributes(s.parent.getChildren(),a)),dz(a,t,s),!n.doNotAutoparagraph&&function(d,h){var b=d.checkChild(h,"$text"),v=d.checkChild(h,"paragraph");return!b&&v}(u,s)&&fz(a,s,t,e),s.detach(),f.detach()}else(function(d,h){var b=d.model.schema.getLimitElement(h);d.remove(d.createRangeIn(b)),fz(d,d.createPositionAt(b,0),h)})(a,t)})}}}function lz(r,t,n,i){var u=t.parent,a=n.parent;if(u!=i&&a!=i){for(t=r.createPositionAfter(u),(n=r.createPositionBefore(a)).isEqual(t)||r.insert(a,t),r.merge(t);n.parent.isEmpty;){var e=n.parent;n=r.createPositionBefore(e),r.remove(e)}Gj(r.model.schema,t,n)&&lz(r,t,n,i)}}function sz(r,t,n,i){var u=t.parent,a=n.parent;if(u!=i&&a!=i){for(t=r.createPositionAfter(u),(n=r.createPositionBefore(a)).isEqual(t)||r.insert(u,n);t.parent.isEmpty;){var e=t.parent;t=r.createPositionBefore(e),r.remove(e)}n=r.createPositionBefore(a),function(o,c){var l=c.nodeBefore,s=c.nodeAfter;l.name!=s.name&&o.rename(l,s.name),o.clearAttributes(l),o.setAttributes(Object.fromEntries(s.getAttributes()),l),o.merge(c)}(r,n),Gj(r.model.schema,t,n)&&sz(r,t,n,i)}}function Gj(r,t,n){var i=t.parent,u=n.parent;return i!=u&&!r.isLimit(i)&&!r.isLimit(u)&&function(a,e,o){var c,l=iz(new ot(a,e).getWalker());try{for(l.s();!(c=l.n()).done;){var s=c.value;if(o.isLimit(s.item))return!1}}catch(f){l.e(f)}finally{l.f()}return!0}(t,n,r)}function fz(r,t,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=r.createElement("paragraph");r.model.schema.setAllowedAttributes(u,i,r),r.insert(u,t),dz(r,n,r.createPositionAt(u,0))}function dz(r,t,n){t instanceof sr?r.setSelection(n):t.setTo(n)}function Wut(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return pz(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return pz(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function pz(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function yz(r,t){var n=[];Array.from(r.getItems({direction:"backward"})).map(function(i){return t.createRangeOn(i)}).filter(function(i){return(i.start.isAfter(r.start)||i.start.isEqual(r.start))&&(i.end.isBefore(r.end)||i.end.isEqual(r.end))}).forEach(function(i){n.push(i.start.parent),t.remove(i)}),n.forEach(function(i){for(var u=i;u.parent&&u.isEmpty;){var a=t.createRangeOn(u);u=u.parent,t.remove(a)}})}function kh(r){return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(r)}function hz(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(kh(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(kh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),kh(a)==="symbol"?a:String(a)),i)}var u,a}function Wj(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||bz(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bz(r,t){if(r){if(typeof r=="string")return mz(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mz(r,t):void 0}}function mz(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function $ut(r,t,n){return r.change(function(i){var u=n||r.document.selection;u.isCollapsed||r.deleteContent(u,{doNotAutoparagraph:!0});var a,e=new qut(r,i,u.anchor),o=[];if(t.is("documentFragment")){if(t.markers.size){var c,l=[],s=function(Ne,mB){var pr=typeof Symbol<"u"&&Ne[Symbol.iterator]||Ne["@@iterator"];if(!pr){if(Array.isArray(Ne)||(pr=bz(Ne))||mB&&Ne&&typeof Ne.length=="number"){pr&&(Ne=pr);var AA=0,Met=function(){};return{s:Met,n:function(){return AA>=Ne.length?{done:!0}:{done:!1,value:Ne[AA++]}},e:function(ey){throw ey},f:Met}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Net,Let=!0,zet=!1;return{s:function(){pr=pr.call(Ne)},n:function(){var ey=pr.next();return Let=ey.done,ey},e:function(ey){zet=!0,Net=ey},f:function(){try{Let||pr.return==null||pr.return()}finally{if(zet)throw Net}}}}(t.markers);try{for(s.s();!(c=s.n()).done;){var f=Wj(c.value,2),d=f[0],h=f[1],b=h.start,v=h.end,g=b.isEqual(v);l.push({position:b,name:d,isCollapsed:g},{position:v,name:d,isCollapsed:g})}}catch(Ne){s.e(Ne)}finally{s.f()}l.sort(function(Ne,mB){var pr=Ne.position,AA=mB.position;return pr.isBefore(AA)?1:-1});for(var k=0,_=l;k<_.length;k++){var A=_[k],C=A.position,S=A.name,P=A.isCollapsed,E=null,R=null,I=C.parent===t&&C.isAtStart,z=C.parent===t&&C.isAtEnd;I||z?P&&(R=I?"start":"end"):(E=i.createElement("$marker"),i.insert(E,C)),o.push({name:S,element:E,collapsed:R})}}a=t.getChildren()}else a=[t];e.handleNodes(a);var F=e.getSelectionRange();if(t.is("documentFragment")&&o.length){for(var tt=F?Lr.fromRange(F):null,Z={},G=o.length-1;G>=0;G--){var et=o[G],y=et.name,p=et.element,m=et.collapsed,O=!Z[y];if(O&&(Z[y]=[]),p){var w=i.createPositionAt(p,"before");Z[y].push(w),i.remove(p)}else{var j=e.getAffectedRange();if(!j){m&&Z[y].push(e.position);continue}m?Z[y].push(j[m]):Z[y].push(O?j.start:j.end)}}for(var T=0,M=Object.entries(Z);T<M.length;T++){var N=Wj(M[T],2),X=N[0],rt=Wj(N[1],2),q=rt[0],bB=rt[1];q&&bB&&q.root===bB.root&&i.addMarker(X,{usingOperation:!0,affectsData:!0,range:new ot(q,bB)})}tt&&(F=tt.toRange(),tt.detach())}F&&(u instanceof sr?i.setSelection(F):u.setTo(F));var BCt=e.getAffectedRange()||r.createRange(u.anchor);return e.destroy(),BCt})}var qut=function(){function r(u,a,e){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,r),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=u,this.writer=a,this.position=e,this.canMergeWith=new Set([this.position.parent]),this.schema=u.schema,this._documentFragment=a.createDocumentFragment(),this._documentFragmentPosition=a.createPositionAt(this._documentFragment,0)}var t,n,i;return t=r,n=[{key:"handleNodes",value:function(u){for(var a=0,e=Array.from(u);a<e.length;a++){var o=e[a];this._handleNode(o)}this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"_updateLastNodeFromAutoParagraph",value:function(u){var a=this.writer.createPositionAfter(this._lastNode),e=this.writer.createPositionAfter(u);if(e.isAfter(a)){if(this._lastNode=u,this.position.parent!=u||!this.position.isAtEnd)throw new V("insertcontent-invalid-insertion-position",this);this.position=e,this._setAffectedBoundaries(this.position)}}},{key:"getSelectionRange",value:function(){return this._nodeToSelect?ot._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new ot(this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(u){if(this.schema.isObject(u))this._handleObject(u);else{var a=this._checkAndAutoParagraphToAllowedPosition(u);a||(a=this._checkAndSplitToAllowedPosition(u))?(this._appendToFragment(u),this._firstNode||(this._firstNode=u),this._lastNode=u):this._handleDisallowedNode(u)}}},{key:"_insertPartialFragment",value:function(){if(!this._documentFragment.isEmpty){var u=he.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=u.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=u.toPosition(),u.detach()}}},{key:"_handleObject",value:function(u){this._checkAndSplitToAllowedPosition(u)?this._appendToFragment(u):this._tryAutoparagraphing(u)}},{key:"_handleDisallowedNode",value:function(u){u.is("element")?this.handleNodes(u.getChildren()):this._tryAutoparagraphing(u)}},{key:"_appendToFragment",value:function(u){if(!this.schema.checkChild(this.position,u))throw new V("insertcontent-wrong-position",this,{node:u,position:this.position});this.writer.insert(u,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(u.offsetSize),this.schema.isObject(u)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=u:this._nodeToSelect=null,this._filterAttributesOf.push(u)}},{key:"_setAffectedBoundaries",value:function(u){this._affectedStart||(this._affectedStart=he.fromPosition(u,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(u)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=he.fromPosition(u,"toNext"))}},{key:"_mergeOnLeft",value:function(){var u=this._firstNode;if(u instanceof Ut&&this._canMergeLeft(u)){var a=he._createBefore(u);a.stickiness="toNext";var e=he.fromPosition(this.position,"toNext");this._affectedStart.isEqual(a)&&(this._affectedStart.detach(),this._affectedStart=he._createAt(a.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=a.nodeBefore,this._lastNode=a.nodeBefore),this.writer.merge(a),a.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=he._createAt(a.nodeBefore,"end","toNext")),this.position=e.toPosition(),e.detach(),this._filterAttributesOf.push(this.position.parent),a.detach()}}},{key:"_mergeOnRight",value:function(){var u=this._lastNode;if(u instanceof Ut&&this._canMergeRight(u)){var a=he._createAfter(u);if(a.stickiness="toNext",!this.position.isEqual(a))throw new V("insertcontent-invalid-insertion-position",this);this.position=ct._createAt(a.nodeBefore,"end");var e=he.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(a)&&(this._affectedEnd.detach(),this._affectedEnd=he._createAt(a.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=a.nodeBefore,this._lastNode=a.nodeBefore),this.writer.merge(a),a.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=he._createAt(a.nodeBefore,0,"toPrevious")),this.position=e.toPosition(),e.detach(),this._filterAttributesOf.push(this.position.parent),a.detach()}}},{key:"_canMergeLeft",value:function(u){var a=u.previousSibling;return a instanceof Ut&&this.canMergeWith.has(a)&&this.model.schema.checkMerge(a,u)}},{key:"_canMergeRight",value:function(u){var a=u.nextSibling;return a instanceof Ut&&this.canMergeWith.has(a)&&this.model.schema.checkMerge(u,a)}},{key:"_tryAutoparagraphing",value:function(u){var a=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,a)&&this.schema.checkChild(a,u)&&(a._appendChild(u),this._handleNode(a))}},{key:"_checkAndAutoParagraphToAllowedPosition",value:function(u){if(this.schema.checkChild(this.position.parent,u))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",u))return!1;this._insertPartialFragment();var a=this.writer.createElement("paragraph");return this.writer.insert(a,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=a,this.position=this.writer.createPositionAt(a,0),!0}},{key:"_checkAndSplitToAllowedPosition",value:function(u){var a=this._getAllowedIn(this.position.parent,u);if(!a)return!1;for(a!=this.position.parent&&this._insertPartialFragment();a!=this.position.parent;)if(this.position.isAtStart){var e=this.position.parent;this.position=this.writer.createPositionBefore(e),e.isEmpty&&e.parent===a&&this.writer.remove(e)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{var o=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=o,this.canMergeWith.add(this.position.nodeAfter)}return!0}},{key:"_getAllowedIn",value:function(u,a){return this.schema.checkChild(u,a)?u:this.schema.isLimit(u)?null:this._getAllowedIn(u.parent,a)}}],n&&hz(t.prototype,n),i&&hz(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function vz(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto",i=r.getSelectedElement();if(i&&t.schema.isObject(i)&&!t.schema.isInline(i))return n=="before"||n=="after"?t.createRange(t.createPositionAt(i,n)):t.createRangeOn(i);var u=Vt(r.getSelectedBlocks());if(!u)return t.createRange(r.focus);if(u.isEmpty)return t.createRange(t.createPositionAt(u,0));var a=t.createPositionAfter(u);return r.focus.isTouching(a)?t.createRange(a):t.createRange(t.createPositionBefore(u))}function Yut(r,t,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!r.schema.isObject(t))throw new V("insertobject-element-not-an-object",r,{object:t});var u=n||r.document.selection,a=u;i.findOptimalPosition&&r.schema.isBlock(t)&&(a=r.createSelection(vz(u,r,i.findOptimalPosition)));var e=Vt(u.getSelectedBlocks()),o={};return e&&Object.assign(o,r.schema.getAttributesWithProperty(e,"copyOnReplace",!0)),r.change(function(c){a.isCollapsed||r.deleteContent(a,{doNotAutoparagraph:!0});var l=t,s=a.anchor.parent;!r.schema.checkChild(s,t)&&r.schema.checkChild(s,"paragraph")&&r.schema.checkChild("paragraph",t)&&(l=c.createElement("paragraph"),c.insert(t,l)),r.schema.setAllowedAttributes(l,o,c);var f=r.insertContent(l,a);return f.isCollapsed||i.setSelection&&function(d,h,b,v){var g=d.model;if(b=="on")return void d.setSelection(h,"on");if(b!="after")throw new V("insertobject-invalid-place-parameter-value",g);var k=h.nextSibling;if(g.schema.isInline(h))return void d.setSelection(h,"after");var _=k&&g.schema.checkChild(k,"$text");!_&&g.schema.checkChild(h.parent,"paragraph")&&(k=d.createElement("paragraph"),g.schema.setAllowedAttributes(k,v,d),g.insertContent(k,d.createPositionAfter(h))),k&&d.setSelection(k,0)}(c,t,i.setSelection,o),f})}var Kut=' ,.?!:;"-()';function Zut(r,t){for(var n,i,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=r.schema,e=u.direction!="backward",o=u.unit?u.unit:"character",c=!!u.treatEmojiAsSingleUnit,l=t.focus,s=new mr({boundaries:Qut(l,e),singleCharacters:!0,direction:e?"forward":"backward"}),f={walker:s,schema:a,isForward:e,unit:o,treatEmojiAsSingleUnit:c},d=function(){if(n.done)return{v:void 0};var h=function(b,v){var g=b.isForward,k=b.walker,_=b.unit,A=b.schema,C=b.treatEmojiAsSingleUnit,S=v.type,P=v.item,E=v.nextPosition;if(S=="text")return b.unit==="word"?function(R,I){var z=R.position.textNode;for(z||(z=I?R.position.nodeAfter:R.position.nodeBefore);z&&z.is("$text");){var F=R.position.offset-z.startOffset;if(Xut(z,F,I))z=I?R.position.nodeAfter:R.position.nodeBefore;else{if(Jut(z.data,F,I))break;R.next()}}return R.position}(k,g):function(R,I,z){var F=R.position.textNode;if(F)for(var tt=F.data,Z=R.position.offset-F.startOffset;yC(tt,Z)||I=="character"&&hC(tt,Z)||z&&A4(tt,Z);)R.next(),Z=R.position.offset-F.startOffset;return R.position}(k,_,C);if(S==(g?"elementStart":"elementEnd")){if(A.isSelectable(P))return ct._createAt(P,g?"after":"before");if(A.checkChild(E,"$text"))return E}else{if(A.isLimit(P))return void k.skip(function(){return!0});if(A.checkChild(E,"$text"))return E}}(f,n.value);return h?(t instanceof sr?r.change(function(b){b.setSelectionFocus(h)}):t.setFocus(h),{v:void 0}):void 0};n=s.next();)if(i=d())return i.v}function Qut(r,t){var n=r.root,i=ct._createAt(n,t?"end":0);return t?new ot(r,i):new ot(i,r)}function Jut(r,t,n){var i=t+(n?0:-1);return Kut.includes(r.charAt(i))}function Xut(r,t,n){return t===(n?r.offsetSize:0)}function gc(r){return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(r)}function $j(r,t,n){return $j=Cz()?Reflect.construct.bind():function(i,u,a){var e=[null];e.push.apply(e,u);var o=new(Function.bind.apply(i,e));return a&&Dv(o,a.prototype),o},$j.apply(null,arguments)}function gz(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=kz(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function wz(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||kz(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kz(r,t){if(r){if(typeof r=="string")return _z(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_z(r,t):void 0}}function _z(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Az(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(gc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(gc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),gc(a)==="symbol"?a:String(a)),i)}var u,a}function Dv(r,t){return Dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dv(r,t)}function tlt(r){var t=Cz();return function(){var n,i=Rv(r);if(t){var u=Rv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _h(a)}(this,n)}}function _h(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Cz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}function Rv(r){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rv(r)}var elt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Dv(e,o)})(a,r);var t,n,i,u=tlt(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.call(this)).markers=new Lut,e.document=new Mut(_h(e)),e.schema=new zct,e._pendingChanges=[],e._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(function(o){return e.decorate(o)}),e.on("applyOperation",function(o,c){c[0]._validate()},{priority:"highest"}),e.schema.register("$root",{isLimit:!0}),e.schema.register("$container",{allowIn:["$root","$container"]}),e.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),e.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),e.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),e.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),e.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),e.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),e.schema.register("$marker"),e.schema.addChildCheck(function(o,c){if(c.name==="$marker")return!0}),Tct(_h(e)),e.document.registerPostFixer(c8),e.on("insertContent",function(o,c){var l=wz(c,2),s=l[0],f=l[1];o.return=$ut(_h(e),s,f)}),e.on("insertObject",function(o,c){var l=wz(c,3),s=l[0],f=l[1],d=l[2];o.return=Yut(_h(e),s,f,d)}),e.on("canEditAt",function(o){var c=!e.document.isReadOnly;o.return=c,c||o.stop()}),e}return t=a,n=[{key:"change",value:function(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new dc,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(o){V.rethrowUnexpectedError(o,this)}}},{key:"enqueueChange",value:function(e,o){try{e?typeof e=="function"?(o=e,e=new dc):e instanceof dc||(e=new dc(e)):e=new dc,this._pendingChanges.push({batch:e,callback:o}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(c){V.rethrowUnexpectedError(c,this)}}},{key:"applyOperation",value:function(e){e._execute()}},{key:"insertContent",value:function(e,o,c){for(var l=qj(o,c),s=arguments.length,f=new Array(s>3?s-3:0),d=3;d<s;d++)f[d-3]=arguments[d];return this.fire("insertContent",[e,l,c].concat(f))}},{key:"insertObject",value:function(e,o,c,l){for(var s=qj(o,c),f=arguments.length,d=new Array(f>4?f-4:0),h=4;h<f;h++)d[h-4]=arguments[h];return this.fire("insertObject",[e,s,l,l].concat(d))}},{key:"deleteContent",value:function(e,o){Gut(this,e,o)}},{key:"modifySelection",value:function(e,o){Zut(this,e,o)}},{key:"getSelectedContent",value:function(e){return function(o,c){return o.change(function(l){var s=l.createDocumentFragment(),f=c.getFirstRange();if(!f||f.isCollapsed)return s;var d,h,b=f.start.root,v=f.start.getCommonPath(f.end),g=b.getNodeByPath(v),k=(d=f.start.parent==f.end.parent?f:l.createRange(l.createPositionAt(g,f.start.path[v.length]),l.createPositionAt(g,f.end.path[v.length]+1))).end.offset-d.start.offset,_=Wut(d.getItems({shallow:!0}));try{for(_.s();!(h=_.n()).done;){var A=h.value;A.is("$textProxy")?l.appendText(A.data,A.getAttributes(),s):l.append(l.cloneElement(A,!0),s)}}catch(P){_.e(P)}finally{_.f()}if(d!=f){var C=f._getTransformedByMove(d.start,l.createPositionAt(s,0),k)[0],S=l.createRange(l.createPositionAt(s,0),C.start);yz(l.createRange(C.end,l.createPositionAt(s,"end")),l),yz(S,l)}return s})}(this,e)}},{key:"hasContent",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=e instanceof ot?e:ot._createIn(e);if(c.isCollapsed)return!1;var l=o.ignoreWhitespaces,s=l!==void 0&&l,f=o.ignoreMarkers;if(f===void 0||!f){var d,h=gz(this.markers.getMarkersIntersectingRange(c));try{for(h.s();!(d=h.n()).done;)if(d.value.affectsData)return!0}catch(k){h.e(k)}finally{h.f()}}var b,v=gz(c.getItems());try{for(v.s();!(b=v.n()).done;){var g=b.value;if(this.schema.isContent(g)&&(!g.is("$textProxy")||!s||g.data.search(/\S/)!==-1))return!0}}catch(k){v.e(k)}finally{v.f()}return!1}},{key:"canEditAt",value:function(e){var o=qj(e);return this.fire("canEditAt",[o])}},{key:"createPositionFromPath",value:function(e,o,c){return new ct(e,o,c)}},{key:"createPositionAt",value:function(e,o){return ct._createAt(e,o)}},{key:"createPositionAfter",value:function(e){return ct._createAfter(e)}},{key:"createPositionBefore",value:function(e){return ct._createBefore(e)}},{key:"createRange",value:function(e,o){return new ot(e,o)}},{key:"createRangeIn",value:function(e){return ot._createIn(e)}},{key:"createRangeOn",value:function(e){return ot._createOn(e)}},{key:"createSelection",value:function(){for(var e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return $j(lr,o)}},{key:"createBatch",value:function(e){return new dc(e)}},{key:"createOperationFromJSON",value:function(e){return gut.fromJSON(e,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){var o=this._pendingChanges[0].batch;this._currentWriter=new Uut(this,o);var c=this._pendingChanges[0].callback(this._currentWriter);e.push(c),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}],n&&Az(t.prototype,n),i&&Az(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt());function qj(r,t){if(r)return r instanceof lr||r instanceof sr?r:r instanceof ro?t||t===0?new lr(r,t):r.is("rootElement")?new lr(r,"in"):new lr(r,"on"):new lr(r)}function wc(r){return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(r)}function Oz(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(wc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(wc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),wc(a)==="symbol"?a:String(a)),i)}var u,a}function Yj(r,t){return Yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yj(r,t)}function rlt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Iv(r);if(t){var u=Iv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Iv(r){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Iv(r)}var nlt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Yj(e,o)})(a,r);var t,n,i,u=rlt(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments)).domEventType="click",e}return t=a,(n=[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}])&&Oz(t.prototype,n),i&&Oz(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(an);function kc(r){return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(r)}function Sz(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(kc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(kc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),kc(a)==="symbol"?a:String(a)),i)}var u,a}function Kj(r,t){return Kj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kj(r,t)}function olt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Bv(r);if(t){var u=Bv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Bv(r){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bv(r)}var Mv=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Kj(e,o)})(a,r);var t,n,i,u=olt(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments)).domEventType=["mousedown","mouseup","mouseover","mouseout"],e}return t=a,(n=[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}])&&Sz(t.prototype,n),i&&Sz(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(an);function Ah(r){return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(r)}function Zj(r,t,n){return Zj=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}()?Reflect.construct.bind():function(i,u,a){var e=[null];e.push.apply(e,u);var o=new(Function.bind.apply(i,e));return a&&Qj(o,a.prototype),o},Zj.apply(null,arguments)}function Qj(r,t){return Qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qj(r,t)}function jz(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ah(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ah(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ah(a)==="symbol"?a:String(a)),i)}var u,a}var _r=function(){function r(u){(function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.document=u}var t,n,i;return t=r,n=[{key:"createDocumentFragment",value:function(u){return new Jn(this.document,u)}},{key:"createElement",value:function(u,a,e){return new ar(this.document,u,a,e)}},{key:"createText",value:function(u){return new $t(this.document,u)}},{key:"clone",value:function(u){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return u._clone(a)}},{key:"appendChild",value:function(u,a){return a._appendChild(u)}},{key:"insertChild",value:function(u,a,e){return e._insertChild(u,a)}},{key:"removeChildren",value:function(u,a,e){return e._removeChildren(u,a)}},{key:"remove",value:function(u){var a=u.parent;return a?this.removeChildren(a.getChildIndex(u),1,a):[]}},{key:"replace",value:function(u,a){var e=u.parent;if(e){var o=e.getChildIndex(u);return this.removeChildren(o,1,e),this.insertChild(o,a,e),!0}return!1}},{key:"unwrapElement",value:function(u){var a=u.parent;if(a){var e=a.getChildIndex(u);this.remove(u),this.insertChild(e,u.getChildren(),a)}}},{key:"rename",value:function(u,a){var e=new ar(this.document,u,a.getAttributes(),a.getChildren());return this.replace(a,e)?e:null}},{key:"setAttribute",value:function(u,a,e){e._setAttribute(u,a)}},{key:"removeAttribute",value:function(u,a){a._removeAttribute(u)}},{key:"addClass",value:function(u,a){a._addClass(u)}},{key:"removeClass",value:function(u,a){a._removeClass(u)}},{key:"setStyle",value:function(u,a,e){Te(u)&&e===void 0?a._setStyle(u):e._setStyle(u,a)}},{key:"removeStyle",value:function(u,a){a._removeStyle(u)}},{key:"setCustomProperty",value:function(u,a,e){e._setCustomProperty(u,a)}},{key:"removeCustomProperty",value:function(u,a){return a._removeCustomProperty(u)}},{key:"createPositionAt",value:function(u,a){return ft._createAt(u,a)}},{key:"createPositionAfter",value:function(u){return ft._createAfter(u)}},{key:"createPositionBefore",value:function(u){return ft._createBefore(u)}},{key:"createRange",value:function(u,a){return new Ot(u,a)}},{key:"createRangeOn",value:function(u){return Ot._createOn(u)}},{key:"createRangeIn",value:function(u){return Ot._createIn(u)}},{key:"createSelection",value:function(){for(var u=arguments.length,a=new Array(u),e=0;e<u;e++)a[e]=arguments[e];return Zj(en,a)}}],n&&jz(t.prototype,n),i&&jz(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}(),ilt=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,alt=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,clt=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,ult=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,llt=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,slt=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,flt=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function Pz(r){return r.startsWith("#")?ilt.test(r):r.startsWith("rgb")?alt.test(r)||clt.test(r):r.startsWith("hsl")?ult.test(r)||llt.test(r):flt.has(r.toLowerCase())}var dlt=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function plt(r){return dlt.includes(r)}var ylt=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function Nv(r){return ylt.test(r)}var hlt=/^[+-]?[0-9]*([.][0-9]+)?%$/;function Ez(r){return hlt.test(r)}var blt=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function mlt(r){return blt.includes(r)}var vlt=["center","top","bottom","left","right"];function glt(r){return vlt.includes(r)}var wlt=["fixed","scroll","local"];function klt(r){return wlt.includes(r)}var _lt=/^url\(/;function Alt(r){return _lt.test(r)}function Ch(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(r==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};var t=Jj(r),n=t[0],i=t[2]||n,u=t[1]||n;return{top:n,bottom:i,right:u,left:t[3]||u}}function Oh(r){return function(t){var n=t.top,i=t.right,u=t.bottom,a=t.left,e=[];return[n,i,a,u].every(function(o){return!!o})?e.push([r,Clt(t)]):(n&&e.push([r+"-top",n]),i&&e.push([r+"-right",i]),u&&e.push([r+"-bottom",u]),a&&e.push([r+"-left",a])),e}}function Clt(r){var t=r.top,n=r.right,i=r.bottom,u=r.left,a=[];return u!==n?a.push(t,n,i,u):i!==t?a.push(t,n,i):n!==t?a.push(t,n):a.push(t),a.join(" ")}function xz(r){return function(t){return{path:r,value:Ch(t)}}}function Jj(r){var t=r.matchAll(slt);return Array.from(t).map(function(n){return n[0]})}function Olt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return Tz(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Tz(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Tz(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Xj(r){r.setNormalizer("background",function(t){var n,i={},u=Olt(Jj(t));try{for(u.s();!(n=u.n()).done;){var a=n.value;mlt(a)?(i.repeat=i.repeat||[],i.repeat.push(a)):glt(a)?(i.position=i.position||[],i.position.push(a)):klt(a)?i.attachment=a:Pz(a)?i.color=a:Alt(a)&&(i.image=a)}}catch(e){u.e(e)}finally{u.f()}return{path:"background",value:i}}),r.setNormalizer("background-color",function(t){return{path:"background.color",value:t}}),r.setReducer("background",function(t){var n=[];return n.push(["background-color",t.color]),n}),r.setStyleRelation("background",["background-color"])}function Sh(r){return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(r)}function jh(r){return function(t){if(Array.isArray(t))return eP(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||tP(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Slt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||tP(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function tP(r,t){if(r){if(typeof r=="string")return eP(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eP(r,t):void 0}}function eP(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function _c(r,t,n){return t=function(i){var u=function(a,e){if(Sh(a)!=="object"||a===null)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var c=o.call(a,e||"default");if(Sh(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}(i,"string");return Sh(u)==="symbol"?u:String(u)}(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Dz(r){r.setNormalizer("border",function(t){var n=Rz(t),i=n.color,u=n.style,a=n.width;return{path:"border",value:{color:Ch(i),style:Ch(u),width:Ch(a)}}}),r.setNormalizer("border-top",Lv("top")),r.setNormalizer("border-right",Lv("right")),r.setNormalizer("border-bottom",Lv("bottom")),r.setNormalizer("border-left",Lv("left")),r.setNormalizer("border-color",rP("color")),r.setNormalizer("border-width",rP("width")),r.setNormalizer("border-style",rP("style")),r.setNormalizer("border-top-color",Xe("color","top")),r.setNormalizer("border-top-style",Xe("style","top")),r.setNormalizer("border-top-width",Xe("width","top")),r.setNormalizer("border-right-color",Xe("color","right")),r.setNormalizer("border-right-style",Xe("style","right")),r.setNormalizer("border-right-width",Xe("width","right")),r.setNormalizer("border-bottom-color",Xe("color","bottom")),r.setNormalizer("border-bottom-style",Xe("style","bottom")),r.setNormalizer("border-bottom-width",Xe("width","bottom")),r.setNormalizer("border-left-color",Xe("color","left")),r.setNormalizer("border-left-style",Xe("style","left")),r.setNormalizer("border-left-width",Xe("width","left")),r.setExtractor("border-top",zv("top")),r.setExtractor("border-right",zv("right")),r.setExtractor("border-bottom",zv("bottom")),r.setExtractor("border-left",zv("left")),r.setExtractor("border-top-color","border.color.top"),r.setExtractor("border-right-color","border.color.right"),r.setExtractor("border-bottom-color","border.color.bottom"),r.setExtractor("border-left-color","border.color.left"),r.setExtractor("border-top-width","border.width.top"),r.setExtractor("border-right-width","border.width.right"),r.setExtractor("border-bottom-width","border.width.bottom"),r.setExtractor("border-left-width","border.width.left"),r.setExtractor("border-top-style","border.style.top"),r.setExtractor("border-right-style","border.style.right"),r.setExtractor("border-bottom-style","border.style.bottom"),r.setExtractor("border-left-style","border.style.left"),r.setReducer("border-color",Oh("border-color")),r.setReducer("border-style",Oh("border-style")),r.setReducer("border-width",Oh("border-width")),r.setReducer("border-top",Fv("top")),r.setReducer("border-right",Fv("right")),r.setReducer("border-bottom",Fv("bottom")),r.setReducer("border-left",Fv("left")),r.setReducer("border",function(){return function(n){var i=Ph(n,"top"),u=Ph(n,"right"),a=Ph(n,"bottom"),e=Ph(n,"left"),o=[i,u,a,e],c={width:t(o,"width"),style:t(o,"style"),color:t(o,"color")},l=Ac(c,"all");if(l.length)return l;var s=Object.entries(c).reduce(function(f,d){var h=Slt(d,2),b=h[0],v=h[1];return v&&(f.push(["border-".concat(b),v]),o.forEach(function(g){return delete g[b]})),f},[]);return[].concat(jh(s),jh(Ac(i,"top")),jh(Ac(u,"right")),jh(Ac(a,"bottom")),jh(Ac(e,"left")))};function t(n,i){return n.map(function(u){return u[i]}).reduce(function(u,a){return u==a?u:null})}}()),r.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),r.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),r.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),r.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),r.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),r.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),r.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),r.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function Lv(r){return function(t){var n=Rz(t),i=n.color,u=n.style,a=n.width,e={};return i!==void 0&&(e.color=_c({},r,i)),u!==void 0&&(e.style=_c({},r,u)),a!==void 0&&(e.width=_c({},r,a)),{path:"border",value:e}}}function rP(r){return function(t){return{path:"border",value:jlt(t,r)}}}function jlt(r,t){return _c({},t,Ch(r))}function Xe(r,t){return function(n){return{path:"border",value:_c({},r,_c({},t,n))}}}function zv(r){return function(t,n){if(n.border)return Ph(n.border,r)}}function Ph(r,t){var n={};return r.width&&r.width[t]&&(n.width=r.width[t]),r.style&&r.style[t]&&(n.style=r.style[t]),r.color&&r.color[t]&&(n.color=r.color[t]),n}function Rz(r){var t,n={},i=function(a,e){var o=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!o){if(Array.isArray(a)||(o=tP(a))||e&&a&&typeof a.length=="number"){o&&(a=o);var c=0,l=function(){};return{s:l,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(h){throw h},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,f=!0,d=!1;return{s:function(){o=o.call(a)},n:function(){var h=o.next();return f=h.done,h},e:function(h){d=!0,s=h},f:function(){try{f||o.return==null||o.return()}finally{if(d)throw s}}}}(Jj(r));try{for(i.s();!(t=i.n()).done;){var u=t.value;Nv(u)||/thin|medium|thick/.test(u)?n.width=u:plt(u)?n.style=u:n.color=u}}catch(a){i.e(a)}finally{i.f()}return n}function Fv(r){return function(t){return Ac(t,r)}}function Ac(r,t){var n=[];if(r&&r.width&&n.push("width"),r&&r.style&&n.push("style"),r&&r.color&&n.push("color"),n.length==3){var i=n.map(function(u){return r[u]}).join(" ");return[t=="all"?["border",i]:["border-".concat(t),i]]}return t=="all"?[]:n.map(function(u){return["border-".concat(t,"-").concat(u),r[u]]})}function Plt(r){r.setNormalizer("margin",xz("margin")),r.setNormalizer("margin-top",function(t){return{path:"margin.top",value:t}}),r.setNormalizer("margin-right",function(t){return{path:"margin.right",value:t}}),r.setNormalizer("margin-bottom",function(t){return{path:"margin.bottom",value:t}}),r.setNormalizer("margin-left",function(t){return{path:"margin.left",value:t}}),r.setReducer("margin",Oh("margin")),r.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function Elt(r){r.setNormalizer("padding",xz("padding")),r.setNormalizer("padding-top",function(t){return{path:"padding.top",value:t}}),r.setNormalizer("padding-right",function(t){return{path:"padding.right",value:t}}),r.setNormalizer("padding-bottom",function(t){return{path:"padding.bottom",value:t}}),r.setNormalizer("padding-left",function(t){return{path:"padding.left",value:t}}),r.setReducer("padding",Oh("padding")),r.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}function so(r){return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(r)}function xlt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return Iz(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Iz(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Iz(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Eh(){Eh=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&so(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(so(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function Bz(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(so(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(so(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),so(a)==="symbol"?a:String(a)),i)}var u,a}var Tlt=function(r){function t(){(function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._commands=new Map}var n,i,u;return n=t,i=[{key:"add",value:function(a,e){this._commands.set(a,e)}},{key:"get",value:function(a){return this._commands.get(a)}},{key:"execute",value:function(a){var e=this.get(a);if(!e)throw new V("commandcollection-command-not-found",this,{commandName:a});for(var o=arguments.length,c=new Array(o>1?o-1:0),l=1;l<o;l++)c[l-1]=arguments[l];return e.execute.apply(e,c)}},{key:"names",value:Eh().mark(function a(){return Eh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return e.stop()}},a,this)})},{key:"commands",value:Eh().mark(function a(){return Eh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return e.stop()}},a,this)})},{key:r,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var a,e=xlt(this.commands());try{for(e.s();!(a=e.n()).done;)a.value.destroy()}catch(o){e.e(o)}finally{e.f()}}}],i&&Bz(n.prototype,i),u&&Bz(n,u),Object.defineProperty(n,"prototype",{writable:!1}),t}(Symbol.iterator);function Cc(r){return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(r)}function Mz(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Cc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Cc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Cc(a)==="symbol"?a:String(a)),i)}var u,a}function nP(){return nP=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Oc(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},nP.apply(this,arguments)}function oP(r,t){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oP(r,t)}function Dlt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Oc(r);if(t){var u=Oc(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Oc(r){return Oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Oc(r)}var Rlt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&oP(e,o)})(a,r);var t,n,i,u=Dlt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this)).editor=e,o}return t=a,n=[{key:"set",value:function(e,o){var c=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof o=="string"){var s=o;o=function(f,d){c.editor.execute(s),d()}}nP(Oc(a.prototype),"set",this).call(this,e,o,l)}}],n&&Mz(t.prototype,n),i&&Mz(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(de);function yn(r){return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(r)}function Nz(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(yn(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(yn(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),yn(a)==="symbol"?a:String(a)),i)}var u,a}function iP(r,t){return iP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iP(r,t)}function Ilt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Vv(r);if(t){var u=Vv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(yn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xh(a)}(this,n)}}function xh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Vv(r){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vv(r)}var Blt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&iP(e,o)})(a,r);var t,n,i,u=Ilt(a);function a(){var e,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,a);var c=(e=u.call(this)).constructor,l=o.language||c.defaultConfig&&c.defaultConfig.language;e._context=o.context||new GM({language:l}),e._context._addEditor(xh(e),!o.context);var s=Array.from(c.builtinPlugins||[]);e.config=new P3(o,c.defaultConfig),e.config.define("plugins",s),e.config.define(e._context._getEditorConfig()),e.plugins=new FM(xh(e),s,e._context.plugins),e.locale=e._context.locale,e.t=e.locale.t,e._readOnlyLocks=new Set,e.commands=new Tlt,e.set("state","initializing"),e.once("ready",function(){return e.state="ready"},{priority:"high"}),e.once("destroy",function(){return e.state="destroyed"},{priority:"high"}),e.model=new elt,e.on("change:isReadOnly",function(){e.model.document.isReadOnly=e.isReadOnly});var f=new Eit;return e.data=new nut(e.model,f),e.editing=new Rct(e.model,f),e.editing.view.document.bind("isReadOnly").to(xh(e)),e.conversion=new aut([e.editing.downcastDispatcher,e.data.downcastDispatcher],e.data.upcastDispatcher),e.conversion.addAlias("dataDowncast",e.data.downcastDispatcher),e.conversion.addAlias("editingDowncast",e.editing.downcastDispatcher),e.keystrokes=new Rlt(xh(e)),e.keystrokes.listenTo(e.editing.view.document),e}return t=a,n=[{key:"isReadOnly",get:function(){return this._readOnlyLocks.size>0},set:function(e){throw new V("editor-isreadonly-has-no-setter")}},{key:"enableReadOnlyMode",value:function(e){if(typeof e!="string"&&yn(e)!=="symbol")throw new V("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}},{key:"disableReadOnlyMode",value:function(e){if(typeof e!="string"&&yn(e)!=="symbol")throw new V("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}},{key:"initPlugins",value:function(){var e=this.config,o=e.get("plugins"),c=e.get("removePlugins")||[],l=e.get("extraPlugins")||[],s=e.get("substitutePlugins")||[];return this.plugins.init(o.concat(l),c,s)}},{key:"destroy",value:function(){var e=this,o=Promise.resolve();return this.state=="initializing"&&(o=new Promise(function(c){return e.once("ready",c)})),o.then(function(){e.fire("destroy"),e.stopListening(),e.commands.destroy()}).then(function(){return e.plugins.destroy()}).then(function(){e.model.destroy(),e.data.destroy(),e.editing.destroy(),e.keystrokes.destroy()}).then(function(){return e._context._removeEditor(e)})}},{key:"execute",value:function(e){try{for(var o,c=arguments.length,l=new Array(c>1?c-1:0),s=1;s<c;s++)l[s-1]=arguments[s];return(o=this.commands).execute.apply(o,[e].concat(l))}catch(f){V.rethrowUnexpectedError(f,this)}}},{key:"focus",value:function(){this.editing.view.focus()}}],i=[{key:"create",value:function(){throw new Error("This is an abstract method.")}}],n&&Nz(t.prototype,n),i&&Nz(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt());function Sc(r){return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(r)}function Lz(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Sc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Sc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Sc(a)==="symbol"?a:String(a)),i)}var u,a}function aP(r,t){return aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aP(r,t)}function Mlt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Uv(r);if(t){var u=Uv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Uv(r){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uv(r)}function Hv(r){var t=function(n){(function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),l&&aP(c,l)})(o,n);var i,u,a,e=Mlt(o);function o(){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,o),e.apply(this,arguments)}return i=o,u=[{key:"setData",value:function(c){this.data.set(c)}},{key:"getData",value:function(c){return this.data.get(c)}}],u&&Lz(i.prototype,u),a&&Lz(i,a),Object.defineProperty(i,"prototype",{writable:!1}),o}(r);return t}var zz=Hv(Object);function jc(r){return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(r)}function Fz(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(jc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(jc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),jc(a)==="symbol"?a:String(a)),i)}var u,a}function cP(r,t){return cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cP(r,t)}function Nlt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gv(r);if(t){var u=Gv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Gv(r){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gv(r)}function uP(r){var t=function(n){(function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),l&&cP(c,l)})(o,n);var i,u,a,e=Nlt(o);function o(){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,o),e.apply(this,arguments)}return i=o,u=[{key:"updateSourceElement",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data.get();if(!this.sourceElement)throw new V("editor-missing-sourceelement",this);var l=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;Rnt(this.sourceElement,l||s?c:"")}}],u&&Fz(i.prototype,u),a&&Fz(i,a),Object.defineProperty(i,"prototype",{writable:!1}),o}(r);return t}function Pc(r){return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(r)}function Vz(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Pc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Pc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Pc(a)==="symbol"?a:String(a)),i)}var u,a}function lP(r,t){return lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lP(r,t)}function Llt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Wv(r);if(t){var u=Wv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Wv(r){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wv(r)}Hv.setData=zz.prototype.setData,Hv.getData=zz.prototype.getData,uP.updateSourceElement=uP(Object).prototype.updateSourceElement;var $v=function(r,t){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),c&&lP(o,c)})(e,r);var n,i,u,a=Llt(e);function e(){return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,e),a.apply(this,arguments)}return n=e,u=[{key:"pluginName",get:function(){return"PendingActions"}}],(i=[{key:"init",value:function(){this.set("hasAny",!1),this._actions=new Qt({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}},{key:"add",value:function(o){if(typeof o!="string")throw new V("pendingactions-add-invalid-message",this);var c=new(Rt());return c.set("message",o),this._actions.add(c),this.hasAny=!0,c}},{key:"remove",value:function(o){this._actions.remove(o),this.hasAny=!!this._actions.length}},{key:"first",get:function(){return this._actions.get(0)}},{key:t,value:function(){return this._actions[Symbol.iterator]()}}])&&Vz(n.prototype,i),u&&Vz(n,u),Object.defineProperty(n,"prototype",{writable:!1}),e}(sm,Symbol.iterator);const Uz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',Hz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',Gz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>';var Wz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',fo=Uz,$z='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',po=Hz,zlt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',Flt=Gz,qz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',Vlt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',Ult='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',Yz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',Hlt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',Glt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',Wlt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',$lt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',qlt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',sP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',Kz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',Zz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',Qz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',Jz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',Xz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',tF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',Ylt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',Klt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',Zlt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',Qlt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',Jlt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',Xlt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',tst='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',est='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',fP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',rst='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',eF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',rF=x(4768),nst={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(rF.Z,nst),rF.Z.locals;function Ec(r){return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(r)}function nF(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return oF(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return oF(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function oF(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function qv(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function iF(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ec(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ec(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ec(a)==="symbol"?a:String(a)),i)}var u,a}function Yv(r,t,n){return t&&iF(r.prototype,t),n&&iF(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Kv(){return Kv=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=yo(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},Kv.apply(this,arguments)}function aF(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&dP(r,t)}function dP(r,t){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dP(r,t)}function cF(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=yo(r);if(t){var u=yo(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zv(a)}(this,n)}}function Zv(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function yo(r){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yo(r)}var uF=eF,ost={alignLeft:sP,bold:Wz,importExport:Ult,paragraph:Yz,plus:Hlt,text:Glt,threeVerticalDots:eF},xc=function(r){aF(n,r);var t=cF(n);function n(i,u){var a;qv(this,n);var e=(a=t.call(this,i)).bindTemplate,o=a.t;a.options=u||{},a.set("ariaLabel",o("Editor toolbar")),a.set("maxWidth","auto"),a.items=a.createCollection(),a.focusTracker=new ce,a.keystrokes=new de,a.set("class",void 0),a.set("isCompact",!1),a.itemsView=new ist(i),a.children=a.createCollection(),a.children.add(a.itemsView),a.focusables=a.createCollection();var c=i.uiLanguageDirection==="rtl";a._focusCycler=new Qe({focusables:a.focusables,focusTracker:a.focusTracker,keystrokeHandler:a.keystrokes,actions:{focusPrevious:[c?"arrowright":"arrowleft","arrowup"],focusNext:[c?"arrowleft":"arrowright","arrowdown"]}});var l,s=["ck","ck-toolbar",e.to("class"),e.if("isCompact","ck-toolbar_compact")];return a.options.shouldGroupWhenFull&&a.options.isFloating&&s.push("ck-toolbar_floating"),a.setTemplate({tag:"div",attributes:{class:s,role:"toolbar","aria-label":e.to("ariaLabel"),style:{maxWidth:e.to("maxWidth")},tabindex:-1},children:a.children,on:{mousedown:(l=Zv(a),l.bindTemplate.to(function(f){f.target===l.element&&f.preventDefault()}))}}),a._behavior=a.options.shouldGroupWhenFull?new cst(Zv(a)):new ast(Zv(a)),a}return Yv(n,[{key:"render",value:function(){var i=this;Kv(yo(n.prototype),"render",this).call(this),this.focusTracker.add(this.element);var u,a=nF(this.items);try{for(a.s();!(u=a.n()).done;){var e=u.value;this.focusTracker.add(e.element)}}catch(o){a.e(o)}finally{a.f()}this.items.on("add",function(o,c){i.focusTracker.add(c.element)}),this.items.on("remove",function(o,c){i.focusTracker.remove(c.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}},{key:"destroy",value:function(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),Kv(yo(n.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"fillFromConfig",value:function(i,u,a){this.items.addMany(this._buildItemsFromConfig(i,u,a))}},{key:"_buildItemsFromConfig",value:function(i,u,a){var e=this,o=TM(i),c=a||o.removeItems;return this._cleanItemsConfiguration(o.items,u,c).map(function(l){return Gt(l)?e._createNestedToolbarDropdown(l,u,c):l==="|"?new QC:l==="-"?new Vot:u.create(l)}).filter(function(l){return!!l})}},{key:"_cleanItemsConfiguration",value:function(i,u,a){var e=this,o=i.filter(function(c,l,s){return c==="|"||a.indexOf(c)===-1&&(c==="-"?!e.options.shouldGroupWhenFull||(Ct("toolbarview-line-break-ignored-when-grouping-items",s),!1):!(!Gt(c)&&!u.has(c))||(Ct("toolbarview-item-unavailable",{item:c}),!1))});return this._cleanSeparatorsAndLineBreaks(o)}},{key:"_cleanSeparatorsAndLineBreaks",value:function(i){var u=function(c){return c!=="-"&&c!=="|"},a=i.length,e=i.findIndex(u);if(e===-1)return[];var o=a-i.slice().reverse().findIndex(u);return i.slice(e,o).filter(function(c,l,s){return!!u(c)||!(l>0&&s[l-1]===c)})}},{key:"_createNestedToolbarDropdown",value:function(i,u,a){var e=i.label,o=i.icon,c=i.items,l=i.tooltip,s=l===void 0||l,f=i.withText,d=f!==void 0&&f;if(!(c=this._cleanItemsConfiguration(c,u,a)).length)return null;var h=ae(this.locale);return e||Ct("toolbarview-nested-toolbar-dropdown-missing-label",i),h.class="ck-toolbar__nested-toolbar-dropdown",h.buttonView.set({label:e,tooltip:s,withText:!!d}),o!==!1?h.buttonView.icon=ost[o]||o||uF:h.buttonView.withText=!0,Th(h,function(){return h.toolbarView._buildItemsFromConfig(c,u,a)}),h}}]),n}(yt),ist=function(r){aF(n,r);var t=cF(n);function n(i){var u;return qv(this,n),(u=t.call(this,i)).children=u.createCollection(),u.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:u.children}),u}return Yv(n)}(yt),ast=function(){function r(t){qv(this,r);var n=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(function(i){return i}),t.focusables.bindTo(t.items).using(function(i){return i}),t.extendTemplate({attributes:{class:[n.if("isVertical","ck-toolbar_vertical")]}})}return Yv(r,[{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),r}(),cst=function(){function r(t){var n=this;qv(this,r),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using(function(i){return i}),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),t.children.on("change",this._updateFocusCycleableItems.bind(this)),t.items.on("change",function(i,u){var a,e=u.index,o=Array.from(u.added),c=nF(u.removed);try{for(c.s();!(a=c.n()).done;){var l=a.value;e>=n.ungroupedItems.length?n.groupedItems.remove(l):n.ungroupedItems.remove(l)}}catch(d){c.e(d)}finally{c.f()}for(var s=e;s<e+o.length;s++){var f=o[s-e];s>n.ungroupedItems.length?n.groupedItems.add(f,s-n.ungroupedItems.length):n.ungroupedItems.add(f,s)}n._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}return Yv(r,[{key:"render",value:function(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}},{key:"destroy",value:function(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}},{key:"_updateGrouping",value:function(){if(this.viewElement.ownerDocument.body.contains(this.viewElement))if(Zr(this.viewElement)){for(var t,n=this.groupedItems.length;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==n&&this.view.fire("groupedItemsUpdate")}else this.shouldUpdateGroupingOnNextResize=!0}},{key:"_areItemsOverflowing",get:function(){if(!this.ungroupedItems.length)return!1;var t=this.viewElement,n=this.viewLocale.uiLanguageDirection,i=new Lt(t.lastChild),u=new Lt(t);if(!this.cachedPadding){var a=kt.window.getComputedStyle(t),e=n==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(a[e])}return n==="ltr"?i.right>u.right-this.cachedPadding:i.left<u.left+this.cachedPadding}},{key:"_enableGroupingOnResize",value:function(){var t,n=this;this.resizeObserver=new Mb(this.viewElement,function(i){t&&t===i.contentRect.width&&!n.shouldUpdateGroupingOnNextResize||(n.shouldUpdateGroupingOnNextResize=!1,n._updateGrouping(),t=i.contentRect.width)}),this._updateGrouping()}},{key:"_enableGroupingOnMaxWidthChange",value:function(t){var n=this;t.on("change:maxWidth",function(){n._updateGrouping()})}},{key:"_groupLastItem",value:function(){this.groupedItems.length||(this.viewChildren.add(new QC),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}},{key:"_ungroupFirstItem",value:function(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}},{key:"_createGroupedItemsDropdown",value:function(){var t=this.viewLocale,n=t.t,i=ae(t);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se",Th(i,this.groupedItems),i.buttonView.set({label:n("Show more items"),tooltip:!0,tooltipPosition:t.uiLanguageDirection==="rtl"?"se":"sw",icon:uF}),i}},{key:"_updateFocusCycleableItems",value:function(){var t=this;this.viewFocusables.clear(),this.ungroupedItems.map(function(n){t.viewFocusables.add(n)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}]),r}(),lF=x(179),ust={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(lF.Z,ust),lF.Z.locals;function Tc(r){return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(r)}function lst(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return sF(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return sF(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function sF(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function fF(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Tc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Tc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Tc(a)==="symbol"?a:String(a)),i)}var u,a}function Qv(){return Qv=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=ho(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},Qv.apply(this,arguments)}function pP(r,t){return pP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pP(r,t)}function sst(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ho(r);if(t){var u=ho(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function ho(r){return ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ho(r)}var fst=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&pP(e,o)})(a,r);var t,n,i,u=sst(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a);var c=(o=u.call(this,e)).bindTemplate;return o.items=o.createCollection(),o.focusTracker=new ce,o.keystrokes=new de,o._focusCycler=new Qe({focusables:o.items,focusTracker:o.focusTracker,keystrokeHandler:o.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),o.set("ariaLabel",void 0),o.set("role",void 0),o.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:c.to("role"),"aria-label":c.to("ariaLabel")},children:o.items}),o}return t=a,(n=[{key:"render",value:function(){var e=this;Qv(ho(a.prototype),"render",this).call(this);var o,c=lst(this.items);try{for(c.s();!(o=c.n()).done;){var l=o.value;this.focusTracker.add(l.element)}}catch(s){c.e(s)}finally{c.f()}this.items.on("add",function(s,f){e.focusTracker.add(f.element)}),this.items.on("remove",function(s,f){e.focusTracker.remove(f.element)}),this.keystrokes.listenTo(this.element)}},{key:"destroy",value:function(){Qv(ho(a.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}}])&&fF(t.prototype,n),i&&fF(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function Dc(r){return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(r)}function dF(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Dc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Dc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Dc(a)==="symbol"?a:String(a)),i)}var u,a}function yP(r,t){return yP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yP(r,t)}function dst(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Jv(r);if(t){var u=Jv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Jv(r){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jv(r)}var pF=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&yP(e,o)})(a,r);var t,n,i,u=dst(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a);var c=(o=u.call(this,e)).bindTemplate;return o.set("isVisible",!0),o.children=o.createCollection(),o.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",c.if("isVisible","ck-hidden",function(l){return!l})],role:"presentation"},children:o.children}),o}return t=a,(n=[{key:"focus",value:function(){this.children.first.focus()}}])&&dF(t.prototype,n),i&&dF(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function Rc(r){return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(r)}function yF(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Rc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Rc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Rc(a)==="symbol"?a:String(a)),i)}var u,a}function hP(r,t){return hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hP(r,t)}function pst(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Xv(r);if(t){var u=Xv(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Xv(r){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xv(r)}var yst=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&hP(e,o)})(a,r);var t,n,i,u=pst(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}}),o}return t=a,n&&yF(t.prototype,n),i&&yF(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(yt),hF=x(4791),hst={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(hF.Z,hst),hF.Z.locals;function Ic(r){return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(r)}function bF(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ic(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ic(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ic(a)==="symbol"?a:String(a)),i)}var u,a}function tg(){return tg=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=bo(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},tg.apply(this,arguments)}function bP(r,t){return bP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bP(r,t)}function bst(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=bo(r);if(t){var u=bo(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function bo(r){return bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bo(r)}var Bc=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&bP(e,o)})(a,r);var t,n,i,u=bst(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a);var c=(o=u.call(this,e)).bindTemplate;return o.set("class",void 0),o.set("labelStyle",void 0),o.set("icon",void 0),o.set("isEnabled",!0),o.set("isOn",!1),o.set("isToggleable",!1),o.set("isVisible",!0),o.set("keystroke",void 0),o.set("withKeystroke",!1),o.set("label",void 0),o.set("tabindex",-1),o.set("tooltip",!1),o.set("tooltipPosition","s"),o.set("type","button"),o.set("withText",!1),o.children=o.createCollection(),o.actionView=o._createActionView(),o.arrowView=o._createArrowView(),o.keystrokes=new de,o.focusTracker=new ce,o.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",c.to("class"),c.if("isVisible","ck-hidden",function(l){return!l}),o.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:o.children}),o}return t=a,n=[{key:"render",value:function(){var e=this;tg(bo(a.prototype),"render",this).call(this),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",function(o,c){e.focusTracker.focusedElement===e.actionView.element&&(e.arrowView.focus(),c())}),this.keystrokes.set("arrowleft",function(o,c){e.focusTracker.focusedElement===e.arrowView.element&&(e.actionView.focus(),c())})}},{key:"destroy",value:function(){tg(bo(a.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this.actionView.focus()}},{key:"_createActionView",value:function(){var e=new vt;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}},{key:"_createArrowView",value:function(){var e=new vt,o=e.bindTemplate;return e.icon=AM,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":o.to("isOn"),"aria-haspopup":!0,"aria-expanded":o.to("isOn",function(c){return String(c)})}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}],n&&bF(t.prototype,n),i&&bF(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt),mF=x(2704),mst={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(mF.Z,mst),mF.Z.locals;var vF=x(1883),vst={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(vF.Z,vst),vF.Z.locals;function gF(r){return function(t){if(Array.isArray(t))return mP(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||function(t,n){if(t){if(typeof t=="string")return mP(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return mP(t,n)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mP(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function ae(r){var t=new(arguments.length>1&&arguments[1]!==void 0?arguments[1]:SM)(r),n=new Iot(r),i=new $C(r,t,n);return t.bind("isEnabled").to(i),t instanceof Bc?t.arrowView.bind("isOn").to(i,"isOpen"):t.bind("isOn").to(i,"isOpen"),function(u){(function(a){a.on("render",function(){L({emitter:a,activator:function(){return a.isOpen},callback:function(){a.isOpen=!1},contextElements:function(){return[a.element].concat(gF(a.focusTracker._elements))}})})})(u),function(a){a.on("execute",function(e){e.source instanceof Yb||(a.isOpen=!1)})}(u),function(a){a.focusTracker.on("change:isFocused",function(e,o,c){a.isOpen&&!c&&(a.isOpen=!1)})}(u),function(a){a.keystrokes.set("arrowdown",function(e,o){a.isOpen&&(a.panelView.focus(),o())}),a.keystrokes.set("arrowup",function(e,o){a.isOpen&&(a.panelView.focusLast(),o())})}(u),function(a){a.on("change:isOpen",function(e,o,c){if(!c){var l=a.panelView.element;l&&l.contains(kt.document.activeElement)&&a.buttonView.focus()}})}(u),function(a){a.on("change:isOpen",function(e,o,c){c&&a.panelView.focus()},{priority:"low"})}(u)}(i),i}function Th(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};r.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),r.isOpen?wF(r,t,n):r.once("change:isOpen",function(){return wF(r,t,n)},{priority:"highest"}),n.enableActiveItemFocusOnDropdownOpen&&vP(r,function(){return r.toolbarView.items.find(function(i){return i.isOn})})}function wF(r,t,n){var i=r.locale,u=i.t,a=r.toolbarView=new xc(i),e=typeof t=="function"?t():t;a.ariaLabel=n.ariaLabel||u("Dropdown toolbar"),n.maxWidth&&(a.maxWidth=n.maxWidth),n.class&&(a.class=n.class),n.isCompact&&(a.isCompact=n.isCompact),n.isVertical&&(a.isVertical=!0),e instanceof De?a.items.bindTo(e).using(function(o){return o}):a.items.addMany(e),r.panelView.children.add(a),a.items.delegate("execute").to(r)}function zr(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};r.isOpen?kF(r,t,n):r.once("change:isOpen",function(){return kF(r,t,n)},{priority:"highest"}),vP(r,function(){return r.listView.items.find(function(i){return i instanceof pF&&i.children.first.isOn})})}function kF(r,t,n){var i=r.locale,u=r.listView=new fst(i),a=typeof t=="function"?t():t;u.ariaLabel=n.ariaLabel,u.role=n.role,u.items.bindTo(a).using(function(e){if(e.type==="separator")return new yst(i);if(e.type==="button"||e.type==="switchbutton"){var o,c,l=new pF(i);return(o=c=e.type==="button"?new vt(i):new Yb(i)).bind.apply(o,gF(Object.keys(e.model))).to(e.model),c.delegate("execute").to(l),l.children.add(c),l}return null}),r.panelView.children.add(u),u.items.delegate("execute").to(r)}function vP(r,t){r.on("change:isOpen",function(){if(r.isOpen){var n=t();n&&(typeof n.focus=="function"?n.focus():Ct("ui-dropdown-focus-child-on-open-child-missing-focus",{view:n}))}},{priority:we.low-10})}function Ge(r,t,n){var i=new gM(r.locale);return i.set({id:t,ariaDescribedById:n}),i.bind("isReadOnly").to(r,"isEnabled",function(u){return!u}),i.bind("hasError").to(r,"errorText",function(u){return!!u}),i.on("input",function(){r.errorText=null}),r.bind("isEmpty","isFocused","placeholder").to(i),i}function _F(r,t,n){var i=ae(r.locale);return i.set({id:t,ariaDescribedById:n}),i.bind("isEnabled").to(r),i}const Dh=(r,t=0,n=1)=>r>n?n:r<t?t:r,be=(r,t=0,n=Math.pow(10,t))=>Math.round(n*r)/n,gP=r=>(r[0]==="#"&&(r=r.substring(1)),r.length<6?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?be(parseInt(r[3]+r[3],16)/255,2):1}:{r:parseInt(r.substring(0,2),16),g:parseInt(r.substring(2,4),16),b:parseInt(r.substring(4,6),16),a:r.length===8?be(parseInt(r.substring(6,8),16)/255,2):1}),gst=({h:r,s:t,v:n,a:i})=>{const u=(200-t)*n/100;return{h:be(r),s:be(u>0&&u<200?t*n/100/(u<=100?u:200-u)*100:0),l:be(u/2),a:be(i,2)}},wP=r=>{const{h:t,s:n,l:i}=gst(r);return`hsl(${t}, ${n}%, ${i}%)`},wst=({h:r,s:t,v:n,a:i})=>{r=r/360*6,t/=100,n/=100;const u=Math.floor(r),a=n*(1-t),e=n*(1-(r-u)*t),o=n*(1-(1-r+u)*t),c=u%6;return{r:be(255*[n,e,a,a,o,n][c]),g:be(255*[o,n,n,e,a,a][c]),b:be(255*[a,a,o,n,n,e][c]),a:be(i,2)}},eg=r=>{const t=r.toString(16);return t.length<2?"0"+t:t},kst=({r,g:t,b:n,a:i})=>{const u=i<1?eg(be(255*i)):"";return"#"+eg(r)+eg(t)+eg(n)+u},_st=({r,g:t,b:n,a:i})=>{const u=Math.max(r,t,n),a=u-Math.min(r,t,n),e=a?u===r?(t-n)/a:u===t?2+(n-r)/a:4+(r-t)/a:0;return{h:be(60*(e<0?e+6:e)),s:be(u?a/u*100:0),v:be(u/255*100),a:i}},AF=(r,t)=>{if(r===t)return!0;for(const n in r)if(r[n]!==t[n])return!1;return!0},CF={},OF=r=>{let t=CF[r];return t||(t=document.createElement("template"),t.innerHTML=r,CF[r]=t),t},kP=(r,t,n)=>{r.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n}))};let Mc=!1;const _P=r=>"touches"in r,SF=(r,t)=>{const n=_P(t)?t.touches[0]:t,i=r.el.getBoundingClientRect();kP(r.el,"move",r.getMove({x:Dh((n.pageX-(i.left+window.pageXOffset))/i.width),y:Dh((n.pageY-(i.top+window.pageYOffset))/i.height)}))};class jF{constructor(t,n,i,u){const a=OF(`<div role="slider" tabindex="0" part="${n}" ${i}><div part="${n}-pointer"></div></div>`);t.appendChild(a.content.cloneNode(!0));const e=t.querySelector(`[part=${n}]`);e.addEventListener("mousedown",this),e.addEventListener("touchstart",this),e.addEventListener("keydown",this),this.el=e,this.xy=u,this.nodes=[e.firstChild,e]}set dragging(t){const n=t?document.addEventListener:document.removeEventListener;n(Mc?"touchmove":"mousemove",this),n(Mc?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!(n=>!(Mc&&!_P(n)||(Mc||(Mc=_P(n)),0)))(t)||!Mc&&t.button!=0)return;this.el.focus(),SF(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),SF(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((n,i)=>{const u=i.keyCode;u>40||n.xy&&u<37||u<33||(i.preventDefault(),kP(n.el,"move",n.getMove({x:u===39?.01:u===37?-.01:u===34?.05:u===33?-.05:u===35?1:u===36?-1:0,y:u===40?.01:u===38?-.01:0},!0)))})(this,t)}}style(t){t.forEach((n,i)=>{for(const u in n)this.nodes[i].style.setProperty(u,n[u])})}}class Ast extends jF{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:t/360*100+"%",color:wP({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${be(t)}`)}getMove(t,n){return{h:n?Dh(this.h+360*t.x,0,360):360*t.x}}}class Cst extends jF{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:100-t.v+"%",left:`${t.s}%`,color:wP(t)},{"background-color":wP({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${be(t.s)}%, Brightness ${be(t.v)}%`)}getMove(t,n){return{s:n?Dh(this.hsva.s+100*t.x,0,100):100*t.x,v:n?Dh(this.hsva.v-100*t.y,0,100):Math.round(100-100*t.y)}}}const rg=Symbol("same"),AP=Symbol("color"),PF=Symbol("hsva"),CP=Symbol("update"),EF=Symbol("parts"),xF=Symbol("css"),TF=Symbol("sliders");class Ost extends HTMLElement{static get observedAttributes(){return["color"]}get[xF](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[TF](){return[Cst,Ast]}get color(){return this[AP]}set color(t){if(!this[rg](t)){const n=this.colorModel.toHsva(t);this[CP](n),this[AP]=t}}constructor(){super();const t=OF(`<style>${this[xF].join("")}</style>`),n=this.attachShadow({mode:"open"});n.appendChild(t.content.cloneNode(!0)),n.addEventListener("move",this),this[EF]=this[TF].map(i=>new i(n))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,n,i){const u=this.colorModel.fromAttr(i);this[rg](u)||(this.color=u)}handleEvent(t){const n=this[PF],i=vB(vB({},n),t.detail);let u;this[CP](i),AF(i,n)||this[rg](u=this.colorModel.fromHsva(i))||(this[AP]=u,kP(this,"color-changed",{value:u}))}[rg](t){return this.color&&this.colorModel.equal(t,this.color)}[CP](t){this[PF]=t,this[EF].forEach(n=>n.update(t))}}const Sst={defaultColor:"#000",toHsva:r=>_st(gP(r)),fromHsva:({h:r,s:t,v:n})=>kst(wst({h:r,s:t,v:n,a:1})),equal:(r,t)=>r.toLowerCase()===t.toLowerCase()||AF(gP(r),gP(t)),fromAttr:r=>r};class jst extends Ost{get colorModel(){return Sst}}customElements.define("hex-color-picker",class extends jst{});var DF=x(4257),Pst={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(DF.Z,Pst),DF.Z.locals;function Nc(r){return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(r)}function Est(r){return function(t){if(Array.isArray(t))return OP(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||function(t,n){if(t){if(typeof t=="string")return OP(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return OP(t,n)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function OP(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function ng(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function RF(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Nc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Nc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Nc(a)==="symbol"?a:String(a)),i)}var u,a}function og(r,t,n){return t&&RF(r.prototype,t),n&&RF(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function SP(){return SP=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Lc(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},SP.apply(this,arguments)}function ig(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&jP(r,t)}function jP(r,t){return jP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jP(r,t)}function ag(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Lc(r);if(t){var u=Lc(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Lc(r){return Lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lc(r)}var xst=function(r){ig(n,r);var t=ag(n);function n(i){var u,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ng(this,n),(u=t.call(this,i)).set({color:"",_hexColor:""}),u.hexInputRow=u._createInputRow();var e=u.createCollection();return a.hideInput||e.add(u.hexInputRow),u.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:e}),u._config=a,u._debounceColorPickerEvent=Dr(function(o){u.set("color",o),u.fire("colorSelected",{color:u.color})},150,{leading:!0}),u.on("set:color",function(o,c,l){o.return=uM(l,u._config.format||"hsl")}),u.on("change:color",function(){u._hexColor=PP(u.color)}),u.on("change:_hexColor",function(){document.activeElement!==u.picker&&u.picker.setAttribute("color",u._hexColor),PP(u.color)!=PP(u._hexColor)&&(u.color=u._hexColor)}),u}return og(n,[{key:"render",value:function(){var i=this;if(SP(Lc(n.prototype),"render",this).call(this),this.picker=kt.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);var u=document.createElement("style");u.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(u)}this.picker.addEventListener("color-changed",function(a){var e=a.detail.value;i._debounceColorPickerEvent(e)})}},{key:"focus",value:function(){!this._config.hideInput&&(pt.isGecko||pt.isiOS||pt.isSafari)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}},{key:"_createSlidersView",value:function(){var i=this,u=Est(this.picker.shadowRoot.children).filter(function(a){return a.getAttribute("role")==="slider"}).map(function(a){return new Tst(a)});this.slidersView=this.createCollection(),u.forEach(function(a){i.slidersView.add(a)})}},{key:"_createInputRow",value:function(){var i=new Dst,u=this._createColorInput();return new Rst(this.locale,[i,u])}},{key:"_createColorInput",value:function(){var i=this,u=new ue(this.locale,Ge),a=this.locale.t;return u.set({label:a("HEX"),class:"color-picker-hex-input"}),u.fieldView.bind("value").to(this,"_hexColor",function(e){return u.isFocused?u.fieldView.value:e.startsWith("#")?e.substring(1):e}),u.fieldView.on("input",function(){var e=u.fieldView.element.value;if(e){var o=e.trim(),c=o.startsWith("#")?o.substring(1):o;[3,4,6,8].includes(c.length)&&/(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})/.test(c)&&i._debounceColorPickerEvent("#"+c)}}),u}}]),n}(yt);function PP(r){var t=function(n){if(!n)return"";var i=lM(n);return i?i.space==="hex"?i.hexValue:uM(n,"hex"):"#000"}(r);return t||(t="#000"),t.length===4&&(t="#"+[t[1],t[1],t[2],t[2],t[3],t[3]].join("")),t.toLowerCase()}var Tst=function(r){ig(n,r);var t=ag(n);function n(i){var u;return ng(this,n),(u=t.call(this)).element=i,u}return og(n,[{key:"focus",value:function(){this.element.focus()}}]),n}(yt),Dst=function(r){ig(n,r);var t=ag(n);function n(i){var u;return ng(this,n),(u=t.call(this,i)).setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"}),u}return og(n)}(yt),Rst=function(r){ig(n,r);var t=ag(n);function n(i,u){var a;return ng(this,n),(a=t.call(this,i)).children=a.createCollection(u),a.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:a.children}),a}return og(n)}(yt);function zc(r){return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(r)}function IF(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(zc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(zc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),zc(a)==="symbol"?a:String(a)),i)}var u,a}function EP(){return EP=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Fc(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},EP.apply(this,arguments)}function xP(r,t){return xP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xP(r,t)}function Ist(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Fc(r);if(t){var u=Fc(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Fc(r){return Fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fc(r)}var Bst=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&xP(e,o)})(a,r);var t,n,i,u=Ist(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).set("isEmpty",!0),o.on("change",function(){o.set("isEmpty",o.length===0)}),o}return t=a,(n=[{key:"add",value:function(e,o){return this.find(function(c){return c.color===e.color})?this:EP(Fc(a.prototype),"add",this).call(this,e,o)}},{key:"hasColor",value:function(e){return!!this.find(function(o){return o.color===e})}}])&&IF(t.prototype,n),i&&IF(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt(Qt));const Mst='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>';function Vc(r){return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(r)}function BF(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return MF(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return MF(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function MF(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function NF(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Vc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Vc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Vc(a)==="symbol"?a:String(a)),i)}var u,a}function cg(){return cg=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=mo(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},cg.apply(this,arguments)}function TP(r,t){return TP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TP(r,t)}function Nst(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=mo(r);if(t){var u=mo(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function mo(r){return mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mo(r)}var Lst=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&TP(e,o)})(a,r);var t,n,i,u=Nst(a);function a(e,o){var c,l=o.colors,s=o.columns,f=o.removeButtonLabel,d=o.documentColorsLabel,h=o.documentColorsCount,b=o.colorPickerLabel,v=o.focusTracker,g=o.focusables;(function(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")})(this,a);var k=(c=u.call(this,e)).bindTemplate;return c.set("isVisible",!0),c.focusTracker=v,c.items=c.createCollection(),c.colorDefinitions=l,c.columns=s,c.documentColors=new Bst,c.documentColorsCount=h,c._focusables=g,c._removeButtonLabel=f,c._colorPickerLabel=b,c._documentColorsLabel=d,c.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",k.if("isVisible","ck-hidden",function(_){return!_})]},children:c.items}),c.removeColorButtonView=c._createRemoveColorButton(),c.items.add(c.removeColorButtonView),c}return t=a,n=[{key:"updateDocumentColors",value:function(e,o){var c=e.document,l=this.documentColorsCount;this.documentColors.clear();var s,f=BF(c.getRoots());try{for(f.s();!(s=f.n()).done;){var d,h=s.value,b=BF(e.createRangeIn(h).getItems());try{for(b.s();!(d=b.n()).done;){var v=d.value;if(v.is("$textProxy")&&v.hasAttribute(o)&&(this._addColorToDocumentColors(v.getAttribute(o)),this.documentColors.length>=l))return}}catch(g){b.e(g)}finally{b.f()}}}catch(g){f.e(g)}finally{f.f()}}},{key:"updateSelectedColors",value:function(){var e=this.documentColorsGrid,o=this.staticColorsGrid,c=this.selectedColor;o.selectedColor=c,e&&(e.selectedColor=c)}},{key:"render",value:function(){if(cg(mo(a.prototype),"render",this).call(this),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){var e=Re.bind(this.documentColors,this.documentColors),o=new ir(this.locale);o.text=this._documentColorsLabel,o.extendTemplate({attributes:{class:["ck","ck-color-grid__label",e.if("isEmpty","ck-hidden")]}}),this.items.add(o),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker(),this.focus()}},{key:"focus",value:function(){this.removeColorButtonView.focus()}},{key:"destroy",value:function(){cg(mo(a.prototype),"destroy",this).call(this)}},{key:"addColorPickerButton",value:function(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}},{key:"_addColorSelectorElementsToFocusTracker",value:function(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}},{key:"_createColorPickerButton",value:function(){var e=this;this.colorPickerButtonView=new vt,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:Mst,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",function(){e.fire("colorPicker:show")})}},{key:"_createRemoveColorButton",value:function(){var e=this,o=new vt;return o.set({withText:!0,icon:Gz,label:this._removeButtonLabel}),o.class="ck-color-selector__remove-color",o.on("execute",function(){e.fire("execute",{value:null,source:"removeColorButton"})}),o.render(),o}},{key:"_createStaticColorsGrid",value:function(){var e=this,o=new nM(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return o.on("execute",function(c,l){e.fire("execute",{value:l.value,source:"staticColorsGrid"})}),o}},{key:"_createDocumentColorsGrid",value:function(){var e=this,o=Re.bind(this.documentColors,this.documentColors),c=new nM(this.locale,{columns:this.columns});return c.extendTemplate({attributes:{class:o.if("isEmpty","ck-hidden")}}),c.items.bindTo(this.documentColors).using(function(l){var s=new J4;return s.set({color:l.color,hasBorder:l.options&&l.options.hasBorder}),l.label&&s.set({label:l.label,tooltip:!0}),s.on("execute",function(){e.fire("execute",{value:l.color,source:"documentColorsGrid"})}),s}),this.documentColors.on("change:isEmpty",function(l,s,f){f&&(c.selectedColor=null)}),c}},{key:"_addColorToDocumentColors",value:function(e){var o=this.colorDefinitions.find(function(c){return c.color===e});o?this.documentColors.add(Object.assign({},o)):this.documentColors.add({color:e,label:e,options:{hasBorder:!1}})}}],n&&NF(t.prototype,n),i&&NF(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function Uc(r){return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(r)}function zst(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return LF(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return LF(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function LF(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function zF(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function Fst(r,t,n){return(t=VF(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function FF(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,VF(i.key),i)}}function VF(r){var t=function(n,i){if(Uc(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(Uc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return Uc(t)==="symbol"?t:String(t)}function ug(){return ug=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=vo(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},ug.apply(this,arguments)}function DP(r,t){return DP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DP(r,t)}function Vst(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=vo(r);if(t){var u=vo(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function vo(r){return vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vo(r)}var Ust=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&DP(e,o)})(a,r);var t,n,i,u=Vst(a);function a(e,o){var c,l=o.focusTracker,s=o.focusables,f=o.keystrokes,d=o.colorPickerViewConfig;(function(k,_){if(!(k instanceof _))throw new TypeError("Cannot call a class as a function")})(this,a),(c=u.call(this,e)).items=c.createCollection(),c.focusTracker=l,c.keystrokes=f,c.set("isVisible",!1),c.set("selectedColor",void 0),c._focusables=s,c._colorPickerViewConfig=d;var h=c.bindTemplate,b=c._createActionButtons(),v=b.saveButtonView,g=b.cancelButtonView;return c.saveButtonView=v,c.cancelButtonView=g,c.actionBarView=c._createActionBarView({saveButtonView:v,cancelButtonView:g}),c.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",h.if("isVisible","ck-hidden",function(k){return!k})]},children:c.items}),c}return t=a,n=[{key:"render",value:function(){ug(vo(a.prototype),"render",this).call(this);var e=new xst(this.locale,function(o){for(var c=1;c<arguments.length;c++){var l=arguments[c]!=null?arguments[c]:{};c%2?zF(Object(l),!0).forEach(function(s){Fst(o,s,l[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(l)):zF(Object(l)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(l,s))})}return o}({},this._colorPickerViewConfig));this.colorPickerView=e,this.colorPickerView.render(),this.selectedColor&&(e.color=this.selectedColor),this.listenTo(this,"change:selectedColor",function(o,c,l){e.color=l}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}},{key:"destroy",value:function(){ug(vo(a.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this.colorPickerView.focus()}},{key:"_executeOnEnterPress",value:function(){var e=this;this.keystrokes.set("enter",function(o){e.isVisible&&e.focusTracker.focusedElement!==e.cancelButtonView.element&&(e.fire("execute",{value:e.selectedColor}),o.stopPropagation(),o.preventDefault())})}},{key:"_stopPropagationOnArrowsKeys",value:function(){var e=function(o){return o.stopPropagation()};this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}},{key:"_addColorPickersElementsToFocusTracker",value:function(){var e,o=zst(this.colorPickerView.slidersView);try{for(o.s();!(e=o.n()).done;){var c=e.value;this.focusTracker.add(c.element),this._focusables.add(c)}}catch(s){o.e(s)}finally{o.f()}var l=this.colorPickerView.hexInputRow.children.get(1);l.element&&(this.focusTracker.add(l.element),this._focusables.add(l)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}},{key:"_createActionBarView",value:function(e){var o=e.saveButtonView,c=e.cancelButtonView,l=new yt,s=this.createCollection();return s.add(o),s.add(c),l.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:s}),l}},{key:"_createActionButtons",value:function(){var e=this,o=this.locale,c=o.t,l=new vt(o),s=new vt(o);return l.set({icon:Hz,class:"ck-button-save",type:"button",withText:!1,label:c("Accept")}),s.set({icon:Uz,class:"ck-button-cancel",type:"button",withText:!1,label:c("Cancel")}),l.on("execute",function(){e.fire("execute",{source:"colorPickerSaveButton",value:e.selectedColor})}),s.on("execute",function(){e.fire("colorPicker:cancel")}),{saveButtonView:l,cancelButtonView:s}}},{key:"_executeUponColorChange",value:function(){var e=this;this.colorPickerView.on("colorSelected",function(o,c){e.fire("execute",{value:c.color,source:"colorPicker"}),e.set("selectedColor",c.color)})}}],n&&FF(t.prototype,n),i&&FF(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt),UF=x(6306),Hst={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(UF.Z,Hst),UF.Z.locals;function Hc(r){return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(r)}function HF(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Hc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Hc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Hc(a)==="symbol"?a:String(a)),i)}var u,a}function lg(){return lg=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=go(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},lg.apply(this,arguments)}function RP(r,t){return RP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RP(r,t)}function Gst(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=go(r);if(t){var u=go(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IP(a)}(this,n)}}function IP(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function go(r){return go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},go(r)}var GF=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&RP(e,o)})(a,r);var t,n,i,u=Gst(a);function a(e,o){var c,l=o.colors,s=o.columns,f=o.removeButtonLabel,d=o.documentColorsLabel,h=o.documentColorsCount,b=o.colorPickerLabel,v=o.colorPickerViewConfig;return function(g,k){if(!(g instanceof k))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e)).items=c.createCollection(),c.focusTracker=new ce,c.keystrokes=new de,c._focusables=new De,c._colorPickerViewConfig=v,c._focusCycler=new Qe({focusables:c._focusables,focusTracker:c.focusTracker,keystrokeHandler:c.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),c.colorGridsFragmentView=new Lst(e,{colors:l,columns:s,removeButtonLabel:f,documentColorsLabel:d,documentColorsCount:h,colorPickerLabel:b,focusTracker:c.focusTracker,focusables:c._focusables}),c.colorPickerFragmentView=new Ust(e,{focusables:c._focusables,focusTracker:c.focusTracker,keystrokes:c.keystrokes,colorPickerViewConfig:v}),c.set("_isColorGridsFragmentVisible",!0),c.set("_isColorPickerFragmentVisible",!1),c.set("selectedColor",void 0),c.colorGridsFragmentView.bind("isVisible").to(IP(c),"_isColorGridsFragmentVisible"),c.colorPickerFragmentView.bind("isVisible").to(IP(c),"_isColorPickerFragmentVisible"),c.on("change:selectedColor",function(g,k,_){c.colorGridsFragmentView.set("selectedColor",_),c.colorPickerFragmentView.set("selectedColor",_)}),c.colorGridsFragmentView.on("change:selectedColor",function(g,k,_){c.set("selectedColor",_)}),c.colorPickerFragmentView.on("change:selectedColor",function(g,k,_){c.set("selectedColor",_)}),c.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:c.items}),c}return t=a,(n=[{key:"render",value:function(){lg(go(a.prototype),"render",this).call(this),this.keystrokes.listenTo(this.element)}},{key:"destroy",value:function(){lg(go(a.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"appendUI",value:function(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}},{key:"showColorPickerFragment",value:function(){this.colorPickerFragmentView.colorPickerView&&!this._isColorPickerFragmentVisible&&(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this._isColorGridsFragmentVisible=!1)}},{key:"showColorGridsFragment",value:function(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"updateDocumentColors",value:function(e,o){this.colorGridsFragmentView.updateDocumentColors(e,o)}},{key:"updateSelectedColors",value:function(){this.colorGridsFragmentView.updateSelectedColors()}},{key:"_appendColorGridsFragment",value:function(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}},{key:"_appendColorPickerFragment",value:function(){var e=this;this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",function(){e.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}])&&HF(t.prototype,n),i&&HF(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function wo(r){return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(r)}function BP(){BP=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&wo(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(wo(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function Wst(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return WF(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return WF(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function WF(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function $F(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(wo(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(wo(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),wo(a)==="symbol"?a:String(a)),i)}var u,a}var $st=function(){function r(u){(function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this._components=new Map,this.editor=u}var t,n,i;return t=r,(n=[{key:"names",value:BP().mark(function u(){var a,e,o;return BP().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:a=Wst(this._components.values()),c.prev=1,a.s();case 3:if((e=a.n()).done){c.next=9;break}return o=e.value,c.next=7,o.originalName;case 7:c.next=3;break;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),a.e(c.t0);case 14:return c.prev=14,a.f(),c.finish(14);case 17:case"end":return c.stop()}},u,this,[[1,11,14,17]])})},{key:"add",value:function(u,a){this._components.set(MP(u),{callback:a,originalName:u})}},{key:"create",value:function(u){if(!this.has(u))throw new V("componentfactory-item-missing",this,{name:u});return this._components.get(MP(u)).callback(this.editor.locale)}},{key:"has",value:function(u){return this._components.has(MP(u))}}])&&$F(t.prototype,n),i&&$F(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function MP(r){return String(r).toLowerCase()}var qF=x(4460),qst={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(qF.Z,qst),qF.Z.locals;function Gc(r){return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(r)}function YF(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function Dt(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YF(Object(n),!0).forEach(function(i){Yst(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):YF(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Yst(r,t,n){return(t=ZF(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function KF(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,ZF(i.key),i)}}function ZF(r){var t=function(n,i){if(Gc(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(Gc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return Gc(t)==="symbol"?t:String(t)}function NP(r,t){return NP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NP(r,t)}function Kst(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=sg(r);if(t){var u=sg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function sg(r){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sg(r)}var QF=Ln("px"),JF=kt.document.body,Me=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&NP(e,o)})(a,r);var t,n,i,u=Kst(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a);var c=(o=u.call(this,e)).bindTemplate;return o.set("top",0),o.set("left",0),o.set("position","arrow_nw"),o.set("isVisible",!1),o.set("withArrow",!0),o.set("class",void 0),o._pinWhenIsVisibleCallback=null,o.content=o.createCollection(),o.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",c.to("position",function(l){return"ck-balloon-panel_".concat(l)}),c.if("isVisible","ck-balloon-panel_visible"),c.if("withArrow","ck-balloon-panel_with-arrow"),c.to("class")],style:{top:c.to("top",QF),left:c.to("left",QF)}},children:o.content}),o}return t=a,n=[{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"attachTo",value:function(e){this.show();var o=a.defaultPositions,c=Object.assign({},{element:this.element,positions:[o.southArrowNorth,o.southArrowNorthMiddleWest,o.southArrowNorthMiddleEast,o.southArrowNorthWest,o.southArrowNorthEast,o.northArrowSouth,o.northArrowSouthMiddleWest,o.northArrowSouthMiddleEast,o.northArrowSouthWest,o.northArrowSouthEast,o.viewportStickyNorth],limiter:JF,fitInViewport:!0},e),l=a._getOptimalPosition(c),s=parseInt(l.left),f=parseInt(l.top),d=l.name,h=(l.config||{}).withArrow,b=h===void 0||h;this.top=f,this.left=s,this.position=d,this.withArrow=b}},{key:"pin",value:function(e){var o=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){o.isVisible?o._startPinning(e):o._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}},{key:"unpin",value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:"_startPinning",value:function(e){var o=this;this.attachTo(e);var c=LP(e.target),l=e.limiter?LP(e.limiter):JF;this.listenTo(kt.document,"scroll",function(s,f){var d=f.target,h=c&&d.contains(c),b=l&&d.contains(l);!h&&!b&&c&&l||o.attachTo(e)},{useCapture:!0}),this.listenTo(kt.window,"resize",function(){o.attachTo(e)})}},{key:"_stopPinning",value:function(){this.stopListening(kt.document,"scroll"),this.stopListening(kt.window,"resize")}}],n&&KF(t.prototype,n),i&&KF(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function LP(r){return Bn(r)?r:Ib(r)?r.commonAncestorContainer:typeof r=="function"?LP(r()):null}function XF(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=r.sideOffset,n=t===void 0?Me.arrowSideOffset:t,i=r.heightOffset,u=i===void 0?Me.arrowHeightOffset:i,a=r.stickyVerticalOffset,e=a===void 0?Me.stickyVerticalOffset:a,o=r.config;return{northWestArrowSouthWest:function(s,f){return Dt({top:c(s,f),left:s.left-n,name:"arrow_sw"},o&&{config:o})},northWestArrowSouthMiddleWest:function(s,f){return Dt({top:c(s,f),left:s.left-.25*f.width-n,name:"arrow_smw"},o&&{config:o})},northWestArrowSouth:function(s,f){return Dt({top:c(s,f),left:s.left-f.width/2,name:"arrow_s"},o&&{config:o})},northWestArrowSouthMiddleEast:function(s,f){return Dt({top:c(s,f),left:s.left-.75*f.width+n,name:"arrow_sme"},o&&{config:o})},northWestArrowSouthEast:function(s,f){return Dt({top:c(s,f),left:s.left-f.width+n,name:"arrow_se"},o&&{config:o})},northArrowSouthWest:function(s,f){return Dt({top:c(s,f),left:s.left+s.width/2-n,name:"arrow_sw"},o&&{config:o})},northArrowSouthMiddleWest:function(s,f){return Dt({top:c(s,f),left:s.left+s.width/2-.25*f.width-n,name:"arrow_smw"},o&&{config:o})},northArrowSouth:function(s,f){return Dt({top:c(s,f),left:s.left+s.width/2-f.width/2,name:"arrow_s"},o&&{config:o})},northArrowSouthMiddleEast:function(s,f){return Dt({top:c(s,f),left:s.left+s.width/2-.75*f.width+n,name:"arrow_sme"},o&&{config:o})},northArrowSouthEast:function(s,f){return Dt({top:c(s,f),left:s.left+s.width/2-f.width+n,name:"arrow_se"},o&&{config:o})},northEastArrowSouthWest:function(s,f){return Dt({top:c(s,f),left:s.right-n,name:"arrow_sw"},o&&{config:o})},northEastArrowSouthMiddleWest:function(s,f){return Dt({top:c(s,f),left:s.right-.25*f.width-n,name:"arrow_smw"},o&&{config:o})},northEastArrowSouth:function(s,f){return Dt({top:c(s,f),left:s.right-f.width/2,name:"arrow_s"},o&&{config:o})},northEastArrowSouthMiddleEast:function(s,f){return Dt({top:c(s,f),left:s.right-.75*f.width+n,name:"arrow_sme"},o&&{config:o})},northEastArrowSouthEast:function(s,f){return Dt({top:c(s,f),left:s.right-f.width+n,name:"arrow_se"},o&&{config:o})},southWestArrowNorthWest:function(s){return Dt({top:l(s),left:s.left-n,name:"arrow_nw"},o&&{config:o})},southWestArrowNorthMiddleWest:function(s,f){return Dt({top:l(s),left:s.left-.25*f.width-n,name:"arrow_nmw"},o&&{config:o})},southWestArrowNorth:function(s,f){return Dt({top:l(s),left:s.left-f.width/2,name:"arrow_n"},o&&{config:o})},southWestArrowNorthMiddleEast:function(s,f){return Dt({top:l(s),left:s.left-.75*f.width+n,name:"arrow_nme"},o&&{config:o})},southWestArrowNorthEast:function(s,f){return Dt({top:l(s),left:s.left-f.width+n,name:"arrow_ne"},o&&{config:o})},southArrowNorthWest:function(s){return Dt({top:l(s),left:s.left+s.width/2-n,name:"arrow_nw"},o&&{config:o})},southArrowNorthMiddleWest:function(s,f){return Dt({top:l(s),left:s.left+s.width/2-.25*f.width-n,name:"arrow_nmw"},o&&{config:o})},southArrowNorth:function(s,f){return Dt({top:l(s),left:s.left+s.width/2-f.width/2,name:"arrow_n"},o&&{config:o})},southArrowNorthMiddleEast:function(s,f){return Dt({top:l(s),left:s.left+s.width/2-.75*f.width+n,name:"arrow_nme"},o&&{config:o})},southArrowNorthEast:function(s,f){return Dt({top:l(s),left:s.left+s.width/2-f.width+n,name:"arrow_ne"},o&&{config:o})},southEastArrowNorthWest:function(s){return Dt({top:l(s),left:s.right-n,name:"arrow_nw"},o&&{config:o})},southEastArrowNorthMiddleWest:function(s,f){return Dt({top:l(s),left:s.right-.25*f.width-n,name:"arrow_nmw"},o&&{config:o})},southEastArrowNorth:function(s,f){return Dt({top:l(s),left:s.right-f.width/2,name:"arrow_n"},o&&{config:o})},southEastArrowNorthMiddleEast:function(s,f){return Dt({top:l(s),left:s.right-.75*f.width+n,name:"arrow_nme"},o&&{config:o})},southEastArrowNorthEast:function(s,f){return Dt({top:l(s),left:s.right-f.width+n,name:"arrow_ne"},o&&{config:o})},westArrowEast:function(s,f){return Dt({top:s.top+s.height/2-f.height/2,left:s.left-f.width-u,name:"arrow_e"},o&&{config:o})},eastArrowWest:function(s,f){return Dt({top:s.top+s.height/2-f.height/2,left:s.right+u,name:"arrow_w"},o&&{config:o})},viewportStickyNorth:function(s,f,d){return s.getIntersection(d)?{top:d.top+e,left:s.left+s.width/2-f.width/2,name:"arrowless",config:Dt({withArrow:!1},o)}:null}};function c(s,f){return s.top-f.height-u}function l(s){return s.bottom+u}}Me.arrowSideOffset=25,Me.arrowHeightOffset=10,Me.stickyVerticalOffset=20,Me._getOptimalPosition=e4,Me.defaultPositions=XF();var t9=x(3888),Zst={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(t9.Z,Zst),t9.Z.locals;function Wc(r){return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(r)}function e9(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return r9(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return r9(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function r9(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function n9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Wc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Wc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Wc(a)==="symbol"?a:String(a)),i)}var u,a}function zP(r,t){return zP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zP(r,t)}function Qst(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=fg(r);if(t){var u=fg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return o9(this,n)}}function o9(r,t){if(t&&(Wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ko(r)}function ko(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function fg(r){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fg(r)}var i9="ck-tooltip",dg=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&zP(e,o)})(a,r);var t,n,i,u=Qst(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this))._currentElementWithTooltip=null,o._currentTooltipPosition=null,o._resizeObserver=null,a._editors.add(e),a._instance?o9(o,a._instance):(a._instance=ko(o),o.tooltipTextView=new yt(e.locale),o.tooltipTextView.set("text",""),o.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:o.tooltipTextView.bindTemplate.to("text")}]}),o.balloonPanelView=new Me(e.locale),o.balloonPanelView.class=i9,o.balloonPanelView.content.add(o.tooltipTextView),o._pinTooltipDebounced=Dr(o._pinTooltip,600),o.listenTo(kt.document,"mouseenter",o._onEnterOrFocus.bind(ko(o)),{useCapture:!0}),o.listenTo(kt.document,"mouseleave",o._onLeaveOrBlur.bind(ko(o)),{useCapture:!0}),o.listenTo(kt.document,"focus",o._onEnterOrFocus.bind(ko(o)),{useCapture:!0}),o.listenTo(kt.document,"blur",o._onLeaveOrBlur.bind(ko(o)),{useCapture:!0}),o.listenTo(kt.document,"scroll",o._onScroll.bind(ko(o)),{useCapture:!0}),o._watchdogExcluded=!0,o)}return t=a,i=[{key:"getPositioningFunctions",value:function(e){var o=a.defaultBalloonPositions;return{s:[o.southArrowNorth,o.southArrowNorthEast,o.southArrowNorthWest],n:[o.northArrowSouth],e:[o.eastArrowWest],w:[o.westArrowEast],sw:[o.southArrowNorthEast],se:[o.southArrowNorthWest]}[e]}}],(n=[{key:"destroy",value:function(e){var o=e.ui.view&&e.ui.view.body;a._editors.delete(e),this.stopListening(e.ui),o&&o.has(this.balloonPanelView)&&o.remove(this.balloonPanelView),a._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),a._instance=null)}},{key:"_onEnterOrFocus",value:function(e,o){var c,l=FP(o.target);l&&l!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(l,{text:(c=l).dataset.ckeTooltipText,position:c.dataset.ckeTooltipPosition||"s",cssClass:c.dataset.ckeTooltipClass||""}))}},{key:"_onLeaveOrBlur",value:function(e,o){var c=o.target,l=o.relatedTarget;if(e.name==="mouseleave"){if(!Bn(c)||this._currentElementWithTooltip&&c!==this._currentElementWithTooltip)return;var s=FP(c),f=FP(l);s&&s!==f&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&c!==this._currentElementWithTooltip)return;this._unpinTooltip()}}},{key:"_onScroll",value:function(e,o){var c=o.target;this._currentElementWithTooltip&&(c.contains(this.balloonPanelView.element)&&c.contains(this._currentElementWithTooltip)||this._unpinTooltip())}},{key:"_pinTooltip",value:function(e,o){var c=this,l=o.text,s=o.position,f=o.cssClass,d=Vt(a._editors.values()).ui.view.body;d.has(this.balloonPanelView)||d.add(this.balloonPanelView),this.tooltipTextView.text=l,this.balloonPanelView.pin({target:e,positions:a.getPositioningFunctions(s)}),this._resizeObserver=new Mb(e,function(){Zr(e)||c._unpinTooltip()}),this.balloonPanelView.class=[i9,f].filter(function(g){return g}).join(" ");var h,b=e9(a._editors);try{for(b.s();!(h=b.n()).done;){var v=h.value;this.listenTo(v.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"})}}catch(g){b.e(g)}finally{b.f()}this._currentElementWithTooltip=e,this._currentTooltipPosition=s}},{key:"_unpinTooltip",value:function(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();var e,o=e9(a._editors);try{for(o.s();!(e=o.n()).done;){var c=e.value;this.stopListening(c.ui,"update")}}catch(l){o.e(l)}finally{o.f()}this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}},{key:"_updateTooltipPosition",value:function(){Zr(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:a.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}])&&n9(t.prototype,n),i&&n9(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(xr());function FP(r){return Bn(r)?r.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}dg.defaultBalloonPositions=XF({heightOffset:5,sideOffset:13}),dg._editors=new Set,dg._instance=null;const pg=function(r,t,n){var i=!0,u=!0;if(typeof r!="function")throw new TypeError("Expected a function");return Gt(n)&&(i="leading"in n?!!n.leading:i,u="trailing"in n?!!n.trailing:u),Dr(r,t,{leading:i,maxWait:t,trailing:u})};function $c(r){return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(r)}function a9(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function Jst(r,t,n){return(t=s9(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Xst(r){return function(t){if(Array.isArray(t))return VP(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||function(t,n){if(t){if(typeof t=="string")return VP(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return VP(t,n)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function VP(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function c9(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function u9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,s9(i.key),i)}}function l9(r,t,n){return t&&u9(r.prototype,t),n&&u9(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function s9(r){var t=function(n,i){if($c(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if($c(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return $c(t)==="symbol"?t:String(t)}function f9(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&UP(r,t)}function UP(r,t){return UP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UP(r,t)}function d9(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=yg(r);if(t){var u=yg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&($c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HP(a)}(this,n)}}function HP(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function yg(r){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yg(r)}var tft=50,eft=350,rft="Powered by",hg={top:-99999,left:-99999,name:"invalid",config:{withArrow:!1}},nft=function(r){f9(n,r);var t=d9(n);function n(i){var u;return c9(this,n),(u=t.call(this)).editor=i,u._balloonView=null,u._lastFocusedEditableElement=null,u._showBalloonThrottled=pg(u._showBalloon.bind(HP(u)),50,{leading:!0}),i.on("ready",u._handleEditorReady.bind(HP(u))),u}return l9(n,[{key:"destroy",value:function(){var i=this._balloonView;i&&(i.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}},{key:"_handleEditorReady",value:function(){var i=this,u=this.editor;(u.config.get("ui.poweredBy.forceVisible")||function(a){function e(g){return g.length>=40&&g.length<=255?"VALID":"INVALID"}if(!a)return"INVALID";var o="";try{o=atob(a)}catch(g){return"INVALID"}var c=o.split("-"),l=c[0],s=c[1];if(!s)return e(a);try{atob(s)}catch(g){try{if(atob(l),!atob(l).length)return e(a)}catch(k){return e(a)}}if(l.length<40||l.length>255)return"INVALID";var f="";try{atob(l),f=atob(s)}catch(g){return"INVALID"}if(f.length!==8)return"INVALID";var d=Number(f.substring(0,4)),h=Number(f.substring(4,6))-1,b=Number(f.substring(6,8)),v=new Date(d,h,b);return v<Het||isNaN(Number(v))?"INVALID":"VALID"}(u.config.get("licenseKey"))!=="VALID")&&u.ui.view&&(u.ui.focusTracker.on("change:isFocused",function(a,e,o){i._updateLastFocusedEditableElement(),o?i._showBalloon():i._hideBalloon()}),u.ui.focusTracker.on("change:focusedElement",function(a,e,o){i._updateLastFocusedEditableElement(),o&&i._showBalloon()}),u.ui.on("update",function(){i._showBalloonThrottled()}))}},{key:"_createBalloonView",value:function(){var i=this.editor,u=this._balloonView=new Me,a=y9(i),e=new oft(i.locale,a.label);u.content.add(e),u.set({class:"ck-powered-by-balloon"}),i.ui.view.body.add(u),i.ui.focusTracker.add(u.element),this._balloonView=u}},{key:"_showBalloon",value:function(){if(this._lastFocusedEditableElement){var i,u,a,e,o=(i=this.editor,u=this._lastFocusedEditableElement,a=y9(i),e=a.side==="right"?function(c,l){return p9(c,l,function(s,f){return s.left+s.width-f.width-l.horizontalOffset})}(u,a):function(c,l){return p9(c,l,function(s){return s.left+l.horizontalOffset})}(u,a),{target:u,positions:[e]});o&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(o))}}},{key:"_hideBalloon",value:function(){this._balloonView&&this._balloonView.unpin()}},{key:"_updateLastFocusedEditableElement",value:function(){var i=this.editor,u=i.ui.focusTracker.isFocused,a=i.ui.focusTracker.focusedElement;if(u&&a){var e=Array.from(i.ui.getEditableElementsNames()).map(function(o){return i.ui.getEditableElement(o)});e.includes(a)?this._lastFocusedEditableElement=a:this._lastFocusedEditableElement=e[0]}else this._lastFocusedEditableElement=null}}]),n}(xr()),oft=function(r){f9(n,r);var t=d9(n);function n(i,u){var a;c9(this,n),a=t.call(this,i);var e=new _i,o=a.bindTemplate;return e.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),e.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),a.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[].concat(Xst(u?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[u]}]:[]),[e]),on:{dragstart:o.to(function(c){return c.preventDefault()})}}]}),a}return l9(n)}(yt);function p9(r,t,n){return function(i,u){var a,e=i.getVisible();if(!e||i.width<eft||i.height<tft)return hg;a=t.position==="inside"?i.bottom-u.height:i.bottom-u.height/2,a-=t.verticalOffset;var o=n(i,u);if(t.position==="inside"){var c=u.clone().moveTo(o,a);if(c.getIntersectionArea(e)<c.getArea())return hg}else{var l=aC(r);if(l){var s=new Lt(l),f=e.bottom+u.height/2>s.bottom,d=t.side==="left"?i.left<s.left:i.right>s.right;if(f||d)return hg}}return{top:a,left:o,name:"position_".concat(t.position,"-side_").concat(t.side),config:{withArrow:!1}}}}function y9(r){var t=r.config.get("ui.poweredBy"),n=t&&t.position||"border";return function(i){for(var u=1;u<arguments.length;u++){var a=arguments[u]!=null?arguments[u]:{};u%2?a9(Object(a),!0).forEach(function(e){Jst(i,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):a9(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))})}return i}({position:n,label:rft,verticalOffset:n==="inside"?5:0,horizontalOffset:5,side:r.locale.contentLanguageDirection==="ltr"?"right":"left"},t)}function qc(r){return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(r)}function h9(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function ift(r,t,n){return(t=v9(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function GP(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return b9(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return b9(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function b9(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function m9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,v9(i.key),i)}}function v9(r){var t=function(n,i){if(qc(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(qc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return qc(t)==="symbol"?t:String(t)}function WP(r,t){return WP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WP(r,t)}function aft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=bg(r);if(t){var u=bg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $P(a)}(this,n)}}function $P(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function bg(r){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bg(r)}var cft=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&WP(e,o)})(a,r);var t,n,i,u=aft(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a),(o=u.call(this)).isReady=!1,o._editableElementsMap=new Map,o._focusableToolbarDefinitions=[];var c=e.editing.view;return o.editor=e,o.componentFactory=new $st(e),o.focusTracker=new ce,o.tooltipManager=new dg(e),o.poweredBy=new nft(e),o.set("viewportOffset",o._readViewportOffsetFromConfig()),o.once("ready",function(){o.isReady=!0}),o.listenTo(c.document,"layoutChanged",o.update.bind($P(o))),o.listenTo(c,"scrollToTheSelection",o._handleScrollToTheSelection.bind($P(o))),o._initFocusTracking(),o}return t=a,n=[{key:"element",get:function(){return null}},{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();var e,o=GP(this._editableElementsMap.values());try{for(o.s();!(e=o.n()).done;){var c=e.value;c.ckeditorInstance=null,this.editor.keystrokes.stopListening(c)}}catch(l){o.e(l)}finally{o.f()}this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}},{key:"setEditableElement",value:function(e,o){var c=this;this._editableElementsMap.set(e,o),o.ckeditorInstance||(o.ckeditorInstance=this.editor),this.focusTracker.add(o);var l=function(){c.editor.editing.view.getDomRoot(e)||c.editor.keystrokes.listenTo(o)};this.isReady?l():this.once("ready",l)}},{key:"removeEditableElement",value:function(e){var o=this._editableElementsMap.get(e);o&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(o),this.focusTracker.remove(o),o.ckeditorInstance=null)}},{key:"getEditableElement",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this._editableElementsMap.get(e)}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"addToolbar",value:function(e){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",function(){o.focusTracker.add(e.element),o.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:c})}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}},{key:"_readViewportOffsetFromConfig",value:function(){var e=this.editor,o=e.config.get("ui.viewportOffset");if(o)return o;var c=e.config.get("toolbar.viewportTopOffset");return c?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:c}):{top:0}}},{key:"_initFocusTracking",value:function(){var e,o,c=this,l=this.editor,s=l.editing.view;l.keystrokes.set("Alt+F10",function(f,d){var h=c.focusTracker.focusedElement;Array.from(c._editableElementsMap.values()).includes(h)&&!Array.from(s.domRoots.values()).includes(h)&&(e=h);var b=c._getCurrentFocusedToolbarDefinition();b&&o||(o=c._getFocusableCandidateToolbarDefinitions());for(var v=0;v<o.length;v++){var g=o.shift();if(o.push(g),g!==b&&c._focusFocusableCandidateToolbar(g)){b&&b.options.afterBlur&&b.options.afterBlur();break}}d()}),l.keystrokes.set("Esc",function(f,d){var h=c._getCurrentFocusedToolbarDefinition();h&&(e?(e.focus(),e=null):l.editing.view.focus(),h.options.afterBlur&&h.options.afterBlur(),d())})}},{key:"_getFocusableCandidateToolbarDefinitions",value:function(){var e,o=[],c=GP(this._focusableToolbarDefinitions);try{for(c.s();!(e=c.n()).done;){var l=e.value,s=l.toolbarView,f=l.options;(Zr(s.element)||f.beforeFocus)&&o.push(l)}}catch(d){c.e(d)}finally{c.f()}return o.sort(function(d,h){return g9(d)-g9(h)}),o}},{key:"_getCurrentFocusedToolbarDefinition",value:function(){var e,o=GP(this._focusableToolbarDefinitions);try{for(o.s();!(e=o.n()).done;){var c=e.value;if(c.toolbarView.element&&c.toolbarView.element.contains(this.focusTracker.focusedElement))return c}}catch(l){o.e(l)}finally{o.f()}return null}},{key:"_focusFocusableCandidateToolbar",value:function(e){var o=e.toolbarView,c=e.options.beforeFocus;return c&&c(),!!Zr(o.element)&&(o.focus(),!0)}},{key:"_handleScrollToTheSelection",value:function(e,o){var c=function(l){for(var s=1;s<arguments.length;s++){var f=arguments[s]!=null?arguments[s]:{};s%2?h9(Object(f),!0).forEach(function(d){ift(l,d,f[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(f)):h9(Object(f)).forEach(function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(f,d))})}return l}({top:0,bottom:0,left:0,right:0},this.viewportOffset);o.viewportOffset.top+=c.top,o.viewportOffset.bottom+=c.bottom,o.viewportOffset.left+=c.left,o.viewportOffset.right+=c.right}}],n&&m9(t.prototype,n),i&&m9(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt());function g9(r){var t=r.toolbarView,n=r.options,i=10;return Zr(t.element)&&i--,n.isContextual&&i--,i}var w9=x(9847),uft={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(w9.Z,uft),w9.Z.locals;function Yc(r){return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(r)}function k9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Yc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Yc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Yc(a)==="symbol"?a:String(a)),i)}var u,a}function mg(){return mg=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=_o(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},mg.apply(this,arguments)}function qP(r,t){return qP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qP(r,t)}function lft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=_o(r);if(t){var u=_o(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function _o(r){return _o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_o(r)}function Kc(r){return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(r)}function _9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Kc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Kc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Kc(a)==="symbol"?a:String(a)),i)}var u,a}function YP(r,t){return YP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YP(r,t)}function sft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=vg(r);if(t){var u=vg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function vg(r){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vg(r)}var fft=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&YP(e,o)})(a,r);var t,n,i,u=sft(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).top=o.createCollection(),o.main=o.createCollection(),o._voiceLabelView=o._createVoiceLabel(),o.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":o._voiceLabelView.id},children:[o._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:o.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:o.main}]}),o}return t=a,(n=[{key:"_createVoiceLabel",value:function(){var e=this.t,o=new ir;return o.text=e("Rich Text Editor"),o.extendTemplate({attributes:{class:"ck-voice-label"}}),o}}])&&_9(t.prototype,n),i&&_9(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&qP(e,o)})(a,r);var t,n,i,u=lft(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).body=new iot(e),o}return t=a,(n=[{key:"render",value:function(){mg(_o(a.prototype),"render",this).call(this),this.body.attachToDom()}},{key:"destroy",value:function(){return this.body.detachFromDom(),mg(_o(a.prototype),"destroy",this).call(this)}}])&&k9(t.prototype,n),i&&k9(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt));function Zc(r){return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(r)}function A9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Zc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Zc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Zc(a)==="symbol"?a:String(a)),i)}var u,a}function gg(){return gg=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Ao(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},gg.apply(this,arguments)}function KP(r,t){return KP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KP(r,t)}function dft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ao(r);if(t){var u=Ao(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ao(r){return Ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ao(r)}var pft=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&KP(e,o)})(a,r);var t,n,i,u=dft(a);function a(e,o,c){var l;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,a),(l=u.call(this,e)).name=null,l.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),l.set("isFocused",!1),l._editableElement=c,l._hasExternalElement=!!l._editableElement,l._editingView=o,l}return t=a,n=[{key:"render",value:function(){var e=this;gg(Ao(a.prototype),"render",this).call(this),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",function(){return e._updateIsFocusedClasses()}),this._updateIsFocusedClasses()}},{key:"destroy",value:function(){this._hasExternalElement&&this.template.revert(this._editableElement),gg(Ao(a.prototype),"destroy",this).call(this)}},{key:"hasExternalElement",get:function(){return this._hasExternalElement}},{key:"_updateIsFocusedClasses",value:function(){var e=this._editingView;function o(c){e.change(function(l){var s=e.document.getRoot(c.name);l.addClass(c.isFocused?"ck-focused":"ck-blurred",s),l.removeClass(c.isFocused?"ck-blurred":"ck-focused",s)})}e.isRenderingInProgress?function c(l){e.once("change:isRenderingInProgress",function(s,f,d){d?c(l):o(l)})}(this):o(this)}}],n&&A9(t.prototype,n),i&&A9(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function Qc(r){return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(r)}function C9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Qc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Qc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Qc(a)==="symbol"?a:String(a)),i)}var u,a}function ZP(){return ZP=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Jc(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},ZP.apply(this,arguments)}function QP(r,t){return QP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QP(r,t)}function yft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Jc(r);if(t){var u=Jc(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Jc(r){return Jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jc(r)}var hft=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&QP(e,o)})(a,r);var t,n,i,u=yft(a);function a(e,o,c){var l,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,a),l=u.call(this,e,o,c);var f=e.t;return l.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),l._generateLabel=s.label||function(){return f("Editor editing area: %0",l.name)},l}return t=a,(n=[{key:"render",value:function(){var e=this;ZP(Jc(a.prototype),"render",this).call(this);var o=this._editingView;o.change(function(c){var l=o.document.getRoot(e.name);c.setAttribute("aria-label",e._generateLabel(e),l)})}}])&&C9(t.prototype,n),i&&C9(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(pft),O9=x(1874),bft={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(O9.Z,bft),O9.Z.locals;function Xc(r){return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(r)}function S9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Xc(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Xc(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Xc(a)==="symbol"?a:String(a)),i)}var u,a}function JP(r,t){return JP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JP(r,t)}function mft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=wg(r);if(t){var u=wg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function wg(r){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wg(r)}var XP=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&JP(e,o)})(a,r);var t,n,i,u=mft(a);function a(e){var o,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a);var l=(o=u.call(this,e)).bindTemplate;o.set("label",c.label||""),o.set("class",c.class||null),o.children=o.createCollection(),o.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",l.to("class")]},children:o.children});var s=new yt(e);return s.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"]},children:[{text:l.to("label")}]}),o.children.add(s),o}return t=a,n&&S9(t.prototype,n),i&&S9(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(yt);function tu(r){return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(r)}function j9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(tu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(tu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),tu(a)==="symbol"?a:String(a)),i)}var u,a}function tE(r,t){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tE(r,t)}function vft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=kg(r);if(t){var u=kg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function kg(r){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kg(r)}var eE=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&tE(e,o)})(a,r);var t,n,i,u=vft(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){this.on("show:warning",function(e,o){window.alert(o.message)},{priority:"lowest"})}},{key:"showSuccess",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._showNotification({message:e,type:"success",namespace:o.namespace,title:o.title})}},{key:"showInfo",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._showNotification({message:e,type:"info",namespace:o.namespace,title:o.title})}},{key:"showWarning",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._showNotification({message:e,type:"warning",namespace:o.namespace,title:o.title})}},{key:"_showNotification",value:function(e){var o=e.namespace?"show:".concat(e.type,":").concat(e.namespace):"show:".concat(e.type);this.fire(o,{message:e.message,type:e.type,title:e.title||""})}}],i=[{key:"pluginName",get:function(){return"Notification"}}],n&&j9(t.prototype,n),i&&j9(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(sm);function eu(r){return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(r)}function P9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(eu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(eu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),eu(a)==="symbol"?a:String(a)),i)}var u,a}function rE(r,t){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rE(r,t)}function gft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=_g(r);if(t){var u=_g(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E9(a)}(this,n)}}function E9(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _g(r){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_g(r)}var Fr=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&rE(e,o)})(a,r);var t,n,i,u=gft(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),c=u.call(this),o&&OL(E9(c),o),e&&c.set(e),c}return t=a,n&&P9(t.prototype,n),i&&P9(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Rt());const nE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>';var x9=x(7592),wft={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(x9.Z,wft),x9.Z.locals;var T9=x(6356),kft={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(T9.Z,kft),T9.Z.locals;function ru(r){return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(r)}function oE(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function D9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ru(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ru(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ru(a)==="symbol"?a:String(a)),i)}var u,a}function iE(r,t,n){return t&&D9(r.prototype,t),n&&D9(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Rh(){return Rh=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=hn(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},Rh.apply(this,arguments)}function aE(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&cE(r,t)}function cE(r,t){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cE(r,t)}function uE(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=hn(r);if(t){var u=hn(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function hn(r){return hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hn(r)}var Ag=Ln("px"),bn=function(r){aE(n,r);var t=uE(n);function n(i){var u;return oE(this,n),(u=t.call(this,i))._viewToStack=new Map,u._idToStack=new Map,u._view=null,u._rotatorView=null,u._fakePanelsView=null,u.positionLimiter=function(){var a=u.editor.editing.view,e=a.document.selection.editableElement;return e?a.domConverter.mapViewToDom(e.root):null},u.set("visibleView",null),u.set("_numberOfStacks",0),u.set("_singleViewMode",!1),u}return iE(n,[{key:"destroy",value:function(){Rh(hn(n.prototype),"destroy",this).call(this),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}},{key:"view",get:function(){return this._view||this._createPanelView(),this._view}},{key:"hasView",value:function(i){return Array.from(this._viewToStack.keys()).includes(i)}},{key:"add",value:function(i){if(this._view||this._createPanelView(),this.hasView(i.view))throw new V("contextualballoon-add-view-exist",[this,i]);var u=i.stackId||"main";if(!this._idToStack.has(u))return this._idToStack.set(u,new Map([[i.view,i]])),this._viewToStack.set(i.view,this._idToStack.get(u)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!i.singleViewMode||this.showStack(u));var a=this._idToStack.get(u);i.singleViewMode&&this.showStack(u),a.set(i.view,i),this._viewToStack.set(i.view,a),a===this._visibleStack&&this._showView(i)}},{key:"remove",value:function(i){if(!this.hasView(i))throw new V("contextualballoon-remove-view-not-exist",[this,i]);var u=this._viewToStack.get(i);this._singleViewMode&&this.visibleView===i&&(this._singleViewMode=!1),this.visibleView===i&&(u.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(u.values())[u.size-2])),u.size===1?(this._idToStack.delete(this._getStackId(u)),this._numberOfStacks=this._idToStack.size):u.delete(i),this._viewToStack.delete(i)}},{key:"updatePosition",value:function(i){i&&(this._visibleStack.get(this.visibleView).position=i),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}},{key:"showStack",value:function(i){this.visibleStack=i;var u=this._idToStack.get(i);if(!u)throw new V("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==u&&this._showView(Array.from(u.values()).pop())}},{key:"_createPanelView",value:function(){this._view=new Me(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}},{key:"_visibleStack",get:function(){return this._viewToStack.get(this.visibleView)}},{key:"_getStackId",value:function(i){return Array.from(this._idToStack.entries()).find(function(u){return u[1]===i})[0]}},{key:"_showNextStack",value:function(){var i=Array.from(this._idToStack.values()),u=i.indexOf(this._visibleStack)+1;i[u]||(u=0),this.showStack(this._getStackId(i[u]))}},{key:"_showPrevStack",value:function(){var i=Array.from(this._idToStack.values()),u=i.indexOf(this._visibleStack)-1;i[u]||(u=i.length-1),this.showStack(this._getStackId(i[u]))}},{key:"_createRotatorView",value:function(){var i=this,u=new _ft(this.editor.locale),a=this.editor.locale.t;return this.view.content.add(u),u.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",function(e,o){return!o&&e>1}),u.on("change:isNavigationVisible",function(){return i.updatePosition()},{priority:"low"}),u.bind("counter").to(this,"visibleView",this,"_numberOfStacks",function(e,o){if(o<2)return"";var c=Array.from(i._idToStack.values()).indexOf(i._visibleStack)+1;return a("%0 of %1",[c,o])}),u.buttonNextView.on("execute",function(){u.focusTracker.isFocused&&i.editor.editing.view.focus(),i._showNextStack()}),u.buttonPrevView.on("execute",function(){u.focusTracker.isFocused&&i.editor.editing.view.focus(),i._showPrevStack()}),u}},{key:"_createFakePanelsView",value:function(){var i=new Aft(this.editor.locale,this.view);return i.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",function(u,a){return!a&&u>=2?Math.min(u-1,2):0}),i.listenTo(this.view,"change:top",function(){return i.updatePosition()}),i.listenTo(this.view,"change:left",function(){return i.updatePosition()}),this.editor.ui.view.body.add(i),i}},{key:"_showView",value:function(i){var u=i.view,a=i.balloonClassName,e=a===void 0?"":a,o=i.withArrow,c=o===void 0||o,l=i.singleViewMode,s=l!==void 0&&l;this.view.class=e,this.view.withArrow=c,this._rotatorView.showView(u),this.visibleView=u,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}},{key:"_getBalloonPosition",value:function(){var i=Array.from(this._visibleStack.values()).pop().position;return i&&(i.limiter||(i=Object.assign({},i,{limiter:this.positionLimiter})),i=Object.assign({},i,{viewportOffsetConfig:this.editor.ui.viewportOffset})),i}}],[{key:"pluginName",get:function(){return"ContextualBalloon"}}]),n}(Y),_ft=function(r){aE(n,r);var t=uE(n);function n(i){var u;oE(this,n),u=t.call(this,i);var a=i.t,e=u.bindTemplate;return u.set("isNavigationVisible",!0),u.focusTracker=new ce,u.buttonPrevView=u._createButtonView(a("Previous"),nE),u.buttonNextView=u._createButtonView(a("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),u.content=u.createCollection(),u.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",e.to("isNavigationVisible",function(o){return o?"":"ck-hidden"})]},children:[u.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:e.to("counter")}]},u.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:u.content}]}),u}return iE(n,[{key:"render",value:function(){Rh(hn(n.prototype),"render",this).call(this),this.focusTracker.add(this.element)}},{key:"destroy",value:function(){Rh(hn(n.prototype),"destroy",this).call(this),this.focusTracker.destroy()}},{key:"showView",value:function(i){this.hideView(),this.content.add(i)}},{key:"hideView",value:function(){this.content.clear()}},{key:"_createButtonView",value:function(i,u){var a=new vt(this.locale);return a.set({label:i,icon:u,tooltip:!0}),a}}]),n}(yt),Aft=function(r){aE(n,r);var t=uE(n);function n(i,u){var a;oE(this,n);var e=(a=t.call(this,i)).bindTemplate;return a.set("top",0),a.set("left",0),a.set("height",0),a.set("width",0),a.set("numberOfPanels",0),a.content=a.createCollection(),a._balloonPanelView=u,a.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",e.to("numberOfPanels",function(o){return o?"":"ck-hidden"})],style:{top:e.to("top",Ag),left:e.to("left",Ag),width:e.to("width",Ag),height:e.to("height",Ag)}},children:a.content}),a.on("change:numberOfPanels",function(o,c,l,s){l>s?a._addPanels(l-s):a._removePanels(s-l),a.updatePosition()}),a}return iE(n,[{key:"_addPanels",value:function(i){for(;i--;){var u=new yt;u.setTemplate({tag:"div"}),this.content.add(u),this.registerChild(u)}}},{key:"_removePanels",value:function(i){for(;i--;){var u=this.content.last;this.content.remove(u),this.deregisterChild(u),u.destroy()}}},{key:"updatePosition",value:function(){if(this.numberOfPanels){var i=this._balloonPanelView,u=i.top,a=i.left,e=new Lt(this._balloonPanelView.element),o=e.width,c=e.height;Object.assign(this,{top:u,left:a,width:o,height:c})}}}]),n}(yt),R9=x(3707),Cft={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(R9.Z,Cft),R9.Z.locals;function nu(r){return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(r)}function I9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(nu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(nu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),nu(a)==="symbol"?a:String(a)),i)}var u,a}function lE(){return lE=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=ou(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},lE.apply(this,arguments)}function sE(r,t){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sE(r,t)}function Oft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ou(r);if(t){var u=ou(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function ou(r){return ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ou(r)}var iu=Ln("px"),Sft=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&sE(e,o)})(a,r);var t,n,i,u=Oft(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a);var c=(o=u.call(this,e)).bindTemplate;return o.set("isActive",!1),o.set("isSticky",!1),o.set("limiterElement",null),o.set("limiterBottomOffset",50),o.set("viewportTopOffset",0),o.set("_marginLeft",null),o.set("_isStickyToTheBottomOfLimiter",!1),o.set("_stickyTopOffset",null),o.set("_stickyBottomOffset",null),o.content=o.createCollection(),o._contentPanelPlaceholder=new Re({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:c.to("isSticky",function(l){return l?"block":"none"}),height:c.to("isSticky",function(l){return l?iu(o._contentPanelRect.height):null})}}}).render(),o._contentPanel=new Re({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",c.if("isSticky","ck-sticky-panel__content_sticky"),c.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:c.to("isSticky",function(l){return l?iu(o._contentPanelPlaceholder.getBoundingClientRect().width):null}),top:c.to("_stickyTopOffset",function(l){return l&&iu(l)}),bottom:c.to("_stickyBottomOffset",function(l){return l&&iu(l)}),marginLeft:c.to("_marginLeft")}},children:o.content}).render(),o.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[o._contentPanelPlaceholder,o._contentPanel]}),o}return t=a,n=[{key:"render",value:function(){var e=this;lE(ou(a.prototype),"render",this).call(this),this.checkIfShouldBeSticky(),this.listenTo(kt.document,"scroll",function(o,c){e.checkIfShouldBeSticky(c.target)},{useCapture:!0}),this.listenTo(this,"change:isActive",function(){e.checkIfShouldBeSticky()})}},{key:"checkIfShouldBeSticky",value:function(e){if(this.limiterElement&&this.isActive){var o=function(h){for(var b=[],v=aC(h);v&&v!==kt.document.body;)b.push(v),v=aC(v);return b.push(kt.document),b}(this.limiterElement);if(!e||o.includes(e)){var c=function(h){var b,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=h.map(function(C){if(C instanceof Document){var S=new Lt(x.g.window);return S.top+=v,S.height-=v,S}return new Lt(C)}),k=g[0],_=Dnt(g.slice(1));try{for(_.s();!(b=_.n()).done;){var A=b.value;k&&(k=k.getIntersection(A))}}catch(C){_.e(C)}finally{_.f()}return k}(o,this.viewportTopOffset),l=new Lt(this.limiterElement);if(c&&l.top<c.top){var s=l.getIntersection(c);if(s){var f=c.top;if(f+this._contentPanelRect.height+this.limiterBottomOffset>s.bottom){var d=Math.max(l.bottom-c.bottom,0)+this.limiterBottomOffset;l.bottom-d>l.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(d):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<l.height?this._stickToTopOfAncestors(f):this._unstick()}else this._unstick()}else this._unstick()}}else this._unstick()}},{key:"_stickToTopOfAncestors",value:function(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=iu(-kt.window.scrollX)}},{key:"_stickToBottomOfLimiter",value:function(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=iu(-kt.window.scrollX)}},{key:"_unstick",value:function(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}},{key:"_contentPanelRect",get:function(){return new Lt(this._contentPanel)}}],n&&I9(t.prototype,n),i&&I9(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);Ln("px");var B9=x(4176),jft={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(B9.Z,jft),B9.Z.locals,Ln("px"),Ln("px");function au(r){return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(r)}function M9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(au(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(au(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),au(a)==="symbol"?a:String(a)),i)}var u,a}function fE(){return fE=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=cu(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},fE.apply(this,arguments)}function dE(r,t){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dE(r,t)}function Pft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=cu(r);if(t){var u=cu(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N9(a)}(this,n)}}function N9(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function cu(r){return cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cu(r)}var Eft=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&dE(e,o)})(a,r);var t,n,i,u=Pft(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e)).view=o,c._toolbarConfig=TM(e.config.get("toolbar")),c._elementReplacer=new IB,c.listenTo(e.editing.view,"scrollToTheSelection",c._handleScrollToTheSelectionWithStickyPanel.bind(N9(c))),c}return t=a,n=[{key:"element",get:function(){return this.view.element}},{key:"init",value:function(e){var o=this.editor,c=this.view,l=o.editing.view,s=c.editable,f=l.document.getRoot();s.name=f.rootName,c.render();var d=s.element;this.setEditableElement(s.name,d),c.editable.bind("isFocused").to(this.focusTracker),l.attachDomRoot(d),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}},{key:"destroy",value:function(){fE(cu(a.prototype),"destroy",this).call(this);var e=this.view,o=this.editor.editing.view;this._elementReplacer.restore(),o.detachDomRoot(e.editable.name),e.destroy()}},{key:"_initToolbar",value:function(){var e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",function(o){return o.top||0}),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}},{key:"_initPlaceholder",value:function(){var e,o=this.editor,c=o.editing.view,l=c.document.getRoot(),s=o.sourceElement,f=o.config.get("placeholder");f&&(e=typeof f=="string"?f:f[this.view.editable.name]),!e&&s&&s.tagName.toLowerCase()==="textarea"&&(e=s.getAttribute("placeholder")),e&&(l.placeholder=e),cO({view:c,element:l,isDirectHost:!1,keepOnFocus:!0})}},{key:"_handleScrollToTheSelectionWithStickyPanel",value:function(e,o,c){var l=this,s=this.view.stickyPanel;if(s.isSticky){var f=new Lt(s.element).height;o.viewportOffset.top+=f}else{var d=function(){l.editor.editing.view.scrollToTheSelection(c)};this.listenTo(s,"change:isSticky",d),setTimeout(function(){l.stopListening(s,"change:isSticky",d)},20)}}}],n&&M9(t.prototype,n),i&&M9(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(cft),L9=x(3624),xft={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(L9.Z,xft),L9.Z.locals;function uu(r){return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(r)}function z9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(uu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(uu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),uu(a)==="symbol"?a:String(a)),i)}var u,a}function pE(){return pE=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=lu(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},pE.apply(this,arguments)}function yE(r,t){return yE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yE(r,t)}function Tft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=lu(r);if(t){var u=lu(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function lu(r){return lu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lu(r)}var Dft=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&yE(e,o)})(a,r);var t,n,i,u=Tft(a);function a(e,o){var c,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e)).stickyPanel=new Sft(e),c.toolbar=new xc(e,{shouldGroupWhenFull:l.shouldToolbarGroupWhenFull}),c.editable=new hft(e,o),c}return t=a,(n=[{key:"render",value:function(){pE(lu(a.prototype),"render",this).call(this),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}])&&z9(t.prototype,n),i&&z9(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(fft);function Ih(r){return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(r)}function Rft(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return F9(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return F9(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function F9(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function V9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ih(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ih(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ih(a)==="symbol"?a:String(a)),i)}var u,a}var U9=function(){function r(u){var a=this;if(function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,r),this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof u.crashNumberLimit=="number"?u.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof u.minimumNonErrorTimePeriod=="number"?u.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=function(e){var o="error"in e?e.error:e.reason;o instanceof Error&&a._handleError(o,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}var t,n,i;return t=r,n=[{key:"destroy",value:function(){this._stopErrorHandling(),this._listeners={}}},{key:"on",value:function(u,a){this._listeners[u]||(this._listeners[u]=[]),this._listeners[u].push(a)}},{key:"off",value:function(u,a){this._listeners[u]=this._listeners[u].filter(function(e){return e!==a})}},{key:"_fire",value:function(u){for(var a=this._listeners[u]||[],e=arguments.length,o=new Array(e>1?e-1:0),c=1;c<e;c++)o[c-1]=arguments[c];var l,s=Rft(a);try{for(s.s();!(l=s.n()).done;)l.value.apply(this,[null].concat(o))}catch(f){s.e(f)}finally{s.f()}}},{key:"_startErrorHandling",value:function(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_stopErrorHandling",value:function(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_handleError",value:function(u,a){if(this._shouldReactToError(u)){this.crashes.push({message:u.message,stack:u.stack,filename:a instanceof ErrorEvent?a.filename:void 0,lineno:a instanceof ErrorEvent?a.lineno:void 0,colno:a instanceof ErrorEvent?a.colno:void 0,date:this._now()});var e=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:u,causesRestart:e}),e?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}},{key:"_shouldReactToError",value:function(u){return u.is&&u.is("CKEditorError")&&u.context!==void 0&&u.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(u)}},{key:"_shouldRestart",value:function(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}],n&&V9(t.prototype,n),i&&V9(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function hE(r){return hE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hE(r)}function Ift(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return H9(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return H9(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function H9(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function bE(r){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,n=[r],i=new Set,u=0;n.length>u;){var a=n[u++];if(!i.has(a)&&Bft(a)&&!t.has(a))if(i.add(a),Symbol.iterator in a)try{var e,o=Ift(a);try{for(o.s();!(e=o.n()).done;){var c=e.value;n.push(c)}}catch(s){o.e(s)}finally{o.f()}}catch(s){}else for(var l in a)l!=="defaultValue"&&n.push(a[l])}return i}function Bft(r){var t=Object.prototype.toString.call(r),n=hE(r);return!(n==="number"||n==="boolean"||n==="string"||n==="symbol"||n==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||r==null||r._watchdogExcluded||r instanceof EventTarget||r instanceof Event)}function mE(r){return mE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mE(r)}function Mft(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return G9(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return G9(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function G9(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function W9(r,t){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(r===t&&mE(n=r)==="object"&&n!==null)return!0;var u,a=bE(r,i),e=bE(t,i),o=Mft(a);try{for(o.s();!(u=o.n()).done;){var c=u.value;if(e.has(c))return!0}}catch(l){o.e(l)}finally{o.f()}return!1}function su(r){return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(r)}var Nft=["rangeJSON"];function Lft(r,t){if(r==null)return{};var n,i,u=function(e,o){if(e==null)return{};var c,l,s={},f=Object.keys(e);for(l=0;l<f.length;l++)c=f[l],o.indexOf(c)>=0||(s[c]=e[c]);return s}(r,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(r,n)&&(u[n]=r[n])}return u}function Bh(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=q9(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function $9(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function Cg(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$9(Object(n),!0).forEach(function(i){zft(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):$9(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function zft(r,t,n){return(t=J9(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Og(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||q9(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q9(r,t){if(r){if(typeof r=="string")return Y9(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y9(r,t):void 0}}function Y9(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function K9(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Z9(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,J9(i.key),i)}}function Q9(r,t,n){return t&&Z9(r.prototype,t),n&&Z9(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function J9(r){var t=function(n,i){if(su(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(su(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return su(t)==="symbol"?t:String(t)}function Sg(){return Sg=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Co(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},Sg.apply(this,arguments)}function vE(r,t){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vE(r,t)}function Fft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Co(r);if(t){var u=Co(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X9(a)}(this,n)}}function X9(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Co(r){return Co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Co(r)}var tV=function(r){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),u&&vE(i,u)})(n,r);var t=Fft(n);function n(i){var u,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return K9(this,n),(u=t.call(this,a))._editor=null,u._initUsingData=!0,u._editables={},u._throttledSave=pg(u._save.bind(X9(u)),typeof a.saveInterval=="number"?a.saveInterval:5e3),i&&(u._creator=function(e,o){return i.create(e,o)}),u._destructor=function(e){return e.destroy()},u}return Q9(n,[{key:"editor",get:function(){return this._editor}},{key:"_item",get:function(){return this._editor}},{key:"setCreator",value:function(i){this._creator=i}},{key:"setDestructor",value:function(i){this._destructor=i}},{key:"_restart",value:function(){var i=this;return Promise.resolve().then(function(){return i.state="initializing",i._fire("stateChange"),i._destroy()}).catch(function(u){console.error("An error happened during the editor destroying.",u)}).then(function(){for(var u={},a=[],e=i._config.rootsAttributes||{},o={},c=0,l=Object.entries(i._data.roots);c<l.length;c++){var s=Og(l[c],2),f=s[0];s[1].isLoaded?(u[f]="",o[f]=e[f]||{}):a.push(f)}var d=Cg(Cg({},i._config),{},{extraPlugins:i._config.extraPlugins||[],lazyRoots:a,rootsAttributes:o,_watchdogInitialData:i._data});return delete d.initialData,d.extraPlugins.push(Vft),i._initUsingData?i.create(u,d,d.context):Bn(i._elementOrData)?i.create(i._elementOrData,d,d.context):i.create(i._editables,d,d.context)}).then(function(){i._fire("restart")})}},{key:"create",value:function(){var i=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._elementOrData,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._config,e=arguments.length>2?arguments[2]:void 0;return Promise.resolve().then(function(){return Sg(Co(n.prototype),"_startErrorHandling",i).call(i),i._elementOrData=u,i._initUsingData=typeof u=="string"||Object.keys(u).length>0&&typeof Object.values(u)[0]=="string",i._config=i._cloneEditorConfiguration(a)||{},i._config.context=e,i._creator(u,i._config)}).then(function(o){i._editor=o,o.model.document.on("change:data",i._throttledSave),i._lastDocumentVersion=o.model.document.version,i._data=i._getData(),i._initUsingData||(i._editables=i._getEditables()),i.state="ready",i._fire("stateChange")})}},{key:"destroy",value:function(){var i=this;return Promise.resolve().then(function(){return i.state="destroyed",i._fire("stateChange"),Sg(Co(n.prototype),"destroy",i).call(i),i._destroy()})}},{key:"_destroy",value:function(){var i=this;return Promise.resolve().then(function(){i._stopErrorHandling(),i._throttledSave.cancel();var u=i._editor;return i._editor=null,u.model.document.off("change:data",i._throttledSave),i._destructor(u)})}},{key:"_save",value:function(){var i=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=i}catch(u){console.error(u,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}},{key:"_setExcludedProperties",value:function(i){this._excludedProps=i}},{key:"_getData",value:function(){var i=this._editor,u=i.model.document.roots.filter(function(d){return d.isAttached()&&d.rootName!="$graveyard"}),a=i.plugins,e=a.has("CommentsRepository")&&a.get("CommentsRepository"),o=a.has("TrackChanges")&&a.get("TrackChanges"),c={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};u.forEach(function(d){c.roots[d.rootName]={content:JSON.stringify(Array.from(d.getChildren())),attributes:JSON.stringify(Array.from(d.getAttributes())),isLoaded:d._isLoaded}});var l,s=Bh(i.model.markers);try{for(s.s();!(l=s.n()).done;){var f=l.value;f._affectsData&&(c.markers[f.name]={rangeJSON:f.getRange().toJSON(),usingOperation:f._managedUsingOperations,affectsData:f._affectsData})}}catch(d){s.e(d)}finally{s.f()}return e&&(c.commentThreads=JSON.stringify(e.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),o&&(c.suggestions=JSON.stringify(o.getSuggestions({toJSON:!0,skipNotAttached:!0}))),c}},{key:"_getEditables",value:function(){var i,u={},a=Bh(this.editor.model.document.getRootNames());try{for(a.s();!(i=a.n()).done;){var e=i.value,o=this.editor.ui.getEditableElement(e);o&&(u[e]=o)}}catch(c){a.e(c)}finally{a.f()}return u}},{key:"_isErrorComingFromThisItem",value:function(i){return W9(this._editor,i.context,this._excludedProps)}},{key:"_cloneEditorConfiguration",value:function(i){return rC(i,function(u,a){return Bn(u)||a==="context"?u:void 0})}}]),n}(U9),Vft=function(){function r(t){K9(this,r),this.editor=t,this._data=t.config.get("_watchdogInitialData")}return Q9(r,[{key:"init",value:function(){var t=this;this.editor.data.on("init",function(n){n.stop(),t.editor.model.enqueueChange({isUndoable:!1},function(i){t._restoreCollaborationData(),t._restoreEditorData(i)}),t.editor.data.fire("ready")},{priority:999})}},{key:"_createNode",value:function(t,n){if("name"in n){var i=t.createElement(n.name,n.attributes);if(n.children){var u,a=Bh(n.children);try{for(a.s();!(u=a.n()).done;){var e=u.value;i._appendChild(this._createNode(t,e))}}catch(o){a.e(o)}finally{a.f()}}return i}return t.createText(n.data,n.attributes)}},{key:"_restoreEditorData",value:function(t){var n=this,i=this.editor;Object.entries(this._data.roots).forEach(function(u){var a,e=Og(u,2),o=e[0],c=e[1],l=c.content,s=c.attributes,f=JSON.parse(l),d=JSON.parse(s),h=i.model.document.getRoot(o),b=Bh(d);try{for(b.s();!(a=b.n()).done;){var v=Og(a.value,2),g=v[0],k=v[1];t.setAttribute(g,k,h)}}catch(P){b.e(P)}finally{b.f()}var _,A=Bh(f);try{for(A.s();!(_=A.n()).done;){var C=_.value,S=n._createNode(t,C);t.insert(S,h,"end")}}catch(P){A.e(P)}finally{A.f()}}),Object.entries(this._data.markers).forEach(function(u){var a=Og(u,2),e=a[0],o=a[1],c=i.model.document,l=o.rangeJSON,s=l.start,f=l.end,d=Lft(o,Nft),h=c.getRoot(s.root),b=t.createPositionFromPath(h,s.path,s.stickiness),v=t.createPositionFromPath(h,f.path,f.stickiness),g=t.createRange(b,v);t.addMarker(e,Cg({range:g},d))})}},{key:"_restoreCollaborationData",value:function(){var t=this,n=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);n.forEach(function(u){var a=t.editor.config.get("collaboration.channelId"),e=t.editor.plugins.get("CommentsRepository");e.hasCommentThread(u.threadId)&&e.getCommentThread(u.threadId).remove(),e.addCommentThread(Cg({channelId:a},u))}),i.forEach(function(u){var a=t.editor.plugins.get("TrackChangesEditing");a.hasSuggestion(u.id)?a.getSuggestion(u.id).attributes=u.attributes:a.addSuggestionData(u)})}}]),r}();function fu(r){return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(r)}function Uft(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return eV(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return eV(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function eV(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function rV(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function nV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(fu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(fu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),fu(a)==="symbol"?a:String(a)),i)}var u,a}function oV(r,t,n){return t&&nV(r.prototype,t),n&&nV(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function gE(){return gE=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=du(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},gE.apply(this,arguments)}function wE(r,t){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wE(r,t)}function Hft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=du(r);if(t){var u=du(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function du(r){return du=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},du(r)}var Mh=Symbol("MainQueueId"),Gft=function(r){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),u&&wE(i,u)})(n,r);var t=Hft(n);function n(i){var u,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return rV(this,n),(u=t.call(this,a))._watchdogs=new Map,u._context=null,u._contextProps=new Set,u._actionQueues=new Wft,u._watchdogConfig=a,u._creator=function(e){return i.create(e)},u._destructor=function(e){return e.destroy()},u._actionQueues.onEmpty(function(){u.state==="initializing"&&(u.state="ready",u._fire("stateChange"))}),u}return oV(n,[{key:"setCreator",value:function(i){this._creator=i}},{key:"setDestructor",value:function(i){this._destructor=i}},{key:"context",get:function(){return this._context}},{key:"create",value:function(){var i=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._actionQueues.enqueue(Mh,function(){return i._contextConfig=u,i._create()})}},{key:"getItem",value:function(i){return this._getWatchdog(i)._item}},{key:"getItemState",value:function(i){return this._getWatchdog(i).state}},{key:"add",value:function(i){var u=this,a=iV(i);return Promise.all(a.map(function(e){return u._actionQueues.enqueue(e.id,function(){if(u.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!u._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");var o;if(u._watchdogs.has(e.id))throw new Error("Item with the given id is already added: '".concat(e.id,"'."));if(e.type==="editor")return(o=new tV(null,u._watchdogConfig)).setCreator(e.creator),o._setExcludedProperties(u._contextProps),e.destructor&&o.setDestructor(e.destructor),u._watchdogs.set(e.id,o),o.on("error",function(c,l){var s=l.error,f=l.causesRestart;u._fire("itemError",{itemId:e.id,error:s}),f&&u._actionQueues.enqueue(e.id,function(){return new Promise(function(d){o.on("restart",function h(){o.off("restart",h),u._fire("itemRestart",{itemId:e.id}),d()})})})}),o.create(e.sourceElementOrData,e.config,u._context);throw new Error("Not supported item type: '".concat(e.type,"'."))})}))}},{key:"remove",value:function(i){var u=this,a=iV(i);return Promise.all(a.map(function(e){return u._actionQueues.enqueue(e,function(){var o=u._getWatchdog(e);return u._watchdogs.delete(e),o.destroy()})}))}},{key:"destroy",value:function(){var i=this;return this._actionQueues.enqueue(Mh,function(){return i.state="destroyed",i._fire("stateChange"),gE(du(n.prototype),"destroy",i).call(i),i._destroy()})}},{key:"_restart",value:function(){var i=this;return this._actionQueues.enqueue(Mh,function(){return i.state="initializing",i._fire("stateChange"),i._destroy().catch(function(u){console.error("An error happened during destroying the context or items.",u)}).then(function(){return i._create()}).then(function(){return i._fire("restart")})})}},{key:"_create",value:function(){var i=this;return Promise.resolve().then(function(){return i._startErrorHandling(),i._creator(i._contextConfig)}).then(function(u){return i._context=u,i._contextProps=bE(i._context),Promise.all(Array.from(i._watchdogs.values()).map(function(a){return a._setExcludedProperties(i._contextProps),a.create(void 0,void 0,i._context)}))})}},{key:"_destroy",value:function(){var i=this;return Promise.resolve().then(function(){i._stopErrorHandling();var u=i._context;return i._context=null,i._contextProps=new Set,Promise.all(Array.from(i._watchdogs.values()).map(function(a){return a.destroy()})).then(function(){return i._destructor(u)})})}},{key:"_getWatchdog",value:function(i){var u=this._watchdogs.get(i);if(!u)throw new Error("Item with the given id was not registered: ".concat(i,"."));return u}},{key:"_isErrorComingFromThisItem",value:function(i){var u,a=Uft(this._watchdogs.values());try{for(a.s();!(u=a.n()).done;)if(u.value._isErrorComingFromThisItem(i))return!1}catch(e){a.e(e)}finally{a.f()}return W9(this._context,i.context)}}]),n}(U9),Wft=function(){function r(){rV(this,r),this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}return oV(r,[{key:"onEmpty",value:function(t){this._onEmptyCallbacks.push(t)}},{key:"enqueue",value:function(t,n){var i=this,u=t===Mh;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());var a=(u?Promise.all(this._queues.values()):Promise.all([this._queues.get(Mh),this._queues.get(t)])).then(n),e=a.catch(function(){});return this._queues.set(t,e),a.finally(function(){i._activeActions--,i._queues.get(t)===e&&i._activeActions===0&&i._onEmptyCallbacks.forEach(function(o){return o()})})}}]),r}();function iV(r){return Array.isArray(r)?r:[r]}function pu(r){return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(r)}function aV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(pu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(pu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),pu(a)==="symbol"?a:String(a)),i)}var u,a}function kE(){return kE=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=yu(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},kE.apply(this,arguments)}function _E(r,t){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_E(r,t)}function $ft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=yu(r);if(t){var u=yu(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AE(a)}(this,n)}}function AE(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function yu(r){return yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yu(r)}var jg=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&_E(e,o)})(a,r);var t,n,i,u=$ft(a);function a(e){var o,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}(this,a),!Pg(e)&&c.initialData!==void 0)throw new V("editor-create-initial-data",null);(o=u.call(this,c)).config.get("initialData")===void 0&&o.config.set("initialData",function(f){return Pg(f)?(d=f,d instanceof HTMLTextAreaElement?d.value:d.innerHTML):f;var d}(e)),Pg(e)&&(o.sourceElement=e),o.model.document.createRoot();var l=!o.config.get("toolbar.shouldNotGroupWhenFull"),s=new Dft(o.locale,o.editing.view,{shouldToolbarGroupWhenFull:l});return o.ui=new Eft(AE(o),s),function(f){if(!Tn(f.updateSourceElement))throw new V("attachtoform-missing-elementapi-interface",f);var d=f.sourceElement;if(function(g){return!!g&&g.tagName.toLowerCase()==="textarea"}(d)&&d.form){var h,b=d.form,v=function(){return f.updateSourceElement()};Tn(b.submit)&&(h=b.submit,b.submit=function(){v(),h.apply(b)}),b.addEventListener("submit",v),f.on("destroy",function(){b.removeEventListener("submit",v),h&&(b.submit=h)})}}(AE(o)),o}return t=a,i=[{key:"create",value:function(e){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(l){var s=new o(e,c);l(s.initPlugins().then(function(){return s.ui.init(Pg(e)?e:null)}).then(function(){return s.data.init(s.config.get("initialData"))}).then(function(){return s.fire("ready")}).then(function(){return s}))})}}],(n=[{key:"destroy",value:function(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),kE(yu(a.prototype),"destroy",this).call(this)}}])&&aV(t.prototype,n),i&&aV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Hv(uP(Blt)));function Pg(r){return Bn(r)}jg.Context=GM,jg.EditorWatchdog=tV,jg.ContextWatchdog=Gft;var CE=["left","right","center","justify"];function cV(r){return CE.includes(r)}function uV(r,t){return t.contentLanguageDirection=="rtl"?r==="right":r==="left"}function lV(r){var t=r.map(function(i){return typeof i=="string"?{name:i}:i}).filter(function(i){var u=CE.includes(i.name);return u||Ct("alignment-config-name-not-recognized",{option:i}),u}),n=t.filter(function(i){return!!i.className}).length;if(n&&n<t.length)throw new V("alignment-config-classnames-are-missing",{configuredOptions:r});return t.forEach(function(i,u,a){var e=a.slice(u+1);if(e.some(function(o){return o.name==i.name}))throw new V("alignment-config-name-already-defined",{option:i,configuredOptions:r});if(i.className&&e.some(function(o){return o.className==i.className}))throw new V("alignment-config-classname-already-defined",{option:i,configuredOptions:r})}),t}function hu(r){return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(r)}function sV(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return fV(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return fV(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function fV(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function dV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(hu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(hu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),hu(a)==="symbol"?a:String(a)),i)}var u,a}function OE(r,t){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OE(r,t)}function qft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Eg(r);if(t){var u=Eg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Eg(r){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Eg(r)}var SE="alignment",Yft=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&OE(e,o)})(a,r);var t,n,i,u=qft(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.locale,o=Vt(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!o&&this._canBeAligned(o),this.isEnabled&&o.hasAttribute("alignment")?this.value=o.getAttribute("alignment"):this.value=e.contentLanguageDirection==="rtl"?"right":"left"}},{key:"execute",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=this.editor,l=c.locale,s=c.model,f=s.document,d=o.value;s.change(function(h){var b=Array.from(f.selection.getSelectedBlocks()).filter(function(g){return e._canBeAligned(g)}),v=b[0].getAttribute("alignment");uV(d,l)||v===d||!d?function(g,k){var _,A=sV(g);try{for(A.s();!(_=A.n()).done;){var C=_.value;k.removeAttribute(SE,C)}}catch(S){A.e(S)}finally{A.f()}}(b,h):function(g,k,_){var A,C=sV(g);try{for(C.s();!(A=C.n()).done;){var S=A.value;k.setAttribute(SE,_,S)}}catch(P){C.e(P)}finally{C.f()}}(b,h,d)})}},{key:"_canBeAligned",value:function(e){return this.editor.model.schema.checkAttribute(e,SE)}}],n&&dV(t.prototype,n),i&&dV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function bu(r){return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(r)}function mu(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return pV(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return pV(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function pV(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function yV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(bu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(bu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),bu(a)==="symbol"?a:String(a)),i)}var u,a}function jE(r,t){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jE(r,t)}function Kft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=xg(r);if(t){var u=xg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function xg(r){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xg(r)}var Zft=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&jE(e,o)})(a,r);var t,n,i,u=Kft(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this,e),e.config.define("alignment",{options:CE.map(function(c){return{name:c}})}),o}return t=a,n=[{key:"init",value:function(){var e=this.editor,o=e.locale,c=e.model.schema,l=lV(e.config.get("alignment.options")).filter(function(A){return cV(A.name)&&!uV(A.name,o)}),s=l.some(function(A){return!!A.className});c.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),s?e.conversion.attributeToAttribute(function(A){var C,S={},P=mu(A);try{for(P.s();!(C=P.n()).done;){var E=C.value;S[E.name]={key:"class",value:E.className}}}catch(I){P.e(I)}finally{P.f()}var R={model:{key:"alignment",values:A.map(function(I){return I.name})},view:S};return R}(l)):e.conversion.for("downcast").attributeToAttribute(function(A){var C,S={},P=mu(A);try{for(P.s();!(C=P.n()).done;){var E=C.value.name;S[E]={key:"style",value:{"text-align":E}}}}catch(I){P.e(I)}finally{P.f()}var R={model:{key:"alignment",values:A.map(function(I){return I.name})},view:S};return R}(l));var f,d=function(A){var C,S=[],P=mu(A);try{for(P.s();!(C=P.n()).done;){var E=C.value.name;S.push({view:{key:"style",value:{"text-align":E}},model:{key:"alignment",value:E}})}}catch(R){P.e(R)}finally{P.f()}return S}(l),h=mu(d);try{for(h.s();!(f=h.n()).done;){var b=f.value;e.conversion.for("upcast").attributeToAttribute(b)}}catch(A){h.e(A)}finally{h.f()}var v,g=function(A){var C,S=[],P=mu(A);try{for(P.s();!(C=P.n()).done;){var E=C.value.name;S.push({view:{key:"align",value:E},model:{key:"alignment",value:E}})}}catch(R){P.e(R)}finally{P.f()}return S}(l),k=mu(g);try{for(k.s();!(v=k.n()).done;){var _=v.value;e.conversion.for("upcast").attributeToAttribute(_)}}catch(A){k.e(A)}finally{k.f()}e.commands.add("alignment",new Yft(e))}}],i=[{key:"pluginName",get:function(){return"AlignmentEditing"}}],n&&yV(t.prototype,n),i&&yV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function vu(r){return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(r)}function hV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(vu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(vu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),vu(a)==="symbol"?a:String(a)),i)}var u,a}function PE(r,t){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PE(r,t)}function Qft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Tg(r);if(t){var u=Tg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Tg(r){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tg(r)}var Dg=new Map([["left",sP],["right",Zz],["center",Kz],["justify",Qz]]),Jft=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&PE(e,o)})(a,r);var t,n,i,u=Qft(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"localizedOptionTitles",get:function(){var e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}},{key:"init",value:function(){var e=this,o=this.editor,c=o.ui.componentFactory,l=o.t,s=lV(o.config.get("alignment.options"));s.map(function(f){return f.name}).filter(cV).forEach(function(f){return e._addButton(f)}),c.add("alignment",function(f){var d=ae(f);Th(d,function(){return s.map(function(v){return c.create("alignment:".concat(v.name))})},{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:l("Text alignment toolbar")}),d.buttonView.set({label:l("Text alignment"),tooltip:!0}),d.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});var h=f.contentLanguageDirection==="rtl"?Dg.get("right"):Dg.get("left"),b=o.commands.get("alignment");return d.buttonView.bind("icon").to(b,"value",function(v){return Dg.get(v)||h}),d.bind("isEnabled").to(b,"isEnabled"),e.listenTo(d,"execute",function(){o.editing.view.focus()}),d})}},{key:"_addButton",value:function(e){var o=this,c=this.editor;c.ui.componentFactory.add("alignment:".concat(e),function(l){var s=c.commands.get("alignment"),f=new vt(l);return f.set({label:o.localizedOptionTitles[e],icon:Dg.get(e),tooltip:!0,isToggleable:!0}),f.bind("isEnabled").to(s),f.bind("isOn").to(s,"value",function(d){return d===e}),o.listenTo(f,"execute",function(){c.execute("alignment",{value:e}),c.editing.view.focus()}),f})}}],i=[{key:"pluginName",get:function(){return"AlignmentUI"}}],n&&hV(t.prototype,n),i&&hV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function gu(r){return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(r)}function bV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(gu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(gu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),gu(a)==="symbol"?a:String(a)),i)}var u,a}function EE(r,t){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EE(r,t)}function Xft(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Rg(r);if(t){var u=Rg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Rg(r){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rg(r)}var tdt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&EE(e,o)})(a,r);var t,n,i,u=Xft(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Zft,Jft]}},{key:"pluginName",get:function(){return"Alignment"}}],(n=null)&&bV(t.prototype,n),i&&bV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Nh(r){return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(r)}function mV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Nh(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Nh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Nh(a)==="symbol"?a:String(a)),i)}var u,a}var vV=function(){function r(u){var a=this,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20;(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,r),this._batch=null,this.model=u,this._size=0,this.limit=e,this._isLocked=!1,this._changeCallback=function(o,c){c.isLocal&&c.isUndoable&&c!==a._batch&&a._reset(!0)},this._selectionChangeCallback=function(){a._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}var t,n,i;return t=r,n=[{key:"batch",get:function(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}},{key:"size",get:function(){return this._size}},{key:"input",value:function(u){this._size+=u,this._size>=this.limit&&this._reset(!0)}},{key:"isLocked",get:function(){return this._isLocked}},{key:"lock",value:function(){this._isLocked=!0}},{key:"unlock",value:function(){this._isLocked=!1}},{key:"destroy",value:function(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}},{key:"_reset",value:function(){var u=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.isLocked&&!u||(this._batch=null,this._size=0)}}],n&&mV(t.prototype,n),i&&mV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function wu(r){return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(r)}function gV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(wu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(wu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),wu(a)==="symbol"?a:String(a)),i)}var u,a}function xE(){return xE=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=ku(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},xE.apply(this,arguments)}function TE(r,t){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TE(r,t)}function edt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ku(r);if(t){var u=ku(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function ku(r){return ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ku(r)}var rdt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&TE(e,o)})(a,r);var t,n,i,u=edt(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e))._buffer=new vV(e.model,o),c._isEnabledBasedOnSelection=!1,c}return t=a,n=[{key:"buffer",get:function(){return this._buffer}},{key:"destroy",value:function(){xE(ku(a.prototype),"destroy",this).call(this),this._buffer.destroy()}},{key:"execute",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=this.editor.model,l=c.document,s=o.text||"",f=s.length,d=l.selection;if(o.selection?d=o.selection:o.range&&(d=c.createSelection(o.range)),c.canEditAt(d)){var h=o.resultRange;c.enqueueChange(this._buffer.batch,function(b){e._buffer.lock(),c.deleteContent(d),s&&c.insertContent(b.createText(s,l.selection.getAttributes()),d),h?b.setSelection(h):d.is("documentSelection")||b.setSelection(d),e._buffer.unlock(),e._buffer.input(f)})}}}],n&&gV(t.prototype,n),i&&gV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function _u(r){return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(r)}function wV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(_u(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(_u(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),_u(a)==="symbol"?a:String(a)),i)}var u,a}function DE(r,t){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DE(r,t)}function ndt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ig(r);if(t){var u=Ig(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ig(r){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ig(r)}var kV=["insertText","insertReplacementText"],odt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&DE(e,o)})(a,r);var t,n,i,u=ndt(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a),(o=u.call(this,e)).focusObserver=e.getObserver($m),pt.isAndroid&&kV.push("insertCompositionText");var c=e.document;return c.on("beforeinput",function(l,s){if(o.isEnabled){var f=s.data,d=s.targetRanges,h=s.inputType,b=s.domEvent;if(kV.includes(h)){o.focusObserver.flush();var v=new ge(c,"insertText");c.fire(v,new la(e,b,{text:f,selection:e.createSelection(d)})),v.stop.called&&l.stop()}}}),c.on("compositionend",function(l,s){var f=s.data,d=s.domEvent;o.isEnabled&&!pt.isAndroid&&f&&c.fire("insertText",new la(e,d,{text:f,selection:c.selection}))},{priority:"lowest"}),o}return t=a,(n=[{key:"observe",value:function(){}},{key:"stopObserving",value:function(){}}])&&wV(t.prototype,n),i&&wV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(br);function Au(r){return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(r)}function _V(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Au(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Au(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Au(a)==="symbol"?a:String(a)),i)}var u,a}function RE(r,t){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RE(r,t)}function idt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Bg(r);if(t){var u=Bg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Bg(r){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bg(r)}var AV=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&RE(e,o)})(a,r);var t,n,i,u=idt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this.editor,o=e.model,c=e.editing.view,l=o.document.selection;c.addObserver(odt);var s=new rdt(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",s),e.commands.add("input",s),this.listenTo(c.document,"insertText",function(f,d){c.document.isComposing||d.preventDefault();var h=d.text,b=d.selection,v=d.resultRange,g=Array.from(b.getRanges()).map(function(C){return e.editing.mapper.toModelRange(C)}),k=h;if(pt.isAndroid){var _=Array.from(g[0].getItems()).reduce(function(C,S){return C+(S.is("$textProxy")?S.data:"")},"");_&&(_.length<=k.length?k.startsWith(_)&&(k=k.substring(_.length),g[0].start=g[0].start.getShiftedBy(_.length)):_.startsWith(k)&&(g[0].start=g[0].start.getShiftedBy(k.length),k=""))}var A={text:k,selection:o.createSelection(g)};v&&(A.resultRange=e.editing.mapper.toModelRange(v)),e.execute("insertText",A),c.scrollToTheSelection()}),pt.isAndroid?this.listenTo(c.document,"keydown",function(f,d){!l.isCollapsed&&d.keyCode==229&&c.document.isComposing&&CV(o,s)}):this.listenTo(c.document,"compositionstart",function(){l.isCollapsed||CV(o,s)})}}],i=[{key:"pluginName",get:function(){return"Input"}}],n&&_V(t.prototype,n),i&&_V(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function CV(r,t){if(t.isEnabled){var n=t.buffer;n.lock(),r.enqueueChange(n.batch,function(){r.deleteContent(r.document.selection)}),n.unlock()}}function Cu(r){return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(r)}function OV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Cu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Cu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Cu(a)==="symbol"?a:String(a)),i)}var u,a}function IE(r,t){return IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IE(r,t)}function adt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Mg(r);if(t){var u=Mg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Mg(r){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mg(r)}var SV=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&IE(e,o)})(a,r);var t,n,i,u=adt(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e)).direction=o,c._buffer=new vV(e.model,e.config.get("typing.undoStep")),c._isEnabledBasedOnSelection=!1,c}return t=a,n=[{key:"buffer",get:function(){return this._buffer}},{key:"execute",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=this.editor.model,l=c.document;c.enqueueChange(this._buffer.batch,function(s){e._buffer.lock();var f=s.createSelection(o.selection||l.selection);if(c.canEditAt(f)){var d=o.sequence||1,h=f.isCollapsed;if(f.isCollapsed&&c.modifySelection(f,{direction:e.direction,unit:o.unit,treatEmojiAsSingleUnit:!0}),e._shouldEntireContentBeReplacedWithParagraph(d))e._replaceEntireContentWithParagraph(s);else if(e._shouldReplaceFirstBlockWithParagraph(f,d))e.editor.execute("paragraph",{selection:f});else if(!f.isCollapsed){var b=0;f.getFirstRange().getMinimalFlatRanges().forEach(function(v){b+=MA(v.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),c.deleteContent(f,{doNotResetEntireContent:h,direction:e.direction}),e._buffer.input(b),s.setSelection(f),e._buffer.unlock()}}})}},{key:"_shouldEntireContentBeReplacedWithParagraph",value:function(e){if(e>1)return!1;var o=this.editor.model,c=o.document.selection,l=o.schema.getLimitElement(c);if(!c.isCollapsed||!c.containsEntireContent(l)||!o.schema.checkChild(l,"paragraph"))return!1;var s=l.getChild(0);return!s||!s.is("element","paragraph")}},{key:"_replaceEntireContentWithParagraph",value:function(e){var o=this.editor.model,c=o.document.selection,l=o.schema.getLimitElement(c),s=e.createElement("paragraph");e.remove(e.createRangeIn(l)),e.insert(s,l),e.setSelection(s,0)}},{key:"_shouldReplaceFirstBlockWithParagraph",value:function(e,o){var c=this.editor.model;if(o>1||this.direction!="backward"||!e.isCollapsed)return!1;var l=e.getFirstPosition(),s=c.schema.getLimitElement(l),f=s.getChild(0);return l.parent==f&&!!e.containsEntireContent(f)&&!!c.schema.checkChild(s,"paragraph")&&f.name!="paragraph"}}],n&&OV(t.prototype,n),i&&OV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Ou(r){return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(r)}function cdt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return jV(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return jV(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function jV(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function PV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ou(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ou(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ou(a)==="symbol"?a:String(a)),i)}var u,a}function BE(r,t){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BE(r,t)}function udt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ng(r);if(t){var u=Ng(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EV(a)}(this,n)}}function EV(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ng(r){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ng(r)}var xV="word",mn="selection",Su="backward",Lh="forward",TV={deleteContent:{unit:mn,direction:Su},deleteContentBackward:{unit:"codePoint",direction:Su},deleteWordBackward:{unit:xV,direction:Su},deleteHardLineBackward:{unit:mn,direction:Su},deleteSoftLineBackward:{unit:mn,direction:Su},deleteContentForward:{unit:"character",direction:Lh},deleteWordForward:{unit:xV,direction:Lh},deleteHardLineForward:{unit:mn,direction:Lh},deleteSoftLineForward:{unit:mn,direction:Lh}},ldt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&BE(e,o)})(a,r);var t,n,i,u=udt(a);function a(e){var o;(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a),o=u.call(this,e);var c=e.document,l=0;return c.on("keydown",function(){l++}),c.on("keyup",function(){l=0}),c.on("beforeinput",function(s,f){if(o.isEnabled){var d=f.targetRanges,h=f.domEvent,b=f.inputType,v=TV[b];if(v){var g={direction:v.direction,unit:v.unit,sequence:l};g.unit==mn&&(g.selectionToRemove=e.createSelection(d[0])),b==="deleteContentBackward"&&(pt.isAndroid&&(g.sequence=1),function(_){if(_.length!=1||_[0].isCollapsed)return!1;var A,C=_[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0}),S=0,P=cdt(C);try{for(P.s();!(A=P.n()).done;){var E=A.value.nextPosition;if(E.parent.is("$text")){var R=E.parent.data,I=E.offset;if(yC(R,I)||hC(R,I)||A4(R,I))continue;S++}else S++;if(S>1)return!0}}catch(z){P.e(z)}finally{P.f()}return!1}(d)&&(g.unit=mn,g.selectionToRemove=e.createSelection(d)));var k=new Xi(c,"delete",d[0]);c.fire(k,new la(e,h,g)),k.stop.called&&s.stop()}}}),pt.isBlink&&function(s){var f=s.view,d=f.document,h=null,b=!1;function v(k){return k==Et.backspace||k==Et.delete}function g(k){return k==Et.backspace?Su:Lh}d.on("keydown",function(k,_){var A=_.keyCode;h=A,b=!1}),d.on("keyup",function(k,_){var A=_.keyCode,C=_.domEvent,S=d.selection,P=s.isEnabled&&A==h&&v(A)&&!S.isCollapsed&&!b;if(h=null,P){var E=S.getFirstRange(),R=new Xi(d,"delete",E),I={unit:mn,direction:g(A),selectionToRemove:S};d.fire(R,new la(f,C,I))}}),d.on("beforeinput",function(k,_){var A=_.inputType,C=TV[A];v(h)&&C&&C.direction==g(h)&&(b=!0)},{priority:"high"}),d.on("beforeinput",function(k,_){var A=_.inputType,C=_.data;h==Et.delete&&A=="insertText"&&C=="\x7F"&&k.stop()},{priority:"high"})}(EV(o)),o}return t=a,(n=[{key:"observe",value:function(){}},{key:"stopObserving",value:function(){}}])&&PV(t.prototype,n),i&&PV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(br);function ju(r){return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(r)}function DV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ju(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ju(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ju(a)==="symbol"?a:String(a)),i)}var u,a}function ME(r,t){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ME(r,t)}function sdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Lg(r);if(t){var u=Lg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Lg(r){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lg(r)}var Vr=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&ME(e,o)})(a,r);var t,n,i,u=sdt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.editing.view,l=c.document,s=o.model.document;c.addObserver(ldt),this._undoOnBackspace=!1;var f=new SV(o,"forward");o.commands.add("deleteForward",f),o.commands.add("forwardDelete",f),o.commands.add("delete",new SV(o,"backward")),this.listenTo(l,"delete",function(d,h){l.isComposing||h.preventDefault();var b=h.direction,v=h.sequence,g=h.selectionToRemove,k=h.unit,_=b==="forward"?"deleteForward":"delete",A={sequence:v};if(k=="selection"){var C=Array.from(g.getRanges()).map(function(S){return o.editing.mapper.toModelRange(S)});A.selection=o.model.createSelection(C)}else A.unit=k;o.execute(_,A),c.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(l,"delete",function(d,h){e._undoOnBackspace&&h.direction=="backward"&&h.sequence==1&&h.unit=="codePoint"&&(e._undoOnBackspace=!1,o.execute("undo"),h.preventDefault(),d.stop())},{context:"$capture"}),this.listenTo(s,"change",function(){e._undoOnBackspace=!1}))}},{key:"requestUndoOnBackspace",value:function(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}],i=[{key:"pluginName",get:function(){return"Delete"}}],n&&DV(t.prototype,n),i&&DV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Pu(r){return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(r)}function RV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Pu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Pu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Pu(a)==="symbol"?a:String(a)),i)}var u,a}function NE(r,t){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NE(r,t)}function fdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=zg(r);if(t){var u=zg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function zg(r){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zg(r)}var ddt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&NE(e,o)})(a,r);var t,n,i,u=fdt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[AV,Vr]}},{key:"pluginName",get:function(){return"Typing"}}],(n=null)&&RV(t.prototype,n),i&&RV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function IV(r,t){var n=r.start;return{text:Array.from(r.getWalker({ignoreElementEnd:!1})).reduce(function(i,u){var a=u.item;return a.is("$text")||a.is("$textProxy")?i+a.data:(n=t.createPositionAfter(a),"")},""),range:t.createRange(n,r.end)}}function Oo(r){return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(r)}function BV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Oo(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Oo(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Oo(a)==="symbol"?a:String(a)),i)}var u,a}function LE(r,t){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LE(r,t)}function pdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Fg(r);if(t){var u=Fg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Oo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Fg(r){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fg(r)}var MV=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&LE(e,o)})(a,r);var t,n,i,u=pdt(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this)).model=e,c.testCallback=o,c._hasMatch=!1,c.set("isEnabled",!0),c.on("change:isEnabled",function(){c.isEnabled?c._startListening():(c.stopListening(e.document.selection),c.stopListening(e.document))}),c._startListening(),c}return t=a,n=[{key:"hasMatch",get:function(){return this._hasMatch}},{key:"_startListening",value:function(){var e=this,o=this.model.document;this.listenTo(o.selection,"change:range",function(c,l){l.directChange&&(o.selection.isCollapsed?e._evaluateTextBeforeSelection("selection"):e.hasMatch&&(e.fire("unmatched"),e._hasMatch=!1))}),this.listenTo(o,"change:data",function(c,l){!l.isUndo&&l.isLocal&&e._evaluateTextBeforeSelection("data",{batch:l})})}},{key:"_evaluateTextBeforeSelection",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.model,l=c.document.selection,s=IV(c.createRange(c.createPositionAt(l.focus.parent,0),l.focus),c),f=s.text,d=s.range,h=this.testCallback(f);if(!h&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!h,h){var b=Object.assign(o,{text:f,range:d});Oo(h)=="object"&&Object.assign(b,h),this.fire("matched:".concat(e),b)}}}],n&&BV(t.prototype,n),i&&BV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt());function Eu(r){return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(r)}function ydt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||NV(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zE(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=NV(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function NV(r,t){if(r){if(typeof r=="string")return LV(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?LV(r,t):void 0}}function LV(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function zV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Eu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Eu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Eu(a)==="symbol"?a:String(a)),i)}var u,a}function FE(r,t){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FE(r,t)}function hdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Vg(r);if(t){var u=Vg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Vg(r){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vg(r)}var Ug=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&FE(e,o)})(a,r);var t,n,i,u=hdt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).attributes=new Set,o._overrideUid=null,o}return t=a,i=[{key:"pluginName",get:function(){return"TwoStepCaretMovement"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.model,l=o.editing.view,s=o.locale,f=c.document.selection;this.listenTo(l.document,"arrowKey",function(d,h){if(f.isCollapsed&&!(h.shiftKey||h.altKey||h.ctrlKey)){var b=h.keyCode==Et.arrowright,v=h.keyCode==Et.arrowleft;if(b||v){var g=s.contentLanguageDirection;(g==="ltr"&&b||g==="rtl"&&v?e._handleForwardMovement(h):e._handleBackwardMovement(h))===!0&&d.stop()}}},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(f,"change:range",function(d,h){e._isNextGravityRestorationSkipped?e._isNextGravityRestorationSkipped=!1:e._isGravityOverridden&&(!h.directChange&&Gg(f.getFirstPosition(),e.attributes)||e._restoreGravity())})}},{key:"registerAttribute",value:function(e){this.attributes.add(e)}},{key:"_handleForwardMovement",value:function(e){var o=this.attributes,c=this.editor.model.document.selection,l=c.getFirstPosition();return!(this._isGravityOverridden||l.isAtStart&&VE(c,o)||!Gg(l,o)||(Hg(e),this._overrideGravity(),0))}},{key:"_handleBackwardMovement",value:function(e){var o=this.attributes,c=this.editor.model,l=c.document.selection,s=l.getFirstPosition();return this._isGravityOverridden?(Hg(e),this._restoreGravity(),UE(c,o,s),!0):s.isAtStart?!!VE(l,o)&&(Hg(e),UE(c,o,s),!0):!!function(f,d){var h=f.getShiftedBy(-1);return Gg(h,d)}(s,o)&&(s.isAtEnd&&!VE(l,o)&&Gg(s,o)?(Hg(e),UE(c,o,s),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}},{key:"_isGravityOverridden",get:function(){return!!this._overrideUid}},{key:"_overrideGravity",value:function(){this._overrideUid=this.editor.model.change(function(e){return e.overrideSelectionGravity()})}},{key:"_restoreGravity",value:function(){var e=this;this.editor.model.change(function(o){o.restoreSelectionGravity(e._overrideUid),e._overrideUid=null})}}])&&zV(t.prototype,n),i&&zV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function VE(r,t){var n,i=zE(t);try{for(i.s();!(n=i.n()).done;){var u=n.value;if(r.hasAttribute(u))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}function UE(r,t,n){var i=n.nodeBefore;r.change(function(u){if(i){var a,e=[],o=r.schema.isObject(i)&&r.schema.isInline(i),c=zE(i.getAttributes());try{for(c.s();!(a=c.n()).done;){var l=ydt(a.value,2),s=l[0],f=l[1];!r.schema.checkAttribute("$text",s)||o&&r.schema.getAttributeProperties(s).copyFromObject===!1||e.push([s,f])}}catch(d){c.e(d)}finally{c.f()}u.setSelectionAttribute(e)}else u.removeSelectionAttribute(t)})}function Hg(r){r.preventDefault()}function Gg(r,t){var n,i=r.nodeBefore,u=r.nodeAfter,a=zE(t);try{for(a.s();!(n=a.n()).done;){var e=n.value,o=i?i.getAttribute(e):void 0;if((u?u.getAttribute(e):void 0)!==o)return!0}}catch(c){a.e(c)}finally{a.f()}return!1}var FV=/[\\^$.*+?()[\]{}|]/g,bdt=RegExp(FV.source);const VV=function(r){return(r=xy(r))&&bdt.test(r)?r.replace(FV,"\\$&"):r};function So(r){return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},So(r)}function HE(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return UV(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return UV(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function UV(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function HV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(So(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(So(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),So(a)==="symbol"?a:String(a)),i)}var u,a}function GE(r,t){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GE(r,t)}function mdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Wg(r);if(t){var u=Wg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(So(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Wg(r){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wg(r)}var GV={copyright:{from:"(c)",to:"\xA9"},registeredTrademark:{from:"(r)",to:"\xAE"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xBD",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xBC",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xBE",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:xu('"'),to:[null,"\u201C",null,"\u201D"]},quotesSecondary:{from:xu("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:xu("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:xu('"'),to:[null,"\u201C",null,"\u201D"]},quotesPrimaryPl:{from:xu('"'),to:[null,"\u201E",null,"\u201D"]},quotesSecondaryPl:{from:xu("'"),to:[null,"\u201A",null,"\u2019"]}},WV={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},vdt=["symbols","mathematical","typography","quotes"],gdt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&GE(e,o)})(a,r);var t,n,i,u=mdt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this,e),e.config.define("typing",{transformations:{include:vdt}}),o}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor.model.document.selection;o.on("change:range",function(){e.isEnabled=!o.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}},{key:"_enableTransformationWatchers",value:function(){var e=this.editor,o=e.model,c=e.plugins.get("Delete"),l=function(f){var d=f.extra||[],h=f.remove||[],b=function(v){return!h.includes(v)};return function(v){var g,k=new Set,_=HE(v);try{for(_.s();!(g=_.n()).done;){var A=g.value;if(typeof A=="string"&&WV[A]){var C,S=HE(WV[A]);try{for(S.s();!(C=S.n()).done;){var P=C.value;k.add(P)}}catch(E){S.e(E)}finally{S.f()}}else k.add(A)}}catch(E){_.e(E)}finally{_.f()}return Array.from(k)}(f.include.concat(d).filter(b)).filter(b).map(function(v){return typeof v=="string"&&GV[v]?GV[v]:v}).filter(function(v){return So(v)==="object"}).map(function(v){return{from:wdt(v.from),to:kdt(v.to)}})}(e.config.get("typing.transformations")),s=new MV(e.model,function(f){var d,h=HE(l);try{for(h.s();!(d=h.n()).done;){var b=d.value;if(b.from.test(f))return{normalizedTransformation:b}}}catch(v){h.e(v)}finally{h.f()}});s.on("matched:data",function(f,d){if(d.batch.isTyping){var h=d.normalizedTransformation,b=h.from,v=h.to,g=b.exec(d.text),k=v(g.slice(1)),_=d.range,A=g.index;o.enqueueChange(function(C){for(var S=1;S<g.length;S++){var P=g[S],E=k[S-1];if(E!=null){var R=_.start.getShiftedBy(A),I=o.createRange(R,R.getShiftedBy(P.length)),z=((F=R).textNode?F.textNode:F.nodeAfter).getAttributes();o.insertContent(C.createText(E,z),I),A+=E.length}else A+=P.length}var F;o.enqueueChange(function(){c.requestUndoOnBackspace()})})}}),s.bind("isEnabled").to(this)}}],i=[{key:"requires",get:function(){return["Delete","Input"]}},{key:"pluginName",get:function(){return"TextTransformation"}}],n&&HV(t.prototype,n),i&&HV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function wdt(r){return typeof r=="string"?new RegExp("(".concat(VV(r),")$")):r}function kdt(r){return typeof r=="string"?function(){return[r]}:r instanceof Array?function(){return r}:r}function xu(r){return new RegExp("(^|\\s)(".concat(r,")([^").concat(r,"]*)(").concat(r,")$"))}function Tu(r,t,n,i){return i.createRange($V(r,t,n,!0,i),$V(r,t,n,!1,i))}function $V(r,t,n,i,u){for(var a=r.textNode||(i?r.nodeBefore:r.nodeAfter),e=null;a&&a.getAttribute(t)==n;)e=a,a=i?a.previousSibling:a.nextSibling;return e?u.createPositionAt(e,i?"before":"after"):r}function qV(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return YV(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return YV(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function YV(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function KV(r,t,n,i){var u=r.editing.view,a=new Set;u.document.registerPostFixer(function(e){var o=r.model.document.selection,c=!1;if(o.hasAttribute(t)){var l,s=Tu(o.getFirstPosition(),t,o.getAttribute(t),r.model),f=qV(r.editing.mapper.toViewRange(s).getItems());try{for(f.s();!(l=f.n()).done;){var d=l.value;d.is("element",n)&&!d.hasClass(i)&&(e.addClass(i,d),a.add(d),c=!0)}}catch(h){f.e(h)}finally{f.f()}}return c}),r.conversion.for("editingDowncast").add(function(e){function o(){u.change(function(c){var l,s=qV(a.values());try{for(s.s();!(l=s.n()).done;){var f=l.value;c.removeClass(i,f),a.delete(f)}}catch(d){s.e(d)}finally{s.f()}})}e.on("insert",o,{priority:"highest"}),e.on("remove",o,{priority:"highest"}),e.on("attribute",o,{priority:"highest"}),e.on("selection",o,{priority:"highest"})})}function vn(r,t,n,i){var u,a=null;typeof i=="function"?u=i:(a=r.commands.get(i),u=function(){r.execute(i)}),r.model.document.on("change:data",function(e,o){if((!a||a.isEnabled)&&t.isEnabled){var c=Vt(r.model.document.selection.getRanges());if(c.isCollapsed&&!o.isUndo&&o.isLocal){var l=Array.from(r.model.document.differ.getChanges()),s=l[0];if(l.length==1&&s.type==="insert"&&s.name=="$text"&&s.length==1){var f=s.position.parent;if(!f.is("element","codeBlock")&&(!f.is("element","listItem")||typeof i=="function"||["numberedList","bulletedList","todoList"].includes(i))&&(!a||a.value!==!0)){var d=f.getChild(0),h=r.model.createRangeOn(d);if(h.containsRange(c)||c.end.isEqual(h.end)){var b=n.exec(d.data.substr(0,c.end.offset));b&&r.model.enqueueChange(function(v){var g=v.createPositionAt(f,0),k=v.createPositionAt(f,b[0].length),_=new Lr(g,k);if(u({match:b})!==!1){v.remove(_);var A=r.model.document.selection.getFirstRange(),C=v.createRangeIn(f);!f.isEmpty||C.isEqual(A)||C.containsRange(A,!0)||v.remove(f)}_.detach(),r.model.enqueueChange(function(){r.plugins.get("Delete").requestUndoOnBackspace()})})}}}}}})}function _dt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return ZV(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ZV(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function ZV(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Du(r,t,n,i){var u,a;n instanceof RegExp?u=n:a=n,a=a||function(e){for(var o,c=[],l=[];(o=u.exec(e))!==null&&!(o&&o.length<4);){var s=o,f=s.index,d=s[1],h=s[2],b=s[3],v=d+h+b,g=[f+=o[0].length-v.length,f+d.length],k=[f+d.length+h.length,f+d.length+h.length+b.length];c.push(g),c.push(k),l.push([f+d.length,f+d.length+h.length])}return{remove:c,format:l}},r.model.document.on("change:data",function(e,o){if(!o.isUndo&&o.isLocal&&t.isEnabled){var c=r.model,l=c.document.selection;if(l.isCollapsed){var s=Array.from(c.document.differ.getChanges()),f=s[0];if(s.length==1&&f.type==="insert"&&f.name=="$text"&&f.length==1){var d=l.focus,h=d.parent,b=function(C,S){var P=C.start,E=Array.from(C.getItems()).reduce(function(R,I){return!I.is("$text")&&!I.is("$textProxy")||I.getAttribute("code")?(P=S.createPositionAfter(I),""):R+I.data},"");return{text:E,range:S.createRange(P,C.end)}}(c.createRange(c.createPositionAt(h,0),d),c),v=b.text,g=b.range,k=a(v),_=QV(g.start,k.format,c),A=QV(g.start,k.remove,c);_.length&&A.length&&c.enqueueChange(function(C){if(i(C,_)!==!1){var S,P=_dt(A.reverse());try{for(P.s();!(S=P.n()).done;){var E=S.value;C.remove(E)}}catch(R){P.e(R)}finally{P.f()}c.enqueueChange(function(){r.plugins.get("Delete").requestUndoOnBackspace()})}})}}}})}function QV(r,t,n){return t.filter(function(i){return i[0]!==void 0&&i[1]!==void 0}).map(function(i){return n.createRange(r.getShiftedBy(i[0]),r.getShiftedBy(i[1]))})}function Ru(r){return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(r)}function Adt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return JV(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return JV(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function JV(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function XV(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ru(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ru(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ru(a)==="symbol"?a:String(a)),i)}var u,a}function WE(r,t){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WE(r,t)}function Cdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=$g(r);if(t){var u=$g(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function $g(r){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$g(r)}var Odt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&WE(e,o)})(a,r);var t,n,i,u=Cdt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Vr]}},{key:"pluginName",get:function(){return"Autoformat"}}],(n=[{key:"afterInit",value:function(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}},{key:"_addListAutoformats",value:function(){var e=this,o=this.editor.commands;o.get("bulletedList")&&vn(this.editor,this,/^[*-]\s$/,"bulletedList"),o.get("numberedList")&&vn(this.editor,this,/^1[.|)]\s$/,"numberedList"),o.get("todoList")&&vn(this.editor,this,/^\[\s?\]\s$/,"todoList"),o.get("checkTodoList")&&vn(this.editor,this,/^\[\s?x\s?\]\s$/,function(){e.editor.execute("todoList"),e.editor.execute("checkTodoList")})}},{key:"_addBasicStylesAutoformats",value:function(){var e=this.editor.commands;if(e.get("bold")){var o=qg(this.editor,"bold");Du(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,o),Du(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,o)}if(e.get("italic")){var c=qg(this.editor,"italic");Du(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,c),Du(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,c)}if(e.get("code")){var l=qg(this.editor,"code");Du(this.editor,this,/(`)([^`]+)(`)$/g,l)}if(e.get("strikethrough")){var s=qg(this.editor,"strikethrough");Du(this.editor,this,/(~~)([^~]+)(~~)$/g,s)}}},{key:"_addHeadingAutoformats",value:function(){var e=this,o=this.editor.commands.get("heading");o&&o.modelElements.filter(function(c){return c.match(/^heading[1-6]$/)}).forEach(function(c){var l=c[7],s=new RegExp("^(#{".concat(l,"})\\s$"));vn(e.editor,e,s,function(){if(!o.isEnabled||o.value===c)return!1;e.editor.execute("heading",{value:c})})})}},{key:"_addBlockQuoteAutoformats",value:function(){this.editor.commands.get("blockQuote")&&vn(this.editor,this,/^>\s$/,"blockQuote")}},{key:"_addCodeBlockAutoformats",value:function(){var e=this,o=this.editor,c=o.model.document.selection;o.commands.get("codeBlock")&&vn(o,this,/^```$/,function(){if(c.getFirstPosition().parent.is("element","listItem"))return!1;e.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}},{key:"_addHorizontalLineAutoformats",value:function(){this.editor.commands.get("horizontalLine")&&vn(this.editor,this,/^---$/,"horizontalLine")}}])&&XV(t.prototype,n),i&&XV(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function qg(r,t){return function(n,i){if(!r.commands.get(t).isEnabled)return!1;var u,a=Adt(r.model.schema.getValidRanges(i,t));try{for(a.s();!(u=a.n()).done;){var e=u.value;n.setAttribute(t,!0,e)}}catch(o){a.e(o)}finally{a.f()}n.removeSelectionAttribute(t)}}function Yg(r){return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(r)}function $E(){$E=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&Yg(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(Yg(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}var Sdt=$E().mark(qE);function jdt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return tU(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return tU(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function tU(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function qE(r,t){var n,i,u;return $E().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=jdt(t),a.prev=1,n.s();case 3:if((i=n.n()).done){a.next=10;break}if(!(u=i.value)||!r.getAttributeProperties(u[0]).copyOnEnter){a.next=8;break}return a.next=8,u;case 8:a.next=3;break;case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),n.e(a.t0);case 15:return a.prev=15,n.f(),a.finish(15);case 18:case"end":return a.stop()}},Sdt,null,[[1,12,15,18]])}function Iu(r){return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(r)}function eU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Iu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Iu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Iu(a)==="symbol"?a:String(a)),i)}var u,a}function YE(r,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YE(r,t)}function Pdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Kg(r);if(t){var u=Kg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Kg(r){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kg(r)}var Edt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&YE(e,o)})(a,r);var t,n,i,u=Pdt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(n=[{key:"execute",value:function(){var e=this;this.editor.model.change(function(o){e.enterBlock(o),e.fire("afterExecute",{writer:o})})}},{key:"enterBlock",value:function(e){var o=this.editor.model,c=o.document.selection,l=o.schema,s=c.isCollapsed,f=c.getFirstRange(),d=f.start.parent,h=f.end.parent;if(l.isLimit(d)||l.isLimit(h))return s||d!=h||o.deleteContent(c),!1;if(s){var b=qE(e.model.schema,c.getAttributes());return rU(e,f.start),e.setSelectionAttribute(b),!0}var v=!(f.start.isAtStart&&f.end.isAtEnd),g=d==h;if(o.deleteContent(c,{leaveUnmerged:v}),v){if(g)return rU(e,c.focus),!0;e.setSelection(h,0)}return!1}}])&&eU(t.prototype,n),i&&eU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function rU(r,t){r.split(t),r.setSelection(t.parent.nextSibling,0)}function Bu(r){return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(r)}function nU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Bu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Bu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Bu(a)==="symbol"?a:String(a)),i)}var u,a}function KE(r,t){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KE(r,t)}function xdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Zg(r);if(t){var u=Zg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Zg(r){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zg(r)}var Tdt={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}},oU=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&KE(e,o)})(a,r);var t,n,i,u=xdt(a);function a(e){var o;(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a);var c=(o=u.call(this,e)).document,l=!1;return c.on("keydown",function(s,f){l=f.shiftKey}),c.on("beforeinput",function(s,f){if(o.isEnabled){var d=f.inputType;pt.isSafari&&l&&d=="insertParagraph"&&(d="insertLineBreak");var h=f.domEvent,b=Tdt[d];if(b){var v=new Xi(c,"enter",f.targetRanges[0]);c.fire(v,new la(e,h,{isSoft:b.isSoft})),v.stop.called&&s.stop()}}}),o}return t=a,(n=[{key:"observe",value:function(){}},{key:"stopObserving",value:function(){}}])&&nU(t.prototype,n),i&&nU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(br);function Mu(r){return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(r)}function iU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Mu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Mu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Mu(a)==="symbol"?a:String(a)),i)}var u,a}function ZE(r,t){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZE(r,t)}function Ddt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Qg(r);if(t){var u=Qg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Qg(r){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qg(r)}var zh=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&ZE(e,o)})(a,r);var t,n,i,u=Ddt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"Enter"}}],(n=[{key:"init",value:function(){var e=this.editor,o=e.editing.view,c=o.document;o.addObserver(oU),e.commands.add("enter",new Edt(e)),this.listenTo(c,"enter",function(l,s){c.isComposing||s.preventDefault(),s.isSoft||(e.execute("enter"),o.scrollToTheSelection())},{priority:"low"})}}])&&iU(t.prototype,n),i&&iU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Nu(r){return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(r)}function aU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Nu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Nu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Nu(a)==="symbol"?a:String(a)),i)}var u,a}function QE(r,t){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QE(r,t)}function Rdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Jg(r);if(t){var u=Jg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Jg(r){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jg(r)}var Idt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&QE(e,o)})(a,r);var t,n,i,u=Rdt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(n=[{key:"execute",value:function(){var e=this,o=this.editor.model,c=o.document;o.change(function(l){(function(s,f,d){var h=d.isCollapsed,b=d.getFirstRange(),v=b.start.parent,g=b.end.parent,k=v==g;if(h){var _=qE(s.schema,d.getAttributes());cU(s,f,b.end),f.removeSelectionAttribute(d.getAttributeKeys()),f.setSelectionAttribute(_)}else{var A=!(b.start.isAtStart&&b.end.isAtEnd);s.deleteContent(d,{leaveUnmerged:A}),k?cU(s,f,d.focus):A&&f.setSelection(g,0)}})(o,l,c.selection),e.fire("afterExecute",{writer:l})})}},{key:"refresh",value:function(){var e=this.editor.model,o=e.document;this.isEnabled=function(c,l){if(l.rangeCount>1)return!1;var s=l.anchor;if(!s||!c.checkChild(s,"softBreak"))return!1;var f=l.getFirstRange(),d=f.start.parent,h=f.end.parent;return!JE(d,c)&&!JE(h,c)||d===h}(e.schema,o.selection)}}])&&aU(t.prototype,n),i&&aU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function cU(r,t,n){var i=t.createElement("softBreak");r.insertContent(i,n),t.setSelection(i,"after")}function JE(r,t){return!r.is("rootElement")&&(t.isLimit(r)||JE(r.parent,t))}function Lu(r){return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(r)}function uU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Lu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Lu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Lu(a)==="symbol"?a:String(a)),i)}var u,a}function XE(r,t){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XE(r,t)}function Bdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Xg(r);if(t){var u=Xg(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Xg(r){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xg(r)}var lU=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&XE(e,o)})(a,r);var t,n,i,u=Bdt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"ShiftEnter"}}],(n=[{key:"init",value:function(){var e=this.editor,o=e.model.schema,c=e.conversion,l=e.editing.view,s=l.document;o.register("softBreak",{allowWhere:"$text",isInline:!0}),c.for("upcast").elementToElement({model:"softBreak",view:"br"}),c.for("downcast").elementToElement({model:"softBreak",view:function(f,d){return d.writer.createEmptyElement("br")}}),l.addObserver(oU),e.commands.add("shiftEnter",new Idt(e)),this.listenTo(s,"enter",function(f,d){s.isComposing||d.preventDefault(),d.isSoft&&(e.execute("shiftEnter"),l.scrollToTheSelection())},{priority:"low"})}}])&&uU(t.prototype,n),i&&uU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function zu(r){return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(r)}function sU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(zu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(zu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),zu(a)==="symbol"?a:String(a)),i)}var u,a}function tx(r,t){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tx(r,t)}function Mdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=tw(r);if(t){var u=tw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function tw(r){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tw(r)}var Ndt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&tx(e,o)})(a,r);var t,n,i,u=Mdt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=this.editor.model,l=c.schema,s=c.document.selection,f=Array.from(s.getSelectedBlocks()),d=o.forceValue===void 0?!this.value:o.forceValue;c.change(function(h){if(d){var b=f.filter(function(v){return ew(v)||dU(l,v)});e._applyQuote(h,b)}else e._removeQuote(h,f.filter(ew))})}},{key:"_getValue",value:function(){var e=Vt(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!ew(e))}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.document.selection,o=this.editor.model.schema,c=Vt(e.getSelectedBlocks());return!!c&&dU(o,c)}},{key:"_removeQuote",value:function(e,o){fU(e,o).reverse().forEach(function(c){if(c.start.isAtStart&&c.end.isAtEnd)e.unwrap(c.start.parent);else if(c.start.isAtStart){var l=e.createPositionBefore(c.start.parent);e.move(c,l)}else{c.end.isAtEnd||e.split(c.end);var s=e.createPositionAfter(c.end.parent);e.move(c,s)}})}},{key:"_applyQuote",value:function(e,o){var c=[];fU(e,o).reverse().forEach(function(l){var s=ew(l.start);s||(s=e.createElement("blockQuote"),e.wrap(l,s)),c.push(s)}),c.reverse().reduce(function(l,s){return l.nextSibling==s?(e.merge(e.createPositionAfter(l)),l):s})}}],n&&sU(t.prototype,n),i&&sU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function ew(r){return r.parent.name=="blockQuote"?r.parent:null}function fU(r,t){for(var n,i=0,u=[];i<t.length;){var a=t[i],e=t[i+1];n||(n=r.createPositionBefore(a)),e&&a.nextSibling==e||(u.push(r.createRange(n,r.createPositionAfter(a))),n=null),i++}return u}function dU(r,t){var n=r.checkChild(t.parent,"blockQuote"),i=r.checkChild(["$root","blockQuote"],t);return n&&i}function Fu(r){return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(r)}function pU(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return yU(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return yU(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function yU(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function hU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Fu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Fu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Fu(a)==="symbol"?a:String(a)),i)}var u,a}function ex(r,t){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ex(r,t)}function Ldt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=rw(r);if(t){var u=rw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function rw(r){return rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rw(r)}var zdt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&ex(e,o)})(a,r);var t,n,i,u=Ldt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"BlockQuoteEditing"}},{key:"requires",get:function(){return[zh,Vr]}}],(n=[{key:"init",value:function(){var e=this.editor,o=e.model.schema;e.commands.add("blockQuote",new Ndt(e)),o.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(function(f){var d,h=pU(e.model.document.differ.getChanges());try{for(h.s();!(d=h.n()).done;){var b=d.value;if(b.type=="insert"){var v=b.position.nodeAfter;if(!v)continue;if(v.is("element","blockQuote")&&v.isEmpty)return f.remove(v),!0;if(v.is("element","blockQuote")&&!o.checkChild(b.position,v))return f.unwrap(v),!0;if(v.is("element")){var g,k=pU(f.createRangeIn(v).getItems());try{for(k.s();!(g=k.n()).done;){var _=g.value;if(_.is("element","blockQuote")&&!o.checkChild(f.createPositionBefore(_),_))return f.unwrap(_),!0}}catch(C){k.e(C)}finally{k.f()}}}else if(b.type=="remove"){var A=b.position.parent;if(A.is("element","blockQuote")&&A.isEmpty)return f.remove(A),!0}}}catch(C){h.e(C)}finally{h.f()}return!1});var c=this.editor.editing.view.document,l=e.model.document.selection,s=e.commands.get("blockQuote");this.listenTo(c,"enter",function(f,d){l.isCollapsed&&s.value&&l.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),d.preventDefault(),f.stop())},{context:"blockquote"}),this.listenTo(c,"delete",function(f,d){if(d.direction=="backward"&&l.isCollapsed&&s.value){var h=l.getLastPosition().parent;h.isEmpty&&!h.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),d.preventDefault(),f.stop())}},{context:"blockquote"})}}])&&hU(t.prototype,n),i&&hU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),bU=x(3789),Fdt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(bU.Z,Fdt),bU.Z.locals;function Vu(r){return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(r)}function mU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Vu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Vu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Vu(a)==="symbol"?a:String(a)),i)}var u,a}function rx(r,t){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rx(r,t)}function Vdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=nw(r);if(t){var u=nw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function nw(r){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nw(r)}var Udt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&rx(e,o)})(a,r);var t,n,i,u=Vdt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"BlockQuoteUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t;o.ui.componentFactory.add("blockQuote",function(l){var s=o.commands.get("blockQuote"),f=new vt(l);return f.set({label:c("Block quote"),icon:rst,tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(s,"value","isEnabled"),e.listenTo(f,"execute",function(){o.execute("blockQuote"),o.editing.view.focus()}),f})}}])&&mU(t.prototype,n),i&&mU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Uu(r){return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(r)}function vU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Uu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Uu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Uu(a)==="symbol"?a:String(a)),i)}var u,a}function nx(r,t){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nx(r,t)}function Hdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ow(r);if(t){var u=ow(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function ow(r){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ow(r)}var Gdt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&nx(e,o)})(a,r);var t,n,i,u=Hdt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[zdt,Udt]}},{key:"pluginName",get:function(){return"BlockQuote"}}],(n=null)&&vU(t.prototype,n),i&&vU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Hu(r){return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(r)}function ox(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return gU(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return gU(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function gU(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function wU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Hu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Hu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Hu(a)==="symbol"?a:String(a)),i)}var u,a}function ix(r,t){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ix(r,t)}function Wdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=iw(r);if(t){var u=iw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function iw(r){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iw(r)}var jo=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&ix(e,o)})(a,r);var t,n,i,u=Wdt(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e)).attributeKey=o,c}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.model,o=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(o.selection,this.attributeKey)}},{key:"execute",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=this.editor.model,l=c.document.selection,s=o.forceValue===void 0?!this.value:o.forceValue;c.change(function(f){if(l.isCollapsed)s?f.setSelectionAttribute(e.attributeKey,!0):f.removeSelectionAttribute(e.attributeKey);else{var d,h=ox(c.schema.getValidRanges(l.getRanges(),e.attributeKey));try{for(h.s();!(d=h.n()).done;){var b=d.value;s?f.setAttribute(e.attributeKey,s,b):f.removeAttribute(e.attributeKey,b)}}catch(v){h.e(v)}finally{h.f()}}})}},{key:"_getValueFromFirstAllowedNode",value:function(){var e=this.editor.model,o=e.schema,c=e.document.selection;if(c.isCollapsed)return c.hasAttribute(this.attributeKey);var l,s=ox(c.getRanges());try{for(s.s();!(l=s.n()).done;){var f,d=ox(l.value.getItems());try{for(d.s();!(f=d.n()).done;){var h=f.value;if(o.checkAttribute(h,this.attributeKey))return h.hasAttribute(this.attributeKey)}}catch(b){d.e(b)}finally{d.f()}}}catch(b){s.e(b)}finally{s.f()}return!1}}],n&&wU(t.prototype,n),i&&wU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Gu(r){return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(r)}function kU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Gu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Gu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Gu(a)==="symbol"?a:String(a)),i)}var u,a}function ax(r,t){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ax(r,t)}function $dt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=aw(r);if(t){var u=aw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function aw(r){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},aw(r)}var Wu="bold",qdt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&ax(e,o)})(a,r);var t,n,i,u=$dt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"BoldEditing"}}],(n=[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:Wu}),e.model.schema.setAttributeProperties(Wu,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Wu,view:"strong",upcastAlso:["b",function(o){var c=o.getStyle("font-weight");return c&&(c=="bold"||Number(c)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Wu,new jo(e,Wu)),e.keystrokes.set("CTRL+B",Wu)}}])&&kU(t.prototype,n),i&&kU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function $u(r){return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(r)}function _U(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if($u(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if($u(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),$u(a)==="symbol"?a:String(a)),i)}var u,a}function cx(r,t){return cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cx(r,t)}function Ydt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=cw(r);if(t){var u=cw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function cw(r){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cw(r)}var ux="bold",Kdt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&cx(e,o)})(a,r);var t,n,i,u=Ydt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"BoldUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t;o.ui.componentFactory.add(ux,function(l){var s=o.commands.get(ux),f=new vt(l);return f.set({label:c("Bold"),icon:Wz,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(s,"value","isEnabled"),e.listenTo(f,"execute",function(){o.execute(ux),o.editing.view.focus()}),f})}}])&&_U(t.prototype,n),i&&_U(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function qu(r){return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(r)}function AU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(qu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(qu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),qu(a)==="symbol"?a:String(a)),i)}var u,a}function lx(r,t){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lx(r,t)}function Zdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=uw(r);if(t){var u=uw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function uw(r){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uw(r)}var Qdt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&lx(e,o)})(a,r);var t,n,i,u=Zdt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[qdt,Kdt]}},{key:"pluginName",get:function(){return"Bold"}}],(n=null)&&AU(t.prototype,n),i&&AU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Yu(r){return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(r)}function CU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Yu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Yu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Yu(a)==="symbol"?a:String(a)),i)}var u,a}function sx(r,t){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sx(r,t)}function Jdt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=lw(r);if(t){var u=lw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function lw(r){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lw(r)}var Xdt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&sx(e,o)})(a,r);var t,n,i,u=Jdt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"CKFinderUI"}}],(n=[{key:"init",value:function(){var e=this.editor,o=e.ui.componentFactory,c=e.t;o.add("ckfinder",function(l){var s=e.commands.get("ckfinder"),f=new vt(l);return f.set({label:c("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),f.bind("isEnabled").to(s),f.on("execute",function(){e.execute("ckfinder"),e.editing.view.focus()}),f})}}])&&CU(t.prototype,n),i&&CU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Ku(r){return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(r)}function OU(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return SU(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return SU(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function SU(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function jU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ku(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ku(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ku(a)==="symbol"?a:String(a)),i)}var u,a}function fx(r,t){return fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fx(r,t)}function tpt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=sw(r);if(t){var u=sw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function sw(r){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sw(r)}var ept=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&fx(e,o)})(a,r);var t,n,i,u=tpt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).affectsData=!1,o.stopListening(o.editor.model.document,"change"),o.listenTo(o.editor.model.document,"change",function(){return o.refresh()},{priority:"low"}),o}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.commands.get("insertImage"),o=this.editor.commands.get("link");this.isEnabled=e.isEnabled||o.isEnabled}},{key:"execute",value:function(){var e=this.editor,o=this.editor.config.get("ckfinder.openerMethod")||"modal";if(o!="popup"&&o!="modal")throw new V("ckfinder-unknown-openermethod",e);var c=this.editor.config.get("ckfinder.options")||{};c.chooseFiles=!0;var l=c.onInit;c.language||(c.language=e.locale.uiLanguage),c.onInit=function(s){l&&l(s),s.on("files:choose",function(f){var d,h=f.data.files.toArray(),b=h.filter(function(E){return!E.isImage()}),v=h.filter(function(E){return E.isImage()}),g=OU(b);try{for(g.s();!(d=g.n()).done;){var k=d.value;e.execute("link",k.getUrl())}}catch(E){g.e(E)}finally{g.f()}var _,A=[],C=OU(v);try{for(C.s();!(_=C.n()).done;){var S=_.value,P=S.getUrl();A.push(P||s.request("file:getProxyUrl",{file:S}))}}catch(E){C.e(E)}finally{C.f()}A.length&&PU(e,A)}),s.on("file:choose:resizedImage",function(f){var d=f.data.resizedUrl;if(d)PU(e,[d]);else{var h=e.plugins.get("Notification"),b=e.locale.t;h.showWarning(b("Could not obtain resized image URL."),{title:b("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[o](c)}}],n&&jU(t.prototype,n),i&&jU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function PU(r,t){if(r.commands.get("insertImage").isEnabled)r.execute("insertImage",{source:t});else{var n=r.plugins.get("Notification"),i=r.locale.t;n.showWarning(i("Could not insert image at the current position."),{title:i("Inserting image failed"),namespace:"ckfinder"})}}function Zu(r){return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(r)}function EU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Zu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Zu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Zu(a)==="symbol"?a:String(a)),i)}var u,a}function dx(r,t){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dx(r,t)}function rpt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=fw(r);if(t){var u=fw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function fw(r){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fw(r)}var npt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&dx(e,o)})(a,r);var t,n,i,u=rpt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"CKFinderEditing"}},{key:"requires",get:function(){return[eE,"LinkEditing"]}}],(n=[{key:"init",value:function(){var e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new V("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new ept(e))}}])&&EU(t.prototype,n),i&&EU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Qu(r){return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(r)}function xU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Qu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Qu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Qu(a)==="symbol"?a:String(a)),i)}var u,a}function px(r,t){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},px(r,t)}function opt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=dw(r);if(t){var u=dw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function dw(r){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dw(r)}var ipt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&px(e,o)})(a,r);var t,n,i,u=opt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"CKFinder"}},{key:"requires",get:function(){return["Link","CKFinderUploadAdapter",npt,Xdt]}}],(n=null)&&xU(t.prototype,n),i&&xU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Ju(r){return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(r)}function TU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ju(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ju(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ju(a)==="symbol"?a:String(a)),i)}var u,a}function yx(r,t){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yx(r,t)}function apt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=pw(r);if(t){var u=pw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function pw(r){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pw(r)}var cpt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&yx(e,o)})(a,r);var t,n,i,u=apt(a);function a(){var e;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a),e=u.call(this);var o=new window.FileReader;return e._reader=o,e._data=void 0,e.set("loaded",0),o.onprogress=function(c){e.loaded=c.loaded},e}return t=a,(n=[{key:"error",get:function(){return this._reader.error}},{key:"data",get:function(){return this._data}},{key:"read",value:function(e){var o=this,c=this._reader;return this.total=e.size,new Promise(function(l,s){c.onload=function(){var f=c.result;o._data=f,l(f)},c.onerror=function(){s("error")},c.onabort=function(){s("aborted")},o._reader.readAsDataURL(e)})}},{key:"abort",value:function(){this._reader.abort()}}])&&TU(t.prototype,n),i&&TU(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt());function Xu(r){return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(r)}function DU(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return RU(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return RU(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function RU(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function IU(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function BU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Xu(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Xu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Xu(a)==="symbol"?a:String(a)),i)}var u,a}function MU(r,t,n){return t&&BU(r.prototype,t),n&&BU(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function NU(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&hx(r,t)}function hx(r,t){return hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hx(r,t)}function LU(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=hw(r);if(t){var u=hw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yw(a)}(this,n)}}function yw(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function hw(r){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hw(r)}var Ur=function(r){NU(n,r);var t=LU(n);function n(){var i;return IU(this,n),(i=t.apply(this,arguments)).loaders=new Qt,i._loadersMap=new Map,i._pendingAction=null,i}return MU(n,[{key:"init",value:function(){var i=this;this.loaders.on("change",function(){return i._updatePendingAction()}),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",function(u,a){return a?u/a*100:0})}},{key:"getLoader",value:function(i){return this._loadersMap.get(i)||null}},{key:"createLoader",value:function(i){var u=this;if(!this.createUploadAdapter)return Ct("filerepository-no-upload-adapter"),null;var a=new zU(Promise.resolve(i),this.createUploadAdapter);return this.loaders.add(a),this._loadersMap.set(i,a),i instanceof Promise&&a.file.then(function(e){u._loadersMap.set(e,a)}).catch(function(){}),a.on("change:uploaded",function(){var e,o=0,c=DU(u.loaders);try{for(c.s();!(e=c.n()).done;)o+=e.value.uploaded}catch(l){c.e(l)}finally{c.f()}u.uploaded=o}),a.on("change:uploadTotal",function(){var e,o=0,c=DU(u.loaders);try{for(c.s();!(e=c.n()).done;){var l=e.value;l.uploadTotal&&(o+=l.uploadTotal)}}catch(s){c.e(s)}finally{c.f()}u.uploadTotal=o}),a}},{key:"destroyLoader",value:function(i){var u=this,a=i instanceof zU?i:this.getLoader(i);a._destroy(),this.loaders.remove(a),this._loadersMap.forEach(function(e,o){e===a&&u._loadersMap.delete(o)})}},{key:"_updatePendingAction",value:function(){var i=this.editor.plugins.get($v);if(this.loaders.length){if(!this._pendingAction){var u=this.editor.t,a=function(e){return"".concat(u("Upload in progress")," ").concat(parseInt(e),"%.")};this._pendingAction=i.add(a(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",a)}}else i.remove(this._pendingAction),this._pendingAction=null}}],[{key:"pluginName",get:function(){return"FileRepository"}},{key:"requires",get:function(){return[$v]}}]),n}(Y),zU=function(r){NU(n,r);var t=LU(n);function n(i,u){var a;return IU(this,n),(a=t.call(this)).id=Oe(),a._filePromiseWrapper=a._createFilePromiseWrapper(i),a._adapter=u(yw(a)),a._reader=new cpt,a.set("status","idle"),a.set("uploaded",0),a.set("uploadTotal",null),a.bind("uploadedPercent").to(yw(a),"uploaded",yw(a),"uploadTotal",function(e,o){return o?e/o*100:0}),a.set("uploadResponse",null),a}return MU(n,[{key:"file",get:function(){var i=this;return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(function(u){return i._filePromiseWrapper?u:null}):Promise.resolve(null)}},{key:"data",get:function(){return this._reader.data}},{key:"read",value:function(){var i=this;if(this.status!="idle")throw new V("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(function(u){return i._reader.read(u)}).then(function(u){if(i.status!=="reading")throw i.status;return i.status="idle",u}).catch(function(u){throw u==="aborted"?(i.status="aborted","aborted"):(i.status="error",i._reader.error?i._reader.error:u)})}},{key:"upload",value:function(){var i=this;if(this.status!="idle")throw new V("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(function(){return i._adapter.upload()}).then(function(u){return i.uploadResponse=u,i.status="idle",u}).catch(function(u){throw i.status==="aborted"?"aborted":(i.status="error",u)})}},{key:"abort",value:function(){var i=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?i=="reading"?this._reader.abort():i=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(function(){}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}},{key:"_destroy",value:function(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}},{key:"_createFilePromiseWrapper",value:function(i){var u={};return u.promise=new Promise(function(a,e){u.rejecter=e,u.isFulfilled=!1,i.then(function(o){u.isFulfilled=!0,a(o)}).catch(function(o){u.isFulfilled=!0,e(o)})}),u}}]),n}(Rt());function tl(r){return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(r)}function FU(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function VU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(tl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(tl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),tl(a)==="symbol"?a:String(a)),i)}var u,a}function UU(r,t,n){return t&&VU(r.prototype,t),n&&VU(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function HU(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&bx(r,t)}function bx(r,t){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bx(r,t)}function GU(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=mw(r);if(t){var u=mw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bw(a)}(this,n)}}function bw(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function mw(r){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mw(r)}var upt=function(r){HU(n,r);var t=GU(n);function n(i){var u;return FU(this,n),(u=t.call(this,i)).buttonView=new vt(i),u._fileInputView=new lpt(i),u._fileInputView.bind("acceptedType").to(bw(u)),u._fileInputView.bind("allowMultipleFiles").to(bw(u)),u._fileInputView.delegate("done").to(bw(u)),u.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[u.buttonView,u._fileInputView]}),u.buttonView.on("execute",function(){u._fileInputView.open()}),u}return UU(n,[{key:"focus",value:function(){this.buttonView.focus()}}]),n}(yt),lpt=function(r){HU(n,r);var t=GU(n);function n(i){var u;FU(this,n),(u=t.call(this,i)).set("acceptedType",void 0),u.set("allowMultipleFiles",!1);var a=u.bindTemplate;return u.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:a.to("acceptedType"),multiple:a.to("allowMultipleFiles")},on:{change:a.to(function(){u.element&&u.element.files&&u.element.files.length&&u.fire("done",u.element.files),u.element.value=""})}}),u}return UU(n,[{key:"open",value:function(){this.element.click()}}]),n}(yt);function spt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return WU(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return WU(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function WU(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}var $U="ckCsrfToken",qU="abcdefghijklmnopqrstuvwxyz0123456789";function fpt(){var r,t,n=function(i){i=i.toLowerCase();var u,a=spt(document.cookie.split(";"));try{for(a.s();!(u=a.n()).done;){var e=u.value.split("=");if(decodeURIComponent(e[0].trim().toLowerCase())===i)return decodeURIComponent(e[1])}}catch(o){a.e(o)}finally{a.f()}return null}($U);return n&&n.length==40||(n=function(i){var u="",a=new Uint8Array(i);window.crypto.getRandomValues(a);for(var e=0;e<a.length;e++){var o=qU.charAt(a[e]%qU.length);u+=Math.random()>.5?o.toUpperCase():o}return u}(40),r=$U,t=n,document.cookie=encodeURIComponent(r)+"="+encodeURIComponent(t)+";path=/"),n}function el(r){return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(r)}function YU(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function KU(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(el(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(el(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),el(a)==="symbol"?a:String(a)),i)}var u,a}function ZU(r,t,n){return t&&KU(r.prototype,t),n&&KU(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function mx(r,t){return mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mx(r,t)}function dpt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=vw(r);if(t){var u=vw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function vw(r){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vw(r)}var ppt=function(r){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),u&&mx(i,u)})(n,r);var t=dpt(n);function n(){return YU(this,n),t.apply(this,arguments)}return ZU(n,[{key:"init",value:function(){var i=this,u=this.editor.config.get("ckfinder.uploadUrl");u&&(this.editor.plugins.get(Ur).createUploadAdapter=function(a){return new ypt(a,u,i.editor.t)})}}],[{key:"requires",get:function(){return[Ur]}},{key:"pluginName",get:function(){return"CKFinderUploadAdapter"}}]),n}(Y),ypt=function(){function r(t,n,i){YU(this,r),this.loader=t,this.url=n,this.t=i}return ZU(r,[{key:"upload",value:function(){var t=this;return this.loader.file.then(function(n){return new Promise(function(i,u){t._initRequest(),t._initListeners(i,u,n),t._sendRequest(n)})})}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}},{key:"_initListeners",value:function(t,n,i){var u=this.xhr,a=this.loader,e=(0,this.t)("Cannot upload file:")+" ".concat(i.name,".");u.addEventListener("error",function(){return n(e)}),u.addEventListener("abort",function(){return n()}),u.addEventListener("load",function(){var o=u.response;if(!o||!o.uploaded)return n(o&&o.error&&o.error.message?o.error.message:e);t({default:o.url})}),u.upload&&u.upload.addEventListener("progress",function(o){o.lengthComputable&&(a.uploadTotal=o.total,a.uploaded=o.loaded)})}},{key:"_sendRequest",value:function(t){var n=new FormData;n.append("upload",t),n.append("ckCsrfToken",fpt()),this.xhr.send(n)}}]),r}();function rl(r){return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(r)}function hpt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||function(n,i){if(n){if(typeof n=="string")return QU(n,i);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return QU(n,i)}}(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function QU(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function JU(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function XU(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JU(Object(n),!0).forEach(function(i){bpt(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):JU(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function bpt(r,t,n){return(t=eH(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function tH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,eH(i.key),i)}}function eH(r){var t=function(n,i){if(rl(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(rl(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return rl(t)==="symbol"?t:String(t)}function vx(r,t){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vx(r,t)}function mpt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=gw(r);if(t){var u=gw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rH(a)}(this,n)}}function rH(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function gw(r){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gw(r)}var vpt={autoRefresh:!0},nH=36e5,gpt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&vx(e,o)})(a,r);var t,n,i,u=mpt(a);function a(e){var o,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this),!e)throw new V("token-missing-token-url",rH(o));return c.initValue&&o._validateTokenValue(c.initValue),o.set("value",c.initValue),o._refresh=typeof e=="function"?e:function(){return l=e,new Promise(function(s,f){var d=new XMLHttpRequest;d.open("GET",l),d.addEventListener("load",function(){var h=d.status,b=d.response;return h<200||h>299?f(new V("token-cannot-download-new-token",null)):s(b)}),d.addEventListener("error",function(){return f(new Error("Network Error"))}),d.addEventListener("abort",function(){return f(new Error("Abort"))}),d.send()});var l},o._options=XU(XU({},vpt),c),o}return t=a,n=[{key:"init",value:function(){var e=this;return new Promise(function(o,c){e.value?(e._options.autoRefresh&&e._registerRefreshTokenTimeout(),o(e)):e.refreshToken().then(o).catch(c)})}},{key:"refreshToken",value:function(){var e=this;return this._refresh().then(function(o){return e._validateTokenValue(o),e.set("value",o),e._options.autoRefresh&&e._registerRefreshTokenTimeout(),e})}},{key:"destroy",value:function(){clearTimeout(this._tokenRefreshTimeout)}},{key:"_validateTokenValue",value:function(e){var o=typeof e=="string",c=!/^".*"$/.test(e),l=o&&e.split(".").length===3;if(!c||!l)throw new V("token-not-in-jwt-format",this)}},{key:"_registerRefreshTokenTimeout",value:function(){var e=this,o=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(function(){e.refreshToken()},o)}},{key:"_getTokenRefreshTimeoutTime",value:function(){try{var e=hpt(this.value.split("."),2)[1],o=JSON.parse(atob(e)).exp;return o?Math.floor((1e3*o-Date.now())/2):nH}catch(c){return nH}}}],i=[{key:"create",value:function(e){return new a(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).init()}}],n&&tH(t.prototype,n),i&&tH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt());function nl(r){return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(r)}function oH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(nl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(nl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),nl(a)==="symbol"?a:String(a)),i)}var u,a}function gx(r,t){return gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gx(r,t)}function wpt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ww(r);if(t){var u=ww(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function ww(r){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ww(r)}var wx=/^data:(\S*?);base64,/,kpt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&gx(e,o)})(a,r);var t,n,i,u=wpt(a);function a(e,o,c){var l;if(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,a),l=u.call(this),!e)throw new V("fileuploader-missing-file",null);if(!o)throw new V("fileuploader-missing-token",null);if(!c)throw new V("fileuploader-missing-api-address",null);return l.file=function(s){if(typeof s!="string")return!1;var f=s.match(wx);return!(!f||!f.length)}(e)?function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512;try{for(var d=s.match(wx)[1],h=atob(s.replace(wx,"")),b=[],v=0;v<h.length;v+=f){for(var g=h.slice(v,v+f),k=new Array(g.length),_=0;_<g.length;_++)k[_]=g.charCodeAt(_);b.push(new Uint8Array(k))}return new Blob(b,{type:d})}catch(A){throw new V("fileuploader-decoding-image-data-error",null)}}(e):e,l._token=o,l._apiAddress=c,l}return t=a,(n=[{key:"onProgress",value:function(e){return this.on("progress",function(o,c){return e(c)}),this}},{key:"onError",value:function(e){return this.once("error",function(o,c){return e(c)}),this}},{key:"abort",value:function(){this.xhr.abort()}},{key:"send",value:function(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}},{key:"_prepareRequest",value:function(){var e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}},{key:"_attachXHRListeners",value:function(){var e=this,o=this.xhr,c=function(l){return function(){return e.fire("error",l)}};o.addEventListener("error",c("Network Error")),o.addEventListener("abort",c("Abort")),o.upload&&o.upload.addEventListener("progress",function(l){l.lengthComputable&&e.fire("progress",{total:l.total,uploaded:l.loaded})}),o.addEventListener("load",function(){var l=o.status,s=o.response;if(l<200||l>299)return e.fire("error",s.message||s.error)})}},{key:"_sendRequest",value:function(){var e=this,o=new FormData,c=this.xhr;return o.append("file",this.file),new Promise(function(l,s){c.addEventListener("load",function(){var f=c.status,d=c.response;return f<200||f>299?d.message?s(new V("fileuploader-uploading-data-failed",e,{message:d.message})):s(d.error):l(d)}),c.addEventListener("error",function(){return s(new Error("Network Error"))}),c.addEventListener("abort",function(){return s(new Error("Abort"))}),c.send(o)})}}])&&oH(t.prototype,n),i&&oH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Nt());function Fh(r){return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(r)}function iH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Fh(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Fh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Fh(a)==="symbol"?a:String(a)),i)}var u,a}var _pt=function(){function r(u,a){if(function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,r),!u)throw new V("uploadgateway-missing-token",null);if(!a)throw new V("uploadgateway-missing-api-address",null);this._token=u,this._apiAddress=a}var t,n,i;return t=r,(n=[{key:"upload",value:function(u){return new kpt(u,this._token,this._apiAddress)}}])&&iH(t.prototype,n),i&&iH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function ol(r){return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(r)}function aH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ol(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ol(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ol(a)==="symbol"?a:String(a)),i)}var u,a}function kx(r,t){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kx(r,t)}function Apt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=kw(r);if(t){var u=kw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function kw(r){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kw(r)}var Cpt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&kx(e,o)})(a,r);var t,n,i,u=Apt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"createToken",value:function(e,o){return new gpt(e,o)}},{key:"createUploadGateway",value:function(e,o){return new _pt(e,o)}}],i=[{key:"pluginName",get:function(){return"CloudServicesCore"}}],n&&aH(t.prototype,n),i&&aH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(sm);function gn(r){return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(r)}function Vh(){Vh=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&gn(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(gn(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function Opt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||cH(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cH(r,t){if(r){if(typeof r=="string")return uH(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uH(r,t):void 0}}function uH(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function lH(r,t,n,i,u,a,e){try{var o=r[a](e),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(i,u)}function sH(r){return function(){var t=this,n=arguments;return new Promise(function(i,u){var a=r.apply(t,n);function e(c){lH(a,i,u,e,o,"next",c)}function o(c){lH(a,i,u,e,o,"throw",c)}e(void 0)})}}function fH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(gn(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(gn(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),gn(a)==="symbol"?a:String(a)),i)}var u,a}function _x(){return _x=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=il(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},_x.apply(this,arguments)}function Ax(r,t){return Ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ax(r,t)}function Spt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=il(r);if(t){var u=il(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(gn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function il(r){return il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},il(r)}var jpt=function(r){(function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),l&&Ax(c,l)})(o,r);var t,n,i,u,a,e=Spt(o);function o(){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,o),(c=e.apply(this,arguments)).token=null,c._tokens=new Map,c}return t=o,n=[{key:"init",value:(a=sH(Vh().mark(function c(){var l,s,f,d,h,b,v,g;return Vh().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:for(l=this.context.config,s=l.get("cloudServices")||{},f=0,d=Object.entries(s);f<d.length;f++)h=Opt(d[f],2),b=h[0],v=h[1],this[b]=v;if(this.tokenUrl){k.next=6;break}return this.token=null,k.abrupt("return");case 6:return g=this.context.plugins.get("CloudServicesCore"),k.next=9,g.createToken(this.tokenUrl).init();case 9:this.token=k.sent,this._tokens.set(this.tokenUrl,this.token);case 11:case"end":return k.stop()}},c,this)})),function(){return a.apply(this,arguments)})},{key:"registerTokenUrl",value:(u=sH(Vh().mark(function c(l){var s,f;return Vh().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!this._tokens.has(l)){d.next=2;break}return d.abrupt("return",this.getTokenFor(l));case 2:return s=this.context.plugins.get("CloudServicesCore"),d.next=5,s.createToken(l).init();case 5:return f=d.sent,this._tokens.set(l,f),d.abrupt("return",f);case 8:case"end":return d.stop()}},c,this)})),function(c){return u.apply(this,arguments)})},{key:"getTokenFor",value:function(c){var l=this._tokens.get(c);if(!l)throw new V("cloudservices-token-not-registered",this);return l}},{key:"destroy",value:function(){_x(il(o.prototype),"destroy",this).call(this);var c,l=function(s,f){var d=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!d){if(Array.isArray(s)||(d=cH(s))||f&&s&&typeof s.length=="number"){d&&(s=d);var h=0,b=function(){};return{s:b,n:function(){return h>=s.length?{done:!0}:{done:!1,value:s[h++]}},e:function(_){throw _},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,g=!0,k=!1;return{s:function(){d=d.call(s)},n:function(){var _=d.next();return g=_.done,_},e:function(_){k=!0,v=_},f:function(){try{g||d.return==null||d.return()}finally{if(k)throw v}}}}(this._tokens.values());try{for(l.s();!(c=l.n()).done;)c.value.destroy()}catch(s){l.e(s)}finally{l.f()}}}],i=[{key:"pluginName",get:function(){return"CloudServices"}},{key:"requires",get:function(){return[Cpt]}}],n&&fH(t.prototype,n),i&&fH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(sm);function al(r){return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(r)}function dH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(al(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(al(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),al(a)==="symbol"?a:String(a)),i)}var u,a}function Cx(r,t){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cx(r,t)}function Ppt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=_w(r);if(t){var u=_w(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function _w(r){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_w(r)}var Po="code",Ept=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Cx(e,o)})(a,r);var t,n,i,u=Ppt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"CodeEditing"}},{key:"requires",get:function(){return[Ug]}}],(n=[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:Po}),e.model.schema.setAttributeProperties(Po,{isFormatting:!0,copyOnEnter:!1}),e.conversion.attributeToElement({model:Po,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),e.commands.add(Po,new jo(e,Po)),e.plugins.get(Ug).registerAttribute(Po),KV(e,Po,"code","ck-code_selected")}}])&&dH(t.prototype,n),i&&dH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),pH=x(5363),xpt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(pH.Z,xpt),pH.Z.locals;function cl(r){return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(r)}function yH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(cl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(cl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),cl(a)==="symbol"?a:String(a)),i)}var u,a}function Ox(r,t){return Ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ox(r,t)}function Tpt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Aw(r);if(t){var u=Aw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Aw(r){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Aw(r)}var Sx="code",Dpt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Ox(e,o)})(a,r);var t,n,i,u=Tpt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"CodeUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t;o.ui.componentFactory.add(Sx,function(l){var s=o.commands.get(Sx),f=new vt(l);return f.set({label:c("Code"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(s,"value","isEnabled"),e.listenTo(f,"execute",function(){o.execute(Sx),o.editing.view.focus()}),f})}}])&&yH(t.prototype,n),i&&yH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function ul(r){return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(r)}function hH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ul(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ul(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ul(a)==="symbol"?a:String(a)),i)}var u,a}function jx(r,t){return jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jx(r,t)}function Rpt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Cw(r);if(t){var u=Cw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Cw(r){return Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cw(r)}var Ipt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&jx(e,o)})(a,r);var t,n,i,u=Rpt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Ept,Dpt]}},{key:"pluginName",get:function(){return"Code"}}],(n=null)&&hH(t.prototype,n),i&&hH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Px(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return bH(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return bH(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function bH(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Ex(r){var t,n=r.t,i=r.config.get("codeBlock.languages"),u=Px(i);try{for(u.s();!(t=u.n()).done;){var a=t.value;a.label==="Plain text"&&(a.label=n("Plain text")),a.class===void 0&&(a.class="language-".concat(a.language))}}catch(e){u.e(e)}finally{u.f()}return i}function xx(r,t,n){var i,u={},a=Px(r);try{for(a.s();!(i=a.n()).done;){var e=i.value;t==="class"?u[e[t].split(" ").shift()]=e[n]:u[e[t]]=e[n]}}catch(o){a.e(o)}finally{a.f()}return u}function Tx(r){return r.data.match(/^(\s*)/)[0]}function Dx(r){var t=r.document.selection,n=[];if(t.isCollapsed)return[t.anchor];var i,u=Px(t.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"}));try{for(u.s();!(i=u.n()).done;){var a=i.value.item;if(a.is("$textProxy")){var e=a.textNode,o=e.parent,c=e.startOffset;if(o.is("element","codeBlock")){var l=Tx(a.textNode),s=r.createPositionAt(o,c+l.length);n.push(s)}}}}catch(f){u.e(f)}finally{u.f()}return n}function mH(r){var t=Vt(r.getSelectedBlocks());return!!t&&t.is("element","codeBlock")}function vH(r,t){return!t.is("rootElement")&&!r.isLimit(t)&&r.checkChild(t.parent,"codeBlock")}function ll(r){return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(r)}function Rx(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return gH(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return gH(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function gH(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function wH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ll(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ll(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ll(a)==="symbol"?a:String(a)),i)}var u,a}function Ix(r,t){return Ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ix(r,t)}function Bpt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ow(r);if(t){var u=Ow(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ow(r){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ow(r)}var Mpt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Ix(e,o)})(a,r);var t,n,i,u=Bpt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._lastLanguage=null,o}return t=a,n=[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=this.editor,l=c.model,s=l.document.selection,f=Ex(c)[0],d=Array.from(s.getSelectedBlocks()),h=o.forceValue==null?!this.value:o.forceValue,b=function(v,g,k){return v.language?v.language:v.usePreviousLanguageChoice&&g?g:k}(o,this._lastLanguage,f.language);l.change(function(v){h?e._applyCodeBlock(v,d,b):e._removeCodeBlock(v,d)})}},{key:"_getValue",value:function(){var e=Vt(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!e.is("element","codeBlock"))&&e.getAttribute("language")}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.document.selection,o=this.editor.model.schema,c=Vt(e.getSelectedBlocks());return!!c&&vH(o,c)}},{key:"_applyCodeBlock",value:function(e,o,c){this._lastLanguage=c;var l,s=this.editor.model.schema,f=o.filter(function(b){return vH(s,b)}),d=Rx(f);try{var h=function(){var b=l.value;e.rename(b,"codeBlock"),e.setAttribute("language",c,b),s.removeDisallowedAttributes([b],e),Array.from(b.getChildren()).filter(function(v){return!s.checkChild(b,v)}).forEach(function(v){return e.remove(v)})};for(d.s();!(l=d.n()).done;)h()}catch(b){d.e(b)}finally{d.f()}f.reverse().forEach(function(b,v){var g=f[v+1];b.previousSibling===g&&(e.appendElement("softBreak",g),e.merge(e.createPositionBefore(b)))})}},{key:"_removeCodeBlock",value:function(e,o){var c,l=o.filter(function(k){return k.is("element","codeBlock")}),s=Rx(l);try{for(s.s();!(c=s.n()).done;){var f,d=c.value,h=e.createRangeOn(d),b=Rx(Array.from(h.getItems()).reverse());try{for(b.s();!(f=b.n()).done;){var v=f.value;if(v.is("element","softBreak")&&v.parent.is("element","codeBlock")){var g=e.split(e.createPositionBefore(v)).position.nodeAfter;e.rename(g,"paragraph"),e.removeAttribute("language",g),e.remove(v)}}}catch(k){b.e(k)}finally{b.f()}e.rename(d,"paragraph"),e.removeAttribute("language",d)}}catch(k){s.e(k)}finally{s.f()}}}],n&&wH(t.prototype,n),i&&wH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function sl(r){return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(r)}function Npt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return kH(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return kH(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function kH(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function _H(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(sl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(sl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),sl(a)==="symbol"?a:String(a)),i)}var u,a}function Bx(r,t){return Bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bx(r,t)}function Lpt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Sw(r);if(t){var u=Sw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Sw(r){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sw(r)}var zpt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Bx(e,o)})(a,r);var t,n,i,u=Lpt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._indentSequence=e.config.get("codeBlock.indentSequence"),o}return t=a,(n=[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,o=this.editor.model;o.change(function(c){var l,s=Npt(Dx(o));try{for(s.s();!(l=s.n()).done;){var f=l.value,d=c.createText(e._indentSequence);o.insertContent(d,f)}}catch(h){s.e(h)}finally{s.f()}})}},{key:"_checkEnabled",value:function(){return!!this._indentSequence&&mH(this.editor.model.document.selection)}}])&&_H(t.prototype,n),i&&_H(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function fl(r){return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(r)}function Fpt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return AH(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return AH(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function AH(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function CH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(fl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(fl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),fl(a)==="symbol"?a:String(a)),i)}var u,a}function Mx(r,t){return Mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mx(r,t)}function Vpt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=jw(r);if(t){var u=jw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function jw(r){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jw(r)}var Upt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Mx(e,o)})(a,r);var t,n,i,u=Vpt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._indentSequence=e.config.get("codeBlock.indentSequence"),o}return t=a,(n=[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,o=this.editor.model;o.change(function(){var c,l=Fpt(Dx(o));try{for(l.s();!(c=l.n()).done;){var s=c.value,f=OH(o,s,e._indentSequence);f&&o.deleteContent(o.createSelection(f))}}catch(d){l.e(d)}finally{l.f()}})}},{key:"_checkEnabled",value:function(){var e=this;if(!this._indentSequence)return!1;var o=this.editor.model;return!!mH(o.document.selection)&&Dx(o).some(function(c){return OH(o,c,e._indentSequence)})}}])&&CH(t.prototype,n),i&&CH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function OH(r,t,n){var i=function(c){var l=c.parent.getChild(c.index);return l&&!l.is("element","softBreak")||(l=c.nodeBefore),!l||l.is("element","softBreak")?null:l}(t);if(!i)return null;var u=Tx(i),a=u.lastIndexOf(n);if(a+n.length!==u.length||a===-1)return null;var e=i.parent,o=i.startOffset;return r.createRange(r.createPositionAt(e,o+a),r.createPositionAt(e,o+a+n.length))}function SH(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=jH(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Hpt(r){return function(t){if(Array.isArray(t))return Nx(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||jH(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jH(r,t){if(r){if(typeof r=="string")return Nx(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nx(r,t):void 0}}function Nx(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function PH(r,t){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=xx(t,"language","class"),u=xx(t,"language","label");return function(a,e,o){var c=o.writer,l=o.mapper;if(o.consumable.consume(e.item,"insert")){var s=e.item.getAttribute("language"),f=l.toViewPosition(r.createPositionBefore(e.item)),d={};n&&(d["data-language"]=u[s],d.spellcheck="false");var h=i[s]?{class:i[s]}:void 0,b=c.createContainerElement("code",h),v=c.createContainerElement("pre",d,b);c.insert(f,v),l.bindElements(e.item,b)}}}function dl(r){return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(r)}function Gpt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||function(n,i){if(n){if(typeof n=="string")return EH(n,i);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return EH(n,i)}}(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function EH(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function xH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(dl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(dl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),dl(a)==="symbol"?a:String(a)),i)}var u,a}function Lx(r,t){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lx(r,t)}function Wpt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Pw(r);if(t){var u=Pw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Pw(r){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pw(r)}var TH="paragraph",$pt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Lx(e,o)})(a,r);var t,n,i,u=Wpt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this,e),e.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"}),o}return t=a,n=[{key:"init",value:function(){var e,o,c,l=this.editor,s=l.model.schema,f=l.model,d=l.editing.view,h=l.plugins.has("DocumentListEditing"),b=Ex(l);l.commands.add("codeBlock",new Mpt(l)),l.commands.add("indentCodeBlock",new zpt(l)),l.commands.add("outdentCodeBlock",new Upt(l)),this.listenTo(d.document,"tab",function(v,g){var k=g.shiftKey?"outdentCodeBlock":"indentCodeBlock";l.commands.get(k).isEnabled&&(l.execute(k),g.stopPropagation(),g.preventDefault(),v.stop())},{context:"pre"}),s.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),s.addAttributeCheck(function(v,g){var k=v.endsWith("codeBlock")&&g.startsWith("list")&&g!=="list";return!(!h||!k)||!v.endsWith("codeBlock $text")&&void 0}),l.model.schema.addChildCheck(function(v,g){if(v.endsWith("codeBlock")&&g.isObject)return!1}),l.editing.downcastDispatcher.on("insert:codeBlock",PH(f,b,!0)),l.data.downcastDispatcher.on("insert:codeBlock",PH(f,b)),l.data.downcastDispatcher.on("insert:softBreak",function(v){return function(g,k,_){if(k.item.parent.name==="codeBlock"){var A=_.writer,C=_.mapper;if(_.consumable.consume(k.item,"insert")){var S=C.toViewPosition(v.createPositionBefore(k.item));A.insert(S,A.createText(`
`))}}}}(f),{priority:"high"}),l.data.upcastDispatcher.on("element:code",(o=xx(e=b,"class","language"),c=e[0].language,function(v,g,k){var _=g.viewItem,A=_.parent;if(A&&A.is("element","pre")&&!g.modelCursor.findAncestor("codeBlock")){var C=k.consumable,S=k.writer;if(C.test(_,{name:!0})){var P=S.createElement("codeBlock"),E=Hpt(_.getClassNames());E.length||E.push("");var R,I=SH(E);try{for(I.s();!(R=I.n()).done;){var z=R.value,F=o[z];if(F){S.setAttribute("language",F,P);break}}}catch(tt){I.e(tt)}finally{I.f()}P.hasAttribute("language")||S.setAttribute("language",c,P),k.convertChildren(_,P),k.safeInsert(P,g.modelCursor)&&(C.consume(_,{name:!0}),k.updateConversionResult(P,g))}}})),l.data.upcastDispatcher.on("text",function(v,g,k){var _=k.consumable,A=k.writer,C=g.modelCursor;if(_.test(g.viewItem)&&C.findAncestor("codeBlock")){_.consume(g.viewItem);var S,P=g.viewItem.data.split(`
`).map(function(F){return A.createText(F)}),E=P[P.length-1],R=SH(P);try{for(R.s();!(S=R.n()).done;){var I=S.value;if(A.insert(I,C),C=C.getShiftedBy(I.offsetSize),I!==E){var z=A.createElement("softBreak");A.insert(z,C),C=A.createPositionAfter(z)}}}catch(F){R.e(F)}finally{R.f()}g.modelRange=A.createRange(g.modelCursor,C),g.modelCursor=C}}),l.data.upcastDispatcher.on("element:pre",function(v,g,k){var _=k.consumable,A=g.viewItem;if(!A.findAncestor("pre")){var C=Array.from(A.getChildren()),S=C.find(function(I){return I.is("element","code")});if(S)for(var P=0,E=C;P<E.length;P++){var R=E[P];R!==S&&R.is("$text")&&_.consume(R,{name:!0})}}},{priority:"high"}),this.listenTo(l.editing.view.document,"clipboardInput",function(v,g){var k=f.createRange(f.document.selection.anchor);if(g.targetRanges&&(k=l.editing.mapper.toModelRange(g.targetRanges[0])),k.start.parent.is("element","codeBlock")){var _=g.dataTransfer.getData("text/plain"),A=new _r(l.editing.view.document);g.content=function(C,S){var P=C.createDocumentFragment(),E=S.split(`
`),R=E.reduce(function(I,z,F){return I.push(z),F<E.length-1&&I.push(C.createElement("br")),I},[]);return C.appendChild(R,P),P}(A,_)}}),this.listenTo(f,"getSelectedContent",function(v,g){var k=Gpt(g,1)[0],_=k.anchor;!k.isCollapsed&&_.parent.is("element","codeBlock")&&_.hasSameParentAs(k.focus)&&f.change(function(A){var C=v.return;if(_.parent.is("element")&&(C.childCount>1||k.containsEntireContent(_.parent))){var S=A.createElement("codeBlock",_.parent.getAttributes());A.append(C,S);var P=A.createDocumentFragment();return A.append(S,P),void(v.return=P)}var E=C.getChild(0);s.checkAttribute(E,"code")&&A.setAttribute("code",!0,E)})})}},{key:"afterInit",value:function(){var e=this.editor,o=e.commands,c=o.get("indent"),l=o.get("outdent");c&&c.registerChildCommand(o.get("indentCodeBlock"),{priority:"highest"}),l&&l.registerChildCommand(o.get("outdentCodeBlock")),this.listenTo(e.editing.view.document,"enter",function(s,f){e.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(function(d,h){var b=d.model,v=b.document,g=d.editing.view,k=v.selection.getLastPosition(),_=k.nodeAfter;return!(h||!v.selection.isCollapsed||!k.isAtStart)&&!!Eo(_)&&(d.model.change(function(A){d.execute("enter");var C=v.selection.anchor.parent.previousSibling;A.rename(C,TH),A.setSelection(C,"in"),d.model.schema.removeDisallowedAttributes([C],A),A.remove(_)}),g.scrollToTheSelection(),!0)}(e,f.isSoft)||function(d,h){var b,v=d.model,g=v.document,k=d.editing.view,_=g.selection.getLastPosition(),A=_.nodeBefore;if(h||!g.selection.isCollapsed||!_.isAtEnd||!A||!A.previousSibling)return!1;if(Eo(A)&&Eo(A.previousSibling))b=v.createRange(v.createPositionBefore(A.previousSibling),v.createPositionAfter(A));else if(zx(A)&&Eo(A.previousSibling)&&Eo(A.previousSibling.previousSibling))b=v.createRange(v.createPositionBefore(A.previousSibling.previousSibling),v.createPositionAfter(A));else{if(!(zx(A)&&Eo(A.previousSibling)&&zx(A.previousSibling.previousSibling)&&A.previousSibling.previousSibling&&Eo(A.previousSibling.previousSibling.previousSibling)))return!1;b=v.createRange(v.createPositionBefore(A.previousSibling.previousSibling.previousSibling),v.createPositionAfter(A))}return d.model.change(function(C){C.remove(b),d.execute("enter");var S=g.selection.anchor.parent;C.rename(S,TH),d.model.schema.removeDisallowedAttributes([S],C)}),k.scrollToTheSelection(),!0}(e,f.isSoft)||function(d){var h,b=d.model,v=b.document,g=v.selection.getLastPosition(),k=g.nodeBefore||g.textNode;k&&k.is("$text")&&(h=Tx(k)),d.model.change(function(_){d.execute("shiftEnter"),h&&_.insertText(h,v.selection.anchor)})}(e),f.preventDefault(),s.stop())},{context:"pre"})}}],i=[{key:"pluginName",get:function(){return"CodeBlockEditing"}},{key:"requires",get:function(){return[lU]}}],n&&xH(t.prototype,n),i&&xH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function zx(r){return r&&r.is("$text")&&!r.data.match(/\S/)}function Eo(r){return r&&r.is("element","softBreak")}var DH=x(3229),qpt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(DH.Z,qpt),DH.Z.locals;function pl(r){return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(r)}function Ypt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return RH(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return RH(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function RH(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function IH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(pl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(pl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),pl(a)==="symbol"?a:String(a)),i)}var u,a}function Fx(r,t){return Fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fx(r,t)}function Kpt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ew(r);if(t){var u=Ew(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ew(r){return Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ew(r)}var Zpt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Fx(e,o)})(a,r);var t,n,i,u=Kpt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"CodeBlockUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t,l=o.ui.componentFactory,s=Ex(o);l.add("codeBlock",function(f){var d=o.commands.get("codeBlock"),h=ae(f,Bc),b=h.buttonView,v=c("Insert code block");return b.set({label:v,tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',isToggleable:!0}),b.bind("isOn").to(d,"value",function(g){return!!g}),b.on("execute",function(){o.execute("codeBlock",{usePreviousLanguageChoice:!0}),o.editing.view.focus()}),h.on("execute",function(g){o.execute("codeBlock",{language:g.source._codeBlockLanguage,forceValue:!0}),o.editing.view.focus()}),h.class="ck-code-block-dropdown",h.bind("isEnabled").to(d),zr(h,function(){return e._getLanguageListItemDefinitions(s)},{role:"menu",ariaLabel:v}),h})}},{key:"_getLanguageListItemDefinitions",value:function(e){var o,c=this.editor.commands.get("codeBlock"),l=new Qt,s=Ypt(e);try{var f=function(){var d=o.value,h={type:"button",model:new Fr({_codeBlockLanguage:d.language,label:d.label,role:"menuitemradio",withText:!0})};h.model.bind("isOn").to(c,"value",function(b){return b===h.model._codeBlockLanguage}),l.add(h)};for(s.s();!(o=s.n()).done;)f()}catch(d){s.e(d)}finally{s.f()}return l}}])&&IH(t.prototype,n),i&&IH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function yl(r){return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(r)}function BH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(yl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(yl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),yl(a)==="symbol"?a:String(a)),i)}var u,a}function Vx(r,t){return Vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vx(r,t)}function Qpt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=xw(r);if(t){var u=xw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function xw(r){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xw(r)}var Jpt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Vx(e,o)})(a,r);var t,n,i,u=Qpt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[$pt,Zpt]}},{key:"pluginName",get:function(){return"CodeBlock"}}],(n=null)&&BH(t.prototype,n),i&&BH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function hl(r){return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(r)}function MH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(hl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(hl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),hl(a)==="symbol"?a:String(a)),i)}var u,a}function Ux(r,t){return Ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ux(r,t)}function Xpt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Tw(r);if(t){var u=Tw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Tw(r){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tw(r)}var Hx=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Ux(e,o)})(a,r);var t,n,i,u=Xpt(a);function a(e){var o;(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a),(o=u.call(this,e)).domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];var c=o.document;function l(s){return function(f,d){d.preventDefault();var h=d.dropRange?[d.dropRange]:null,b=new ge(c,s);c.fire(b,{dataTransfer:d.dataTransfer,method:f.name,targetRanges:h,target:d.target,domEvent:d.domEvent}),b.stop.called&&d.stopPropagation()}}return o.listenTo(c,"paste",l("clipboardInput"),{priority:"low"}),o.listenTo(c,"drop",l("clipboardInput"),{priority:"low"}),o.listenTo(c,"dragover",l("dragging"),{priority:"low"}),o}return t=a,(n=[{key:"onDomEvent",value:function(e){var o="clipboardData"in e?e.clipboardData:e.dataTransfer,c=e.type=="drop"||e.type=="paste",l={dataTransfer:new GL(o,{cacheFiles:c})};e.type!="drop"&&e.type!="dragover"||(l.dropRange=function(s,f){var d,h=f.target.ownerDocument,b=f.clientX,v=f.clientY;return h.caretRangeFromPoint&&h.caretRangeFromPoint(b,v)?d=h.caretRangeFromPoint(b,v):f.rangeParent&&((d=h.createRange()).setStart(f.rangeParent,f.rangeOffset),d.collapse(!0)),d?s.domConverter.domRangeToView(d):null}(this.view,e)),this.fire(e.type,e,l)}}])&&MH(t.prototype,n),i&&MH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(an);function tyt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return NH(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return NH(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function NH(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}var LH=["figcaption","li"];function zH(r){var t="";if(r.is("$text")||r.is("$textProxy"))t=r.data;else if(r.is("element","img")&&r.hasAttribute("alt"))t=r.getAttribute("alt");else if(r.is("element","br"))t=`
`;else{var n,i=null,u=tyt(r.getChildren());try{for(u.s();!(n=u.n()).done;){var a=n.value,e=zH(a);i&&(i.is("containerElement")||a.is("containerElement"))&&(LH.includes(i.name)||LH.includes(a.name)?t+=`
`:t+=`

`),t+=e,i=a}}catch(o){u.e(o)}finally{u.f()}}return t}function bl(r){return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(r)}function FH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(bl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(bl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),bl(a)==="symbol"?a:String(a)),i)}var u,a}function Gx(r,t){return Gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gx(r,t)}function eyt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Dw(r);if(t){var u=Dw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Dw(r){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dw(r)}var Ar=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Gx(e,o)})(a,r);var t,n,i,u=eyt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"ClipboardPipeline"}}],(n=[{key:"init",value:function(){this.editor.editing.view.addObserver(Hx),this._setupPasteDrop(),this._setupCopyCut()}},{key:"_setupPasteDrop",value:function(){var e=this,o=this.editor,c=o.model,l=o.editing.view,s=l.document;this.listenTo(s,"clipboardInput",function(f,d){d.method!="paste"||o.model.canEditAt(o.model.document.selection)||f.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",function(f,d){var h,b,v=d.dataTransfer;if(d.content)h=d.content;else{var g="";v.getData("text/html")?g=function(_){return _.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(A,C){return C.length==1?" ":C}).replace(/<!--[\s\S]*?-->/g,"")}(v.getData("text/html")):v.getData("text/plain")&&(((b=(b=v.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||b.includes("<br>"))&&(b="<p>".concat(b,"</p>")),g=b),h=e.editor.data.htmlProcessor.toView(g)}var k=new ge(e,"inputTransformation");e.fire(k,{content:h,dataTransfer:v,targetRanges:d.targetRanges,method:d.method}),k.stop.called&&f.stop(),l.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",function(f,d){if(!d.content.isEmpty){var h=e.editor.data.toModel(d.content,"$clipboardHolder");h.childCount!=0&&(f.stop(),c.change(function(){e.fire("contentInsertion",{content:h,method:d.method,dataTransfer:d.dataTransfer,targetRanges:d.targetRanges})}))}},{priority:"low"}),this.listenTo(this,"contentInsertion",function(f,d){d.resultRange=c.insertContent(d.content)},{priority:"low"})}},{key:"_setupCopyCut",value:function(){var e=this,o=this.editor,c=o.model.document,l=o.editing.view.document,s=function(f,d){var h=d.dataTransfer;d.preventDefault();var b=o.data.toView(o.model.getSelectedContent(c.selection));l.fire("clipboardOutput",{dataTransfer:h,content:b,method:f.name})};this.listenTo(l,"copy",s,{priority:"low"}),this.listenTo(l,"cut",function(f,d){o.model.canEditAt(o.model.document.selection)?s(f,d):d.preventDefault()},{priority:"low"}),this.listenTo(l,"clipboardOutput",function(f,d){d.content.isEmpty||(d.dataTransfer.setData("text/html",e.editor.data.htmlProcessor.toData(d.content)),d.dataTransfer.setData("text/plain",zH(d.content))),d.method=="cut"&&o.model.deleteContent(c.selection)},{priority:"low"})}}])&&FH(t.prototype,n),i&&FH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function ml(r){return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(r)}function VH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ml(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ml(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ml(a)==="symbol"?a:String(a)),i)}var u,a}function Wx(r,t){return Wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wx(r,t)}function ryt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Rw(r);if(t){var u=Rw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Rw(r){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rw(r)}var nyt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Wx(e,o)})(a,r);var t,n,i,u=ryt(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments))._stack=[],e}return t=a,(n=[{key:"add",value:function(e,o){var c=this._stack,l=c[0];this._insertDescriptor(e);var s=c[0];l===s||$x(l,s)||this.fire("change:top",{oldDescriptor:l,newDescriptor:s,writer:o})}},{key:"remove",value:function(e,o){var c=this._stack,l=c[0];this._removeDescriptor(e);var s=c[0];l===s||$x(l,s)||this.fire("change:top",{oldDescriptor:l,newDescriptor:s,writer:o})}},{key:"_insertDescriptor",value:function(e){var o=this._stack,c=o.findIndex(function(s){return s.id===e.id});if(!$x(e,o[c])){c>-1&&o.splice(c,1);for(var l=0;o[l]&&oyt(o[l],e);)l++;o.splice(l,0,e)}}},{key:"_removeDescriptor",value:function(e){var o=this._stack,c=o.findIndex(function(l){return l.id===e});c>-1&&o.splice(c,1)}}])&&VH(t.prototype,n),i&&VH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Nt());function $x(r,t){return r&&t&&r.priority==t.priority&&Iw(r.classes)==Iw(t.classes)}function oyt(r,t){return r.priority>t.priority||!(r.priority<t.priority)&&Iw(r.classes)>Iw(t.classes)}function Iw(r){return Array.isArray(r)?r.sort().join(","):r}const iyt='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';var ayt="ck-widget",UH="ck-widget_selected";function Zt(r){return!!r.is("element")&&!!r.getCustomProperty("widget")}function xo(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!r.is("containerElement"))throw new V("widget-to-widget-wrong-element-type",null,{element:r});return t.setAttribute("contenteditable","false",r),t.addClass(ayt,r),t.setCustomProperty("widget",!0,r),r.getFillerOffset=lyt,t.setCustomProperty("widgetLabel",[],r),n.label&&function(i,u){var a=i.getCustomProperty("widgetLabel");a.push(u)}(r,n.label),n.hasSelectionHandle&&function(i,u){var a=u.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(e){var o=this.toDomElement(e),c=new _i;return c.set("content",iyt),c.render(),o.appendChild(c.element),o});u.insert(u.createPositionAt(i,0),a),u.addClass(["ck-widget_with-selection-handle"],i)}(r,t),HH(r,t),r}function cyt(r,t,n){if(t.classes&&n.addClass(Kt(t.classes),r),t.attributes)for(var i in t.attributes)n.setAttribute(i,t.attributes[i],r)}function uyt(r,t,n){if(t.classes&&n.removeClass(Kt(t.classes),r),t.attributes)for(var i in t.attributes)n.removeAttribute(i,r)}function HH(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cyt,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:uyt,u=new nyt;u.on("change:top",function(a,e){e.oldDescriptor&&i(r,e.oldDescriptor,e.writer),e.newDescriptor&&n(r,e.newDescriptor,e.writer)}),t.setCustomProperty("addHighlight",function(a,e,o){return u.add(e,o)},r),t.setCustomProperty("removeHighlight",function(a,e,o){return u.remove(e,o)},r)}function qx(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],r),t.setAttribute("role","textbox",r),n.label&&t.setAttribute("aria-label",n.label,r),t.setAttribute("contenteditable",r.isReadOnly?"false":"true",r),r.on("change:isReadOnly",function(i,u,a){t.setAttribute("contenteditable",a?"false":"true",r)}),r.on("change:isFocused",function(i,u,a){a?t.addClass("ck-editor__nested-editable_focused",r):t.removeClass("ck-editor__nested-editable_focused",r)}),HH(r,t),r}function Bw(r,t){var n=r.getSelectedElement();if(n){var i=wn(r);if(i)return t.createRange(t.createPositionAt(n,i))}return vz(r,t)}function lyt(){return null}var Hr="widget-type-around";function To(r,t,n){return!!r&&Zt(r)&&!n.isInline(t)}function wn(r){return r.getAttribute(Hr)}var GH=x(2347),syt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(GH.Z,syt),GH.Z.locals;function vl(r){return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(r)}function Yx(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||$H(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function WH(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=$H(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function $H(r,t){if(r){if(typeof r=="string")return qH(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qH(r,t):void 0}}function qH(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function YH(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(vl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(vl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),vl(a)==="symbol"?a:String(a)),i)}var u,a}function Kx(){return Kx=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=gl(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},Kx.apply(this,arguments)}function Zx(r,t){return Zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zx(r,t)}function fyt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=gl(r);if(t){var u=gl(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function gl(r){return gl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gl(r)}var KH=["before","after"],dyt=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,ZH="ck-widget__type-around_disabled",pyt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Zx(e,o)})(a,r);var t,n,i,u=fyt(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments))._currentFakeCaretModelElement=null,e}return t=a,n=[{key:"init",value:function(){var e=this.editor,o=e.editing.view;this.on("change:isEnabled",function(c,l,s){o.change(function(f){var d,h=WH(o.document.roots);try{for(h.s();!(d=h.n()).done;){var b=d.value;s?f.removeClass(ZH,b):f.addClass(ZH,b)}}catch(v){h.e(v)}finally{h.f()}}),s||e.model.change(function(f){f.removeSelectionAttribute(Hr)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}},{key:"destroy",value:function(){Kx(gl(a.prototype),"destroy",this).call(this),this._currentFakeCaretModelElement=null}},{key:"_insertParagraph",value:function(e,o){var c=this.editor,l=c.editing.view,s=c.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);c.execute("insertParagraph",{position:c.model.createPositionAt(e,o),attributes:s}),l.focus(),l.scrollToTheSelection()}},{key:"_listenToIfEnabled",value:function(e,o,c,l){var s=this;this.listenTo(e,o,function(){s.isEnabled&&c.apply(void 0,arguments)},l)}},{key:"_insertParagraphAccordingToFakeCaretPosition",value:function(){var e=this.editor.model.document.selection,o=wn(e);if(!o)return!1;var c=e.getSelectedElement();return this._insertParagraph(c,o),!0}},{key:"_enableTypeAroundUIInjection",value:function(){var e=this,o=this.editor,c=o.model.schema,l=o.locale.t,s={before:l("Insert paragraph before block"),after:l("Insert paragraph after block")};o.editing.downcastDispatcher.on("insert",function(f,d,h){var b=h.mapper.toViewElement(d.item);b&&To(b,d.item,c)&&(function(v,g,k){var _=v.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(A){var C=this.toDomElement(A);return function(S,P){for(var E=0,R=KH;E<R.length;E++){var I=R[E],z=new Re({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_".concat(I)],title:P[I],"aria-hidden":"true"},children:[S.ownerDocument.importNode(dyt,!0)]});S.appendChild(z.render())}}(C,g),function(S){var P=new Re({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});S.appendChild(P.render())}(C),C});v.insert(v.createPositionAt(k,"end"),_)}(h.writer,s,b),b.getCustomProperty("widgetLabel").push(function(){return e.isEnabled?l("Press Enter to type after or press Shift + Enter to type before the widget"):""}))},{priority:"low"})}},{key:"_enableTypeAroundFakeCaretActivationUsingKeyboardArrows",value:function(){var e=this,o=this.editor,c=o.model,l=c.document.selection,s=c.schema,f=o.editing.view;function d(h){return"ck-widget_type-around_show-fake-caret_".concat(h)}this._listenToIfEnabled(f.document,"arrowKey",function(h,b){e._handleArrowKeyPress(h,b)},{context:[Zt,"$text"],priority:"high"}),this._listenToIfEnabled(l,"change:range",function(h,b){b.directChange&&o.model.change(function(v){v.removeSelectionAttribute(Hr)})}),this._listenToIfEnabled(c.document,"change:data",function(){var h=l.getSelectedElement();h&&To(o.editing.mapper.toViewElement(h),h,s)||o.model.change(function(b){b.removeSelectionAttribute(Hr)})}),this._listenToIfEnabled(o.editing.downcastDispatcher,"selection",function(h,b,v){var g=v.writer;if(e._currentFakeCaretModelElement){var k=v.mapper.toViewElement(e._currentFakeCaretModelElement);k&&(g.removeClass(KH.map(d),k),e._currentFakeCaretModelElement=null)}var _=b.selection.getSelectedElement();if(_){var A=v.mapper.toViewElement(_);if(To(A,_,s)){var C=wn(b.selection);C&&(g.addClass(d(C),A),e._currentFakeCaretModelElement=_)}}}),this._listenToIfEnabled(o.ui.focusTracker,"change:isFocused",function(h,b,v){v||o.model.change(function(g){g.removeSelectionAttribute(Hr)})})}},{key:"_handleArrowKeyPress",value:function(e,o){var c,l=this.editor,s=l.model,f=s.document.selection,d=s.schema,h=l.editing.view,b=function(g,k){var _=zb(g,k);return _==="down"||_==="right"}(o.keyCode,l.locale.contentLanguageDirection),v=h.document.selection.getSelectedElement();To(v,l.editing.mapper.toModelElement(v),d)?c=this._handleArrowKeyPressOnSelectedWidget(b):f.isCollapsed?c=this._handleArrowKeyPressWhenSelectionNextToAWidget(b):o.shiftKey||(c=this._handleArrowKeyPressWhenNonCollapsedSelection(b)),c&&(o.preventDefault(),e.stop())}},{key:"_handleArrowKeyPressOnSelectedWidget",value:function(e){var o=this.editor.model,c=wn(o.document.selection);return o.change(function(l){return c?c!==(e?"after":"before")&&(l.removeSelectionAttribute(Hr),!0):(l.setSelectionAttribute(Hr,e?"after":"before"),!0)})}},{key:"_handleArrowKeyPressWhenSelectionNextToAWidget",value:function(e){var o=this.editor,c=o.model,l=c.schema,s=o.plugins.get("Widget"),f=s._getObjectElementNextToSelection(e);return!!To(o.editing.mapper.toViewElement(f),f,l)&&(c.change(function(d){s._setSelectionOverElement(f),d.setSelectionAttribute(Hr,e?"before":"after")}),!0)}},{key:"_handleArrowKeyPressWhenNonCollapsedSelection",value:function(e){var o=this.editor,c=o.model,l=c.schema,s=o.editing.mapper,f=c.document.selection,d=e?f.getLastPosition().nodeBefore:f.getFirstPosition().nodeAfter;return!!To(s.toViewElement(d),d,l)&&(c.change(function(h){h.setSelection(d,"on"),h.setSelectionAttribute(Hr,e?"after":"before")}),!0)}},{key:"_enableInsertingParagraphsOnButtonClick",value:function(){var e=this,o=this.editor,c=o.editing.view;this._listenToIfEnabled(c.document,"mousedown",function(l,s){var f=s.domTarget.closest(".ck-widget__type-around__button");if(f){var d=function(v){return v.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(f),h=function(v,g){var k=v.closest(".ck-widget");return g.mapDomToView(k)}(f,c.domConverter),b=o.editing.mapper.toModelElement(h);e._insertParagraph(b,d),s.preventDefault(),l.stop()}})}},{key:"_enableInsertingParagraphsOnEnterKeypress",value:function(){var e=this,o=this.editor,c=o.model.document.selection,l=o.editing.view;this._listenToIfEnabled(l.document,"enter",function(s,f){if(s.eventPhase=="atTarget"){var d,h=c.getSelectedElement(),b=o.editing.mapper.toViewElement(h),v=o.model.schema;e._insertParagraphAccordingToFakeCaretPosition()?d=!0:To(b,h,v)&&(e._insertParagraph(h,f.isSoft?"before":"after"),d=!0),d&&(f.preventDefault(),s.stop())}},{context:Zt})}},{key:"_enableInsertingParagraphsOnTypingKeystroke",value:function(){var e=this,o=this.editor.editing.view.document;this._listenToIfEnabled(o,"insertText",function(c,l){e._insertParagraphAccordingToFakeCaretPosition()&&(l.selection=o.selection)},{priority:"high"}),pt.isAndroid?this._listenToIfEnabled(o,"keydown",function(c,l){l.keyCode==229&&e._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(o,"compositionstart",function(){e._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}},{key:"_enableDeleteIntegration",value:function(){var e=this.editor,o=e.editing.view,c=e.model,l=c.schema;this._listenToIfEnabled(o.document,"delete",function(s,f){if(s.eventPhase=="atTarget"){var d=wn(c.document.selection);if(d){var h=f.direction,b=c.document.selection.getSelectedElement(),v=h=="forward";if(d==="before"===v)e.execute("delete",{selection:c.createSelection(b,"on")});else{var g=l.getNearestSelectionRange(c.createPositionAt(b,d),h);if(g)if(g.isCollapsed){var k=c.createSelection(g.start);if(c.modifySelection(k,{direction:h}),k.focus.isEqual(g.start)){var _=function(A,C){var S,P=C,E=WH(C.getAncestors({parentFirst:!0}));try{for(E.s();!(S=E.n()).done;){var R=S.value;if(R.childCount>1||A.isLimit(R))break;P=R}}catch(I){E.e(I)}finally{E.f()}return P}(l,g.start.parent);c.deleteContent(c.createSelection(_,"on"),{doNotAutoparagraph:!0})}else c.change(function(A){A.setSelection(g),e.execute(v?"deleteForward":"delete")})}else c.change(function(A){A.setSelection(g),e.execute(v?"deleteForward":"delete")})}f.preventDefault(),s.stop()}}},{context:Zt})}},{key:"_enableInsertContentIntegration",value:function(){var e=this.editor,o=this.editor.model,c=o.document.selection;this._listenToIfEnabled(e.model,"insertContent",function(l,s){var f=Yx(s,2),d=f[0],h=f[1];if(!h||h.is("documentSelection")){var b=wn(c);if(b)return l.stop(),o.change(function(v){var g=c.getSelectedElement(),k=o.createPositionAt(g,b),_=v.createSelection(k),A=o.insertContent(d,_);return v.setSelection(_),A})}},{priority:"high"})}},{key:"_enableInsertObjectIntegration",value:function(){var e=this.editor,o=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",function(c,l){var s=Yx(l,3),f=s[1],d=s[2],h=d===void 0?{}:d;if(!f||f.is("documentSelection")){var b=wn(o);b&&(h.findOptimalPosition=b,l[3]=h)}},{priority:"high"})}},{key:"_enableDeleteContentIntegration",value:function(){var e=this.editor,o=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",function(c,l){var s=Yx(l,1)[0];s&&!s.is("documentSelection")||wn(o)&&c.stop()},{priority:"high"})}}],i=[{key:"pluginName",get:function(){return"WidgetTypeAround"}},{key:"requires",get:function(){return[zh,Vr]}}],n&&YH(t.prototype,n),i&&YH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Qx(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return QH(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return QH(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function QH(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function yyt(r){var t=r.model;return function(n,i){var u=i.keyCode==Et.arrowup,a=i.keyCode==Et.arrowdown,e=i.shiftKey,o=t.document.selection;if(u||a){var c=a;if(!e||!function(s,f){return!s.isCollapsed&&s.isBackward==f}(o,c)){var l=function(s,f,d){var h=s.model;if(d){var b=f.isCollapsed?f.focus:f.getLastPosition(),v=JH(h,b,"forward");if(!v)return null;var g=h.createRange(b,v),k=XH(h.schema,g,"backward");return k?h.createRange(b,k):null}var _=f.isCollapsed?f.focus:f.getFirstPosition(),A=JH(h,_,"backward");if(!A)return null;var C=h.createRange(A,_),S=XH(h.schema,C,"forward");return S?h.createRange(S,_):null}(r,o,c);if(l){if(l.isCollapsed&&(o.isCollapsed||e))return;(l.isCollapsed||function(s,f,d){var h=s.model,b=s.view.domConverter;if(d){var v=h.createSelection(f.start);h.modifySelection(v),v.focus.isAtEnd||f.start.isEqual(v.focus)||(f=h.createRange(v.focus,f.end))}var g,k,_=s.mapper.toViewRange(f),A=b.viewRangeToDom(_),C=Qx(Lt.getDomRangeRects(A));try{for(C.s();!(k=C.n()).done;){var S=k.value;if(g!==void 0){if(Math.round(S.top)>=g)return!1;g=Math.max(g,Math.round(S.bottom))}else g=Math.round(S.bottom)}}catch(P){C.e(P)}finally{C.f()}return!0}(r,l,c))&&(t.change(function(s){var f=c?l.end:l.start;if(e){var d=t.createSelection(o.anchor);d.setFocus(f),s.setSelection(d)}else s.setSelection(f)}),n.stop(),i.preventDefault(),i.stopPropagation())}}}}}function JH(r,t,n){var i,u=r.schema,a=n=="forward"?"elementStart":"elementEnd",e=Qx(r.createRangeIn(t.root).getWalker({startPosition:t,direction:n}));try{for(e.s();!(i=e.n()).done;){var o=i.value,c=o.previousPosition,l=o.item,s=o.type;if(u.isLimit(l)&&!u.isInline(l))return c;if(s==a&&u.isBlock(l))return null}}catch(f){e.e(f)}finally{e.f()}return null}function XH(r,t,n){var i=n=="backward"?t.end:t.start;if(r.checkChild(i,"$text"))return i;var u,a=Qx(t.getWalker({direction:n}));try{for(a.s();!(u=a.n()).done;){var e=u.value.nextPosition;if(r.checkChild(e,"$text"))return e}}catch(o){a.e(o)}finally{a.f()}return null}var tG=x(7153),hyt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(tG.Z,hyt),tG.Z.locals;function wl(r){return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(r)}function Jx(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return eG(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return eG(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function eG(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function rG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(wl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(wl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),wl(a)==="symbol"?a:String(a)),i)}var u,a}function Xx(r,t){return Xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xx(r,t)}function byt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Mw(r);if(t){var u=Mw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Mw(r){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mw(r)}var kn=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Xx(e,o)})(a,r);var t,n,i,u=byt(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments))._previouslySelected=new Set,e}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.editing.view,l=c.document;this.editor.editing.downcastDispatcher.on("selection",function(s,f,d){var h=d.writer,b=f.selection;if(!b.isCollapsed){var v=b.getSelectedElement();if(v){var g,k=o.editing.mapper.toViewElement(v);Zt(k)&&d.consumable.consume(b,"selection")&&h.setSelection(h.createRangeOn(k),{fake:!0,label:(g=k,g.getCustomProperty("widgetLabel").reduce(function(_,A){return typeof A=="function"?_?_+". "+A():A():_?_+". "+A:A},""))})}}}),this.editor.editing.downcastDispatcher.on("selection",function(s,f,d){e._clearPreviouslySelectedWidgets(d.writer);var h,b=d.writer,v=null,g=Jx(b.document.selection.getRanges());try{for(g.s();!(h=g.n()).done;){var k,_=Jx(h.value);try{for(_.s();!(k=_.n()).done;){var A=k.value.item;Zt(A)&&!myt(A,v)&&(b.addClass(UH,A),e._previouslySelected.add(A),v=A)}}catch(C){_.e(C)}finally{_.f()}}}catch(C){g.e(C)}finally{g.f()}},{priority:"low"}),c.addObserver(Mv),this.listenTo(l,"mousedown",function(){return e._onMousedown.apply(e,arguments)}),this.listenTo(l,"arrowKey",function(){e._handleSelectionChangeOnArrowKeyPress.apply(e,arguments)},{context:[Zt,"$text"]}),this.listenTo(l,"arrowKey",function(){e._preventDefaultOnArrowKeyPress.apply(e,arguments)},{context:"$root"}),this.listenTo(l,"arrowKey",yyt(this.editor.editing),{context:"$text"}),this.listenTo(l,"delete",function(s,f){e._handleDelete(f.direction=="forward")&&(f.preventDefault(),s.stop())},{context:"$root"})}},{key:"_onMousedown",value:function(e,o){var c=this.editor,l=c.editing.view,s=l.document,f=o.target;if(function(g){for(var k=g;k;){if(k.is("editableElement")&&!k.is("rootElement"))return!0;if(Zt(k))return!1;k=k.parent}return!1}(f)){if((pt.isSafari||pt.isGecko)&&o.domEvent.detail>=3){var d=c.editing.mapper,h=f.is("attributeElement")?f.findAncestor(function(g){return!g.is("attributeElement")}):f,b=d.toModelElement(h);o.preventDefault(),this.editor.model.change(function(g){g.setSelection(b,"in")})}}else if(Zt(f)||(f=f.findAncestor(Zt))){pt.isAndroid&&o.preventDefault(),s.isFocused||l.focus();var v=c.editing.mapper.toModelElement(f);this._setSelectionOverElement(v)}}},{key:"_handleSelectionChangeOnArrowKeyPress",value:function(e,o){var c=o.keyCode,l=this.editor.model,s=l.schema,f=l.document.selection,d=f.getSelectedElement(),h=zb(c,this.editor.locale.contentLanguageDirection),b=h=="down"||h=="right",v=h=="up"||h=="down";if(d&&s.isObject(d)){var g=b?f.getLastPosition():f.getFirstPosition(),k=s.getNearestSelectionRange(g,b?"forward":"backward");k&&(l.change(function(E){E.setSelection(k)}),o.preventDefault(),e.stop())}else if(f.isCollapsed||o.shiftKey){if(f.isCollapsed){var _=this._getObjectElementNextToSelection(b);if(_&&s.isObject(_)){if(s.isInline(_)&&v)return;this._setSelectionOverElement(_),o.preventDefault(),e.stop()}}}else{var A=f.getFirstPosition(),C=f.getLastPosition(),S=A.nodeAfter,P=C.nodeBefore;(S&&s.isObject(S)||P&&s.isObject(P))&&(l.change(function(E){E.setSelection(b?C:A)}),o.preventDefault(),e.stop())}}},{key:"_preventDefaultOnArrowKeyPress",value:function(e,o){var c=this.editor.model,l=c.schema,s=c.document.selection.getSelectedElement();s&&l.isObject(s)&&(o.preventDefault(),e.stop())}},{key:"_handleDelete",value:function(e){var o=this,c=this.editor.model.document.selection;if(this.editor.model.canEditAt(c)&&c.isCollapsed){var l=this._getObjectElementNextToSelection(e);return l?(this.editor.model.change(function(s){for(var f=c.anchor.parent;f.isEmpty;){var d=f;f=d.parent,s.remove(d)}o._setSelectionOverElement(l)}),!0):void 0}}},{key:"_setSelectionOverElement",value:function(e){this.editor.model.change(function(o){o.setSelection(o.createRangeOn(e))})}},{key:"_getObjectElementNextToSelection",value:function(e){var o=this.editor.model,c=o.schema,l=o.document.selection,s=o.createSelection(l);if(o.modifySelection(s,{direction:e?"forward":"backward"}),s.isEqual(l))return null;var f=e?s.focus.nodeBefore:s.focus.nodeAfter;return f&&c.isObject(f)?f:null}},{key:"_clearPreviouslySelectedWidgets",value:function(e){var o,c=Jx(this._previouslySelected);try{for(c.s();!(o=c.n()).done;){var l=o.value;e.removeClass(UH,l)}}catch(s){c.e(s)}finally{c.f()}this._previouslySelected.clear()}}],i=[{key:"pluginName",get:function(){return"Widget"}},{key:"requires",get:function(){return[pyt,Vr]}}],n&&rG(t.prototype,n),i&&rG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function myt(r,t){return!!t&&Array.from(r.getAncestors()).includes(t)}function kl(r){return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(r)}function t2(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return nG(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return nG(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function nG(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function oG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(kl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(kl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),kl(a)==="symbol"?a:String(a)),i)}var u,a}function e2(){return e2=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=_l(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},e2.apply(this,arguments)}function r2(r,t){return r2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r2(r,t)}function vyt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=_l(r);if(t){var u=_l(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function _l(r){return _l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_l(r)}var Nw=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&r2(e,o)})(a,r);var t,n,i,u=vyt(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments))._toolbarDefinitions=new Map,e}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor;if(o.plugins.has("BalloonToolbar")){var c=o.plugins.get("BalloonToolbar");this.listenTo(c,"show",function(l){var s,f;s=o.editing.view.document.selection,(f=s.getSelectedElement())&&Zt(f)&&l.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",function(){e._updateToolbarsVisibility()}),this.listenTo(o.ui,"update",function(){e._updateToolbarsVisibility()}),this.listenTo(o.ui.focusTracker,"change:isFocused",function(){e._updateToolbarsVisibility()},{priority:"low"})}},{key:"destroy",value:function(){e2(_l(a.prototype),"destroy",this).call(this);var e,o=t2(this._toolbarDefinitions.values());try{for(o.s();!(e=o.n()).done;)e.value.view.destroy()}catch(c){o.e(c)}finally{o.f()}}},{key:"register",value:function(e,o){var c=this,l=o.ariaLabel,s=o.items,f=o.getRelatedElement,d=o.balloonClassName,h=d===void 0?"ck-toolbar-container":d;if(s.length){var b=this.editor,v=b.t,g=new xc(b.locale);if(g.ariaLabel=l||v("Widget toolbar"),this._toolbarDefinitions.has(e))throw new V("widget-toolbar-duplicated",this,{toolbarId:e});var k={view:g,getRelatedElement:f,balloonClassName:h,itemsConfig:s,initialized:!1};b.ui.addToolbar(g,{isContextual:!0,beforeFocus:function(){var _=f(b.editing.view.document.selection);_&&c._showToolbar(k,_)},afterBlur:function(){c._hideToolbar(k)}}),this._toolbarDefinitions.set(e,k)}else Ct("widget-toolbar-no-items",{toolbarId:e})}},{key:"_updateToolbarsVisibility",value:function(){var e,o=0,c=null,l=null,s=t2(this._toolbarDefinitions.values());try{for(s.s();!(e=s.n()).done;){var f=e.value,d=f.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&d)if(this.editor.ui.focusTracker.isFocused){var h=d.getAncestors().length;h>o&&(o=h,c=d,l=f)}else this._isToolbarVisible(f)&&this._hideToolbar(f);else this._isToolbarInBalloon(f)&&this._hideToolbar(f)}}catch(b){s.e(b)}finally{s.f()}l&&this._showToolbar(l,c)}},{key:"_hideToolbar",value:function(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}},{key:"_showToolbar",value:function(e,o){var c=this;this._isToolbarVisible(e)?iG(this.editor,o):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:aG(this.editor,o),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",function(){var l,s=t2(c._toolbarDefinitions.values());try{for(s.s();!(l=s.n()).done;){var f=l.value;if(c._isToolbarVisible(f)){var d=f.getRelatedElement(c.editor.editing.view.document.selection);iG(c.editor,d)}}}catch(h){s.e(h)}finally{s.f()}}))}},{key:"_isToolbarVisible",value:function(e){return this._balloon.visibleView===e.view}},{key:"_isToolbarInBalloon",value:function(e){return this._balloon.hasView(e.view)}}],i=[{key:"requires",get:function(){return[bn]}},{key:"pluginName",get:function(){return"WidgetToolbarRepository"}}],n&&oG(t.prototype,n),i&&oG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function iG(r,t){var n=r.plugins.get("ContextualBalloon"),i=aG(r,t);n.updatePosition(i)}function aG(r,t){var n=r.editing.view,i=Me.defaultPositions;return{target:n.domConverter.mapViewToDom(t),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}function Al(r){return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(r)}function cG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Al(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Al(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Al(a)==="symbol"?a:String(a)),i)}var u,a}function n2(r,t){return n2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n2(r,t)}function gyt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Lw(r);if(t){var u=Lw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Lw(r){return Lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lw(r)}var wyt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&n2(e,o)})(a,r);var t,n,i,u=gyt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this)).set("activeHandlePosition",null),o.set("proposedWidthPercents",null),o.set("proposedWidth",null),o.set("proposedHeight",null),o.set("proposedHandleHostWidth",null),o.set("proposedHandleHostHeight",null),o._options=e,o._referenceCoordinates=null,o}return t=a,(n=[{key:"originalWidth",get:function(){return this._originalWidth}},{key:"originalHeight",get:function(){return this._originalHeight}},{key:"originalWidthPercents",get:function(){return this._originalWidthPercents}},{key:"aspectRatio",get:function(){return this._aspectRatio}},{key:"begin",value:function(e,o,c){var l,s,f,d,h,b,v,g,k=new Lt(o);this.activeHandlePosition=function(A){for(var C=0,S=["top-left","top-right","bottom-right","bottom-left"];C<S.length;C++){var P=S[C];if(A.classList.contains(kyt(P)))return P}}(e),this._referenceCoordinates=(l=o,b=this.activeHandlePosition,v=b.split("-"),s="".concat((g={top:"bottom",bottom:"top",left:"right",right:"left"})[v[0]],"-").concat(g[v[1]]),f=new Lt(l),d=s.split("-"),(h={x:d[1]=="right"?f.right:f.left,y:d[0]=="bottom"?f.bottom:f.top}).x+=l.ownerDocument.defaultView.scrollX,h.y+=l.ownerDocument.defaultView.scrollY,h),this._originalWidth=k.width,this._originalHeight=k.height,this._aspectRatio=k.width/k.height;var _=c.style.width;_&&_.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(_):this._originalWidthPercents=function(A,C){for(var S=A.parentElement,P=parseFloat(S.ownerDocument.defaultView.getComputedStyle(S).width),E=5,R=0,I=S;isNaN(P);){if(I=I.parentElement,++R>E)return 0;P=parseFloat(S.ownerDocument.defaultView.getComputedStyle(I).width)}return C.width/P*100}(c,k)}},{key:"update",value:function(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}])&&cG(t.prototype,n),i&&cG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt());function kyt(r){return"ck-widget__resizer__handle-".concat(r)}function Cl(r){return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(r)}function uG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Cl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Cl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Cl(a)==="symbol"?a:String(a)),i)}var u,a}function o2(r,t){return o2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o2(r,t)}function _yt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=zw(r);if(t){var u=zw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function zw(r){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zw(r)}var Ayt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&o2(e,o)})(a,r);var t,n,i,u=_yt(a);function a(){var e;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a);var o=(e=u.call(this)).bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",o.to("_viewPosition",function(c){return c?"ck-orientation-".concat(c):""})],style:{display:o.if("_isVisible","none",function(c){return!c})}},children:[{text:o.to("_label")}]}),e}return t=a,n=[{key:"_bindToState",value:function(e,o){this.bind("_isVisible").to(o,"proposedWidth",o,"proposedHeight",function(c,l){return c!==null&&l!==null}),this.bind("_label").to(o,"proposedHandleHostWidth",o,"proposedHandleHostHeight",o,"proposedWidthPercents",function(c,l,s){return e.unit==="px"?"".concat(c,"\xD7").concat(l):"".concat(s,"%")}),this.bind("_viewPosition").to(o,"activeHandlePosition",o,"proposedHandleHostWidth",o,"proposedHandleHostHeight",function(c,l,s){return l<50||s<50?"above-center":c})}},{key:"_dismiss",value:function(){this.unbind(),this._isVisible=!1}}],n&&uG(t.prototype,n),i&&uG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function Ol(r){return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(r)}function lG(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function sG(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lG(Object(n),!0).forEach(function(i){Cyt(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):lG(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Cyt(r,t,n){return(t=dG(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function fG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,dG(i.key),i)}}function dG(r){var t=function(n,i){if(Ol(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(Ol(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return Ol(t)==="symbol"?t:String(t)}function i2(r,t){return i2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i2(r,t)}function Oyt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Fw(r);if(t){var u=Fw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a2(a)}(this,n)}}function a2(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Fw(r){return Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fw(r)}var pG=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&i2(e,o)})(a,r);var t,n,i,u=Oyt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this))._viewResizerWrapper=null,o._options=e,o.set("isEnabled",!0),o.set("isSelected",!1),o.bind("isVisible").to(a2(o),"isEnabled",a2(o),"isSelected",function(c,l){return c&&l}),o.decorate("begin"),o.decorate("cancel"),o.decorate("commit"),o.decorate("updateSize"),o.on("commit",function(c){o.state.proposedWidth||o.state.proposedWidthPercents||(o._cleanup(),c.stop())},{priority:"high"}),o}return t=a,i=[{key:"isResizeHandle",value:function(e){return e.classList.contains("ck-widget__resizer__handle")}}],(n=[{key:"state",get:function(){return this._state}},{key:"show",value:function(){var e=this;this._options.editor.editing.view.change(function(o){o.removeClass("ck-hidden",e._viewResizerWrapper)})}},{key:"hide",value:function(){var e=this;this._options.editor.editing.view.change(function(o){o.addClass("ck-hidden",e._viewResizerWrapper)})}},{key:"attach",value:function(){var e=this,o=this,c=this._options.viewElement;this._options.editor.editing.view.change(function(l){var s=l.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(f){var d=this.toDomElement(f);return o._appendHandles(d),o._appendSizeUI(d),d});l.insert(l.createPositionAt(c,"end"),s),l.addClass("ck-widget_with-resizer",c),e._viewResizerWrapper=s,e.isVisible||e.hide()}),this.on("change:isVisible",function(){e.isVisible?(e.show(),e.redraw()):e.hide()})}},{key:"begin",value:function(e){this._state=new wyt(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}},{key:"updateSize",value:function(e){var o=this,c=this._proposeNewSize(e);this._options.editor.editing.view.change(function(b){var v=o._options.unit||"%",g=(v==="%"?c.widthPercents:c.width)+v;b.setStyle("width",g,o._options.viewElement)});var l=this._getHandleHost(),s=new Lt(l),f=Math.round(s.width),d=Math.round(s.height),h=new Lt(l);c.width=Math.round(h.width),c.height=Math.round(h.height),this.redraw(s),this.state.update(sG(sG({},c),{},{handleHostWidth:f,handleHostHeight:d}))}},{key:"commit",value:function(){var e=this,o=this._options.unit||"%",c=(o==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+o;this._options.editor.editing.view.change(function(){e._cleanup(),e._options.onCommit(c)})}},{key:"cancel",value:function(){this._cleanup()}},{key:"destroy",value:function(){this.cancel()}},{key:"redraw",value:function(e){var o=this._domResizerWrapper;if((c=o)&&c.ownerDocument&&c.ownerDocument.contains(c)){var c,l,s=o.parentElement,f=this._getHandleHost(),d=this._viewResizerWrapper,h=[d.getStyle("width"),d.getStyle("height"),d.getStyle("left"),d.getStyle("top")];if(s.isSameNode(f)){var b=e||new Lt(f);l=[b.width+"px",b.height+"px",void 0,void 0]}else l=[f.offsetWidth+"px",f.offsetHeight+"px",f.offsetLeft+"px",f.offsetTop+"px"];ke(h,l)!=="same"&&this._options.editor.editing.view.change(function(v){v.setStyle({width:l[0],height:l[1],left:l[2],top:l[3]},d)})}}},{key:"containsHandle",value:function(e){return this._domResizerWrapper.contains(e)}},{key:"_cleanup",value:function(){var e=this;this._sizeView._dismiss(),this._options.editor.editing.view.change(function(o){o.setStyle("width",e._initialViewWidth,e._options.viewElement)})}},{key:"_proposeNewSize",value:function(e){var o,c=this.state,l={x:(o=e).pageX,y:o.pageY},s=!this._options.isCentered||this._options.isCentered(this),f={x:c._referenceCoordinates.x-(l.x+c.originalWidth),y:l.y-c.originalHeight-c._referenceCoordinates.y};s&&c.activeHandlePosition.endsWith("-right")&&(f.x=l.x-(c._referenceCoordinates.x+c.originalWidth)),s&&(f.x*=2);var d=Math.abs(c.originalWidth+f.x),h=Math.abs(c.originalHeight+f.y);return(d/c.aspectRatio>h?"width":"height")=="width"?h=d/c.aspectRatio:d=h*c.aspectRatio,{width:Math.round(d),height:Math.round(h),widthPercents:Math.min(Math.round(c.originalWidthPercents/c.originalWidth*d*100)/100,100)}}},{key:"_getResizeHost",value:function(){var e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}},{key:"_getHandleHost",value:function(){var e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}},{key:"_domResizerWrapper",get:function(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}},{key:"_appendHandles",value:function(e){for(var o,c=0,l=["top-left","top-right","bottom-right","bottom-left"];c<l.length;c++){var s=l[c];e.appendChild(new Re({tag:"div",attributes:{class:"ck-widget__resizer__handle ".concat((o=s,"ck-widget__resizer__handle-".concat(o)))}}).render())}}},{key:"_appendSizeUI",value:function(e){this._sizeView=new Ayt,this._sizeView.render(),e.appendChild(this._sizeView.element)}}])&&fG(t.prototype,n),i&&fG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt()),yG=x(4875),Syt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(yG.Z,Syt),yG.Z.locals;function Sl(r){return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(r)}function jyt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||hG(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c2(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=hG(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function hG(r,t){if(r){if(typeof r=="string")return bG(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bG(r,t):void 0}}function bG(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function mG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Sl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Sl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Sl(a)==="symbol"?a:String(a)),i)}var u,a}function u2(){return u2=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=jl(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},u2.apply(this,arguments)}function l2(r,t){return l2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l2(r,t)}function Pyt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=jl(r);if(t){var u=jl(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function jl(r){return jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jl(r)}var s2=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&l2(e,o)})(a,r);var t,n,i,u=Pyt(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments))._resizers=new Map,e}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor.editing,c=kt.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),o.view.addObserver(Mv),this._observer=new(xr()),this.listenTo(o.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(c,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(c,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=pg(function(){return e.redrawSelectedResizer()},200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",function(){var s,f=c2(e._resizers);try{for(f.s();!(s=f.n()).done;){var d=jyt(s.value,2),h=d[0],b=d[1];h.isAttached()||(e._resizers.delete(h),b.destroy())}}catch(v){f.e(v)}finally{f.f()}},{priority:"lowest"}),this._observer.listenTo(kt.window,"resize",this._redrawSelectedResizerThrottled);var l=this.editor.editing.view.document.selection;l.on("change",function(){var s=l.getSelectedElement(),f=e.getResizerByViewElement(s)||null;f?e.select(f):e.deselect()})}},{key:"redrawSelectedResizer",value:function(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}},{key:"destroy",value:function(){u2(jl(a.prototype),"destroy",this).call(this),this._observer.stopListening();var e,o=c2(this._resizers.values());try{for(o.s();!(e=o.n()).done;)e.value.destroy()}catch(c){o.e(c)}finally{o.f()}this._redrawSelectedResizerThrottled.cancel()}},{key:"select",value:function(e){this.deselect(),this.selectedResizer=e,this.selectedResizer.isSelected=!0}},{key:"deselect",value:function(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}},{key:"attachTo",value:function(e){var o=new pG(e),c=this.editor.plugins;if(o.attach(),c.has("WidgetToolbarRepository")){var l=c.get("WidgetToolbarRepository");o.on("begin",function(){l.forceDisabled("resize")},{priority:"lowest"}),o.on("cancel",function(){l.clearForceDisabled("resize")},{priority:"highest"}),o.on("commit",function(){l.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(e.viewElement,o);var s=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(s)==o&&this.select(o),o}},{key:"getResizerByViewElement",value:function(e){return this._resizers.get(e)}},{key:"_getResizerByHandle",value:function(e){var o,c=c2(this._resizers.values());try{for(c.s();!(o=c.n()).done;){var l=o.value;if(l.containsHandle(e))return l}}catch(s){c.e(s)}finally{c.f()}}},{key:"_mouseDownListener",value:function(e,o){var c=o.domTarget;pG.isResizeHandle(c)&&(this._activeResizer=this._getResizerByHandle(c)||null,this._activeResizer&&(this._activeResizer.begin(c),e.stop(),o.preventDefault()))}},{key:"_mouseMoveListener",value:function(e,o){this._activeResizer&&this._activeResizer.updateSize(o)}},{key:"_mouseUpListener",value:function(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}],i=[{key:"pluginName",get:function(){return"WidgetResize"}}],n&&mG(t.prototype,n),i&&mG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),vG=x(799),Eyt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(vG.Z,Eyt),vG.Z.locals;function Pl(r){return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(r)}function gG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Pl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Pl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Pl(a)==="symbol"?a:String(a)),i)}var u,a}function f2(){return f2=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=El(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},f2.apply(this,arguments)}function d2(r,t){return d2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d2(r,t)}function xyt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=El(r);if(t){var u=El(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function El(r){return El=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},El(r)}var Tyt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&d2(e,o)})(a,r);var t,n,i,u=xyt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=pg(function(l){return e._updateDropMarker(l)},40),this._removeDropMarkerDelayed=pC(function(){return e._removeDropMarker()},40),this._clearDraggableAttributesDelayed=pC(function(){return e._clearDraggableAttributes()},40),o.plugins.has("DragDropExperimental")?this.forceDisabled("DragDropExperimental"):(c.addObserver(Hx),c.addObserver(Mv),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(o,"change:isReadOnly",function(l,s,f){f?e.forceDisabled("readOnlyMode"):e.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",function(l,s,f){f||e._finalizeDragging(!1)}),pt.isAndroid&&this.forceDisabled("noAndroidSupport"))}},{key:"destroy",value:function(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),f2(El(a.prototype),"destroy",this).call(this)}},{key:"_setupDragging",value:function(){var e=this,o=this.editor,c=o.model,l=c.document,s=o.editing.view,f=s.document;this.listenTo(f,"dragstart",function(d,h){var b=l.selection;if(h.target&&h.target.is("editableElement"))h.preventDefault();else{var v=h.target?_G(h.target):null;if(v){var g=o.editing.mapper.toModelElement(v);e._draggedRange=Lr.fromRange(c.createRangeOn(g)),o.plugins.has("WidgetToolbarRepository")&&o.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!f.selection.isCollapsed){var k=f.selection.getSelectedElement();k&&Zt(k)||(e._draggedRange=Lr.fromRange(b.getFirstRange()))}if(e._draggedRange){e._draggingUid=Oe();var _=e.isEnabled&&o.model.canEditAt(e._draggedRange);h.dataTransfer.effectAllowed=_?"copyMove":"copy",h.dataTransfer.setData("application/ckeditor5-dragging-uid",e._draggingUid);var A=c.createSelection(e._draggedRange.toRange()),C=o.data.toView(c.getSelectedContent(A));f.fire("clipboardOutput",{dataTransfer:h.dataTransfer,content:C,method:"dragstart"}),_||(e._draggedRange.detach(),e._draggedRange=null,e._draggingUid="")}else h.preventDefault()}},{priority:"low"}),this.listenTo(f,"dragend",function(d,h){e._finalizeDragging(!h.dataTransfer.isCanceled&&h.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(f,"dragenter",function(){e.isEnabled&&s.focus()}),this.listenTo(f,"dragleave",function(){e._removeDropMarkerDelayed()}),this.listenTo(f,"dragging",function(d,h){if(e.isEnabled){e._removeDropMarkerDelayed.cancel();var b=wG(o,h.targetRanges,h.target);o.model.canEditAt(b)?(e._draggedRange||(h.dataTransfer.dropEffect="copy"),pt.isGecko||(h.dataTransfer.effectAllowed=="copy"?h.dataTransfer.dropEffect="copy":["all","copyMove"].includes(h.dataTransfer.effectAllowed)&&(h.dataTransfer.dropEffect="move")),b&&e._updateDropMarkerThrottled(b)):h.dataTransfer.dropEffect="none"}else h.dataTransfer.dropEffect="none"},{priority:"low"})}},{key:"_setupClipboardInputIntegration",value:function(){var e=this,o=this.editor,c=o.editing.view.document;this.listenTo(c,"clipboardInput",function(l,s){if(s.method=="drop"){var f=wG(o,s.targetRanges,s.target);if(e._removeDropMarker(),!f||!o.model.canEditAt(f)||(e._draggedRange&&e._draggingUid!=s.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(e._draggedRange.detach(),e._draggedRange=null,e._draggingUid=""),kG(s.dataTransfer)=="move"&&e._draggedRange&&e._draggedRange.containsRange(f,!0)))return e._finalizeDragging(!1),void l.stop();s.targetRanges=[o.editing.mapper.toViewRange(f)]}},{priority:"high"})}},{key:"_setupContentInsertionIntegration",value:function(){var e=this,o=this.editor.plugins.get(Ar);o.on("contentInsertion",function(c,l){if(e.isEnabled&&l.method==="drop"){var s=l.targetRanges.map(function(f){return e.editor.editing.mapper.toModelRange(f)});e.editor.model.change(function(f){return f.setSelection(s)})}},{priority:"high"}),o.on("contentInsertion",function(c,l){if(e.isEnabled&&l.method==="drop"){var s=kG(l.dataTransfer)=="move",f=!l.resultRange||!l.resultRange.isCollapsed;e._finalizeDragging(f&&s)}},{priority:"lowest"})}},{key:"_setupDraggableAttributeHandling",value:function(){var e=this,o=this.editor,c=o.editing.view,l=c.document;this.listenTo(l,"mousedown",function(s,f){if(!pt.isAndroid&&f){e._clearDraggableAttributesDelayed.cancel();var d=_G(f.target);if(pt.isBlink&&!d&&!l.selection.isCollapsed){var h=l.selection.getSelectedElement();if(!h||!Zt(h)){var b=l.selection.editableElement;b&&!b.isReadOnly&&(d=b)}}d&&(c.change(function(v){v.setAttribute("draggable","true",d)}),e._draggableElement=o.editing.mapper.toModelElement(d))}}),this.listenTo(l,"mouseup",function(){pt.isAndroid||e._clearDraggableAttributesDelayed()})}},{key:"_clearDraggableAttributes",value:function(){var e=this,o=this.editor.editing;o.view.change(function(c){e._draggableElement&&e._draggableElement.root.rootName!="$graveyard"&&c.removeAttribute("draggable",o.mapper.toViewElement(e._draggableElement)),e._draggableElement=null})}},{key:"_setupDropMarker",value:function(){var e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:function(o,c){var l=c.writer;if(e.model.schema.checkChild(o.markerRange.start,"$text"))return l.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(s){var f=this.toDomElement(s);return f.append("\u2060",s.createElement("span"),"\u2060"),f})}})}},{key:"_updateDropMarker",value:function(e){var o=this.editor,c=o.model.markers;o.model.change(function(l){c.has("drop-target")?c.get("drop-target").getRange().isEqual(e)||l.updateMarker("drop-target",{range:e}):l.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}},{key:"_removeDropMarker",value:function(){var e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(function(o){o.removeMarker("drop-target")})}},{key:"_finalizeDragging",value:function(e){var o=this.editor,c=o.model;this._removeDropMarker(),this._clearDraggableAttributes(),o.plugins.has("WidgetToolbarRepository")&&o.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&c.deleteContent(c.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}],i=[{key:"pluginName",get:function(){return"DragDrop"}},{key:"requires",get:function(){return[Ar,kn]}}],n&&gG(t.prototype,n),i&&gG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function wG(r,t,n){var i=r.model,u=r.editing.mapper,a=null,e=t?t[0].start:null;if(n.is("uiElement")&&(n=n.parent),a=function(l,s){var f=l.model,d=l.editing.mapper;if(Zt(s))return f.createRangeOn(d.toModelElement(s));if(!s.is("editableElement")){var h=s.findAncestor(function(b){return Zt(b)||b.is("editableElement")});if(Zt(h))return f.createRangeOn(d.toModelElement(h))}return null}(r,n),a)return a;var o=function(l,s){var f=l.editing.mapper,d=l.editing.view,h=f.toModelElement(s);if(h)return h;var b=d.createPositionBefore(s),v=f.findMappedViewAncestor(b);return f.toModelElement(v)}(r,n),c=e?u.toModelPosition(e):null;return c?(a=function(l,s,f){var d=l.model;if(!d.schema.checkChild(f,"$block"))return null;var h=d.createPositionAt(f,0),b=s.path.slice(0,h.path.length),v=d.createPositionFromPath(s.root,b),g=v.nodeAfter;return g&&d.schema.isObject(g)?d.createRangeOn(g):null}(r,c,o),a||(a=i.schema.getNearestSelectionRange(c,pt.isGecko?"forward":"backward"))||function(l,s){for(var f=l.model,d=s;d;){if(f.schema.isObject(d))return f.createRangeOn(d);d=d.parent}return null}(r,c.parent)):function(l,s){var f=l.model,d=f.schema,h=f.createPositionAt(s,0);return d.getNearestSelectionRange(h,"forward")}(r,o)}function kG(r){return pt.isGecko?r.dropEffect:["all","copyMove"].includes(r.effectAllowed)?"move":"copy"}function _G(r){if(r.is("editableElement"))return null;if(r.hasClass("ck-widget__selection-handle"))return r.findAncestor(Zt);if(Zt(r))return r;var t=r.findAncestor(function(n){return Zt(n)||n.is("editableElement")});return Zt(t)?t:null}function xl(r){return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(r)}function Dyt(r){return function(t){if(Array.isArray(t))return y2(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||p2(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ryt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||p2(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p2(r,t){if(r){if(typeof r=="string")return y2(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y2(r,t):void 0}}function y2(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function AG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(xl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(xl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),xl(a)==="symbol"?a:String(a)),i)}var u,a}function h2(r,t){return h2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h2(r,t)}function Iyt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Vw(r);if(t){var u=Vw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Vw(r){return Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vw(r)}var Byt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&h2(e,o)})(a,r);var t,n,i,u=Iyt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"PastePlainText"}},{key:"requires",get:function(){return[Ar]}}],(n=[{key:"init",value:function(){var e=this.editor,o=e.model,c=e.editing.view,l=c.document,s=o.document.selection,f=!1;c.addObserver(Hx),this.listenTo(l,"keydown",function(d,h){f=h.shiftKey}),e.plugins.get(Ar).on("contentInsertion",function(d,h){(f||function(b,v){if(b.childCount>1)return!1;var g=b.getChild(0);return!v.isObject(g)&&Array.from(g.getAttributeKeys()).length==0}(h.content,o.schema))&&o.change(function(b){var v=Array.from(s.getAttributes()).filter(function(A){var C=Ryt(A,1)[0];return o.schema.getAttributeProperties(C).isFormatting});s.isCollapsed||o.deleteContent(s,{doNotAutoparagraph:!0}),v.push.apply(v,Dyt(s.getAttributes()));var g,k=function(A,C){var S=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!S){if(Array.isArray(A)||(S=p2(A))||C&&A&&typeof A.length=="number"){S&&(A=S);var P=0,E=function(){};return{s:E,n:function(){return P>=A.length?{done:!0}:{done:!1,value:A[P++]}},e:function(F){throw F},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,I=!0,z=!1;return{s:function(){S=S.call(A)},n:function(){var F=S.next();return I=F.done,F},e:function(F){z=!0,R=F},f:function(){try{I||S.return==null||S.return()}finally{if(z)throw R}}}}(b.createRangeIn(h.content).getItems());try{for(k.s();!(g=k.n()).done;){var _=g.value;_.is("$textProxy")&&b.setAttributes(v,_)}}catch(A){k.e(A)}finally{k.f()}})})}}])&&AG(t.prototype,n),i&&AG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Tl(r){return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(r)}function CG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Tl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Tl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Tl(a)==="symbol"?a:String(a)),i)}var u,a}function b2(r,t){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b2(r,t)}function Myt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Uw(r);if(t){var u=Uw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Uw(r){return Uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uw(r)}var OG=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&b2(e,o)})(a,r);var t,n,i,u=Myt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"Clipboard"}},{key:"requires",get:function(){return[Ar,Tyt,Byt]}}],(n=null)&&CG(t.prototype,n),i&&CG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);Ln("px");function Dl(r){return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(r)}function SG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Dl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Dl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Dl(a)==="symbol"?a:String(a)),i)}var u,a}function m2(r,t){return m2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m2(r,t)}function Nyt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Hw(r);if(t){var u=Hw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Hw(r){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hw(r)}var Lyt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&m2(e,o)})(a,r);var t,n,i,u=Nyt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).affectsData=!1,o}return t=a,(n=[{key:"execute",value:function(){var e=this.editor.model,o=e.document.selection,c=e.schema.getLimitElement(o);if(o.containsEntireContent(c)||!jG(e.schema,c))do if(!(c=c.parent))return;while(!jG(e.schema,c));e.change(function(l){l.setSelection(c,"in")})}}])&&SG(t.prototype,n),i&&SG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function jG(r,t){return r.isLimit(t)&&(r.checkChild(t,"$text")||r.checkChild(t,"paragraph"))}function Rl(r){return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(r)}function PG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Rl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Rl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Rl(a)==="symbol"?a:String(a)),i)}var u,a}function v2(r,t){return v2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v2(r,t)}function zyt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gw(r);if(t){var u=Gw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Gw(r){return Gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gw(r)}var Fyt=Lb("Ctrl+A"),Vyt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&v2(e,o)})(a,r);var t,n,i,u=zyt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"SelectAllEditing"}}],(n=[{key:"init",value:function(){var e=this.editor,o=e.editing.view.document;e.commands.add("selectAll",new Lyt(e)),this.listenTo(o,"keydown",function(c,l){zn(l)===Fyt&&(e.execute("selectAll"),l.preventDefault())})}}])&&PG(t.prototype,n),i&&PG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Il(r){return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(r)}function EG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Il(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Il(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Il(a)==="symbol"?a:String(a)),i)}var u,a}function g2(r,t){return g2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g2(r,t)}function Uyt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ww(r);if(t){var u=Ww(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ww(r){return Ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ww(r)}var Hyt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&g2(e,o)})(a,r);var t,n,i,u=Uyt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"SelectAllUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor;o.ui.componentFactory.add("selectAll",function(c){var l=o.commands.get("selectAll"),s=new vt(c),f=c.t;return s.set({label:f("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),s.bind("isEnabled").to(l,"isEnabled"),e.listenTo(s,"execute",function(){o.execute("selectAll"),o.editing.view.focus()}),s})}}])&&EG(t.prototype,n),i&&EG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Bl(r){return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(r)}function xG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Bl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Bl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Bl(a)==="symbol"?a:String(a)),i)}var u,a}function w2(r,t){return w2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w2(r,t)}function Gyt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=$w(r);if(t){var u=$w(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function $w(r){return $w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$w(r)}var Wyt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&w2(e,o)})(a,r);var t,n,i,u=Gyt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Vyt,Hyt]}},{key:"pluginName",get:function(){return"SelectAll"}}],(n=null)&&xG(t.prototype,n),i&&xG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Ml(r){return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(r)}function k2(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return TG(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return TG(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function TG(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function DG(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function $yt(r,t,n){return(t=IG(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function RG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,IG(i.key),i)}}function IG(r){var t=function(n,i){if(Ml(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(Ml(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return Ml(t)==="symbol"?t:String(t)}function _2(r,t){return _2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_2(r,t)}function qyt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=qw(r);if(t){var u=qw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function qw(r){return qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qw(r)}var BG=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&_2(e,o)})(a,r);var t,n,i,u=qyt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._stack=[],o._createdBatches=new WeakSet,o.refresh(),o._isEnabledBasedOnSelection=!1,o.listenTo(e.data,"set",function(c,l){l[1]=function(f){for(var d=1;d<arguments.length;d++){var h=arguments[d]!=null?arguments[d]:{};d%2?DG(Object(h),!0).forEach(function(b){$yt(f,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):DG(Object(h)).forEach(function(b){Object.defineProperty(f,b,Object.getOwnPropertyDescriptor(h,b))})}return f}({},l[1]);var s=l[1];s.batchType||(s.batchType={isUndoable:!1})},{priority:"high"}),o.listenTo(e.data,"set",function(c,l){l[1].batchType.isUndoable||o.clearStack()}),o}return t=a,n=[{key:"refresh",value:function(){this.isEnabled=this._stack.length>0}},{key:"createdBatches",get:function(){return this._createdBatches}},{key:"addBatch",value:function(e){var o=this.editor.model.document.selection,c={ranges:o.hasOwnRange?Array.from(o.getRanges()):[],isBackward:o.isBackward};this._stack.push({batch:e,selection:c}),this.refresh()}},{key:"clearStack",value:function(){this._stack=[],this.refresh()}},{key:"_restoreSelection",value:function(e,o,c){var l,s=this.editor.model,f=s.document,d=[],h=e.map(function(k){return k.getTransformedByOperations(c)}),b=h.flat(),v=k2(h);try{for(v.s();!(l=v.n()).done;){var g=l.value.filter(function(k){return k.root!=f.graveyard}).filter(function(k){return!Kyt(k,b)});g.length&&(Yyt(g),d.push(g[0]))}}catch(k){v.e(k)}finally{v.f()}d.length&&s.change(function(k){k.setSelection(d,{backward:o})})}},{key:"_undo",value:function(e,o){var c=this.editor.model,l=c.document;this._createdBatches.add(o);var s=e.operations.slice().filter(function(C){return C.isDocumentOperation});s.reverse();var f,d=k2(s);try{for(d.s();!(f=d.n()).done;){var h,b=f.value,v=b.baseVersion+1,g=Array.from(l.history.getOperations(v)),k=k2(kut([b.getReversed()],g,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA);try{for(k.s();!(h=k.n()).done;){var _=h.value,A=_.affectedSelectable;A&&!c.canEditAt(A)&&(_=new ye(_.baseVersion)),o.addOperation(_),c.applyOperation(_),l.history.setOperationAsUndone(b,_)}}catch(C){k.e(C)}finally{k.f()}}}catch(C){d.e(C)}finally{d.f()}}}],n&&RG(t.prototype,n),i&&RG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Yyt(r){r.sort(function(i,u){return i.start.isBefore(u.start)?-1:1});for(var t=1;t<r.length;t++){var n=r[t-1].getJoined(r[t],!0);n&&(t--,r.splice(t,2,n))}}function Kyt(r,t){return t.some(function(n){return n!==r&&n.containsRange(r,!0)})}function Nl(r){return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(r)}function MG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Nl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Nl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Nl(a)==="symbol"?a:String(a)),i)}var u,a}function A2(r,t){return A2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A2(r,t)}function Zyt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Yw(r);if(t){var u=Yw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Yw(r){return Yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yw(r)}var Qyt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&A2(e,o)})(a,r);var t,n,i,u=Zyt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"execute",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,c=o?this._stack.findIndex(function(f){return f.batch==o}):this._stack.length-1,l=this._stack.splice(c,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,function(){e._undo(l.batch,s);var f=e.editor.model.document.history.getOperations(l.batch.baseVersion);e._restoreSelection(l.selection.ranges,l.selection.isBackward,f)}),this.fire("revert",l.batch,s),this.refresh()}}],n&&MG(t.prototype,n),i&&MG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(BG);function Ll(r){return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(r)}function NG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ll(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ll(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ll(a)==="symbol"?a:String(a)),i)}var u,a}function C2(r,t){return C2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C2(r,t)}function Jyt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Kw(r);if(t){var u=Kw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Kw(r){return Kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kw(r)}var Xyt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&C2(e,o)})(a,r);var t,n,i,u=Jyt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"execute",value:function(){var e=this,o=this._stack.pop(),c=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(c,function(){var l=o.batch.operations[o.batch.operations.length-1].baseVersion+1,s=e.editor.model.document.history.getOperations(l);e._restoreSelection(o.selection.ranges,o.selection.isBackward,s),e._undo(o.batch,c)}),this.refresh()}}],n&&NG(t.prototype,n),i&&NG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(BG);function zl(r){return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(r)}function LG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(zl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(zl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),zl(a)==="symbol"?a:String(a)),i)}var u,a}function O2(r,t){return O2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O2(r,t)}function tht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Zw(r);if(t){var u=Zw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Zw(r){return Zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zw(r)}var eht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&O2(e,o)})(a,r);var t,n,i,u=tht(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments))._batchRegistry=new WeakSet,e}return t=a,i=[{key:"pluginName",get:function(){return"UndoEditing"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor;this._undoCommand=new Qyt(o),this._redoCommand=new Xyt(o),o.commands.add("undo",this._undoCommand),o.commands.add("redo",this._redoCommand),this.listenTo(o.model,"applyOperation",function(c,l){var s=l[0];if(s.isDocumentOperation){var f=s.batch,d=e._redoCommand.createdBatches.has(f),h=e._undoCommand.createdBatches.has(f);e._batchRegistry.has(f)||(e._batchRegistry.add(f),f.isUndoable&&(d?e._undoCommand.addBatch(f):h||(e._undoCommand.addBatch(f),e._redoCommand.clearStack())))}},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",function(c,l,s){e._redoCommand.addBatch(s)}),o.keystrokes.set("CTRL+Z","undo"),o.keystrokes.set("CTRL+Y","redo"),o.keystrokes.set("CTRL+SHIFT+Z","redo")}}])&&LG(t.prototype,n),i&&LG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);const zG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',FG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';function Fl(r){return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(r)}function VG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Fl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Fl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Fl(a)==="symbol"?a:String(a)),i)}var u,a}function S2(r,t){return S2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S2(r,t)}function rht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Qw(r);if(t){var u=Qw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Qw(r){return Qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qw(r)}var nht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&S2(e,o)})(a,r);var t,n,i,u=rht(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this.editor,o=e.locale,c=e.t,l=o.uiLanguageDirection=="ltr"?zG:FG,s=o.uiLanguageDirection=="ltr"?FG:zG;this._addButton("undo",c("Undo"),"CTRL+Z",l),this._addButton("redo",c("Redo"),"CTRL+Y",s)}},{key:"_addButton",value:function(e,o,c,l){var s=this,f=this.editor;f.ui.componentFactory.add(e,function(d){var h=f.commands.get(e),b=new vt(d);return b.set({label:o,icon:l,keystroke:c,tooltip:!0}),b.bind("isEnabled").to(h,"isEnabled"),s.listenTo(b,"execute",function(){f.execute(e),f.editing.view.focus()}),b})}}],i=[{key:"pluginName",get:function(){return"UndoUI"}}],n&&VG(t.prototype,n),i&&VG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Vl(r){return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(r)}function UG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Vl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Vl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Vl(a)==="symbol"?a:String(a)),i)}var u,a}function j2(r,t){return j2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j2(r,t)}function oht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Jw(r);if(t){var u=Jw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Jw(r){return Jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jw(r)}var HG=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&j2(e,o)})(a,r);var t,n,i,u=oht(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[eht,nht]}},{key:"pluginName",get:function(){return"Undo"}}],(n=null)&&UG(t.prototype,n),i&&UG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Ul(r){return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(r)}function GG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ul(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ul(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ul(a)==="symbol"?a:String(a)),i)}var u,a}function P2(r,t){return P2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P2(r,t)}function iht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Xw(r);if(t){var u=Xw(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Xw(r){return Xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xw(r)}var aht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&P2(e,o)})(a,r);var t,n,i,u=iht(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[OG,zh,Wyt,lU,ddt,HG]}},{key:"pluginName",get:function(){return"Essentials"}}],(n=null)&&GG(t.prototype,n),i&&GG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),WG=x(6603),cht={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(WG.Z,cht),WG.Z.locals;var $G=x(3403),uht={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()($G.Z,uht),$G.Z.locals;function Hl(r){return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(r)}function qG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Hl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Hl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Hl(a)==="symbol"?a:String(a)),i)}var u,a}function t0(){return t0=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Do(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},t0.apply(this,arguments)}function E2(r,t){return E2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E2(r,t)}function lht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Do(r);if(t){var u=Do(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x2(a)}(this,n)}}function x2(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Do(r){return Do=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Do(r)}var sht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&E2(e,o)})(a,r);var t,n,i,u=lht(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a),o=u.call(this,e);var c=e.t;return o.set("matchCount",0),o.set("highlightOffset",0),o.set("isDirty",!1),o.set("_areCommandsEnabled",{}),o.set("_resultsCounterText",""),o.set("_matchCase",!1),o.set("_wholeWordsOnly",!1),o.bind("_searchResultsFound").to(x2(o),"matchCount",x2(o),"isDirty",function(l,s){return l>0&&!s}),o._findInputView=o._createInputField(c("Find in text\u2026")),o._replaceInputView=o._createInputField(c("Replace with\u2026")),o._findButtonView=o._createButton({label:c("Find"),class:"ck-button-find ck-button-action",withText:!0}),o._findPrevButtonView=o._createButton({label:c("Previous result"),class:"ck-button-prev",icon:nE,keystroke:"Shift+F3",tooltip:!0}),o._findNextButtonView=o._createButton({label:c("Next result"),class:"ck-button-next",icon:nE,keystroke:"F3",tooltip:!0}),o._optionsDropdown=o._createOptionsDropdown(),o._replaceButtonView=o._createButton({label:c("Replace"),class:"ck-button-replace",withText:!0}),o._replaceAllButtonView=o._createButton({label:c("Replace all"),class:"ck-button-replaceall",withText:!0}),o._findFieldsetView=o._createFindFieldset(),o._replaceFieldsetView=o._createReplaceFieldset(),o._focusTracker=new ce,o._keystrokes=new de,o._focusables=new De,o._focusCycler=new Qe({focusables:o._focusables,focusTracker:o._focusTracker,keystrokeHandler:o._keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),o.setTemplate({tag:"form",attributes:{class:["ck","ck-find-and-replace-form"],tabindex:"-1"},children:[new XP(e,{label:c("Find and replace")}),o._findFieldsetView,o._replaceFieldsetView]}),o}return t=a,n=[{key:"render",value:function(){t0(Do(a.prototype),"render",this).call(this),it({view:this}),this._initFocusCycling(),this._initKeystrokeHandling()}},{key:"destroy",value:function(){t0(Do(a.prototype),"destroy",this).call(this),this._focusTracker.destroy(),this._keystrokes.destroy()}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"reset",value:function(){this._findInputView.errorText=null,this.isDirty=!0}},{key:"_textToFind",get:function(){return this._findInputView.fieldView.element.value}},{key:"_textToReplace",get:function(){return this._replaceInputView.fieldView.element.value}},{key:"_createFindFieldset",value:function(){var e=this,o=this.locale,c=new yt(o);return this._findInputView.fieldView.on("input",function(){e.isDirty=!0}),this._findButtonView.on("execute",this._onFindButtonExecute.bind(this)),this._findPrevButtonView.delegate("execute").to(this,"findPrevious"),this._findNextButtonView.delegate("execute").to(this,"findNext"),this._findPrevButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",function(l){return l.findPrevious}),this._findNextButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",function(l){return l.findNext}),this._injectFindResultsCounter(),c.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__find"]},children:[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView]}),c}},{key:"_onFindButtonExecute",value:function(){if(this._textToFind)this.isDirty=!1,this.fire("findNext",{searchText:this._textToFind,matchCase:this._matchCase,wholeWords:this._wholeWordsOnly});else{var e=this.t;this._findInputView.errorText=e("Text to find must not be empty.")}}},{key:"_injectFindResultsCounter",value:function(){var e=this,o=this.locale,c=o.t,l=this.bindTemplate,s=new yt(this.locale);this.bind("_resultsCounterText").to(this,"highlightOffset",this,"matchCount",function(d,h){return c("%0 of %1",[d,h])}),s.setTemplate({tag:"span",attributes:{class:["ck","ck-results-counter",l.if("isDirty","ck-hidden")]},children:[{text:l.to("_resultsCounterText")}]});var f=function(){var d=e._findInputView.fieldView.element;if(d&&Zr(d)){var h=new Lt(s.element).width,b=o.uiLanguageDirection==="ltr"?"paddingRight":"paddingLeft";d.style[b]=h?"calc( 2 * var(--ck-spacing-standard) + ".concat(h,"px )"):""}};this.on("change:_resultsCounterText",f,{priority:"low"}),this.on("change:isDirty",f,{priority:"low"}),this._findInputView.template.children[0].children.push(s)}},{key:"_createReplaceFieldset",value:function(){var e=this,o=this.locale.t,c=new yt(this.locale);return this._replaceButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",function(l,s){return l.replace&&s}),this._replaceAllButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",function(l,s){return l.replaceAll&&s}),this._replaceInputView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",function(l,s){return l.replace&&s}),this._replaceInputView.bind("infoText").to(this._replaceInputView,"isEnabled",this._replaceInputView,"isFocused",function(l,s){return l||!s?"":o("Tip: Find some text first in order to replace it.")}),this._replaceButtonView.on("execute",function(){e.fire("replace",{searchText:e._textToFind,replaceText:e._textToReplace})}),this._replaceAllButtonView.on("execute",function(){e.fire("replaceAll",{searchText:e._textToFind,replaceText:e._textToReplace}),e.focus()}),c.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__replace"]},children:[this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView]}),c}},{key:"_createOptionsDropdown",value:function(){var e=this,o=this.locale.t,c=ae(this.locale);c.class="ck-options-dropdown",c.buttonView.set({withText:!1,label:o("Show options"),icon:zlt,tooltip:!0});var l=new Fr({withText:!0,label:o("Match case"),_isMatchCaseSwitch:!0}),s=new Fr({withText:!0,label:o("Whole words only")});return l.bind("isOn").to(this,"_matchCase"),s.bind("isOn").to(this,"_wholeWordsOnly"),c.on("execute",function(f){f.source._isMatchCaseSwitch?e._matchCase=!e._matchCase:e._wholeWordsOnly=!e._wholeWordsOnly,e.isDirty=!0}),zr(c,new Qt([{type:"switchbutton",model:l},{type:"switchbutton",model:s}])),c}},{key:"_initFocusCycling",value:function(){var e=this;[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView].forEach(function(o){e._focusables.add(o),e._focusTracker.add(o.element)})}},{key:"_initKeystrokeHandling",value:function(){var e=this,o=function(l){return l.stopPropagation()},c=function(l){l.stopPropagation(),l.preventDefault()};this._keystrokes.listenTo(this.element),this._keystrokes.set("f3",function(l){c(l),e._findNextButtonView.fire("execute")}),this._keystrokes.set("shift+f3",function(l){c(l),e._findPrevButtonView.fire("execute")}),this._keystrokes.set("enter",function(l){var s=l.target;s===e._findInputView.fieldView.element?(e._areCommandsEnabled.findNext?e._findNextButtonView.fire("execute"):e._findButtonView.fire("execute"),c(l)):s!==e._replaceInputView.fieldView.element||e.isDirty||(e._replaceButtonView.fire("execute"),c(l))}),this._keystrokes.set("shift+enter",function(l){l.target===e._findInputView.fieldView.element&&(e._areCommandsEnabled.findPrevious?e._findPrevButtonView.fire("execute"):e._findButtonView.fire("execute"),c(l))}),this._keystrokes.set("arrowright",o),this._keystrokes.set("arrowleft",o),this._keystrokes.set("arrowup",o),this._keystrokes.set("arrowdown",o)}},{key:"_createButton",value:function(e){var o=new vt(this.locale);return o.set(e),o}},{key:"_createInputField",value:function(e){var o=new ue(this.locale,Ge);return o.label=e,o}}],n&&qG(t.prototype,n),i&&qG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function Gl(r){return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(r)}function YG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Gl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Gl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Gl(a)==="symbol"?a:String(a)),i)}var u,a}function T2(r,t){return T2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T2(r,t)}function fht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=e0(r);if(t){var u=e0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function e0(r){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},e0(r)}var dht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&T2(e,o)})(a,r);var t,n,i,u=fht(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).formView=null,o}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor;o.ui.componentFactory.add("findAndReplace",function(c){var l=ae(c),s=o.commands.get("find");return l.bind("isEnabled").to(s),l.once("change:isOpen",function(){e.formView=new(nt(sht))(o.locale),l.panelView.children.add(e.formView),e._setupFormView(e.formView)}),l.on("change:isOpen",function(f,d,h){h?(e.formView.disableCssTransitions(),e.formView.reset(),e.formView._findInputView.fieldView.select(),e.formView.enableCssTransitions()):e.fire("searchReseted")},{priority:"low"}),e._setupDropdownButton(l),l})}},{key:"_setupDropdownButton",value:function(e){var o=this.editor,c=o.locale.t;e.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286l-3.857-4.596z"/><path d="M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306zm-3.4-5.715c.562.305.742 1.106.354 1.494-.388.388-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.469 6.469 0 0 1 3.1.784z"/><path d="M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0zm11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0z"/></svg>',label:c("Find and replace"),keystroke:"CTRL+F",tooltip:!0}),o.keystrokes.set("Ctrl+F",function(l,s){e.isEnabled&&(e.isOpen=!0,s())})}},{key:"_setupFormView",value:function(e){var o=this,c=this.editor.commands,l=this.editor.plugins.get("FindAndReplaceEditing").state,s={before:-1,same:0,after:1,different:1};e.bind("highlightOffset").to(l,"highlightedResult",function(v){return v?Array.from(l.results).sort(function(g,k){return s[g.marker.getStart().compareWith(k.marker.getStart())]}).indexOf(v)+1:0}),e.listenTo(l.results,"change",function(){e.matchCount=l.results.length});var f=c.get("findNext"),d=c.get("findPrevious"),h=c.get("replace"),b=c.get("replaceAll");e.bind("_areCommandsEnabled").to(f,"isEnabled",d,"isEnabled",h,"isEnabled",b,"isEnabled",function(v,g,k,_){return{findNext:v,findPrevious:g,replace:k,replaceAll:_}}),e.delegate("findNext","findPrevious","replace","replaceAll").to(this),e.on("change:isDirty",function(v,g,k){k&&o.fire("searchReseted")})}}],i=[{key:"pluginName",get:function(){return"FindAndReplaceUI"}}],n&&YG(t.prototype,n),i&&YG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Wl(r){return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(r)}function KG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Wl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Wl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Wl(a)==="symbol"?a:String(a)),i)}var u,a}function D2(r,t){return D2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D2(r,t)}function pht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=r0(r);if(t){var u=r0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function r0(r){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r0(r)}var yht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&D2(e,o)})(a,r);var t,n,i,u=pht(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e)).isEnabled=!0,c.affectsData=!1,c._state=o,c}return t=a,n=[{key:"execute",value:function(e){var o,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=c.matchCase,s=c.wholeWords,f=this.editor,d=f.model,h=f.plugins.get("FindAndReplaceUtils");typeof e=="string"?(o=h.findByTextCallback(e,{matchCase:l,wholeWords:s}),this._state.searchText=e):o=e;var b=d.document.getRootNames().reduce(function(v,g){return h.updateFindResultFromRange(d.createRangeIn(d.document.getRoot(g)),d,o,v)},null);return this._state.clear(d),this._state.results.addMany(b),this._state.highlightedResult=b.get(0),typeof e=="string"&&(this._state.searchText=e),this._state.matchCase=!!l,this._state.matchWholeWords=!!s,{results:b,findCallback:o}}}],n&&KG(t.prototype,n),i&&KG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function $l(r){return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(r)}function hht(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return ZG(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ZG(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function ZG(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function QG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if($l(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if($l(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),$l(a)==="symbol"?a:String(a)),i)}var u,a}function R2(r,t){return R2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R2(r,t)}function bht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=n0(r);if(t){var u=n0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function n0(r){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n0(r)}var JG=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&R2(e,o)})(a,r);var t,n,i,u=bht(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e)).isEnabled=!0,c._state=o,c._isEnabledBasedOnSelection=!1,c}return t=a,(n=[{key:"_replace",value:function(e,o){var c=this,l=this.editor.model,s=o.marker.getRange();l.canEditAt(s)&&l.change(function(f){if(s.root.rootName!=="$graveyard"){var d,h={},b=hht(s.getItems());try{for(b.s();!(d=b.n()).done;){var v=d.value;if(v.is("$text")||v.is("$textProxy")){h=v.getAttributes();break}}}catch(g){b.e(g)}finally{b.f()}l.insertContent(f.createText(e,h),s),c._state.results.has(o)&&c._state.results.remove(o)}else c._state.results.remove(o)})}}])&&QG(t.prototype,n),i&&QG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function ql(r){return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(r)}function XG(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ql(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ql(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ql(a)==="symbol"?a:String(a)),i)}var u,a}function I2(r,t){return I2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I2(r,t)}function mht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=o0(r);if(t){var u=o0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function o0(r){return o0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o0(r)}var vht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&I2(e,o)})(a,r);var t,n,i,u=mht(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(n=[{key:"execute",value:function(e,o){this._replace(e,o)}}])&&XG(t.prototype,n),i&&XG(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(JG);function Yl(r){return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(r)}function ght(r){return function(t){if(Array.isArray(t))return B2(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||function(t,n){if(t){if(typeof t=="string")return B2(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return B2(t,n)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function B2(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function tW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Yl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Yl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Yl(a)==="symbol"?a:String(a)),i)}var u,a}function M2(r,t){return M2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M2(r,t)}function wht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=i0(r);if(t){var u=i0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function i0(r){return i0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i0(r)}var kht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&M2(e,o)})(a,r);var t,n,i,u=wht(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(n=[{key:"execute",value:function(e,o){var c=this,l=this.editor,s=l.model,f=l.plugins.get("FindAndReplaceUtils"),d=o instanceof Qt?o:s.document.getRootNames().reduce(function(h,b){return f.updateFindResultFromRange(s.createRangeIn(s.document.getRoot(b)),s,f.findByTextCallback(o,c._state),h)},null);d.length&&ght(d).forEach(function(h){c._replace(e,h)})}}])&&tW(t.prototype,n),i&&tW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(JG);function Kl(r){return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(r)}function eW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Kl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Kl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Kl(a)==="symbol"?a:String(a)),i)}var u,a}function N2(r,t){return N2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},N2(r,t)}function _ht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=a0(r);if(t){var u=a0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function a0(r){return a0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a0(r)}var rW=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&N2(e,o)})(a,r);var t,n,i,u=_ht(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e)).affectsData=!1,c._state=o,c.isEnabled=!1,c.listenTo(c._state.results,"change",function(){c.isEnabled=c._state.results.length>1}),c}return t=a,(n=[{key:"refresh",value:function(){this.isEnabled=this._state.results.length>1}},{key:"execute",value:function(){var e=this._state.results,o=e.getIndex(this._state.highlightedResult),c=o+1>=e.length?0:o+1;this._state.highlightedResult=this._state.results.get(c)}}])&&eW(t.prototype,n),i&&eW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Zl(r){return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(r)}function nW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Zl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Zl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Zl(a)==="symbol"?a:String(a)),i)}var u,a}function L2(r,t){return L2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L2(r,t)}function Aht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=c0(r);if(t){var u=c0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function c0(r){return c0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c0(r)}var Cht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&L2(e,o)})(a,r);var t,n,i,u=Aht(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(n=[{key:"execute",value:function(){var e=this._state.results.getIndex(this._state.highlightedResult),o=e-1<0?this._state.results.length-1:e-1;this._state.highlightedResult=this._state.results.get(o)}}])&&nW(t.prototype,n),i&&nW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(rW);function Ql(r){return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(r)}function Oht(r){return function(t){if(Array.isArray(t))return z2(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||oW(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function oW(r,t){if(r){if(typeof r=="string")return z2(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z2(r,t):void 0}}function z2(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function iW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ql(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ql(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ql(a)==="symbol"?a:String(a)),i)}var u,a}function F2(r,t){return F2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F2(r,t)}function Sht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=u0(r);if(t){var u=u0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function u0(r){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u0(r)}var jht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&F2(e,o)})(a,r);var t,n,i,u=Sht(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this)).set("results",new Qt),o.set("highlightedResult",null),o.set("searchText",""),o.set("replaceText",""),o.set("matchCase",!1),o.set("matchWholeWords",!1),o.results.on("change",function(c,l){var s=l.removed,f=l.index;if(Array.from(s).length){var d=!1;if(e.change(function(b){var v,g=function(_,A){var C=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!C){if(Array.isArray(_)||(C=oW(_))||A&&_&&typeof _.length=="number"){C&&(_=C);var S=0,P=function(){};return{s:P,n:function(){return S>=_.length?{done:!0}:{done:!1,value:_[S++]}},e:function(z){throw z},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E,R=!0,I=!1;return{s:function(){C=C.call(_)},n:function(){var z=C.next();return R=z.done,z},e:function(z){I=!0,E=z},f:function(){try{R||C.return==null||C.return()}finally{if(I)throw E}}}}(s);try{for(g.s();!(v=g.n()).done;){var k=v.value;o.highlightedResult===k&&(d=!0),e.markers.has(k.marker.name)&&b.removeMarker(k.marker)}}catch(_){g.e(_)}finally{g.f()}}),d){var h=f>=o.results.length?0:f;o.highlightedResult=o.results.get(h)}}}),o}return t=a,n=[{key:"clear",value:function(e){var o=this;this.searchText="",e.change(function(c){if(o.highlightedResult){var l=o.highlightedResult.marker.name.split(":")[1],s=e.markers.get("findResultHighlighted:".concat(l));s&&c.removeMarker(s)}Oht(o.results).forEach(function(f){var d=f.marker;c.removeMarker(d)})}),this.results.clear()}}],n&&iW(t.prototype,n),i&&iW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt());function Jl(r){return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(r)}function aW(r){return function(t){if(Array.isArray(t))return V2(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||function(t,n){if(t){if(typeof t=="string")return V2(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return V2(t,n)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function V2(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function cW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Jl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Jl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Jl(a)==="symbol"?a:String(a)),i)}var u,a}function U2(r,t){return U2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U2(r,t)}function Pht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=l0(r);if(t){var u=l0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function l0(r){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l0(r)}var Eht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&U2(e,o)})(a,r);var t,n,i,u=Pht(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"updateFindResultFromRange",value:function(e,o,c,l){var s=this,f=l||new Qt;return o.change(function(d){aW(e).forEach(function(h){var b=h.type,v=h.item;if(b==="elementStart"&&o.schema.checkChild(v,"$text")){var g=c({item:v,text:s.rangeToText(o.createRangeIn(v))});if(!g)return;g.forEach(function(k){var _,A,C,S="findResult:".concat(Oe()),P=d.addMarker(S,{usingOperation:!1,affectsData:!1,range:d.createRange(d.createPositionAt(v,k.start),d.createPositionAt(v,k.end))}),E=(A=P,C=(_=f).find(function(R){var I=R.marker;return A.getStart().isBefore(I.getStart())}),C?_.getIndex(C):_.length);f.add({id:S,label:k.label,marker:P},E)})}})}),f}},{key:"rangeToText",value:function(e){return Array.from(e.getItems()).reduce(function(o,c){return c.is("$text")||c.is("$textProxy")?o+c.data:"".concat(o,`
`)},"")}},{key:"findByTextCallback",value:function(e,o){var c="gu";o.matchCase||(c+="i");var l="(".concat(VV(e),")");if(o.wholeWords){var s="[^a-zA-Z\xC0-\u024F\u1E00-\u1EFF]";new RegExp("^"+s).test(e)||(l="(^|".concat(s,"|_)").concat(l)),new RegExp(s+"$").test(e)||(l="".concat(l,"(?=_|").concat(s,"|$)"))}var f=new RegExp(l,c);return function(d){return aW(d.text.matchAll(f)).map(xht)}}}],i=[{key:"pluginName",get:function(){return"FindAndReplaceUtils"}}],n&&cW(t.prototype,n),i&&cW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function xht(r){var t=r.length-1,n=r.index;return r.length===3&&(n+=r[1].length),{label:r[t],start:n,end:n+r[t].length}}var uW=x(2218),Tht={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(uW.Z,Tht),uW.Z.locals;function Xl(r){return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(r)}function lW(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||dW(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Xl(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Xl(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Xl(a)==="symbol"?a:String(a)),i)}var u,a}function H2(r,t){return H2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H2(r,t)}function Dht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=s0(r);if(t){var u=s0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function s0(r){return s0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s0(r)}function fW(r){return function(t){if(Array.isArray(t))return G2(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||dW(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dW(r,t){if(r){if(typeof r=="string")return G2(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G2(r,t):void 0}}function G2(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}var Rht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&H2(e,o)})(a,r);var t,n,i,u=Dht(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this;this._activeResults=null,this.state=new jht(this.editor.model),this._defineConverters(),this._defineCommands(),this.listenTo(this.state,"change:highlightedResult",function(c,l,s,f){var d=e.editor.model;d.change(function(h){if(f){var b=f.marker.name.split(":")[1],v=d.markers.get("findResultHighlighted:".concat(b));v&&h.removeMarker(v)}if(s){var g=s.marker.name.split(":")[1];h.addMarker("findResultHighlighted:".concat(g),{usingOperation:!1,affectsData:!1,range:s.marker.getRange()})}})});var o=Dr(function(c,l,s){if(s){var f=e.editor.editing.view.domConverter,d=e.editor.editing.mapper.toViewRange(s.marker.getRange());o4({target:f.viewRangeToDom(d),viewportOffset:40})}}.bind(this),32);this.listenTo(this.state,"change:highlightedResult",o,{priority:"low"}),this.listenTo(this.editor,"destroy",o.cancel)}},{key:"find",value:function(e){var o=this,c=this.editor,l=c.model,s=c.execute("find",e),f=s.findCallback,d=s.results;return this._activeResults=d,this.listenTo(l.document,"change:data",function(){return function(h,b,v){var g=new Set,k=new Set,_=b.model;_.document.differ.getChanges().forEach(function(A){A.name==="$text"||_.schema.isInline(A.position.nodeAfter)?(g.add(A.position.parent),fW(_.markers.getMarkersAtPosition(A.position)).forEach(function(C){k.add(C.name)})):A.type==="insert"&&g.add(A.position.nodeAfter)}),_.document.differ.getChangedMarkers().forEach(function(A){var C=A.name,S=A.data.newRange;S&&S.start.root.rootName==="$graveyard"&&k.add(C)}),g.forEach(function(A){fW(_.markers.getMarkersIntersectingRange(_.createRangeIn(A))).forEach(function(C){return k.add(C.name)})}),_.change(function(A){k.forEach(function(C){h.has(C)&&h.remove(C),A.removeMarker(C)})}),g.forEach(function(A){b.plugins.get("FindAndReplaceUtils").updateFindResultFromRange(_.createRangeOn(A),_,v,h)})}(o._activeResults,c,f)}),this._activeResults}},{key:"stop",value:function(){this._activeResults&&(this.stopListening(this.editor.model.document),this.state.clear(this.editor.model),this._activeResults=null)}},{key:"_defineCommands",value:function(){this.editor.commands.add("find",new yht(this.editor,this.state)),this.editor.commands.add("findNext",new rW(this.editor,this.state)),this.editor.commands.add("findPrevious",new Cht(this.editor,this.state)),this.editor.commands.add("replace",new vht(this.editor,this.state)),this.editor.commands.add("replaceAll",new kht(this.editor,this.state))}},{key:"_defineConverters",value:function(){var e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"findResult",view:function(o){return{name:"span",classes:["ck-find-result"],attributes:{"data-find-result":lW(o.markerName.split(":"),2)[1]}}}}),e.conversion.for("editingDowncast").markerToHighlight({model:"findResultHighlighted",view:function(o){return{name:"span",classes:["ck-find-result_selected"],attributes:{"data-find-result":lW(o.markerName.split(":"),2)[1]}}}})}}],i=[{key:"requires",get:function(){return[Eht]}},{key:"pluginName",get:function(){return"FindAndReplaceEditing"}}],n&&sW(t.prototype,n),i&&sW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function ts(r){return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(r)}function pW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ts(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ts(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ts(a)==="symbol"?a:String(a)),i)}var u,a}function W2(r,t){return W2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W2(r,t)}function Iht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=f0(r);if(t){var u=f0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function f0(r){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f0(r)}var Bht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&W2(e,o)})(a,r);var t,n,i,u=Iht(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Rht,dht]}},{key:"pluginName",get:function(){return"FindAndReplace"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor.plugins.get("FindAndReplaceUI"),c=this.editor.plugins.get("FindAndReplaceEditing"),l=c.state;o.on("findNext",function(s,f){f?(l.searchText=f.searchText,e.editor.execute("find",f.searchText,f)):e.editor.execute("findNext")}),o.on("findPrevious",function(s,f){f&&l.searchText!==f.searchText?e.editor.execute("find",f.searchText):e.editor.execute("findPrevious")}),o.on("replace",function(s,f){l.searchText!==f.searchText&&e.editor.execute("find",f.searchText);var d=l.highlightedResult;d&&e.editor.execute("replace",f.replaceText,d)}),o.on("replaceAll",function(s,f){l.searchText!==f.searchText&&e.editor.execute("find",f.searchText),e.editor.execute("replaceAll",f.replaceText,l.results)}),o.on("searchReseted",function(){l.clear(e.editor.model),c.stop()})}}])&&pW(t.prototype,n),i&&pW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function es(r){return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(r)}function Mht(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return yW(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return yW(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function yW(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function hW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(es(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(es(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),es(a)==="symbol"?a:String(a)),i)}var u,a}function $2(r,t){return $2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$2(r,t)}function Nht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=d0(r);if(t){var u=d0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function d0(r){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d0(r)}var Lht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&$2(e,o)})(a,r);var t,n,i,u=Nht(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._isEnabledBasedOnSelection=!1,o}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.model,o=Vt(e.document.selection.getSelectedBlocks());this.value=!!o&&o.is("element","paragraph"),this.isEnabled=!!o&&bW(o,e.schema)}},{key:"execute",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.editor.model,c=o.document,l=e.selection||c.selection;o.canEditAt(l)&&o.change(function(s){var f,d=Mht(l.getSelectedBlocks());try{for(d.s();!(f=d.n()).done;){var h=f.value;!h.is("element","paragraph")&&bW(h,o.schema)&&s.rename(h,"paragraph")}}catch(b){d.e(b)}finally{d.f()}})}}],n&&hW(t.prototype,n),i&&hW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function bW(r,t){return t.checkChild(r.parent,"paragraph")&&!t.isObject(r)}function rs(r){return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(r)}function mW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(rs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(rs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),rs(a)==="symbol"?a:String(a)),i)}var u,a}function q2(r,t){return q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q2(r,t)}function zht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=p0(r);if(t){var u=p0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function p0(r){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p0(r)}var Fht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&q2(e,o)})(a,r);var t,n,i,u=zht(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._isEnabledBasedOnSelection=!1,o}return t=a,n=[{key:"execute",value:function(e){var o=this,c=this.editor.model,l=e.attributes,s=e.position;c.canEditAt(s)&&c.change(function(f){if(s=o._findPositionToInsertParagraph(s,f)){var d=f.createElement("paragraph");l&&c.schema.setAllowedAttributes(d,l,f),c.insertContent(d,s),f.setSelection(d,"in")}})}},{key:"_findPositionToInsertParagraph",value:function(e,o){var c=this.editor.model;if(c.schema.checkChild(e,"paragraph"))return e;var l=c.schema.findAllowedParent(e,"paragraph");if(!l)return null;var s=e.parent,f=c.schema.checkChild(s,"$text");return s.isEmpty||f&&e.isAtEnd?c.createPositionAfter(s):!s.isEmpty&&f&&e.isAtStart?c.createPositionBefore(s):o.split(e,l).position}}],n&&mW(t.prototype,n),i&&mW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function ns(r){return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(r)}function vW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ns(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ns(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ns(a)==="symbol"?a:String(a)),i)}var u,a}function Y2(r,t){return Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y2(r,t)}function Vht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=y0(r);if(t){var u=y0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function y0(r){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y0(r)}var K2=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Y2(e,o)})(a,r);var t,n,i,u=Vht(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"Paragraph"}}],(n=[{key:"init",value:function(){var e=this.editor,o=e.model;e.commands.add("paragraph",new Lht(e)),e.commands.add("insertParagraph",new Fht(e)),o.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:function(c,l){var s=l.writer;return a.paragraphLikeElements.has(c.name)?c.isEmpty?null:s.createElement("paragraph"):null},view:/.+/,converterPriority:"low"})}}])&&vW(t.prototype,n),i&&vW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function os(r){return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(r)}function gW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(os(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(os(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),os(a)==="symbol"?a:String(a)),i)}var u,a}function Z2(r,t){return Z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z2(r,t)}function Uht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=h0(r);if(t){var u=h0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function h0(r){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h0(r)}K2.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);var Hht=Yz,Ght=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Z2(e,o)})(a,r);var t,n,i,u=Uht(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[K2]}}],(n=[{key:"init",value:function(){var e=this.editor,o=e.t;e.ui.componentFactory.add("paragraph",function(c){var l=new vt(c),s=e.commands.get("paragraph");return l.label=o("Paragraph"),l.icon=Hht,l.tooltip=!0,l.isToggleable=!0,l.bind("isEnabled").to(s),l.bind("isOn").to(s,"value"),l.on("execute",function(){e.execute("paragraph")}),l})}}])&&gW(t.prototype,n),i&&gW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function is(r){return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(r)}function Wht(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return wW(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return wW(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function wW(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function kW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(is(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(is(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),is(a)==="symbol"?a:String(a)),i)}var u,a}function Q2(r,t){return Q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q2(r,t)}function $ht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=b0(r);if(t){var u=b0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function b0(r){return b0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b0(r)}var qht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Q2(e,o)})(a,r);var t,n,i,u=$ht(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e)).modelElements=o,c}return t=a,n=[{key:"refresh",value:function(){var e=this,o=Vt(this.editor.model.document.selection.getSelectedBlocks());this.value=!!o&&this.modelElements.includes(o.name)&&o.name,this.isEnabled=!!o&&this.modelElements.some(function(c){return _W(o,c,e.editor.model.schema)})}},{key:"execute",value:function(e){var o=this.editor.model,c=o.document,l=e.value;o.change(function(s){var f,d=Array.from(c.selection.getSelectedBlocks()).filter(function(v){return _W(v,l,o.schema)}),h=Wht(d);try{for(h.s();!(f=h.n()).done;){var b=f.value;b.is("element",l)||s.rename(b,l)}}catch(v){h.e(v)}finally{h.f()}})}}],n&&kW(t.prototype,n),i&&kW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function _W(r,t,n){return n.checkChild(r.parent,t)&&!n.isObject(r)}function as(r){return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(r)}function Yht(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return AW(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return AW(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function AW(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function CW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(as(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(as(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),as(a)==="symbol"?a:String(a)),i)}var u,a}function J2(r,t){return J2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J2(r,t)}function Kht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=m0(r);if(t){var u=m0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(as(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function m0(r){return m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m0(r)}var OW="paragraph",Zht=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&J2(e,o)})(a,r);var t,n,i,u=Kht(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this,e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]}),o}return t=a,n=[{key:"init",value:function(){var e,o=this.editor,c=[],l=Yht(o.config.get("heading.options"));try{for(l.s();!(e=l.n()).done;){var s=e.value;s.model!=="paragraph"&&(o.model.schema.register(s.model,{inheritAllFrom:"$block"}),o.conversion.elementToElement(s),c.push(s.model))}}catch(f){l.e(f)}finally{l.f()}this._addDefaultH1Conversion(o),o.commands.add("heading",new qht(o,c))}},{key:"afterInit",value:function(){var e=this.editor,o=e.commands.get("enter"),c=e.config.get("heading.options");o&&this.listenTo(o,"afterExecute",function(l,s){var f=e.model.document.selection.getFirstPosition().parent;c.some(function(d){return f.is("element",d.model)})&&!f.is("element",OW)&&f.childCount===0&&s.writer.rename(f,OW)})}},{key:"_addDefaultH1Conversion",value:function(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:we.low+1})}}],i=[{key:"pluginName",get:function(){return"HeadingEditing"}},{key:"requires",get:function(){return[K2]}}],n&&CW(t.prototype,n),i&&CW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function SW(r){var t=r.t,n={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return r.config.get("heading.options").map(function(i){var u=n[i.title];return u&&u!=i.title&&(i.title=u),i})}var jW=x(4249),Qht={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(jW.Z,Qht),jW.Z.locals;function cs(r){return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(r)}function Jht(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return PW(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return PW(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function PW(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function EW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(cs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(cs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),cs(a)==="symbol"?a:String(a)),i)}var u,a}function X2(r,t){return X2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X2(r,t)}function Xht(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=v0(r);if(t){var u=v0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function v0(r){return v0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v0(r)}var tbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&X2(e,o)})(a,r);var t,n,i,u=Xht(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t,l=SW(o),s=c("Choose heading"),f=c("Heading");o.ui.componentFactory.add("heading",function(d){var h,b={},v=new Qt,g=o.commands.get("heading"),k=o.commands.get("paragraph"),_=[g],A=Jht(l);try{var C=function(){var P=h.value,E={type:"button",model:new Fr({label:P.title,class:P.class,role:"menuitemradio",withText:!0})};P.model==="paragraph"?(E.model.bind("isOn").to(k,"value"),E.model.set("commandName","paragraph"),_.push(k)):(E.model.bind("isOn").to(g,"value",function(R){return R===P.model}),E.model.set({commandName:"heading",commandValue:P.model})),v.add(E),b[P.model]=P.title};for(A.s();!(h=A.n()).done;)C()}catch(P){A.e(P)}finally{A.f()}var S=ae(d);return zr(S,v,{ariaLabel:f,role:"menu"}),S.buttonView.set({ariaLabel:f,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:f}),S.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),S.bind("isEnabled").toMany(_,"isEnabled",function(){for(var P=arguments.length,E=new Array(P),R=0;R<P;R++)E[R]=arguments[R];return E.some(function(I){return I})}),S.buttonView.bind("label").to(g,"value",k,"value",function(P,E){var R=P||E&&"paragraph";return typeof R=="boolean"?s:b[R]?b[R]:s}),e.listenTo(S,"execute",function(P){var E=P.source,R=E.commandName,I=E.commandValue;o.execute(R,I?{value:I}:void 0),o.editing.view.focus()}),S})}}],i=[{key:"pluginName",get:function(){return"HeadingUI"}}],n&&EW(t.prototype,n),i&&EW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function us(r){return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(r)}function xW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(us(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(us(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),us(a)==="symbol"?a:String(a)),i)}var u,a}function tT(r,t){return tT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tT(r,t)}function ebt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=g0(r);if(t){var u=g0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function g0(r){return g0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g0(r)}var rbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&tT(e,o)})(a,r);var t,n,i,u=ebt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Zht,tbt]}},{key:"pluginName",get:function(){return"Heading"}}],(n=null)&&xW(t.prototype,n),i&&xW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function ls(r){return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(r)}function TW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ls(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ls(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ls(a)==="symbol"?a:String(a)),i)}var u,a}function eT(r,t){return eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eT(r,t)}function nbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=w0(r);if(t){var u=w0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function w0(r){return w0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w0(r)}var obt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&eT(e,o)})(a,r);var t,n,i,u=nbt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(n=[{key:"refresh",value:function(){var e=this.editor.model,o=e.schema,c=e.document.selection;this.isEnabled=function(l,s,f){var d=function(h,b){var v=Bw(h,b),g=v.start.parent;return g.isEmpty&&!g.is("element","$root")?g.parent:g}(l,f);return s.checkChild(d,"horizontalLine")}(c,o,e)}},{key:"execute",value:function(){var e=this.editor.model;e.change(function(o){var c=o.createElement("horizontalLine");e.insertObject(c,null,null,{setSelection:"after"})})}}])&&TW(t.prototype,n),i&&TW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt),DW=x(9893),ibt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(DW.Z,ibt),DW.Z.locals;function ss(r){return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(r)}function RW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ss(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ss(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ss(a)==="symbol"?a:String(a)),i)}var u,a}function rT(r,t){return rT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rT(r,t)}function abt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=k0(r);if(t){var u=k0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function k0(r){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k0(r)}var cbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&rT(e,o)})(a,r);var t,n,i,u=abt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this.editor,o=e.model.schema,c=e.t,l=e.conversion;o.register("horizontalLine",{inheritAllFrom:"$blockObject"}),l.for("dataDowncast").elementToElement({model:"horizontalLine",view:function(s,f){return f.writer.createEmptyElement("hr")}}),l.for("editingDowncast").elementToStructure({model:"horizontalLine",view:function(s,f){var d=f.writer,h=c("Horizontal line"),b=d.createContainerElement("div",null,d.createEmptyElement("hr"));return d.addClass("ck-horizontal-line",b),d.setCustomProperty("hr",!0,b),function(v,g,k){return g.setCustomProperty("horizontalLine",!0,v),xo(v,g,{label:k})}(b,d,h)}}),l.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new obt(e))}}],i=[{key:"pluginName",get:function(){return"HorizontalLineEditing"}}],n&&RW(t.prototype,n),i&&RW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function fs(r){return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(r)}function IW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(fs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(fs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),fs(a)==="symbol"?a:String(a)),i)}var u,a}function nT(r,t){return nT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nT(r,t)}function ubt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=_0(r);if(t){var u=_0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function _0(r){return _0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_0(r)}var lbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&nT(e,o)})(a,r);var t,n,i,u=ubt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"HorizontalLineUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t;o.ui.componentFactory.add("horizontalLine",function(l){var s=o.commands.get("horizontalLine"),f=new vt(l);return f.set({label:c("Horizontal line"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',tooltip:!0}),f.bind("isEnabled").to(s,"isEnabled"),e.listenTo(f,"execute",function(){o.execute("horizontalLine"),o.editing.view.focus()}),f})}}])&&IW(t.prototype,n),i&&IW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function ds(r){return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(r)}function BW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ds(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ds(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ds(a)==="symbol"?a:String(a)),i)}var u,a}function oT(r,t){return oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oT(r,t)}function sbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=A0(r);if(t){var u=A0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function A0(r){return A0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A0(r)}var fbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&oT(e,o)})(a,r);var t,n,i,u=sbt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[cbt,lbt,kn]}},{key:"pluginName",get:function(){return"HorizontalLine"}}],(n=null)&&BW(t.prototype,n),i&&BW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function ps(r){return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(r)}function MW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ps(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ps(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ps(a)==="symbol"?a:String(a)),i)}var u,a}function iT(r,t){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iT(r,t)}function dbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=C0(r);if(t){var u=C0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function C0(r){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C0(r)}var pbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&iT(e,o)})(a,r);var t,n,i,u=dbt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(n=[{key:"refresh",value:function(){var e=this.editor.model,o=e.schema,c=e.document.selection,l=NW(c);this.isEnabled=function(s,f,d){var h=function(b,v){var g=Bw(b,v),k=g.start.parent;return k.isEmpty&&!k.is("rootElement")?k.parent:k}(s,d);return f.checkChild(h,"rawHtml")}(c,o,e),this.value=l?l.getAttribute("value")||"":null}},{key:"execute",value:function(e){var o=this,c=this.editor.model,l=c.document.selection;c.change(function(s){var f;o.value!==null?f=NW(l):(f=s.createElement("rawHtml"),c.insertObject(f,null,null,{setSelection:"on"})),s.setAttribute("value",e,f)})}}])&&MW(t.prototype,n),i&&MW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function NW(r){var t=r.getSelectedElement();return t&&t.is("element","rawHtml")?t:null}var LW=x(7319),ybt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(LW.Z,ybt),LW.Z.locals;function ys(r){return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(r)}function hbt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return zW(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return zW(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function zW(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function FW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ys(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ys(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ys(a)==="symbol"?a:String(a)),i)}var u,a}function aT(r,t){return aT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aT(r,t)}function bbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=O0(r);if(t){var u=O0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function O0(r){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O0(r)}var mbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&aT(e,o)})(a,r);var t,n,i,u=bbt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._widgetButtonViewReferences=new Set,e.config.define("htmlEmbed",{showPreviews:!1,sanitizeHtml:function(c){return Ct("html-embed-provide-sanitize-function"),{html:c,hasChanged:!1}}}),o}return t=a,i=[{key:"pluginName",get:function(){return"HtmlEmbedEditing"}}],(n=[{key:"init",value:function(){var e=this.editor;e.model.schema.register("rawHtml",{inheritAllFrom:"$blockObject",allowAttributes:["value"]}),e.commands.add("htmlEmbed",new pbt(e)),this._setupConversion()}},{key:"_setupConversion",value:function(){var e=this.editor,o=e.t,c=e.editing.view,l=this._widgetButtonViewReferences,s=e.config.get("htmlEmbed");function f(h){var b=h.editor,v=h.domElement,g=h.state,k=h.props;v.textContent="";var _,A=v.ownerDocument;if(g.isEditable){var C={isDisabled:!1,placeholder:k.textareaPlaceholder};_=d({domDocument:A,state:g,props:C}),v.append(_)}else if(g.showPreviews){var S={sanitizeHtml:k.sanitizeHtml};v.append(function(R){var I=R.editor,z=R.domDocument,F=R.state,tt=R.props,Z=tt.sanitizeHtml(F.getRawHtmlValue()),G=F.getRawHtmlValue().length>0?o("No preview available"):o("Empty snippet content"),et=Er(z,"div",{class:"ck ck-reset_all raw-html-embed__preview-placeholder"},G),y=Er(z,"div",{class:"raw-html-embed__preview-content",dir:I.locale.contentLanguageDirection}),p=z.createRange(),m=p.createContextualFragment(Z.html);y.appendChild(m);var O=Er(z,"div",{class:"raw-html-embed__preview"},[et,y]);return O}({domDocument:A,state:g,props:S,editor:b}))}else{var P={isDisabled:!0,placeholder:k.textareaPlaceholder};v.append(d({domDocument:A,state:g,props:P}))}var E={onEditClick:k.onEditClick,onSaveClick:function(){k.onSaveClick(_.value)},onCancelClick:k.onCancelClick};v.prepend(function(R){var I=R.editor,z=R.domDocument,F=R.state,tt=R.props,Z=Er(z,"div",{class:"raw-html-embed__buttons-wrapper"});if(F.isEditable){var G=cT(I,"save",tt.onSaveClick),et=cT(I,"cancel",tt.onCancelClick);Z.append(G.element,et.element),l.add(G).add(et)}else{var y=cT(I,"edit",tt.onEditClick);Z.append(y.element),l.add(y)}return Z}({editor:b,domDocument:A,state:g,props:E}))}function d(h){var b=h.domDocument,v=h.state,g=h.props,k=Er(b,"textarea",{placeholder:g.placeholder,class:"ck ck-reset ck-input ck-input-text raw-html-embed__source"});return k.disabled=g.isDisabled,k.value=v.getRawHtmlValue(),k}this.editor.editing.view.on("render",function(){var h,b=hbt(l);try{for(b.s();!(h=b.n()).done;){var v=h.value;if(v.element&&v.element.isConnected)return;v.destroy(),l.delete(v)}}catch(g){b.e(g)}finally{b.f()}},{priority:"lowest"}),e.data.registerRawContentMatcher({name:"div",classes:"raw-html-embed"}),e.conversion.for("upcast").elementToElement({view:{name:"div",classes:"raw-html-embed"},model:function(h,b){return b.writer.createElement("rawHtml",{value:h.getCustomProperty("$rawContent")})}}),e.conversion.for("dataDowncast").elementToElement({model:"rawHtml",view:function(h,b){return b.writer.createRawElement("div",{class:"raw-html-embed"},function(v){v.innerHTML=h.getAttribute("value")||""})}}),e.conversion.for("editingDowncast").elementToStructure({model:{name:"rawHtml",attributes:["value"]},view:function(h,b){var v,g,k,_=b.writer,A=_.createRawElement("div",{class:"raw-html-embed__content-wrapper"},function(P){v=P,f({editor:e,domElement:P,state:g,props:k}),v.addEventListener("mousedown",function(){if(g.isEditable){var E=e.model;E.document.selection.getSelectedElement()!==h&&E.change(function(R){return R.setSelection(h,"on")})}},!0)}),C={makeEditable:function(){g=Object.assign({},g,{isEditable:!0}),f({domElement:v,editor:e,state:g,props:k}),c.change(function(P){P.setAttribute("data-cke-ignore-events","true",A)}),v.querySelector("textarea").focus()},save:function(P){P!==g.getRawHtmlValue()?(e.execute("htmlEmbed",P),e.editing.view.focus()):this.cancel()},cancel:function(){g=Object.assign({},g,{isEditable:!1}),f({domElement:v,editor:e,state:g,props:k}),e.editing.view.focus(),c.change(function(P){P.removeAttribute("data-cke-ignore-events",A)})}};g={showPreviews:s.showPreviews,isEditable:!1,getRawHtmlValue:function(){return h.getAttribute("value")||""}},k={sanitizeHtml:s.sanitizeHtml,textareaPlaceholder:o("Paste raw HTML here..."),onEditClick:function(){C.makeEditable()},onSaveClick:function(P){C.save(P)},onCancelClick:function(){C.cancel()}};var S=_.createContainerElement("div",{class:"raw-html-embed","data-html-embed-label":o("HTML snippet"),dir:e.locale.uiLanguageDirection},A);return _.setCustomProperty("rawHtmlApi",C,S),_.setCustomProperty("rawHtml",!0,S),xo(S,_,{label:o("HTML snippet"),hasSelectionHandle:!0})}})}}])&&FW(t.prototype,n),i&&FW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function cT(r,t,n){var i=r.locale.t,u=new vt(r.locale),a=r.commands.get("htmlEmbed");return u.set({class:"raw-html-embed__".concat(t,"-button"),icon:fP,tooltip:!0,tooltipPosition:r.locale.uiLanguageDirection==="rtl"?"e":"w"}),u.render(),t==="edit"?(u.set({icon:fP,label:i("Edit source")}),u.bind("isEnabled").to(a)):t==="save"?(u.set({icon:po,label:i("Save changes")}),u.bind("isEnabled").to(a)):u.set({icon:fo,label:i("Cancel")}),u.on("execute",n),u}function hs(r){return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(r)}function VW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(hs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(hs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),hs(a)==="symbol"?a:String(a)),i)}var u,a}function uT(r,t){return uT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uT(r,t)}function vbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=S0(r);if(t){var u=S0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function S0(r){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S0(r)}var gbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&uT(e,o)})(a,r);var t,n,i,u=vbt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"HtmlEmbedUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t;o.ui.componentFactory.add("htmlEmbed",function(l){var s=o.commands.get("htmlEmbed"),f=new vt(l);return f.set({label:c("Insert HTML"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',tooltip:!0}),f.bind("isEnabled").to(s,"isEnabled"),e.listenTo(f,"execute",function(){o.execute("htmlEmbed"),o.editing.view.focus(),o.editing.view.document.selection.getSelectedElement().getCustomProperty("rawHtmlApi").makeEditable()}),f})}}])&&VW(t.prototype,n),i&&VW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function bs(r){return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(r)}function UW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(bs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(bs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),bs(a)==="symbol"?a:String(a)),i)}var u,a}function lT(r,t){return lT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lT(r,t)}function wbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=j0(r);if(t){var u=j0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function j0(r){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j0(r)}var kbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&lT(e,o)})(a,r);var t,n,i,u=wbt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[mbt,gbt,kn]}},{key:"pluginName",get:function(){return"HtmlEmbed"}}],(n=null)&&UW(t.prototype,n),i&&UW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function ms(r){return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(r)}function HW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ms(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ms(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ms(a)==="symbol"?a:String(a)),i)}var u,a}function sT(r,t){return sT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sT(r,t)}function _bt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=P0(r);if(t){var u=P0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function P0(r){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P0(r)}var Abt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&sT(e,o)})(a,r);var t,n,i,u=_bt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}},{key:"execute",value:function(e){var o=this.editor,c=o.plugins.get("ImageUtils"),l=o.model,s=c.getClosestSelectedImageElement(l.document.selection);l.change(function(f){f.setAttribute("alt",e.newValue,s)})}}],n&&HW(t.prototype,n),i&&HW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function GW(r){return r.createContainerElement("figure",{class:"image"},[r.createEmptyElement("img"),r.createSlot("children")])}function WW(r,t){var n=r.plugins.get("ImageUtils"),i=r.plugins.has("ImageInlineEditing")&&r.plugins.has("ImageBlockEditing");return function(a){return n.isInlineImageView(a)?i&&(a.getStyle("display")=="block"||a.findAncestor(n.isBlockImageView)?"imageBlock":"imageInline")!==t?null:u(a):null};function u(a){var e={name:!0};return a.hasAttribute("src")&&(e.attributes=["src"]),e}}function fT(r,t){var n=Vt(t.getSelectedBlocks());return!n||r.isObject(n)||n.isEmpty&&n.name!="listItem"?"imageBlock":"imageInline"}function vs(r){return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(r)}function Cbt(r){return function(t){if(Array.isArray(t))return dT(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||$W(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $W(r,t){if(r){if(typeof r=="string")return dT(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dT(r,t):void 0}}function dT(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function qW(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function YW(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qW(Object(n),!0).forEach(function(i){Obt(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):qW(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Obt(r,t,n){return(t=ZW(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function KW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,ZW(i.key),i)}}function ZW(r){var t=function(n,i){if(vs(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(vs(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return vs(t)==="symbol"?t:String(t)}function pT(r,t){return pT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pT(r,t)}function Sbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=E0(r);if(t){var u=E0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function E0(r){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E0(r)}var fr=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&pT(e,o)})(a,r);var t,n,i,u=Sbt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"isImage",value:function(e){return this.isInlineImage(e)||this.isBlockImage(e)}},{key:"isInlineImageView",value:function(e){return!!e&&e.is("element","img")}},{key:"isBlockImageView",value:function(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}},{key:"insertImage",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=this.editor,s=l.model,f=s.document.selection;for(var d in c=QW(l,o||f,c),e=YW(YW({},Object.fromEntries(f.getAttributes())),e))s.schema.checkAttribute(c,d)||delete e[d];return s.change(function(h){var b=h.createElement(c,e);return s.insertObject(b,o,null,{setSelection:"on",findOptimalPosition:o||c=="imageInline"?void 0:"auto"}),b.parent?b:null})}},{key:"getClosestSelectedImageWidget",value:function(e){var o=e.getFirstPosition();if(!o)return null;var c=e.getSelectedElement();if(c&&this.isImageWidget(c))return c;for(var l=o.parent;l;){if(l.is("element")&&this.isImageWidget(l))return l;l=l.parent}return null}},{key:"getClosestSelectedImageElement",value:function(e){var o=e.getSelectedElement();return this.isImage(o)?o:e.getFirstPosition().findAncestor("imageBlock")}},{key:"isImageAllowed",value:function(){var e=this.editor.model.document.selection;return function(o,c){var l=QW(o,c,null);if(l=="imageBlock"){var s=function(f,d){var h=Bw(f,d),b=h.start.parent;return b.isEmpty&&!b.is("element","$root")?b.parent:b}(c,o.model);if(o.model.schema.checkChild(s,"imageBlock"))return!0}else if(o.model.schema.checkChild(c.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(o){return Cbt(o.focus.getAncestors()).every(function(c){return!c.is("element","imageBlock")})}(e)}},{key:"toImageWidget",value:function(e,o,c){var l=this;return o.setCustomProperty("image",!0,e),xo(e,o,{label:function(){var s=l.findViewImgElement(e).getAttribute("alt");return s?"".concat(s," ").concat(c):c}})}},{key:"isImageWidget",value:function(e){return!!e.getCustomProperty("image")&&Zt(e)}},{key:"isBlockImage",value:function(e){return!!e&&e.is("element","imageBlock")}},{key:"isInlineImage",value:function(e){return!!e&&e.is("element","imageInline")}},{key:"findViewImgElement",value:function(e){if(this.isInlineImageView(e))return e;var o,c=function(s,f){var d=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!d){if(Array.isArray(s)||(d=$W(s))||f&&s&&typeof s.length=="number"){d&&(s=d);var h=0,b=function(){};return{s:b,n:function(){return h>=s.length?{done:!0}:{done:!1,value:s[h++]}},e:function(_){throw _},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,g=!0,k=!1;return{s:function(){d=d.call(s)},n:function(){var _=d.next();return g=_.done,_},e:function(_){k=!0,v=_},f:function(){try{g||d.return==null||d.return()}finally{if(k)throw v}}}}(this.editor.editing.view.createRangeIn(e));try{for(c.s();!(o=c.n()).done;){var l=o.value.item;if(this.isInlineImageView(l))return l}}catch(s){c.e(s)}finally{c.f()}}}],i=[{key:"pluginName",get:function(){return"ImageUtils"}}],n&&KW(t.prototype,n),i&&KW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function QW(r,t,n){var i=r.model.schema,u=r.config.get("image.insert.type");return r.plugins.has("ImageBlockEditing")?r.plugins.has("ImageInlineEditing")?n||(u==="inline"?"imageInline":u==="block"?"imageBlock":t.is("selection")?fT(i,t):i.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}function gs(r){return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(r)}function JW(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(gs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(gs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),gs(a)==="symbol"?a:String(a)),i)}var u,a}function yT(r,t){return yT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yT(r,t)}function jbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=x0(r);if(t){var u=x0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function x0(r){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x0(r)}var Pbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&yT(e,o)})(a,r);var t,n,i,u=jbt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[fr]}},{key:"pluginName",get:function(){return"ImageTextAlternativeEditing"}}],(n=[{key:"init",value:function(){this.editor.commands.add("imageTextAlternative",new Abt(this.editor))}}])&&JW(t.prototype,n),i&&JW(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),XW=x(5269),Ebt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(XW.Z,Ebt),XW.Z.locals;function ws(r){return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(r)}function t$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ws(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ws(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ws(a)==="symbol"?a:String(a)),i)}var u,a}function T0(){return T0=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Ro(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},T0.apply(this,arguments)}function hT(r,t){return hT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hT(r,t)}function xbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ro(r);if(t){var u=Ro(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ro(r){return Ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ro(r)}var Tbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&hT(e,o)})(a,r);var t,n,i,u=xbt(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a);var c=(o=u.call(this,e)).locale.t;return o.focusTracker=new ce,o.keystrokes=new de,o.labeledInput=o._createLabeledInputView(),o.saveButtonView=o._createButton(c("Save"),po,"ck-button-save"),o.saveButtonView.type="submit",o.cancelButtonView=o._createButton(c("Cancel"),fo,"ck-button-cancel","cancel"),o._focusables=new De,o._focusCycler=new Qe({focusables:o._focusables,focusTracker:o.focusTracker,keystrokeHandler:o.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),o.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[o.labeledInput,o.saveButtonView,o.cancelButtonView]}),o}return t=a,n=[{key:"render",value:function(){var e=this;T0(Ro(a.prototype),"render",this).call(this),this.keystrokes.listenTo(this.element),it({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(function(o){e._focusables.add(o),e.focusTracker.add(o.element)})}},{key:"destroy",value:function(){T0(Ro(a.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"_createButton",value:function(e,o,c,l){var s=new vt(this.locale);return s.set({label:e,icon:o,tooltip:!0}),s.extendTemplate({attributes:{class:c}}),l&&s.delegate("execute").to(this,l),s}},{key:"_createLabeledInputView",value:function(){var e=this.locale.t,o=new ue(this.locale,Ge);return o.label=e("Text alternative"),o}}],n&&t$(t.prototype,n),i&&t$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function e$(r){var t=r.editing.view,n=Me.defaultPositions,i=r.plugins.get("ImageUtils");return{target:t.domConverter.mapViewToDom(i.getClosestSelectedImageWidget(t.document.selection)),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}function ks(r){return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(r)}function r$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ks(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ks(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ks(a)==="symbol"?a:String(a)),i)}var u,a}function bT(){return bT=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=_s(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},bT.apply(this,arguments)}function mT(r,t){return mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mT(r,t)}function Dbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=_s(r);if(t){var u=_s(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function _s(r){return _s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_s(r)}var Rbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&mT(e,o)})(a,r);var t,n,i,u=Dbt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){this._createButton()}},{key:"destroy",value:function(){bT(_s(a.prototype),"destroy",this).call(this),this._form&&this._form.destroy()}},{key:"_createButton",value:function(){var e=this,o=this.editor,c=o.t;o.ui.componentFactory.add("imageTextAlternative",function(l){var s=o.commands.get("imageTextAlternative"),f=new vt(l);return f.set({label:c("Change image text alternative"),icon:Vlt,tooltip:!0}),f.bind("isEnabled").to(s,"isEnabled"),f.bind("isOn").to(s,"value",function(d){return!!d}),e.listenTo(f,"execute",function(){e._showForm()}),f})}},{key:"_createForm",value:function(){var e=this,o=this.editor,c=o.editing.view.document,l=o.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(nt(Tbt))(o.locale),this._form.render(),this.listenTo(this._form,"submit",function(){o.execute("imageTextAlternative",{newValue:e._form.labeledInput.fieldView.element.value}),e._hideForm(!0)}),this.listenTo(this._form,"cancel",function(){e._hideForm(!0)}),this._form.keystrokes.set("Esc",function(s,f){e._hideForm(!0),f()}),this.listenTo(o.ui,"update",function(){l.getClosestSelectedImageWidget(c.selection)?e._isVisible&&function(s){var f=s.plugins.get("ContextualBalloon");if(s.plugins.get("ImageUtils").getClosestSelectedImageWidget(s.editing.view.document.selection)){var d=e$(s);f.updatePosition(d)}}(o):e._hideForm(!0)}),L({emitter:this._form,activator:function(){return e._isVisible},contextElements:function(){return[e._balloon.view.element]},callback:function(){return e._hideForm()}})}},{key:"_showForm",value:function(){if(!this._isVisible){this._form||this._createForm();var e=this.editor,o=e.commands.get("imageTextAlternative"),c=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:e$(e)}),c.fieldView.value=c.fieldView.element.value=o.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}}},{key:"_hideForm",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}},{key:"_isVisible",get:function(){return!!this._balloon&&this._balloon.visibleView===this._form}},{key:"_isInBalloon",get:function(){return!!this._balloon&&this._balloon.hasView(this._form)}}],i=[{key:"requires",get:function(){return[bn]}},{key:"pluginName",get:function(){return"ImageTextAlternativeUI"}}],n&&r$(t.prototype,n),i&&r$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function As(r){return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(r)}function n$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(As(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(As(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),As(a)==="symbol"?a:String(a)),i)}var u,a}function vT(r,t){return vT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vT(r,t)}function Ibt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=D0(r);if(t){var u=D0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(As(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function D0(r){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D0(r)}var o$=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&vT(e,o)})(a,r);var t,n,i,u=Ibt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Pbt,Rbt]}},{key:"pluginName",get:function(){return"ImageTextAlternative"}}],(n=null)&&n$(t.prototype,n),i&&n$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function i$(r,t){var n=function(i,u,a){if(a.consumable.consume(u.item,i.name)){var e=a.writer,o=a.mapper.toViewElement(u.item),c=r.findViewImgElement(o);if(u.attributeNewValue===null){var l=u.attributeOldValue;l&&l.data&&(e.removeAttribute("srcset",c),e.removeAttribute("sizes",c),l.width&&e.removeAttribute("width",c))}else{var s=u.attributeNewValue;s&&s.data&&(e.setAttribute("srcset",s.data,c),e.setAttribute("sizes","100vw",c),s.width&&e.setAttribute("width",s.width,c))}}};return function(i){i.on("attribute:srcset:".concat(t),n)}}function R0(r,t,n){var i=function(u,a,e){if(e.consumable.consume(a.item,u.name)){var o=e.writer,c=e.mapper.toViewElement(a.item),l=r.findViewImgElement(c);o.setAttribute(a.attributeKey,a.attributeNewValue||"",l)}};return function(u){u.on("attribute:".concat(n,":").concat(t),i)}}function Cs(r){return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(r)}function a$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Cs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Cs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Cs(a)==="symbol"?a:String(a)),i)}var u,a}function gT(r,t){return gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gT(r,t)}function Bbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=I0(r);if(t){var u=I0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function I0(r){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},I0(r)}var c$=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&gT(e,o)})(a,r);var t,n,i,u=Bbt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(n=[{key:"observe",value:function(e){var o=this;this.listenTo(e,"load",function(c,l){var s=l.target;o.checkShouldIgnoreEventFromTarget(s)||s.tagName=="IMG"&&o._fireEvents(l)},{useCapture:!0})}},{key:"stopObserving",value:function(e){this.stopListening(e)}},{key:"_fireEvents",value:function(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}])&&a$(t.prototype,n),i&&a$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(br);function Os(r){return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(r)}function u$(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function B0(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u$(Object(n),!0).forEach(function(i){Mbt(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):u$(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Mbt(r,t,n){return(t=s$(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function l$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,s$(i.key),i)}}function s$(r){var t=function(n,i){if(Os(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(Os(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return Os(t)==="symbol"?t:String(t)}function wT(r,t){return wT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wT(r,t)}function Nbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=M0(r);if(t){var u=M0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function M0(r){return M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},M0(r)}var Lbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&wT(e,o)})(a,r);var t,n,i,u=Nbt(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a),o=u.call(this,e);var c=e.config.get("image.insert.type");return e.plugins.has("ImageBlockEditing")||c==="block"&&Ct("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||c==="inline"&&Ct("image-inline-plugin-required"),o}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}},{key:"execute",value:function(e){var o=this,c=Kt(e.source),l=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),f=Object.fromEntries(l.getAttributes());c.forEach(function(d,h){var b=l.getSelectedElement();if(typeof d=="string"&&(d={src:d}),h&&b&&s.isImage(b)){var v=o.editor.model.createPositionAfter(b);s.insertImage(B0(B0({},d),f),v)}else s.insertImage(B0(B0({},d),f))})}}],n&&l$(t.prototype,n),i&&l$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Ss(r){return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(r)}function f$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ss(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ss(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ss(a)==="symbol"?a:String(a)),i)}var u,a}function kT(r,t){return kT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kT(r,t)}function zbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=N0(r);if(t){var u=N0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function N0(r){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},N0(r)}var Fbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&kT(e,o)})(a,r);var t,n,i,u=zbt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.plugins.get("ImageUtils"),o=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(o),this.value=this.isEnabled?o.getAttribute("src"):null}},{key:"execute",value:function(e){var o=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(function(c){c.setAttribute("src",e.source,o),c.removeAttribute("srcset",o),c.removeAttribute("sizes",o)})}}],n&&f$(t.prototype,n),i&&f$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function js(r){return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(r)}function d$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(js(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(js(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),js(a)==="symbol"?a:String(a)),i)}var u,a}function _T(r,t){return _T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_T(r,t)}function Vbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=L0(r);if(t){var u=L0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function L0(r){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L0(r)}var p$=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&_T(e,o)})(a,r);var t,n,i,u=Vbt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[fr]}},{key:"pluginName",get:function(){return"ImageEditing"}}],(n=[{key:"init",value:function(){var e=this.editor,o=e.conversion;e.editing.view.addObserver(c$),o.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function(s){var f={data:s.getAttribute("srcset")};return s.hasAttribute("width")&&(f.width=s.getAttribute("width")),f}}});var c=new Lbt(e),l=new Fbt(e);e.commands.add("insertImage",c),e.commands.add("replaceImageSource",l),e.commands.add("imageInsert",c)}}])&&d$(t.prototype,n),i&&d$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Ps(r){return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(r)}function Ubt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return y$(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return y$(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function y$(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function h$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ps(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ps(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ps(a)==="symbol"?a:String(a)),i)}var u,a}function AT(r,t){return AT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AT(r,t)}function Hbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=z0(r);if(t){var u=z0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function z0(r){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z0(r)}var b$=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&AT(e,o)})(a,r);var t,n,i,u=Hbt(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e))._modelElementName=o,c}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.plugins.get("ImageUtils"),o=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(o):this.isEnabled=e.isBlockImage(o)}},{key:"execute",value:function(){var e=this,o=this.editor,c=this.editor.model,l=o.plugins.get("ImageUtils"),s=l.getClosestSelectedImageElement(c.document.selection),f=Object.fromEntries(s.getAttributes());return f.src||f.uploadId?c.change(function(d){var h=Array.from(c.markers).filter(function(S){return S.getRange().containsItem(s)}),b=l.insertImage(f,c.createSelection(s,"on"),e._modelElementName);if(!b)return null;var v,g=d.createRangeOn(b),k=Ubt(h);try{for(k.s();!(v=k.n()).done;){var _=v.value,A=_.getRange(),C=A.root.rootName!="$graveyard"?A.getJoined(g,!0):g;d.updateMarker(_,{range:C})}}catch(S){k.e(S)}finally{k.f()}return{oldElement:s,newElement:b}}):null}}],n&&h$(t.prototype,n),i&&h$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Es(r){return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(r)}function m$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Es(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Es(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Es(a)==="symbol"?a:String(a)),i)}var u,a}function CT(r,t){return CT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CT(r,t)}function Gbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=F0(r);if(t){var u=F0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function F0(r){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F0(r)}var v$=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&CT(e,o)})(a,r);var t,n,i,u=Gbt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[p$,fr,Ar]}},{key:"pluginName",get:function(){return"ImageBlockEditing"}}],(n=[{key:"init",value:function(){var e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new b$(this.editor,"imageBlock")),this._setupClipboardIntegration())}},{key:"_setupConversion",value:function(){var e=this.editor,o=e.t,c=e.conversion,l=e.plugins.get("ImageUtils");c.for("dataDowncast").elementToStructure({model:"imageBlock",view:function(s,f){return GW(f.writer)}}),c.for("editingDowncast").elementToStructure({model:"imageBlock",view:function(s,f){var d=f.writer;return l.toImageWidget(GW(d),d,o("image widget"))}}),c.for("downcast").add(R0(l,"imageBlock","src")).add(R0(l,"imageBlock","alt")).add(i$(l,"imageBlock")),c.for("upcast").elementToElement({view:WW(e,"imageBlock"),model:function(s,f){return f.writer.createElement("imageBlock",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)}}).add(function(s){var f=function(d,h,b){if(b.consumable.test(h.viewItem,{name:!0,classes:"image"})){var v=s.findViewImgElement(h.viewItem);if(v&&b.consumable.test(v,{name:!0})){b.consumable.consume(h.viewItem,{name:!0,classes:"image"});var g=Vt(b.convertItem(v,h.modelCursor).modelRange.getItems());g?(b.convertChildren(h.viewItem,g),b.updateConversionResult(g,h)):b.consumable.revert(h.viewItem,{name:!0,classes:"image"})}}};return function(d){d.on("element:figure",f)}}(l))}},{key:"_setupClipboardIntegration",value:function(){var e=this.editor,o=e.model,c=e.editing.view,l=e.plugins.get("ImageUtils"),s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",function(f,d){var h,b=Array.from(d.content.getChildren());if(b.every(l.isInlineImageView)){h=d.targetRanges?e.editing.mapper.toModelRange(d.targetRanges[0]):o.document.selection.getFirstRange();var v=o.createSelection(h);if(fT(o.schema,v)==="imageBlock"){var g=new _r(c.document),k=b.map(function(_){return g.createElement("figure",{class:"image"},_)});d.content=g.createDocumentFragment(k)}}})}}])&&m$(t.prototype,n),i&&m$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),g$=x(2430),Wbt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(g$.Z,Wbt),g$.Z.locals;function xs(r){return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(r)}function w$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(xs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(xs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),xs(a)==="symbol"?a:String(a)),i)}var u,a}function OT(r,t){return OT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OT(r,t)}function $bt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=V0(r);if(t){var u=V0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function V0(r){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V0(r)}var qbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&OT(e,o)})(a,r);var t,n,i,u=$bt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[v$,kn,o$]}},{key:"pluginName",get:function(){return"ImageBlock"}}],(n=null)&&w$(t.prototype,n),i&&w$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Ts(r){return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(r)}function Ybt(r){return function(t){if(Array.isArray(t))return ST(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||function(t,n){if(t){if(typeof t=="string")return ST(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ST(t,n)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ST(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function k$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ts(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ts(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ts(a)==="symbol"?a:String(a)),i)}var u,a}function jT(r,t){return jT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jT(r,t)}function Kbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=U0(r);if(t){var u=U0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function U0(r){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U0(r)}var Zbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&jT(e,o)})(a,r);var t,n,i,u=Kbt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[p$,fr,Ar]}},{key:"pluginName",get:function(){return"ImageInlineEditing"}}],(n=[{key:"init",value:function(){var e=this.editor,o=e.model.schema;o.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),o.addChildCheck(function(c,l){if(c.endsWith("caption")&&l.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new b$(this.editor,"imageInline")),this._setupClipboardIntegration())}},{key:"_setupConversion",value:function(){var e=this.editor,o=e.t,c=e.conversion,l=e.plugins.get("ImageUtils");c.for("dataDowncast").elementToElement({model:"imageInline",view:function(s,f){return f.writer.createEmptyElement("img")}}),c.for("editingDowncast").elementToStructure({model:"imageInline",view:function(s,f){var d=f.writer;return l.toImageWidget(function(h){return h.createContainerElement("span",{class:"image-inline"},h.createEmptyElement("img"))}(d),d,o("image widget"))}}),c.for("downcast").add(R0(l,"imageInline","src")).add(R0(l,"imageInline","alt")).add(i$(l,"imageInline")),c.for("upcast").elementToElement({view:WW(e,"imageInline"),model:function(s,f){return f.writer.createElement("imageInline",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)}})}},{key:"_setupClipboardIntegration",value:function(){var e=this.editor,o=e.model,c=e.editing.view,l=e.plugins.get("ImageUtils"),s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",function(f,d){var h,b=Array.from(d.content.getChildren());if(b.every(l.isBlockImageView)){h=d.targetRanges?e.editing.mapper.toModelRange(d.targetRanges[0]):o.document.selection.getFirstRange();var v=o.createSelection(h);if(fT(o.schema,v)==="imageInline"){var g=new _r(c.document),k=b.map(function(_){return _.childCount===1?(Array.from(_.getAttributes()).forEach(function(A){return g.setAttribute.apply(g,Ybt(A).concat([l.findViewImgElement(_)]))}),_.getChild(0)):_});d.content=g.createDocumentFragment(k)}}})}}])&&k$(t.prototype,n),i&&k$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Ds(r){return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(r)}function _$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ds(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ds(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ds(a)==="symbol"?a:String(a)),i)}var u,a}function PT(r,t){return PT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PT(r,t)}function Qbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=H0(r);if(t){var u=H0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function H0(r){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H0(r)}var Jbt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&PT(e,o)})(a,r);var t,n,i,u=Qbt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Zbt,kn,o$]}},{key:"pluginName",get:function(){return"ImageInline"}}],(n=null)&&_$(t.prototype,n),i&&_$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Rs(r){return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(r)}function A$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Rs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Rs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Rs(a)==="symbol"?a:String(a)),i)}var u,a}function ET(r,t){return ET=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ET(r,t)}function Xbt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=G0(r);if(t){var u=G0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function G0(r){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G0(r)}var tmt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&ET(e,o)})(a,r);var t,n,i,u=Xbt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[qbt,Jbt]}},{key:"pluginName",get:function(){return"Image"}}],(n=null)&&A$(t.prototype,n),i&&A$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Is(r){return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(r)}function C$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Is(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Is(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Is(a)==="symbol"?a:String(a)),i)}var u,a}function xT(r,t){return xT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xT(r,t)}function emt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=W0(r);if(t){var u=W0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function W0(r){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W0(r)}var rmt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&xT(e,o)})(a,r);var t,n,i,u=emt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"refresh",value:function(){var e=this.editor,o=e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);this.isEnabled=!!o,o&&o.hasAttribute("width")?this.value={width:o.getAttribute("width"),height:null}:this.value=null}},{key:"execute",value:function(e){var o=this.editor,c=o.model,l=o.plugins.get("ImageUtils").getClosestSelectedImageElement(c.document.selection);this.value={width:e.width,height:null},l&&c.change(function(s){s.setAttribute("width",e.width,l)})}}],n&&C$(t.prototype,n),i&&C$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Bs(r){return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(r)}function O$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Bs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Bs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Bs(a)==="symbol"?a:String(a)),i)}var u,a}function TT(r,t){return TT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TT(r,t)}function nmt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=$0(r);if(t){var u=$0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function $0(r){return $0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$0(r)}var S$=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&TT(e,o)})(a,r);var t,n,i,u=nmt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this,e),e.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]}),o}return t=a,i=[{key:"requires",get:function(){return[fr]}},{key:"pluginName",get:function(){return"ImageResizeEditing"}}],(n=[{key:"init",value:function(){var e=this.editor,o=new rmt(e);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),e.commands.add("resizeImage",o),e.commands.add("imageResize",o)}},{key:"_registerSchema",value:function(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:"width"}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:"width"})}},{key:"_registerConverters",value:function(e){var o=this.editor;o.conversion.for("downcast").add(function(c){return c.on("attribute:width:".concat(e),function(l,s,f){if(f.consumable.consume(s.item,l.name)){var d=f.writer,h=f.mapper.toViewElement(s.item);s.attributeNewValue!==null?(d.setStyle("width",s.attributeNewValue,h),d.addClass("image_resized",h)):(d.removeStyle("width",h),d.removeClass("image_resized",h))}})}),o.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"width",value:function(c){return c.getStyle("width")}}})}}])&&O$(t.prototype,n),i&&O$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Ms(r){return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(r)}function omt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return j$(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return j$(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function j$(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function P$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ms(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ms(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ms(a)==="symbol"?a:String(a)),i)}var u,a}function DT(r,t){return DT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DT(r,t)}function imt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=q0(r);if(t){var u=q0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function q0(r){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q0(r)}var RT={small:tst,medium:est,large:Xlt,original:Jlt},amt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&DT(e,o)})(a,r);var t,n,i,u=imt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._resizeUnit=e.config.get("image.resizeUnit"),o}return t=a,n=[{key:"init",value:function(){var e=this.editor,o=e.config.get("image.resizeOptions"),c=e.commands.get("resizeImage");this.bind("isEnabled").to(c);var l,s=omt(o);try{for(s.s();!(l=s.n()).done;){var f=l.value;this._registerImageResizeButton(f)}}catch(d){s.e(d)}finally{s.f()}this._registerImageResizeDropdown(o)}},{key:"_registerImageResizeButton",value:function(e){var o=this,c=this.editor,l=e.name,s=e.value,f=e.icon,d=s?s+this._resizeUnit:null;c.ui.componentFactory.add(l,function(h){var b=new vt(h),v=c.commands.get("resizeImage"),g=o._getOptionLabelValue(e,!0);if(!RT[f])throw new V("imageresizebuttons-missing-icon",c,e);return b.set({label:g,icon:RT[f],tooltip:g,isToggleable:!0}),b.bind("isEnabled").to(o),b.bind("isOn").to(v,"value",E$(d)),o.listenTo(b,"execute",function(){c.execute("resizeImage",{width:d})}),b})}},{key:"_registerImageResizeDropdown",value:function(e){var o=this,c=this.editor,l=c.t,s=e.find(function(d){return!d.value}),f=function(d){var h=c.commands.get("resizeImage"),b=ae(d,SM),v=b.buttonView,g=l("Resize image");return v.set({tooltip:g,commandValue:s.value,icon:RT.medium,isToggleable:!0,label:o._getOptionLabelValue(s),withText:!0,class:"ck-resize-image-button",ariaLabel:g,ariaLabelledBy:void 0}),v.bind("label").to(h,"value",function(k){return k&&k.width?k.width:o._getOptionLabelValue(s)}),b.bind("isEnabled").to(o),zr(b,function(){return o._getResizeDropdownListItemDefinitions(e,h)},{ariaLabel:l("Image resize list"),role:"menu"}),o.listenTo(b,"execute",function(k){c.execute(k.source.commandName,{width:k.source.commandValue}),c.editing.view.focus()}),b};c.ui.componentFactory.add("resizeImage",f),c.ui.componentFactory.add("imageResize",f)}},{key:"_getOptionLabelValue",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=this.editor.t;return e.label?e.label:o?e.value?c("Resize image to %0",e.value+this._resizeUnit):c("Resize image to the original size"):e.value?e.value+this._resizeUnit:c("Original")}},{key:"_getResizeDropdownListItemDefinitions",value:function(e,o){var c=this,l=new Qt;return e.map(function(s){var f=s.value?s.value+c._resizeUnit:null,d={type:"button",model:new Fr({commandName:"resizeImage",commandValue:f,label:c._getOptionLabelValue(s),role:"menuitemradio",withText:!0,icon:null})};d.model.bind("isOn").to(o,"value",E$(f)),l.add(d)}),l}}],i=[{key:"requires",get:function(){return[S$]}},{key:"pluginName",get:function(){return"ImageResizeButtons"}}],n&&P$(t.prototype,n),i&&P$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function E$(r){return function(t){return r===null&&t===r||t!==null&&t.width===r}}function Ns(r){return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(r)}function x$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ns(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ns(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ns(a)==="symbol"?a:String(a)),i)}var u,a}function IT(r,t){return IT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IT(r,t)}function cmt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Y0(r);if(t){var u=Y0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Y0(r){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Y0(r)}var umt=/(image|image-inline)/,BT="image_resized",lmt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&IT(e,o)})(a,r);var t,n,i,u=cmt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[s2]}},{key:"pluginName",get:function(){return"ImageResizeHandles"}}],(n=[{key:"init",value:function(){var e=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(e),this._setupResizerCreator()}},{key:"_setupResizerCreator",value:function(){var e=this,o=this.editor,c=o.editing.view;c.addObserver(c$),this.listenTo(c.document,"imageLoaded",function(l,s){if(s.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img")){var f=o.editing.view.domConverter,d=f.domToView(s.target).findAncestor({classes:umt}),h=e.editor.plugins.get(s2).getResizerByViewElement(d);if(h)h.redraw();else{var b=o.editing.mapper,v=b.toModelElement(d);(h=o.plugins.get(s2).attachTo({unit:o.config.get("image.resizeUnit"),modelElement:v,viewElement:d,editor:o,getHandleHost:function(g){return g.querySelector("img")},getResizeHost:function(){return f.mapViewToDom(b.toViewElement(v.parent))},isCentered:function(){var g=v.getAttribute("imageStyle");return!g||g=="block"||g=="alignCenter"},onCommit:function(g){c.change(function(k){k.removeClass(BT,d)}),o.execute("resizeImage",{width:g})}})).on("updateSize",function(){d.hasClass(BT)||c.change(function(g){g.addClass(BT,d)})}),h.bind("isEnabled").to(e)}}})}}])&&x$(t.prototype,n),i&&x$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),T$=x(2400),smt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(T$.Z,smt),T$.Z.locals;function Ls(r){return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(r)}function D$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ls(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ls(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ls(a)==="symbol"?a:String(a)),i)}var u,a}function MT(r,t){return MT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MT(r,t)}function fmt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=K0(r);if(t){var u=K0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function K0(r){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},K0(r)}var dmt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&MT(e,o)})(a,r);var t,n,i,u=fmt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[S$,lmt,amt]}},{key:"pluginName",get:function(){return"ImageResize"}}],(n=null)&&D$(t.prototype,n),i&&D$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function zs(r){return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(r)}function R$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(zs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(zs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),zs(a)==="symbol"?a:String(a)),i)}var u,a}function NT(r,t){return NT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NT(r,t)}function pmt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Z0(r);if(t){var u=Z0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Z0(r){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Z0(r)}var ymt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&NT(e,o)})(a,r);var t,n,i,u=pmt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"refresh",value:function(){var e=this.editor,o=e.plugins.get("ImageCaptionUtils"),c=e.plugins.get("ImageUtils");if(!e.plugins.has(v$))return this.isEnabled=!1,void(this.value=!1);var l=e.model.document.selection,s=l.getSelectedElement();if(!s){var f=o.getCaptionFromModelSelection(l);return this.isEnabled=!!f,void(this.value=!!f)}this.isEnabled=c.isImage(s),this.isEnabled?this.value=!!o.getCaptionFromImageModelElement(s):this.value=!1}},{key:"execute",value:function(){var e=this,o=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).focusCaptionOnShow;this.editor.model.change(function(c){e.value?e._hideImageCaption(c):e._showImageCaption(c,o)})}},{key:"_showImageCaption",value:function(e,o){var c=this.editor.model.document.selection,l=this.editor.plugins.get("ImageCaptionEditing"),s=this.editor.plugins.get("ImageUtils"),f=c.getSelectedElement(),d=l._getSavedCaption(f);s.isInlineImage(f)&&(this.editor.execute("imageTypeBlock"),f=c.getSelectedElement());var h=d||e.createElement("caption");e.append(h,f),o&&e.setSelection(h,"in")}},{key:"_hideImageCaption",value:function(e){var o,c=this.editor,l=c.model.document.selection,s=c.plugins.get("ImageCaptionEditing"),f=c.plugins.get("ImageCaptionUtils"),d=l.getSelectedElement();d?o=f.getCaptionFromImageModelElement(d):d=(o=f.getCaptionFromModelSelection(l)).parent,s._saveCaption(d,o),e.setSelection(d,"on"),e.remove(o)}}],n&&R$(t.prototype,n),i&&R$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Fs(r){return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(r)}function hmt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return I$(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return I$(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function I$(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function B$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Fs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Fs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Fs(a)==="symbol"?a:String(a)),i)}var u,a}function LT(r,t){return LT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LT(r,t)}function bmt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Q0(r);if(t){var u=Q0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Q0(r){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Q0(r)}var M$=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&LT(e,o)})(a,r);var t,n,i,u=bmt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"ImageCaptionUtils"}},{key:"requires",get:function(){return[fr]}}],(n=[{key:"getCaptionFromImageModelElement",value:function(e){var o,c=hmt(e.getChildren());try{for(c.s();!(o=c.n()).done;){var l=o.value;if(l&&l.is("element","caption"))return l}}catch(s){c.e(s)}finally{c.f()}return null}},{key:"getCaptionFromModelSelection",value:function(e){var o=this.editor.plugins.get("ImageUtils"),c=e.getFirstPosition().findAncestor("caption");return c&&o.isBlockImage(c.parent)?c:null}},{key:"matchImageCaptionViewElement",value:function(e){var o=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&o.isBlockImageView(e.parent)?{name:!0}:null}}])&&B$(t.prototype,n),i&&B$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Vs(r){return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(r)}function mmt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return N$(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return N$(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function N$(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function L$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Vs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Vs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Vs(a)==="symbol"?a:String(a)),i)}var u,a}function zT(r,t){return zT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zT(r,t)}function vmt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=J0(r);if(t){var u=J0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function J0(r){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J0(r)}var gmt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&zT(e,o)})(a,r);var t,n,i,u=vmt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._savedCaptionsMap=new WeakMap,o}return t=a,n=[{key:"init",value:function(){var e=this.editor,o=e.model.schema;o.isRegistered("caption")?o.extend("caption",{allowIn:"imageBlock"}):o.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new ymt(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}},{key:"_setupConversion",value:function(){var e=this.editor,o=e.editing.view,c=e.plugins.get("ImageUtils"),l=e.plugins.get("ImageCaptionUtils"),s=e.t;e.conversion.for("upcast").elementToElement({view:function(f){return l.matchImageCaptionViewElement(f)},model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:function(f,d){var h=d.writer;return c.isBlockImage(f.parent)?h.createContainerElement("figcaption"):null}}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:function(f,d){var h=d.writer;if(!c.isBlockImage(f.parent))return null;var b=h.createEditableElement("figcaption");h.setCustomProperty("imageCaption",!0,b),b.placeholder=s("Enter image caption"),cO({view:o,element:b,keepOnFocus:!0});var v=f.parent.getAttribute("alt");return qx(b,h,{label:v?s("Caption for image: %0",[v]):s("Caption for the image")})}})}},{key:"_setupImageTypeCommandsIntegration",value:function(){var e=this,o=this.editor,c=o.plugins.get("ImageUtils"),l=o.plugins.get("ImageCaptionUtils"),s=o.commands.get("imageTypeInline"),f=o.commands.get("imageTypeBlock"),d=function(h){if(h.return){var b=h.return,v=b.oldElement,g=b.newElement;if(v){if(c.isBlockImage(v)){var k=l.getCaptionFromImageModelElement(v);if(k)return void e._saveCaption(g,k)}var _=e._getSavedCaption(v);_&&e._saveCaption(g,_)}}};s&&this.listenTo(s,"execute",d,{priority:"low"}),f&&this.listenTo(f,"execute",d,{priority:"low"})}},{key:"_getSavedCaption",value:function(e){var o=this._savedCaptionsMap.get(e);return o?Ut.fromJSON(o):null}},{key:"_saveCaption",value:function(e,o){this._savedCaptionsMap.set(e,o.toJSON())}},{key:"_registerCaptionReconversion",value:function(){var e=this.editor,o=e.model,c=e.plugins.get("ImageUtils"),l=e.plugins.get("ImageCaptionUtils");o.document.on("change:data",function(){var s,f=mmt(o.document.differ.getChanges());try{for(f.s();!(s=f.n()).done;){var d=s.value;if(d.attributeKey==="alt"){var h=d.range.start.nodeAfter;if(c.isBlockImage(h)){var b=l.getCaptionFromImageModelElement(h);if(!b)return;e.editing.reconvertItem(b)}}}}catch(v){f.e(v)}finally{f.f()}})}}],i=[{key:"requires",get:function(){return[fr,M$]}},{key:"pluginName",get:function(){return"ImageCaptionEditing"}}],n&&L$(t.prototype,n),i&&L$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Us(r){return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(r)}function z$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Us(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Us(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Us(a)==="symbol"?a:String(a)),i)}var u,a}function FT(r,t){return FT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FT(r,t)}function wmt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=X0(r);if(t){var u=X0(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function X0(r){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X0(r)}var kmt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&FT(e,o)})(a,r);var t,n,i,u=wmt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[M$]}},{key:"pluginName",get:function(){return"ImageCaptionUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.editing.view,l=o.plugins.get("ImageCaptionUtils"),s=o.t;o.ui.componentFactory.add("toggleImageCaption",function(f){var d=o.commands.get("toggleImageCaption"),h=new vt(f);return h.set({icon:$z,tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(d,"value","isEnabled"),h.bind("label").to(d,"value",function(b){return s(b?"Toggle caption off":"Toggle caption on")}),e.listenTo(h,"execute",function(){o.execute("toggleImageCaption",{focusCaptionOnShow:!0});var b=l.getCaptionFromModelSelection(o.model.document.selection);if(b){var v=o.editing.mapper.toViewElement(b);c.scrollToTheSelection(),c.change(function(g){g.addClass("image__caption_highlighted",v)})}o.editing.view.focus()}),h})}}])&&z$(t.prototype,n),i&&z$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),F$=x(2423),_mt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(F$.Z,_mt),F$.Z.locals;function Hs(r){return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(r)}function V$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Hs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Hs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Hs(a)==="symbol"?a:String(a)),i)}var u,a}function VT(r,t){return VT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VT(r,t)}function Amt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=tk(r);if(t){var u=tk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function tk(r){return tk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tk(r)}var Cmt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&VT(e,o)})(a,r);var t,n,i,u=Amt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[gmt,kmt]}},{key:"pluginName",get:function(){return"ImageCaption"}}],(n=null)&&V$(t.prototype,n),i&&V$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function U$(r){var t=r.map(function(n){return n.replace("+","\\+")});return new RegExp("^image\\/(".concat(t.join("|"),")$"))}function Omt(r){return new Promise(function(t,n){var i=r.getAttribute("src");fetch(i).then(function(u){return u.blob()}).then(function(u){var a=H$(u,i),e=a.replace("image/",""),o="image.".concat(e),c=new File([u],o,{type:a});t(c)}).catch(function(u){return u&&u.name==="TypeError"?function(a){return function(e){return new Promise(function(o,c){var l=kt.document.createElement("img");l.addEventListener("load",function(){var s=kt.document.createElement("canvas");s.width=l.width,s.height=l.height,s.getContext("2d").drawImage(l,0,0),s.toBlob(function(f){return f?o(f):c()})}),l.addEventListener("error",function(){return c()}),l.src=e})}(a).then(function(e){var o=H$(e,a),c=o.replace("image/",""),l="image.".concat(c);return new File([e],l,{type:o})})}(i).then(t).catch(n):n(u)})})}function H$(r,t){return r.type?r.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function Gs(r){return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(r)}function G$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Gs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Gs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Gs(a)==="symbol"?a:String(a)),i)}var u,a}function UT(r,t){return UT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UT(r,t)}function Smt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ek(r);if(t){var u=ek(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function ek(r){return ek=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ek(r)}var jmt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&UT(e,o)})(a,r);var t,n,i,u=Smt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"ImageUploadUI"}}],(n=[{key:"init",value:function(){var e=this.editor,o=e.t,c=function(l){var s=new upt(l),f=e.commands.get("uploadImage"),d=e.config.get("image.upload.types"),h=U$(d);return s.set({acceptedType:d.map(function(b){return"image/".concat(b)}).join(","),allowMultipleFiles:!0}),s.buttonView.set({label:o("Insert image"),icon:qz,tooltip:!0}),s.buttonView.bind("isEnabled").to(f),s.on("done",function(b,v){var g=Array.from(v).filter(function(k){return h.test(k.type)});g.length&&(e.execute("uploadImage",{file:g}),e.editing.view.focus())}),s};e.ui.componentFactory.add("uploadImage",c),e.ui.componentFactory.add("imageUpload",c)}}])&&G$(t.prototype,n),i&&G$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),W$=x(2926),Pmt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(W$.Z,Pmt),W$.Z.locals;var $$=x(1547),Emt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()($$.Z,Emt),$$.Z.locals;var q$=x(6618),xmt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(q$.Z,xmt),q$.Z.locals;function Ws(r){return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(r)}function Tmt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return Y$(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Y$(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Y$(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function K$(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ws(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ws(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ws(a)==="symbol"?a:String(a)),i)}var u,a}function HT(r,t){return HT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HT(r,t)}function Dmt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=rk(r);if(t){var u=rk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function rk(r){return rk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rk(r)}var Rmt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&HT(e,o)})(a,r);var t,n,i,u=Dmt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).uploadStatusChange=function(c,l,s){var f=o.editor,d=l.item,h=d.getAttribute("uploadId");if(s.consumable.consume(l.item,c.name)){var b=f.plugins.get("ImageUtils"),v=f.plugins.get(Ur),g=h?l.attributeNewValue:null,k=o.placeholder,_=f.editing.mapper.toViewElement(d),A=s.writer;if(g=="reading")return Z$(_,A),void Q$(b,k,_,A);if(g=="uploading"){var C=v.loaders.get(h);return Z$(_,A),void(C?(J$(_,A),function(S,P,E,R){var I=function(z){var F=z.createUIElement("div",{class:"ck-progress-bar"});return z.setCustomProperty("progressBar",!0,F),F}(P);P.insert(P.createPositionAt(S,"end"),I),E.on("change:uploadedPercent",function(z,F,tt){R.change(function(Z){Z.setStyle("width",tt+"%",I)})})}(_,A,C,f.editing.view),function(S,P,E,R){if(R.data){var I=S.findViewImgElement(P);E.setAttribute("src",R.data,I)}}(b,_,A,C)):Q$(b,k,_,A))}g=="complete"&&v.loaders.get(h)&&function(S,P,E){var R=P.createUIElement("div",{class:"ck-image-upload-complete-icon"});P.insert(P.createPositionAt(S,"end"),R),setTimeout(function(){E.change(function(I){return I.remove(I.createRangeOn(R))})},3e3)}(_,A,f.editing.view),function(S,P){tq(S,P,"progressBar")}(_,A),J$(_,A),function(S,P){P.removeClass("ck-appear",S)}(_,A)}},o.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",o}return t=a,i=[{key:"pluginName",get:function(){return"ImageUploadProgress"}}],(n=[{key:"init",value:function(){var e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}])&&K$(t.prototype,n),i&&K$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Z$(r,t){r.hasClass("ck-appear")||t.addClass("ck-appear",r)}function Q$(r,t,n,i){n.hasClass("ck-image-upload-placeholder")||i.addClass("ck-image-upload-placeholder",n);var u=r.findViewImgElement(n);u.getAttribute("src")!==t&&i.setAttribute("src",t,u),X$(n,"placeholder")||i.insert(i.createPositionAfter(u),function(a){var e=a.createUIElement("div",{class:"ck-upload-placeholder-loader"});return a.setCustomProperty("placeholder",!0,e),e}(i))}function J$(r,t){r.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",r),tq(r,t,"placeholder")}function X$(r,t){var n,i=Tmt(r.getChildren());try{for(i.s();!(n=i.n()).done;){var u=n.value;if(u.getCustomProperty(t))return u}}catch(a){i.e(a)}finally{i.f()}}function tq(r,t,n){var i=X$(r,n);i&&t.remove(t.createRangeOn(i))}function $s(r){return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(r)}function eq(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function rq(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eq(Object(n),!0).forEach(function(i){Imt(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):eq(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Imt(r,t,n){return(t=oq(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function nq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,oq(i.key),i)}}function oq(r){var t=function(n,i){if($s(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if($s(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return $s(t)==="symbol"?t:String(t)}function GT(r,t){return GT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GT(r,t)}function Bmt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=nk(r);if(t){var u=nk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function nk(r){return nk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nk(r)}var Mmt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&GT(e,o)})(a,r);var t,n,i,u=Bmt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"refresh",value:function(){var e=this.editor,o=e.plugins.get("ImageUtils"),c=e.model.document.selection.getSelectedElement();this.isEnabled=o.isImageAllowed()||o.isImage(c)}},{key:"execute",value:function(e){var o=this,c=Kt(e.file),l=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),f=Object.fromEntries(l.getAttributes());c.forEach(function(d,h){var b=l.getSelectedElement();if(h&&b&&s.isImage(b)){var v=o.editor.model.createPositionAfter(b);o._uploadImage(d,f,v)}else o._uploadImage(d,f)})}},{key:"_uploadImage",value:function(e,o,c){var l=this.editor,s=l.plugins.get(Ur).createLoader(e),f=l.plugins.get("ImageUtils");s&&f.insertImage(rq(rq({},o),{},{uploadId:s.id}),c)}}],n&&nq(t.prototype,n),i&&nq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function qs(r){return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(r)}function WT(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return iq(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return iq(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function iq(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function aq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(qs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(qs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),qs(a)==="symbol"?a:String(a)),i)}var u,a}function $T(r,t){return $T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$T(r,t)}function Nmt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ok(r);if(t){var u=ok(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function ok(r){return ok=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ok(r)}var Lmt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&$T(e,o)})(a,r);var t,n,i,u=Nmt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this,e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),o._uploadImageElements=new Map,o}return t=a,i=[{key:"requires",get:function(){return[Ur,eE,Ar,fr]}},{key:"pluginName",get:function(){return"ImageUploadEditing"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.model.document,l=o.conversion,s=o.plugins.get(Ur),f=o.plugins.get("ImageUtils"),d=o.plugins.get("ClipboardPipeline"),h=U$(o.config.get("image.upload.types")),b=new Mmt(o);o.commands.add("uploadImage",b),o.commands.add("imageUpload",b),l.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(o.editing.view.document,"clipboardInput",function(v,g){if(k=g.dataTransfer,!Array.from(k.types).includes("text/html")||k.getData("text/html")===""){var k,_=Array.from(g.dataTransfer.files).filter(function(A){return!!A&&h.test(A.type)});_.length&&(v.stop(),o.model.change(function(A){g.targetRanges&&A.setSelection(g.targetRanges.map(function(C){return o.editing.mapper.toModelRange(C)})),o.model.enqueueChange(function(){o.execute("uploadImage",{file:_})})}))}}),this.listenTo(d,"inputTransformation",function(v,g){var k=Array.from(o.editing.view.createRangeIn(g.content)).map(function(E){return E.item}).filter(function(E){return function(R,I){return!(!R.isInlineImageView(I)||!I.getAttribute("src")||!I.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!I.getAttribute("src").match(/^blob:/g))}(f,E)&&!E.getAttribute("uploadProcessed")}).map(function(E){return{promise:Omt(E),imageElement:E}});if(k.length){var _,A=new _r(o.editing.view.document),C=WT(k);try{for(C.s();!(_=C.n()).done;){var S=_.value;A.setAttribute("uploadProcessed",!0,S.imageElement);var P=s.createLoader(S.promise);P&&(A.setAttribute("src","",S.imageElement),A.setAttribute("uploadId",P.id,S.imageElement))}}catch(E){C.e(E)}finally{C.f()}}}),o.editing.view.document.on("dragover",function(v,g){g.preventDefault()}),c.on("change",function(){var v,g=c.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),k=new Set,_=WT(g);try{for(_.s();!(v=_.n()).done;){var A=v.value;if(A.type=="insert"&&A.name!="$text"){var C,S=A.position.nodeAfter,P=A.position.root.rootName=="$graveyard",E=WT(zmt(o,S));try{for(E.s();!(C=E.n()).done;){var R=C.value,I=R.getAttribute("uploadId");if(I){var z=s.loaders.get(I);z&&(P?k.has(I)||z.abort():(k.add(I),e._uploadImageElements.set(I,R),z.status=="idle"&&e._readAndUpload(z)))}}}catch(F){E.e(F)}finally{E.f()}}}}catch(F){_.e(F)}finally{_.f()}}),this.on("uploadComplete",function(v,g){var k=g.imageElement,_=g.data,A=_.urls?_.urls:_;e.editor.model.change(function(C){C.setAttribute("src",A.default,k),e._parseAndSetSrcsetAttributeOnImage(A,k,C)})},{priority:"low"})}},{key:"afterInit",value:function(){var e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}},{key:"_readAndUpload",value:function(e){var o=this,c=this.editor,l=c.model,s=c.locale.t,f=c.plugins.get(Ur),d=c.plugins.get(eE),h=c.plugins.get("ImageUtils"),b=this._uploadImageElements;return l.enqueueChange({isUndoable:!1},function(g){g.setAttribute("uploadStatus","reading",b.get(e.id))}),e.read().then(function(){var g=e.upload(),k=b.get(e.id);if(pt.isSafari){var _=c.editing.mapper.toViewElement(k),A=h.findViewImgElement(_);c.editing.view.once("render",function(){if(A.parent){var C=c.editing.view.domConverter.mapViewToDom(A.parent);if(C){var S=C.style.display;C.style.display="none",C._ckHack=C.offsetHeight,C.style.display=S}}})}return l.enqueueChange({isUndoable:!1},function(C){C.setAttribute("uploadStatus","uploading",k)}),g}).then(function(g){l.enqueueChange({isUndoable:!1},function(k){var _=b.get(e.id);k.setAttribute("uploadStatus","complete",_),o.fire("uploadComplete",{data:g,imageElement:_})}),v()}).catch(function(g){if(e.status!=="error"&&e.status!=="aborted")throw g;e.status=="error"&&g&&d.showWarning(g,{title:s("Upload failed"),namespace:"upload"}),l.enqueueChange({isUndoable:!1},function(k){k.remove(b.get(e.id))}),v()});function v(){l.enqueueChange({isUndoable:!1},function(g){var k=b.get(e.id);g.removeAttribute("uploadId",k),g.removeAttribute("uploadStatus",k),b.delete(e.id)}),f.destroyLoader(e)}}},{key:"_parseAndSetSrcsetAttributeOnImage",value:function(e,o,c){var l=0,s=Object.keys(e).filter(function(f){var d=parseInt(f,10);if(!isNaN(d))return l=Math.max(l,d),!0}).map(function(f){return"".concat(e[f]," ").concat(f,"w")}).join(", ");s!=""&&c.setAttribute("srcset",{data:s,width:l},o)}}])&&aq(t.prototype,n),i&&aq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function zmt(r,t){var n=r.plugins.get("ImageUtils");return Array.from(r.model.createRangeOn(t)).filter(function(i){return n.isImage(i.item)}).map(function(i){return i.item})}function Ys(r){return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(r)}function cq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ys(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ys(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ys(a)==="symbol"?a:String(a)),i)}var u,a}function qT(r,t){return qT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qT(r,t)}function Fmt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ik(r);if(t){var u=ik(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function ik(r){return ik=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ik(r)}var uq=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&qT(e,o)})(a,r);var t,n,i,u=Fmt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"ImageUpload"}},{key:"requires",get:function(){return[Lmt,jmt,Rmt]}}],(n=null)&&cq(t.prototype,n),i&&cq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),lq=x(8340),Vmt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(lq.Z,Vmt),lq.Z.locals;function Ks(r){return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(r)}function sq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ks(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ks(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ks(a)==="symbol"?a:String(a)),i)}var u,a}function YT(r,t){return YT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YT(r,t)}function Umt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ak(r);if(t){var u=ak(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function ak(r){return ak=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ak(r)}var Hmt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&YT(e,o)})(a,r);var t,n,i,u=Umt(a);function a(e){var o,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a);var l=(o=u.call(this,e)).bindTemplate;return o.set("class",c.class||null),o.children=o.createCollection(),c.children&&c.children.forEach(function(s){return o.children.add(s)}),o.set("_role",null),o.set("_ariaLabelledBy",null),c.labelView&&o.set({_role:"group",_ariaLabelledBy:c.labelView.id}),o.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",l.to("class")],role:l.to("_role"),"aria-labelledby":l.to("_ariaLabelledBy")},children:o.children}),o}return t=a,n&&sq(t.prototype,n),i&&sq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(yt),fq=x(8879),Gmt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(fq.Z,Gmt),fq.Z.locals;function Zs(r){return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(r)}function dq(r){return function(t){if(Array.isArray(t))return KT(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||pq(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wmt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||pq(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pq(r,t){if(r){if(typeof r=="string")return KT(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KT(r,t):void 0}}function KT(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function yq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Zs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Zs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Zs(a)==="symbol"?a:String(a)),i)}var u,a}function ck(){return ck=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Io(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},ck.apply(this,arguments)}function ZT(r,t){return ZT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZT(r,t)}function $mt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Io(r);if(t){var u=Io(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hq(a)}(this,n)}}function hq(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Io(r){return Io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Io(r)}var qmt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&ZT(e,o)})(a,r);var t,n,i,u=$mt(a);function a(e){var o,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")})(this,a);var l=(o=u.call(this,e))._createActionButtons(e),s=l.insertButtonView,f=l.cancelButtonView;o.insertButtonView=s,o.cancelButtonView=f,o.set("imageURLInputValue",""),o.focusTracker=new ce,o.keystrokes=new de,o._focusables=new De,o._focusCycler=new Qe({focusables:o._focusables,focusTracker:o.focusTracker,keystrokeHandler:o.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),o.set("_integrations",new Qt);for(var d=function(){var v=Wmt(b[h],2),g=v[0],k=v[1];g==="insertImageViaUrl"&&(k.fieldView.bind("value").to(hq(o),"imageURLInputValue",function(_){return _||""}),k.fieldView.on("input",function(){o.imageURLInputValue=k.fieldView.element.value.trim()})),k.name=g,o._integrations.add(k)},h=0,b=Object.entries(c);h<b.length;h++)d();return o.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:"-1"},children:[].concat(dq(o._integrations),[new Hmt(e,{children:[o.insertButtonView,o.cancelButtonView],class:"ck-image-insert-form__action-row"})])}),o}return t=a,(n=[{key:"render",value:function(){var e=this;ck(Io(a.prototype),"render",this).call(this),it({view:this}),[].concat(dq(this._integrations),[this.insertButtonView,this.cancelButtonView]).forEach(function(c){e._focusables.add(c),e.focusTracker.add(c.element)}),this.keystrokes.listenTo(this.element);var o=function(c){return c.stopPropagation()};this.keystrokes.set("arrowright",o),this.keystrokes.set("arrowleft",o),this.keystrokes.set("arrowup",o),this.keystrokes.set("arrowdown",o)}},{key:"destroy",value:function(){ck(Io(a.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"getIntegration",value:function(e){return this._integrations.find(function(o){return o.name===e})}},{key:"_createActionButtons",value:function(e){var o=e.t,c=new vt(e),l=new vt(e);return c.set({label:o("Insert"),icon:po,class:"ck-button-save",type:"submit",withText:!0,isEnabled:this.imageURLInputValue}),l.set({label:o("Cancel"),icon:fo,class:"ck-button-cancel",withText:!0}),c.bind("isEnabled").to(this,"imageURLInputValue",function(s){return!!s}),c.delegate("execute").to(this,"submit"),l.delegate("execute").to(this,"cancel"),{insertButtonView:c,cancelButtonView:l}}},{key:"focus",value:function(){this._focusCycler.focusFirst()}}])&&yq(t.prototype,n),i&&yq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function Ymt(r){var t=r.t,n=new ue(r,Ge);return n.set({label:t("Insert image via URL")}),n.fieldView.placeholder="https://example.com/image.png",n}function Qs(r){return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(r)}function bq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Qs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Qs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Qs(a)==="symbol"?a:String(a)),i)}var u,a}function QT(r,t){return QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QT(r,t)}function Kmt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=uk(r);if(t){var u=uk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function uk(r){return uk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uk(r)}var mq=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&QT(e,o)})(a,r);var t,n,i,u=Kmt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"ImageInsertUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=function(l){return e._createDropdownView(l)};o.ui.componentFactory.add("insertImage",c),o.ui.componentFactory.add("imageInsert",c)}},{key:"_createDropdownView",value:function(e){var o=this.editor,c=e.t,l=o.commands.get("uploadImage"),s=o.commands.get("insertImage");this.dropdownView=ae(e,l?Bc:void 0);var f=this.dropdownView.buttonView,d=this.dropdownView.panelView;if(f.set({label:c("Insert image"),icon:qz,tooltip:!0}),d.extendTemplate({attributes:{class:"ck-image-insert__panel"}}),l){var h=this.dropdownView.buttonView;h.actionView=o.ui.componentFactory.create("uploadImage"),h.actionView.extendTemplate({attributes:{class:"ck ck-button ck-splitbutton__action"}})}return this._setUpDropdown(l||s)}},{key:"_setUpDropdown",value:function(e){var o,c=this.editor,l=c.t,s=this.dropdownView,f=s.panelView,d=this.editor.plugins.get("ImageUtils"),h=c.commands.get("replaceImageSource");function b(){c.editing.view.focus(),s.isOpen=!1}return s.bind("isEnabled").to(e),s.once("change:isOpen",function(){o=new qmt(c.locale,function(v){var g=v.config.get("image.insert.integrations"),k=v.plugins.get("ImageInsertUI"),_={insertImageViaUrl:Ymt(v.locale)};if(!g)return _;if(g.find(function(C){return C==="openCKFinder"})&&v.ui.componentFactory.has("ckfinder")){var A=v.ui.componentFactory.create("ckfinder");A.set({withText:!0,class:"ck-image-insert__ck-finder-button"}),A.delegate("execute").to(k,"cancel"),_.openCKFinder=A}return g.reduce(function(C,S){return _[S]?C[S]=_[S]:v.ui.componentFactory.has(S)&&(C[S]=v.ui.componentFactory.create(S)),C},{})}(c)),o.delegate("submit","cancel").to(s),f.children.add(o)}),s.on("change:isOpen",function(){var v=c.model.document.selection.getSelectedElement(),g=o.insertButtonView,k=o.getIntegration("insertImageViaUrl");s.isOpen&&(d.isImage(v)?(o.imageURLInputValue=h.value,g.label=l("Update"),k.label=l("Update image URL")):(o.imageURLInputValue="",g.label=l("Insert"),k.label=l("Insert image via URL")))},{priority:"low"}),this.delegate("cancel").to(s),s.on("submit",function(){var v;b(),v=c.model.document.selection.getSelectedElement(),d.isImage(v)?c.execute("replaceImageSource",{source:o.imageURLInputValue}):c.execute("insertImage",{source:o.imageURLInputValue})}),s.on("cancel",function(){b()}),s}}])&&bq(t.prototype,n),i&&bq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Js(r){return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(r)}function vq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Js(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Js(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Js(a)==="symbol"?a:String(a)),i)}var u,a}function JT(r,t){return JT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JT(r,t)}function Zmt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=lk(r);if(t){var u=lk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function lk(r){return lk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lk(r)}var Qmt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&JT(e,o)})(a,r);var t,n,i,u=Zmt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"ImageInsertViaUrl"}},{key:"requires",get:function(){return[mq]}}],(n=null)&&vq(t.prototype,n),i&&vq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Xs(r){return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(r)}function gq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Xs(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Xs(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Xs(a)==="symbol"?a:String(a)),i)}var u,a}function XT(r,t){return XT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XT(r,t)}function Jmt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=sk(r);if(t){var u=sk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function sk(r){return sk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sk(r)}var Xmt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&XT(e,o)})(a,r);var t,n,i,u=Jmt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"ImageInsert"}},{key:"requires",get:function(){return[uq,Qmt,mq]}}],(n=null)&&gq(t.prototype,n),i&&gq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function tf(r){return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(r)}function tvt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return wq(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return wq(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function wq(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function kq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(tf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(tf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),tf(a)==="symbol"?a:String(a)),i)}var u,a}function tD(r,t){return tD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tD(r,t)}function evt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=fk(r);if(t){var u=fk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function fk(r){return fk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fk(r)}var rvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&tD(e,o)})(a,r);var t,n,i,u=evt(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e))._defaultStyles={imageBlock:!1,imageInline:!1},c._styles=new Map(o.map(function(l){if(l.isDefault){var s,f=tvt(l.modelElements);try{for(f.s();!(s=f.n()).done;){var d=s.value;c._defaultStyles[d]=l.name}}catch(h){f.e(h)}finally{f.f()}}return[l.name,l]})),c}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}},{key:"execute",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=this.editor,l=c.model,s=c.plugins.get("ImageUtils");l.change(function(f){var d=o.value,h=s.getClosestSelectedImageElement(l.document.selection);d&&e.shouldConvertImageType(d,h)&&(e.editor.execute(s.isBlockImage(h)?"imageTypeInline":"imageTypeBlock"),h=s.getClosestSelectedImageElement(l.document.selection)),!d||e._styles.get(d).isDefault?f.removeAttribute("imageStyle",h):f.setAttribute("imageStyle",d,h)})}},{key:"shouldConvertImageType",value:function(e,o){return!this._styles.get(e).modelElements.includes(o.name)}}],n&&kq(t.prototype,n),i&&kq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Uh(r){return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(r)}function _q(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function Aq(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_q(Object(n),!0).forEach(function(i){nvt(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):_q(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function nvt(r,t,n){return t=function(i){var u=function(a,e){if(Uh(a)!=="object"||a===null)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var c=o.call(a,e||"default");if(Uh(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}(i,"string");return Uh(u)==="symbol"?u:String(u)}(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}var Cq=Klt,Oq=Jz,eD=tF,rD=Xz,Sq=Zlt,jq=Qlt,dk={get inline(){return{name:"inline",title:"In line",icon:Cq,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:Oq,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:Sq,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:rD,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:eD,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:jq,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:rD,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:eD,modelElements:["imageBlock"],className:"image-style-side"}}},Pq={full:Ylt,left:Sq,right:jq,center:rD,inlineLeft:Oq,inlineRight:eD,inline:Cq},Eq=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function xq(r){Ct("image-style-configuration-definition-invalid",r)}const pk={normalizeStyles:function(r){return(r.configuredStyles.options||[]).map(function(t){return function(n){return n=typeof n=="string"?dk[n]?Aq({},dk[n]):{name:n}:function(i,u){var a=Aq({},u);for(var e in i)Object.prototype.hasOwnProperty.call(u,e)||(a[e]=i[e]);return a}(dk[n.name],n),typeof n.icon=="string"&&(n.icon=Pq[n.icon]||n.icon),n}(t)}).filter(function(t){return function(n,i){var u=i.isBlockPluginLoaded,a=i.isInlinePluginLoaded,e=n.modelElements,o=n.name;if(!(e&&e.length&&o))return xq({style:n}),!1;var c=[u?"imageBlock":null,a?"imageInline":null];return e.some(function(l){return c.includes(l)})?!0:(Ct("image-style-missing-dependency",{style:n,missingPlugins:e.map(function(l){return l==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing"})}),!1)}(t,r)})},getDefaultStylesConfiguration:function(r,t){return r&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:r?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(r){return r.has("ImageBlockEditing")&&r.has("ImageInlineEditing")?[].concat(Eq):[]},warnInvalidStyle:xq,DEFAULT_OPTIONS:dk,DEFAULT_ICONS:Pq,DEFAULT_DROPDOWN_DEFINITIONS:Eq};function Tq(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return Dq(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Dq(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Dq(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Rq(r,t){var n,i=Tq(t);try{for(i.s();!(n=i.n()).done;){var u=n.value;if(u.name===r)return u}}catch(a){i.e(a)}finally{i.f()}}function ef(r){return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(r)}function ovt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return Iq(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Iq(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Iq(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Bq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ef(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ef(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ef(a)==="symbol"?a:String(a)),i)}var u,a}function nD(r,t){return nD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nD(r,t)}function ivt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=yk(r);if(t){var u=yk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function yk(r){return yk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yk(r)}var Mq=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&nD(e,o)})(a,r);var t,n,i,u=ivt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=pk.normalizeStyles,o=pk.getDefaultStylesConfiguration,c=this.editor,l=c.plugins.has("ImageBlockEditing"),s=c.plugins.has("ImageInlineEditing");c.config.define("image.styles",o(l,s)),this.normalizedStyles=e({configuredStyles:c.config.get("image.styles"),isBlockPluginLoaded:l,isInlinePluginLoaded:s}),this._setupConversion(l,s),this._setupPostFixer(),c.commands.add("imageStyle",new rvt(c,this.normalizedStyles))}},{key:"_setupConversion",value:function(e,o){var c,l=this.editor,s=l.model.schema,f=(c=this.normalizedStyles,function(h,b,v){if(v.consumable.consume(b.item,h.name)){var g=Rq(b.attributeNewValue,c),k=Rq(b.attributeOldValue,c),_=v.mapper.toViewElement(b.item),A=v.writer;k&&A.removeClass(k.className,_),g&&A.addClass(g.className,_)}}),d=function(h){var b={imageInline:h.filter(function(v){return!v.isDefault&&v.modelElements.includes("imageInline")}),imageBlock:h.filter(function(v){return!v.isDefault&&v.modelElements.includes("imageBlock")})};return function(v,g,k){if(g.modelRange){var _=g.viewItem,A=Vt(g.modelRange.getItems());if(A&&k.schema.checkAttribute(A,"imageStyle")){var C,S=Tq(b[A.name]);try{for(S.s();!(C=S.n()).done;){var P=C.value;k.consumable.consume(_,{classes:P.className})&&k.writer.setAttribute("imageStyle",P.name,A)}}catch(E){S.e(E)}finally{S.f()}}}}}(this.normalizedStyles);l.editing.downcastDispatcher.on("attribute:imageStyle",f),l.data.downcastDispatcher.on("attribute:imageStyle",f),e&&(s.extend("imageBlock",{allowAttributes:"imageStyle"}),l.data.upcastDispatcher.on("element:figure",d,{priority:"low"})),o&&(s.extend("imageInline",{allowAttributes:"imageStyle"}),l.data.upcastDispatcher.on("element:img",d,{priority:"low"}))}},{key:"_setupPostFixer",value:function(){var e=this.editor,o=e.model.document,c=e.plugins.get(fr),l=new Map(this.normalizedStyles.map(function(s){return[s.name,s]}));o.registerPostFixer(function(s){var f,d=!1,h=ovt(o.differ.getChanges());try{for(h.s();!(f=h.n()).done;){var b=f.value;if(b.type=="insert"||b.type=="attribute"&&b.attributeKey=="imageStyle"){var v=b.type=="insert"?b.position.nodeAfter:b.range.start.nodeAfter;if(v&&v.is("element","paragraph")&&v.childCount>0&&(v=v.getChild(0)),!c.isImage(v))continue;var g=v.getAttribute("imageStyle");if(!g)continue;var k=l.get(g);k&&k.modelElements.includes(v.name)||(s.removeAttribute("imageStyle",v),d=!0)}}}catch(_){h.e(_)}finally{h.f()}return d})}}],i=[{key:"pluginName",get:function(){return"ImageStyleEditing"}},{key:"requires",get:function(){return[fr]}}],n&&Bq(t.prototype,n),i&&Bq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),Nq=x(3534),avt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(Nq.Z,avt),Nq.Z.locals;function rf(r){return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(r)}function Lq(r){return function(t){if(Array.isArray(t))return iD(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||zq(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function oD(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=zq(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function zq(r,t){if(r){if(typeof r=="string")return iD(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iD(r,t):void 0}}function iD(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Fq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(rf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(rf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),rf(a)==="symbol"?a:String(a)),i)}var u,a}function aD(r,t){return aD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aD(r,t)}function cvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=hk(r);if(t){var u=hk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function hk(r){return hk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hk(r)}var uvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&aD(e,o)})(a,r);var t,n,i,u=cvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"localizedDefaultStylesTitles",get:function(){var e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}},{key:"init",value:function(){var e,o=this.editor.plugins,c=this.editor.config.get("image.toolbar")||[],l=Vq(o.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles),s=oD(l);try{for(s.s();!(e=s.n()).done;){var f=e.value;this._createButton(f)}}catch(v){s.e(v)}finally{s.f()}var d,h=oD(Vq([].concat(Lq(c.filter(Gt)),Lq(pk.getDefaultDropdownDefinitions(o))),this.localizedDefaultStylesTitles));try{for(h.s();!(d=h.n()).done;){var b=d.value;this._createDropdown(b,l)}}catch(v){h.e(v)}finally{h.f()}}},{key:"_createDropdown",value:function(e,o){var c=this,l=this.editor.ui.componentFactory;l.add(e.name,function(s){var f,d=e.defaultItem,h=e.items,b=e.title,v=h.filter(function(A){return o.find(function(C){return Uq(C.name)===A})}).map(function(A){var C=l.create(A);return A===d&&(f=C),C});h.length!==v.length&&pk.warnInvalidStyle({dropdown:e});var g=ae(s,Bc),k=g.buttonView,_=k.arrowView;return Th(g,v,{enableActiveItemFocusOnDropdownOpen:!0}),k.set({label:Hq(b,f.label),class:null,tooltip:!0}),_.unbind("label"),_.set({label:b}),k.bind("icon").toMany(v,"isOn",function(){for(var A=arguments.length,C=new Array(A),S=0;S<A;S++)C[S]=arguments[S];var P=C.findIndex($n);return P<0?f.icon:v[P].icon}),k.bind("label").toMany(v,"isOn",function(){for(var A=arguments.length,C=new Array(A),S=0;S<A;S++)C[S]=arguments[S];var P=C.findIndex($n);return Hq(b,P<0?f.label:v[P].label)}),k.bind("isOn").toMany(v,"isOn",function(){for(var A=arguments.length,C=new Array(A),S=0;S<A;S++)C[S]=arguments[S];return C.some($n)}),k.bind("class").toMany(v,"isOn",function(){for(var A=arguments.length,C=new Array(A),S=0;S<A;S++)C[S]=arguments[S];return C.some($n)?"ck-splitbutton_flatten":void 0}),k.on("execute",function(){v.some(function(A){return A.isOn})?g.isOpen=!g.isOpen:f.fire("execute")}),g.bind("isEnabled").toMany(v,"isEnabled",function(){for(var A=arguments.length,C=new Array(A),S=0;S<A;S++)C[S]=arguments[S];return C.some($n)}),c.listenTo(g,"execute",function(){c.editor.editing.view.focus()}),g})}},{key:"_createButton",value:function(e){var o=this,c=e.name;this.editor.ui.componentFactory.add(Uq(c),function(l){var s=o.editor.commands.get("imageStyle"),f=new vt(l);return f.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),f.bind("isEnabled").to(s,"isEnabled"),f.bind("isOn").to(s,"value",function(d){return d===c}),f.on("execute",o._executeCommand.bind(o,c)),f})}},{key:"_executeCommand",value:function(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}],i=[{key:"requires",get:function(){return[Mq]}},{key:"pluginName",get:function(){return"ImageStyleUI"}}],n&&Fq(t.prototype,n),i&&Fq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Vq(r,t){var n,i=oD(r);try{for(i.s();!(n=i.n()).done;){var u=n.value;t[u.title]&&(u.title=t[u.title])}}catch(a){i.e(a)}finally{i.f()}return r}function Uq(r){return"imageStyle:".concat(r)}function Hq(r,t){return(r?r+": ":"")+t}function nf(r){return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(r)}function Gq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(nf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(nf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),nf(a)==="symbol"?a:String(a)),i)}var u,a}function cD(r,t){return cD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cD(r,t)}function lvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=bk(r);if(t){var u=bk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function bk(r){return bk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bk(r)}var svt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&cD(e,o)})(a,r);var t,n,i,u=lvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Mq,uvt]}},{key:"pluginName",get:function(){return"ImageStyle"}}],(n=null)&&Gq(t.prototype,n),i&&Gq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function of(r){return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(r)}function Wq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(of(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(of(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),of(a)==="symbol"?a:String(a)),i)}var u,a}function uD(r,t){return uD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uD(r,t)}function fvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=mk(r);if(t){var u=mk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function mk(r){return mk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mk(r)}var dvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&uD(e,o)})(a,r);var t,n,i,u=fvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Nw,fr]}},{key:"pluginName",get:function(){return"ImageToolbar"}}],(n=[{key:"afterInit",value:function(){var e,o=this.editor,c=o.t,l=o.plugins.get(Nw),s=o.plugins.get("ImageUtils");l.register("image",{ariaLabel:c("Image toolbar"),items:(e=o.config.get("image.toolbar")||[],e.map(function(f){return Gt(f)?f.name:f})),getRelatedElement:function(f){return s.getClosestSelectedImageWidget(f)}})}}])&&Wq(t.prototype,n),i&&Wq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function af(r){return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(r)}function $q(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function qq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(af(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(af(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),af(a)==="symbol"?a:String(a)),i)}var u,a}function Yq(r,t,n){return t&&qq(r.prototype,t),n&&qq(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function lD(r,t){return lD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lD(r,t)}function pvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=vk(r);if(t){var u=vk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function vk(r){return vk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vk(r)}var yvt=function(r){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),u&&lD(i,u)})(n,r);var t=pvt(n);function n(){return $q(this,n),t.apply(this,arguments)}return Yq(n,[{key:"init",value:function(){var i=this,u=this.editor,a=u.plugins.get("CloudServices"),e=a.token,o=a.uploadUrl;if(e){var c=u.plugins.get("CloudServicesCore");this._uploadGateway=c.createUploadGateway(e,o),u.plugins.get(Ur).createUploadAdapter=function(l){return new hvt(i._uploadGateway,l)}}}}],[{key:"pluginName",get:function(){return"CloudServicesUploadAdapter"}},{key:"requires",get:function(){return["CloudServices",Ur]}}]),n}(Y),hvt=function(){function r(t,n){$q(this,r),this.uploadGateway=t,this.loader=n}return Yq(r,[{key:"upload",value:function(){var t=this;return this.loader.file.then(function(n){return t.fileUploader=t.uploadGateway.upload(n),t.fileUploader.on("progress",function(i,u){t.loader.uploadTotal=u.total,t.loader.uploaded=u.uploaded}),t.fileUploader.send()})}},{key:"abort",value:function(){this.fileUploader.abort()}}]),r}();function cf(r){return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(r)}function Kq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(cf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(cf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),cf(a)==="symbol"?a:String(a)),i)}var u,a}function sD(r,t){return sD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sD(r,t)}function bvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=gk(r);if(t){var u=gk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function gk(r){return gk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gk(r)}var mvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&sD(e,o)})(a,r);var t,n,i,u=bvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"EasyImage"}},{key:"requires",get:function(){return[yvt,"ImageUpload"]}}],(n=[{key:"init",value:function(){var e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||Ct("easy-image-image-feature-missing",e)}}])&&Kq(t.prototype,n),i&&Kq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function uf(r){return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(r)}function Zq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(uf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(uf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),uf(a)==="symbol"?a:String(a)),i)}var u,a}function fD(r,t){return fD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fD(r,t)}function vvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=wk(r);if(t){var u=wk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function wk(r){return wk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wk(r)}var gvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&fD(e,o)})(a,r);var t,n,i,u=vvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"IndentEditing"}}],(n=[{key:"init",value:function(){var e=this.editor;e.commands.add("indent",new NM(e)),e.commands.add("outdent",new NM(e))}}])&&Zq(t.prototype,n),i&&Zq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);const Qq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Jq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';function lf(r){return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(r)}function Xq(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(lf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(lf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),lf(a)==="symbol"?a:String(a)),i)}var u,a}function dD(r,t){return dD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dD(r,t)}function wvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=kk(r);if(t){var u=kk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function kk(r){return kk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kk(r)}var kvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&dD(e,o)})(a,r);var t,n,i,u=wvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this.editor,o=e.locale,c=e.t,l=o.uiLanguageDirection=="ltr"?Qq:Jq,s=o.uiLanguageDirection=="ltr"?Jq:Qq;this._defineButton("indent",c("Increase indent"),l),this._defineButton("outdent",c("Decrease indent"),s)}},{key:"_defineButton",value:function(e,o,c){var l=this,s=this.editor;s.ui.componentFactory.add(e,function(f){var d=s.commands.get(e),h=new vt(f);return h.set({label:o,icon:c,tooltip:!0}),h.bind("isEnabled").to(d,"isEnabled"),l.listenTo(h,"execute",function(){s.execute(e),s.editing.view.focus()}),h})}}],i=[{key:"pluginName",get:function(){return"IndentUI"}}],n&&Xq(t.prototype,n),i&&Xq(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function sf(r){return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(r)}function tY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(sf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(sf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),sf(a)==="symbol"?a:String(a)),i)}var u,a}function pD(r,t){return pD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pD(r,t)}function _vt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=_k(r);if(t){var u=_k(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function _k(r){return _k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_k(r)}var Avt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&pD(e,o)})(a,r);var t,n,i,u=_vt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[gvt,kvt]}}],(n=null)&&tY(t.prototype,n),i&&tY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function ff(r){return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(r)}function Cvt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return eY(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return eY(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function eY(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function rY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ff(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ff(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ff(a)==="symbol"?a:String(a)),i)}var u,a}function yD(r,t){return yD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yD(r,t)}function Ovt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ak(r);if(t){var u=Ak(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ak(r){return Ak=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ak(r)}var Ck=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&yD(e,o)})(a,r);var t,n,i,u=Ovt(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e))._indentBehavior=o,c}return t=a,(n=[{key:"refresh",value:function(){var e=this.editor.model,o=Vt(e.document.selection.getSelectedBlocks());o&&e.schema.checkAttribute(o,"blockIndent")?this.isEnabled=this._indentBehavior.checkEnabled(o.getAttribute("blockIndent")):this.isEnabled=!1}},{key:"execute",value:function(){var e=this,o=this.editor.model,c=function(l){var s=l.document.selection,f=l.schema;return Array.from(s.getSelectedBlocks()).filter(function(d){return f.checkAttribute(d,"blockIndent")})}(o);o.change(function(l){var s,f=Cvt(c);try{for(f.s();!(s=f.n()).done;){var d=s.value,h=d.getAttribute("blockIndent"),b=e._indentBehavior.getNextIndent(h);b?l.setAttribute("blockIndent",b,d):l.removeAttribute("blockIndent",d)}}catch(v){f.e(v)}finally{f.f()}})}}])&&rY(t.prototype,n),i&&rY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Hh(r){return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(r)}function nY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Hh(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Hh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Hh(a)==="symbol"?a:String(a)),i)}var u,a}var oY=function(){function r(u){(function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.isForward=u.direction==="forward",this.offset=u.offset,this.unit=u.unit}var t,n,i;return t=r,(n=[{key:"checkEnabled",value:function(u){var a=parseFloat(u||"0");return this.isForward||a>0}},{key:"getNextIndent",value:function(u){var a=parseFloat(u||"0");if(u&&!u.endsWith(this.unit))return this.isForward?this.offset+this.unit:void 0;var e=a+(this.isForward?this.offset:-this.offset);return e>0?e+this.unit:void 0}}])&&nY(t.prototype,n),i&&nY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Gh(r){return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(r)}function iY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Gh(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Gh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Gh(a)==="symbol"?a:String(a)),i)}var u,a}var aY=function(){function r(u){(function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.isForward=u.direction==="forward",this.classes=u.classes}var t,n,i;return t=r,(n=[{key:"checkEnabled",value:function(u){var a=this.classes.indexOf(u);return this.isForward?a<this.classes.length-1:a>=0}},{key:"getNextIndent",value:function(u){var a=this.classes.indexOf(u),e=this.isForward?1:-1;return this.classes[a+e]}}])&&iY(t.prototype,n),i&&iY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function df(r){return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(r)}function Svt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return cY(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return cY(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function cY(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function uY(r,t,n){return(t=sY(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function lY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,sY(i.key),i)}}function sY(r){var t=function(n,i){if(df(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(df(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return df(t)==="symbol"?t:String(t)}function hD(r,t){return hD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hD(r,t)}function jvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ok(r);if(t){var u=Ok(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ok(r){return Ok=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ok(r)}var Pvt=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"],Evt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&hD(e,o)})(a,r);var t,n,i,u=jvt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this,e),e.config.define("indentBlock",{offset:40,unit:"px"}),o}return t=a,n=[{key:"init",value:function(){var e=this.editor,o=e.config.get("indentBlock");o.classes&&o.classes.length?(this._setupConversionUsingClasses(o.classes),e.commands.add("indentBlock",new Ck(e,new aY({direction:"forward",classes:o.classes}))),e.commands.add("outdentBlock",new Ck(e,new aY({direction:"backward",classes:o.classes})))):(e.data.addStyleProcessorRules(Plt),this._setupConversionUsingOffset(),e.commands.add("indentBlock",new Ck(e,new oY({direction:"forward",offset:o.offset,unit:o.unit}))),e.commands.add("outdentBlock",new Ck(e,new oY({direction:"backward",offset:o.offset,unit:o.unit}))))}},{key:"afterInit",value:function(){var e=this.editor,o=e.model.schema,c=e.commands.get("indent"),l=e.commands.get("outdent"),s=e.config.get("heading.options");(s&&s.map(function(f){return f.model})||Pvt).forEach(function(f){o.isRegistered(f)&&o.extend(f,{allowAttributes:"blockIndent"})}),o.setAttributeProperties("blockIndent",{isFormatting:!0}),c.registerChildCommand(e.commands.get("indentBlock")),l.registerChildCommand(e.commands.get("outdentBlock"))}},{key:"_setupConversionUsingOffset",value:function(){var e=this.editor.conversion,o=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";e.for("upcast").attributeToAttribute({view:{styles:uY({},o,/[\s\S]+/)},model:{key:"blockIndent",value:function(c){return c.getStyle(o)}}}),e.for("downcast").attributeToAttribute({model:"blockIndent",view:function(c){return{key:"style",value:uY({},o,c)}}})}},{key:"_setupConversionUsingClasses",value:function(e){var o,c={model:{key:"blockIndent",values:[]},view:{}},l=Svt(e);try{for(l.s();!(o=l.n()).done;){var s=o.value;c.model.values.push(s),c.view[s]={key:"class",value:[s]}}}catch(f){l.e(f)}finally{l.f()}this.editor.conversion.attributeToAttribute(c)}}],i=[{key:"pluginName",get:function(){return"IndentBlock"}}],n&&lY(t.prototype,n),i&&lY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function pf(r){return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(r)}function fY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(pf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(pf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),pf(a)==="symbol"?a:String(a)),i)}var u,a}function bD(r,t){return bD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bD(r,t)}function xvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Sk(r);if(t){var u=Sk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Sk(r){return Sk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sk(r)}var yf="italic",Tvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&bD(e,o)})(a,r);var t,n,i,u=xvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"ItalicEditing"}}],(n=[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:yf}),e.model.schema.setAttributeProperties(yf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:yf,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(yf,new jo(e,yf)),e.keystrokes.set("CTRL+I",yf)}}])&&fY(t.prototype,n),i&&fY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function hf(r){return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(r)}function dY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(hf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(hf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),hf(a)==="symbol"?a:String(a)),i)}var u,a}function mD(r,t){return mD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mD(r,t)}function Dvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=jk(r);if(t){var u=jk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function jk(r){return jk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jk(r)}var vD="italic",Rvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&mD(e,o)})(a,r);var t,n,i,u=Dvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"ItalicUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t;o.ui.componentFactory.add(vD,function(l){var s=o.commands.get(vD),f=new vt(l);return f.set({label:c("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(s,"value","isEnabled"),e.listenTo(f,"execute",function(){o.execute(vD),o.editing.view.focus()}),f})}}])&&dY(t.prototype,n),i&&dY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function bf(r){return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(r)}function pY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(bf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(bf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),bf(a)==="symbol"?a:String(a)),i)}var u,a}function gD(r,t){return gD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gD(r,t)}function Ivt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Pk(r);if(t){var u=Pk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Pk(r){return Pk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pk(r)}var Bvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&gD(e,o)})(a,r);var t,n,i,u=Ivt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Tvt,Rvt]}},{key:"pluginName",get:function(){return"Italic"}}],(n=null)&&pY(t.prototype,n),i&&pY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function mf(r){return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(r)}function yY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(mf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(mf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),mf(a)==="symbol"?a:String(a)),i)}var u,a}function wD(r,t){return wD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wD(r,t)}function Mvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ek(r);if(t){var u=Ek(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ek(r){return Ek=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ek(r)}var Wh="underline",Nvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&wD(e,o)})(a,r);var t,n,i,u=Mvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"UnderlineEditing"}}],(n=[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:Wh}),e.model.schema.setAttributeProperties(Wh,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Wh,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),e.commands.add(Wh,new jo(e,Wh)),e.keystrokes.set("CTRL+U","underline")}}])&&yY(t.prototype,n),i&&yY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function vf(r){return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(r)}function hY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(vf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(vf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),vf(a)==="symbol"?a:String(a)),i)}var u,a}function kD(r,t){return kD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kD(r,t)}function Lvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=xk(r);if(t){var u=xk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function xk(r){return xk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xk(r)}var _D="underline",zvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&kD(e,o)})(a,r);var t,n,i,u=Lvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"UnderlineUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t;o.ui.componentFactory.add(_D,function(l){var s=o.commands.get(_D),f=new vt(l);return f.set({label:c("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(s,"value","isEnabled"),e.listenTo(f,"execute",function(){o.execute(_D),o.editing.view.focus()}),f})}}])&&hY(t.prototype,n),i&&hY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function gf(r){return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(r)}function bY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(gf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(gf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),gf(a)==="symbol"?a:String(a)),i)}var u,a}function AD(r,t){return AD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AD(r,t)}function Fvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Tk(r);if(t){var u=Tk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Tk(r){return Tk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tk(r)}var Vvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&AD(e,o)})(a,r);var t,n,i,u=Fvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Nvt,zvt]}},{key:"pluginName",get:function(){return"Underline"}}],(n=null)&&bY(t.prototype,n),i&&bY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function wf(r){return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(r)}function mY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(wf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(wf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),wf(a)==="symbol"?a:String(a)),i)}var u,a}function CD(r,t){return CD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CD(r,t)}function Uvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Dk(r);if(t){var u=Dk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Dk(r){return Dk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dk(r)}var $h="strikethrough",Hvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&CD(e,o)})(a,r);var t,n,i,u=Uvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"StrikethroughEditing"}}],(n=[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:$h}),e.model.schema.setAttributeProperties($h,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:$h,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),e.commands.add($h,new jo(e,$h)),e.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}])&&mY(t.prototype,n),i&&mY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function kf(r){return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(r)}function vY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(kf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(kf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),kf(a)==="symbol"?a:String(a)),i)}var u,a}function OD(r,t){return OD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OD(r,t)}function Gvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Rk(r);if(t){var u=Rk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Rk(r){return Rk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rk(r)}var SD="strikethrough",Wvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&OD(e,o)})(a,r);var t,n,i,u=Gvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"StrikethroughUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t;o.ui.componentFactory.add(SD,function(l){var s=o.commands.get(SD),f=new vt(l);return f.set({label:c("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(s,"value","isEnabled"),e.listenTo(f,"execute",function(){o.execute(SD),o.editing.view.focus()}),f})}}])&&vY(t.prototype,n),i&&vY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function _f(r){return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(r)}function gY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(_f(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(_f(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),_f(a)==="symbol"?a:String(a)),i)}var u,a}function jD(r,t){return jD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jD(r,t)}function $vt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ik(r);if(t){var u=Ik(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ik(r){return Ik=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ik(r)}var qvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&jD(e,o)})(a,r);var t,n,i,u=$vt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Hvt,Wvt]}},{key:"pluginName",get:function(){return"Strikethrough"}}],(n=null)&&gY(t.prototype,n),i&&gY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Af(r){return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(r)}function wY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Af(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Af(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Af(a)==="symbol"?a:String(a)),i)}var u,a}function PD(r,t){return PD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PD(r,t)}function Yvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Bk(r);if(t){var u=Bk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Bk(r){return Bk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bk(r)}var qh="subscript",Kvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&PD(e,o)})(a,r);var t,n,i,u=Yvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"SubscriptEditing"}}],(n=[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:qh}),e.model.schema.setAttributeProperties(qh,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:qh,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),e.commands.add(qh,new jo(e,qh))}}])&&wY(t.prototype,n),i&&wY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Cf(r){return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(r)}function kY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Cf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Cf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Cf(a)==="symbol"?a:String(a)),i)}var u,a}function ED(r,t){return ED=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ED(r,t)}function Zvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Mk(r);if(t){var u=Mk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Mk(r){return Mk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mk(r)}var xD="subscript",Qvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&ED(e,o)})(a,r);var t,n,i,u=Zvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"SubscriptUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t;o.ui.componentFactory.add(xD,function(l){var s=o.commands.get(xD),f=new vt(l);return f.set({label:c("Subscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>',tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(s,"value","isEnabled"),e.listenTo(f,"execute",function(){o.execute(xD),o.editing.view.focus()}),f})}}])&&kY(t.prototype,n),i&&kY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Of(r){return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(r)}function _Y(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Of(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Of(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Of(a)==="symbol"?a:String(a)),i)}var u,a}function TD(r,t){return TD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TD(r,t)}function Jvt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Nk(r);if(t){var u=Nk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Nk(r){return Nk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nk(r)}var Xvt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&TD(e,o)})(a,r);var t,n,i,u=Jvt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Kvt,Qvt]}},{key:"pluginName",get:function(){return"Subscript"}}],(n=null)&&_Y(t.prototype,n),i&&_Y(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Sf(r){return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(r)}function AY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Sf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Sf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Sf(a)==="symbol"?a:String(a)),i)}var u,a}function DD(r,t){return DD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DD(r,t)}function tgt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Lk(r);if(t){var u=Lk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Lk(r){return Lk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lk(r)}var Yh="superscript",egt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&DD(e,o)})(a,r);var t,n,i,u=tgt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"SuperscriptEditing"}}],(n=[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:Yh}),e.model.schema.setAttributeProperties(Yh,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Yh,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),e.commands.add(Yh,new jo(e,Yh))}}])&&AY(t.prototype,n),i&&AY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function jf(r){return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(r)}function CY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(jf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(jf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),jf(a)==="symbol"?a:String(a)),i)}var u,a}function RD(r,t){return RD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RD(r,t)}function rgt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=zk(r);if(t){var u=zk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function zk(r){return zk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zk(r)}var ID="superscript",ngt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&RD(e,o)})(a,r);var t,n,i,u=rgt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"SuperscriptUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t;o.ui.componentFactory.add(ID,function(l){var s=o.commands.get(ID),f=new vt(l);return f.set({label:c("Superscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>',tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(s,"value","isEnabled"),e.listenTo(f,"execute",function(){o.execute(ID),o.editing.view.focus()}),f})}}])&&CY(t.prototype,n),i&&CY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Pf(r){return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(r)}function OY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Pf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Pf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Pf(a)==="symbol"?a:String(a)),i)}var u,a}function BD(r,t){return BD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BD(r,t)}function ogt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Fk(r);if(t){var u=Fk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Fk(r){return Fk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fk(r)}var igt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&BD(e,o)})(a,r);var t,n,i,u=ogt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[egt,ngt]}},{key:"pluginName",get:function(){return"Superscript"}}],(n=null)&&OY(t.prototype,n),i&&OY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Kh(r){return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(r)}function SY(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||jY(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vk(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=jY(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function jY(r,t){if(r){if(typeof r=="string")return PY(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PY(r,t):void 0}}function PY(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function EY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Kh(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Kh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Kh(a)==="symbol"?a:String(a)),i)}var u,a}var agt=function(){function r(){(function(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")})(this,r),this._definitions=new Set}var t,n,i;return t=r,(n=[{key:"length",get:function(){return this._definitions.size}},{key:"add",value:function(u){var a=this;Array.isArray(u)?u.forEach(function(e){return a._definitions.add(e)}):this._definitions.add(u)}},{key:"getDispatcher",value:function(){var u=this;return function(a){a.on("attribute:linkHref",function(e,o,c){if(c.consumable.test(o.item,"attribute:linkHref")&&(o.item.is("selection")||c.schema.isInline(o.item))){var l,s=c.writer,f=s.document.selection,d=Vk(u._definitions);try{for(d.s();!(l=d.n()).done;){var h=l.value,b=s.createAttributeElement("a",h.attributes,{priority:5});for(var v in h.classes&&s.addClass(h.classes,b),h.styles)s.setStyle(v,h.styles[v],b);s.setCustomProperty("link",!0,b),h.callback(o.attributeNewValue)?o.item.is("selection")?s.wrap(f.getFirstRange(),b):s.wrap(c.mapper.toViewRange(o.range),b):s.unwrap(c.mapper.toViewRange(o.range),b)}}catch(g){d.e(g)}finally{d.f()}}},{priority:"high"})}}},{key:"getDispatcherForLinkedImage",value:function(){var u=this;return function(a){a.on("attribute:linkHref:imageBlock",function(e,o,c){var l,s=c.writer,f=c.mapper.toViewElement(o.item),d=Array.from(f.getChildren()).find(function(tt){return tt.is("element","a")}),h=Vk(u._definitions);try{for(h.s();!(l=h.n()).done;){var b=l.value,v=Tr(b.attributes);if(b.callback(o.attributeNewValue)){var g,k=Vk(v);try{for(k.s();!(g=k.n()).done;){var _=SY(g.value,2),A=_[0],C=_[1];A==="class"?s.addClass(C,d):s.setAttribute(A,C,d)}}catch(tt){k.e(tt)}finally{k.f()}for(var S in b.classes&&s.addClass(b.classes,d),b.styles)s.setStyle(S,b.styles[S],d)}else{var P,E=Vk(v);try{for(E.s();!(P=E.n()).done;){var R=SY(P.value,2),I=R[0],z=R[1];I==="class"?s.removeClass(z,d):s.removeAttribute(I,d)}}catch(tt){E.e(tt)}finally{E.f()}for(var F in b.classes&&s.removeClass(b.classes,d),b.styles)s.removeStyle(F,d)}}}catch(tt){h.e(tt)}finally{h.f()}})}}}])&&EY(t.prototype,n),i&&EY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();const cgt=function(r,t,n){var i=r.length;return n=n===void 0?i:n,!t&&n>=i?r:pN(r,t,n)};var ugt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const xY=function(r){return ugt.test(r)},lgt=function(r){return r.split("")};var TY="\\ud800-\\udfff",sgt="["+TY+"]",MD="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ND="\\ud83c[\\udffb-\\udfff]",DY="[^"+TY+"]",RY="(?:\\ud83c[\\udde6-\\uddff]){2}",IY="[\\ud800-\\udbff][\\udc00-\\udfff]",BY="(?:"+MD+"|"+ND+")?",MY="[\\ufe0e\\ufe0f]?",fgt=MY+BY+("(?:\\u200d(?:"+[DY,RY,IY].join("|")+")"+MY+BY+")*"),dgt="(?:"+[DY+MD+"?",MD,RY,IY,sgt].join("|")+")",pgt=RegExp(ND+"(?="+ND+")|"+dgt+fgt,"g");const ygt=function(r){return r.match(pgt)||[]},hgt=function(r){return xY(r)?ygt(r):lgt(r)},NY=function(r){return function(t){t=xy(t);var n=xY(t)?hgt(t):void 0,i=n?n[0]:t.charAt(0),u=n?cgt(n,1).join(""):t.slice(1);return i[r]()+u}}("toUpperCase");function bgt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||function(n,i){if(n){if(typeof n=="string")return LY(n,i);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return LY(n,i)}}(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function LY(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}var mgt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,vgt=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,ggt=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,wgt=/^((\w+:(\/{2,})?)|(\W))/i,LD="Ctrl+K";function zY(r,t){var n=t.writer,i=n.createAttributeElement("a",{href:r},{priority:5});return n.setCustomProperty("link",!0,i),i}function FY(r){var t=String(r);return function(n){var i=n.replace(mgt,"");return!!i.match(vgt)}(t)?t:"#"}function zD(r,t){return!!r&&t.checkAttribute(r.name,"linkHref")}function FD(r,t){var n,i=(n=r,ggt.test(n)?"mailto:":t),u=!!i&&!VY(r);return r&&u?i+r:r}function VY(r){return wgt.test(r)}function UY(r){window.open(r,"_blank","noopener")}function Ef(r){return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(r)}function xf(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return HY(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return HY(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function HY(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function GY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ef(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ef(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ef(a)==="symbol"?a:String(a)),i)}var u,a}function VD(r,t){return VD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VD(r,t)}function kgt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Uk(r);if(t){var u=Uk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Uk(r){return Uk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uk(r)}var _gt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&VD(e,o)})(a,r);var t,n,i,u=kgt(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments)).manualDecorators=new Qt,e.automaticDecorators=new agt,e}return t=a,n=[{key:"restoreManualDecoratorStates",value:function(){var e,o=xf(this.manualDecorators);try{for(o.s();!(e=o.n()).done;){var c=e.value;c.value=this._getDecoratorStateFromModel(c.id)}}catch(l){o.e(l)}finally{o.f()}}},{key:"refresh",value:function(){var e=this.editor.model,o=e.document.selection,c=o.getSelectedElement()||Vt(o.getSelectedBlocks());zD(c,e.schema)?(this.value=c.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(c,"linkHref")):(this.value=o.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(o,"linkHref"));var l,s=xf(this.manualDecorators);try{for(s.s();!(l=s.n()).done;){var f=l.value;f.value=this._getDecoratorStateFromModel(f.id)}}catch(d){s.e(d)}finally{s.f()}}},{key:"execute",value:function(e){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=this.editor.model,s=l.document.selection,f=[],d=[];for(var h in c)c[h]?f.push(h):d.push(h);l.change(function(b){if(s.isCollapsed){var v=s.getFirstPosition();if(s.hasAttribute("linkHref")){var g=WY(s),k=Tu(v,"linkHref",s.getAttribute("linkHref"),l);s.getAttribute("linkHref")===g&&(k=o._updateLinkContent(l,b,k,e)),b.setAttribute("linkHref",e,k),f.forEach(function(y){b.setAttribute(y,!0,k)}),d.forEach(function(y){b.removeAttribute(y,k)}),b.setSelection(b.createPositionAfter(k.end.nodeBefore))}else if(e!==""){var _=Tr(s.getAttributes());_.set("linkHref",e),f.forEach(function(y){_.set(y,!0)});var A=l.insertContent(b.createText(e,_),v).end;b.setSelection(A)}["linkHref"].concat(f,d).forEach(function(y){b.removeSelectionAttribute(y)})}else{var C,S=l.schema.getValidRanges(s.getRanges(),"linkHref"),P=[],E=xf(s.getSelectedBlocks());try{for(E.s();!(C=E.n()).done;){var R=C.value;l.schema.checkAttribute(R,"linkHref")&&P.push(b.createRangeOn(R))}}catch(y){E.e(y)}finally{E.f()}var I,z=P.slice(),F=xf(S);try{for(F.s();!(I=F.n()).done;){var tt=I.value;o._isRangeToUpdate(tt,P)&&z.push(tt)}}catch(y){F.e(y)}finally{F.f()}var Z,G=xf(z);try{var et=function(){var y=Z.value,p=y;if(z.length===1){var m=WY(s);s.getAttribute("linkHref")===m&&(p=o._updateLinkContent(l,b,y,e),b.setSelection(b.createSelection(p)))}b.setAttribute("linkHref",e,p),f.forEach(function(O){b.setAttribute(O,!0,p)}),d.forEach(function(O){b.removeAttribute(O,p)})};for(G.s();!(Z=G.n()).done;)et()}catch(y){G.e(y)}finally{G.f()}}})}},{key:"_getDecoratorStateFromModel",value:function(e){var o=this.editor.model,c=o.document.selection,l=c.getSelectedElement();return zD(l,o.schema)?l.getAttribute(e):c.getAttribute(e)}},{key:"_isRangeToUpdate",value:function(e,o){var c,l=xf(o);try{for(l.s();!(c=l.n()).done;)if(c.value.containsRange(e))return!1}catch(s){l.e(s)}finally{l.f()}return!0}},{key:"_updateLinkContent",value:function(e,o,c,l){var s=o.createText(l,{linkHref:l});return e.insertContent(s,c)}}],n&&GY(t.prototype,n),i&&GY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function WY(r){if(r.isCollapsed){var t=r.getFirstPosition();return t.textNode&&t.textNode.data}var n=Array.from(r.getFirstRange().getItems());if(n.length>1)return null;var i=n[0];return i.is("$text")||i.is("$textProxy")?i.data:null}function Tf(r){return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(r)}function $Y(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return qY(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return qY(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function qY(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function YY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Tf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Tf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Tf(a)==="symbol"?a:String(a)),i)}var u,a}function UD(r,t){return UD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UD(r,t)}function Agt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Hk(r);if(t){var u=Hk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Hk(r){return Hk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hk(r)}var Cgt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&UD(e,o)})(a,r);var t,n,i,u=Agt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(n=[{key:"refresh",value:function(){var e=this.editor.model,o=e.document.selection,c=o.getSelectedElement();zD(c,e.schema)?this.isEnabled=e.schema.checkAttribute(c,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(o,"linkHref")}},{key:"execute",value:function(){var e=this.editor,o=this.editor.model,c=o.document.selection,l=e.commands.get("link");o.change(function(s){var f,d=$Y(c.isCollapsed?[Tu(c.getFirstPosition(),"linkHref",c.getAttribute("linkHref"),o)]:o.schema.getValidRanges(c.getRanges(),"linkHref"));try{for(d.s();!(f=d.n()).done;){var h=f.value;if(s.removeAttribute("linkHref",h),l){var b,v=$Y(l.manualDecorators);try{for(v.s();!(b=v.n()).done;){var g=b.value;s.removeAttribute(g.id,h)}}catch(k){v.e(k)}finally{v.f()}}}}catch(k){d.e(k)}finally{d.f()}})}}])&&YY(t.prototype,n),i&&YY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Df(r){return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(r)}function KY(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Df(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Df(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Df(a)==="symbol"?a:String(a)),i)}var u,a}function HD(r,t){return HD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HD(r,t)}function Ogt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gk(r);if(t){var u=Gk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Gk(r){return Gk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gk(r)}var Sgt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&HD(e,o)})(a,r);var t,n,i,u=Ogt(a);function a(e){var o,c=e.id,l=e.label,s=e.attributes,f=e.classes,d=e.styles,h=e.defaultValue;return function(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this)).id=c,o.set("value",void 0),o.defaultValue=h,o.label=l,o.attributes=s,o.classes=f,o.styles=d,o}return t=a,(n=[{key:"_createPattern",value:function(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}])&&KY(t.prototype,n),i&&KY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Rt()),ZY=x(3925),jgt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(ZY.Z,jgt),ZY.Z.locals;function Rf(r){return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(r)}function GD(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=JY(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function QY(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||JY(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function JY(r,t){if(r){if(typeof r=="string")return XY(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XY(r,t):void 0}}function XY(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function tK(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function Pgt(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tK(Object(n),!0).forEach(function(i){Egt(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):tK(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Egt(r,t,n){return(t=rK(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function eK(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,rK(i.key),i)}}function rK(r){var t=function(n,i){if(Rf(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(Rf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return Rf(t)==="symbol"?t:String(t)}function WD(r,t){return WD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WD(r,t)}function xgt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Wk(r);if(t){var u=Wk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Wk(r){return Wk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wk(r)}var nK="automatic",Tgt=/^(https?:)?\/\//,Dgt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&WD(e,o)})(a,r);var t,n,i,u=xgt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this,e),e.config.define("link",{addTargetToExternalLinks:!1}),o}return t=a,i=[{key:"pluginName",get:function(){return"LinkEditing"}},{key:"requires",get:function(){return[Ug,AV,Ar]}}],(n=[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:zY}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:function(f,d){return zY(FY(f),d)}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:function(f){return f.getAttribute("href")}}}),e.commands.add("link",new _gt(e)),e.commands.add("unlink",new Cgt(e));var o,c,l,s=(o=e.t,c=function(f){var d=[];if(f)for(var h=0,b=Object.entries(f);h<b.length;h++){var v=bgt(b[h],2),g=v[0],k=v[1],_=Object.assign({},k,{id:"link".concat(NY(g))});d.push(_)}return d}(e.config.get("link.decorators")),l={"Open in a new tab":o("Open in a new tab"),Downloadable:o("Downloadable")},c.forEach(function(f){return"label"in f&&l[f.label]&&(f.label=l[f.label]),f}),c);this._enableAutomaticDecorators(s.filter(function(f){return f.mode===nK})),this._enableManualDecorators(s.filter(function(f){return f.mode==="manual"})),e.plugins.get(Ug).registerAttribute("linkHref"),KV(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}},{key:"_enableAutomaticDecorators",value:function(e){var o=this.editor,c=o.commands.get("link").automaticDecorators;o.config.get("link.addTargetToExternalLinks")&&c.add({id:"linkIsExternal",mode:nK,callback:function(l){return!!l&&Tgt.test(l)},attributes:{target:"_blank",rel:"noopener noreferrer"}}),c.add(e),c.length&&o.conversion.for("downcast").add(c.getDispatcher())}},{key:"_enableManualDecorators",value:function(e){if(e.length){var o=this.editor,c=o.commands.get("link").manualDecorators;e.forEach(function(l){o.model.schema.extend("$text",{allowAttributes:l.id});var s=new Sgt(l);c.add(s),o.conversion.for("downcast").attributeToElement({model:s.id,view:function(f,d,h){var b=d.writer,v=d.schema,g=h.item;if((g.is("selection")||v.isInline(g))&&f){var k=b.createAttributeElement("a",s.attributes,{priority:5});for(var _ in s.classes&&b.addClass(s.classes,k),s.styles)b.setStyle(_,s.styles[_],k);return b.setCustomProperty("link",!0,k),k}}}),o.conversion.for("upcast").elementToAttribute({view:Pgt({name:"a"},s._createPattern()),model:{key:s.id}})})}}},{key:"_enableLinkOpen",value:function(){var e=this.editor,o=e.editing.view.document;this.listenTo(o,"click",function(c,l){if(pt.isMac?l.domEvent.metaKey:l.domEvent.ctrlKey){var s=l.domTarget;if(s.tagName.toLowerCase()!="a"&&(s=s.closest("a")),s){var f=s.getAttribute("href");f&&(c.stop(),l.preventDefault(),UY(f))}}},{context:"$capture"}),this.listenTo(o,"keydown",function(c,l){var s=e.commands.get("link").value;s&&l.keyCode===Et.enter&&l.altKey&&(c.stop(),UY(s))})}},{key:"_enableInsertContentSelectionAttributesFixer",value:function(){var e=this.editor.model,o=e.document.selection;this.listenTo(e,"insertContent",function(){var c=o.anchor.nodeBefore,l=o.anchor.nodeAfter;o.hasAttribute("linkHref")&&c&&c.hasAttribute("linkHref")&&(l&&l.hasAttribute("linkHref")||e.change(function(s){$D(s,qD(e.schema))}))},{priority:"low"})}},{key:"_enableClickingAfterLink",value:function(){var e=this.editor,o=e.model;e.editing.view.addObserver(Mv);var c=!1;this.listenTo(e.editing.view.document,"mousedown",function(){c=!0}),this.listenTo(e.editing.view.document,"selectionChange",function(){if(c){c=!1;var l=o.document.selection;if(l.isCollapsed&&l.hasAttribute("linkHref")){var s=l.getFirstPosition(),f=Tu(s,"linkHref",l.getAttribute("linkHref"),o);(s.isTouching(f.start)||s.isTouching(f.end))&&o.change(function(d){$D(d,qD(o.schema))})}}})}},{key:"_enableTypingOverLink",value:function(){var e=this.editor,o=e.editing.view,c=null,l=!1;this.listenTo(o.document,"delete",function(){l=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",function(){var s=e.model.document.selection;s.isCollapsed||(l?l=!1:oK(e)&&function(f){var d=f.document.selection,h=d.getFirstPosition(),b=d.getLastPosition(),v=h.nodeAfter;if(!v||!v.is("$text")||!v.hasAttribute("linkHref"))return!1;var g=b.textNode||b.nodeBefore;return v===g||Tu(h,"linkHref",v.getAttribute("linkHref"),f).containsRange(f.createRange(h,b),!0)}(e.model)&&(c=s.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",function(s,f){var d=QY(f,1)[0];l=!1,oK(e)&&c&&(e.model.change(function(h){var b,v=GD(c);try{for(v.s();!(b=v.n()).done;){var g=QY(b.value,2),k=g[0],_=g[1];h.setAttribute(k,_,d)}}catch(A){v.e(A)}finally{v.f()}}),c=null)},{priority:"high"})}},{key:"_handleDeleteContentAfterLink",value:function(){var e=this.editor,o=e.model,c=o.document.selection,l=e.editing.view,s=!1,f=!1;this.listenTo(l.document,"delete",function(d,h){f=h.direction==="backward"},{priority:"high"}),this.listenTo(o,"deleteContent",function(){s=!1;var d=c.getFirstPosition(),h=c.getAttribute("linkHref");if(h){var b=Tu(d,"linkHref",h,o);s=b.containsPosition(d)||b.end.isEqual(d)}},{priority:"high"}),this.listenTo(o,"deleteContent",function(){f&&(f=!1,s||e.model.enqueueChange(function(d){$D(d,qD(o.schema))}))},{priority:"low"})}},{key:"_enableClipboardIntegration",value:function(){var e=this.editor,o=e.model,c=this.editor.config.get("link.defaultProtocol");c&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",function(l,s){o.change(function(f){var d,h=GD(f.createRangeIn(s.content).getItems());try{for(h.s();!(d=h.n()).done;){var b=d.value;if(b.hasAttribute("linkHref")){var v=FD(b.getAttribute("linkHref"),c);f.setAttribute("linkHref",v,b)}}}catch(g){h.e(g)}finally{h.f()}})})}}])&&eK(t.prototype,n),i&&eK(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function $D(r,t){r.removeSelectionAttribute("linkHref");var n,i=GD(t);try{for(i.s();!(n=i.n()).done;){var u=n.value;r.removeSelectionAttribute(u)}}catch(a){i.e(a)}finally{i.f()}}function oK(r){return r.model.change(function(t){return t.batch}).isTyping}function qD(r){return r.getDefinition("$text").allowAttributes.filter(function(t){return t.startsWith("link")})}var iK=x(4874),Rgt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(iK.Z,Rgt),iK.Z.locals;function If(r){return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(r)}function Igt(r){return function(t){if(Array.isArray(t))return YD(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||aK(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function aK(r,t){if(r){if(typeof r=="string")return YD(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YD(r,t):void 0}}function YD(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function cK(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(If(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(If(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),If(a)==="symbol"?a:String(a)),i)}var u,a}function $k(){return $k=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Bo(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},$k.apply(this,arguments)}function KD(r,t){return KD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KD(r,t)}function Bgt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Bo(r);if(t){var u=Bo(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Bo(r){return Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bo(r)}var Mgt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&KD(e,o)})(a,r);var t,n,i,u=Bgt(a);function a(e,o){var c;(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a),(c=u.call(this,e)).focusTracker=new ce,c.keystrokes=new de,c._focusables=new De;var l=e.t;c.urlInputView=c._createUrlInput(),c.saveButtonView=c._createButton(l("Save"),po,"ck-button-save"),c.saveButtonView.type="submit",c.cancelButtonView=c._createButton(l("Cancel"),fo,"ck-button-cancel","cancel"),c._manualDecoratorSwitches=c._createManualDecoratorSwitches(o),c.children=c._createFormChildren(o.manualDecorators),c._focusCycler=new Qe({focusables:c._focusables,focusTracker:c.focusTracker,keystrokeHandler:c.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});var s=["ck","ck-link-form","ck-responsive-form"];return o.manualDecorators.length&&s.push("ck-link-form_layout-vertical","ck-vertical-form"),c.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:c.children}),c}return t=a,n=[{key:"getDecoratorSwitchesState",value:function(){return Array.from(this._manualDecoratorSwitches).reduce(function(e,o){return e[o.name]=o.isOn,e},{})}},{key:"render",value:function(){var e=this;$k(Bo(a.prototype),"render",this).call(this),it({view:this}),[this.urlInputView].concat(Igt(this._manualDecoratorSwitches),[this.saveButtonView,this.cancelButtonView]).forEach(function(o){e._focusables.add(o),e.focusTracker.add(o.element)}),this.keystrokes.listenTo(this.element)}},{key:"destroy",value:function(){$k(Bo(a.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createUrlInput",value:function(){var e=this.locale.t,o=new ue(this.locale,Ge);return o.label=e("Link URL"),o}},{key:"_createButton",value:function(e,o,c,l){var s=new vt(this.locale);return s.set({label:e,icon:o,tooltip:!0}),s.extendTemplate({attributes:{class:c}}),l&&s.delegate("execute").to(this,l),s}},{key:"_createManualDecoratorSwitches",value:function(e){var o,c=this,l=this.createCollection(),s=function(d,h){var b=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!b){if(Array.isArray(d)||(b=aK(d))||h&&d&&typeof d.length=="number"){b&&(d=b);var v=0,g=function(){};return{s:g,n:function(){return v>=d.length?{done:!0}:{done:!1,value:d[v++]}},e:function(C){throw C},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,_=!0,A=!1;return{s:function(){b=b.call(d)},n:function(){var C=b.next();return _=C.done,C},e:function(C){A=!0,k=C},f:function(){try{_||b.return==null||b.return()}finally{if(A)throw k}}}}(e.manualDecorators);try{var f=function(){var d=o.value,h=new Yb(c.locale);h.set({name:d.id,label:d.label,withText:!0}),h.bind("isOn").toMany([d,e],"value",function(b,v){return v===void 0&&b===void 0?!!d.defaultValue:!!b}),h.on("execute",function(){d.set("value",!h.isOn)}),l.add(h)};for(s.s();!(o=s.n()).done;)f()}catch(d){s.e(d)}finally{s.f()}return l}},{key:"_createFormChildren",value:function(e){var o=this.createCollection();if(o.add(this.urlInputView),e.length){var c=new yt;c.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(function(l){return{tag:"li",children:[l],attributes:{class:["ck","ck-list__item"]}}}),attributes:{class:["ck","ck-reset","ck-list"]}}),o.add(c)}return o.add(this.saveButtonView),o.add(this.cancelButtonView),o}}],n&&cK(t.prototype,n),i&&cK(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt),uK=x(7536),Ngt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(uK.Z,Ngt),uK.Z.locals;function Bf(r){return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(r)}function lK(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Bf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Bf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Bf(a)==="symbol"?a:String(a)),i)}var u,a}function qk(){return qk=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Mo(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},qk.apply(this,arguments)}function ZD(r,t){return ZD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZD(r,t)}function Lgt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Mo(r);if(t){var u=Mo(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Mo(r){return Mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mo(r)}var zgt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&ZD(e,o)})(a,r);var t,n,i,u=Lgt(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a),(o=u.call(this,e)).focusTracker=new ce,o.keystrokes=new de,o._focusables=new De;var c=e.t;return o.previewButtonView=o._createPreviewButton(),o.unlinkButtonView=o._createButton(c("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),o.editButtonView=o._createButton(c("Edit link"),fP,"edit"),o.set("href",void 0),o._focusCycler=new Qe({focusables:o._focusables,focusTracker:o.focusTracker,keystrokeHandler:o.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),o.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[o.previewButtonView,o.editButtonView,o.unlinkButtonView]}),o}return t=a,n=[{key:"render",value:function(){var e=this;qk(Mo(a.prototype),"render",this).call(this),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(function(o){e._focusables.add(o),e.focusTracker.add(o.element)}),this.keystrokes.listenTo(this.element)}},{key:"destroy",value:function(){qk(Mo(a.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createButton",value:function(e,o,c){var l=new vt(this.locale);return l.set({label:e,icon:o,tooltip:!0}),l.delegate("execute").to(this,c),l}},{key:"_createPreviewButton",value:function(){var e=new vt(this.locale),o=this.bindTemplate,c=this.t;return e.set({withText:!0,tooltip:c("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:o.to("href",function(l){return l&&FY(l)}),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",function(l){return l||c("This link has no URL")}),e.bind("isEnabled").to(this,"href",function(l){return!!l}),e.template.tag="a",e.template.eventListeners={},e}}],n&&lK(t.prototype,n),i&&lK(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function Mf(r){return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(r)}function sK(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Mf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Mf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Mf(a)==="symbol"?a:String(a)),i)}var u,a}function QD(){return QD=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Nf(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},QD.apply(this,arguments)}function JD(r,t){return JD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JD(r,t)}function Fgt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Nf(r);if(t){var u=Nf(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Nf(r){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nf(r)}var Cr="link-ui",Vgt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&JD(e,o)})(a,r);var t,n,i,u=Fgt(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments)).actionsView=null,e.formView=null,e}return t=a,n=[{key:"init",value:function(){var e=this.editor;e.editing.view.addObserver(nlt),this._balloon=e.plugins.get(bn),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Cr,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Cr,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}},{key:"destroy",value:function(){QD(Nf(a.prototype),"destroy",this).call(this),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}},{key:"_createViews",value:function(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}},{key:"_createActionsView",value:function(){var e=this,o=this.editor,c=new zgt(o.locale),l=o.commands.get("link"),s=o.commands.get("unlink");return c.bind("href").to(l,"value"),c.editButtonView.bind("isEnabled").to(l),c.unlinkButtonView.bind("isEnabled").to(s),this.listenTo(c,"edit",function(){e._addFormView()}),this.listenTo(c,"unlink",function(){o.execute("unlink"),e._hideUI()}),c.keystrokes.set("Esc",function(f,d){e._hideUI(),d()}),c.keystrokes.set(LD,function(f,d){e._addFormView(),d()}),c}},{key:"_createFormView",value:function(){var e=this,o=this.editor,c=o.commands.get("link"),l=o.config.get("link.defaultProtocol"),s=new(nt(Mgt))(o.locale,c);return s.urlInputView.fieldView.bind("value").to(c,"value"),s.urlInputView.bind("isEnabled").to(c,"isEnabled"),s.saveButtonView.bind("isEnabled").to(c),this.listenTo(s,"submit",function(){var f=FD(s.urlInputView.fieldView.element.value,l);o.execute("link",f,s.getDecoratorSwitchesState()),e._closeFormView()}),this.listenTo(s,"cancel",function(){e._closeFormView()}),s.keystrokes.set("Esc",function(f,d){e._closeFormView(),d()}),s}},{key:"_createToolbarLinkButton",value:function(){var e=this,o=this.editor,c=o.commands.get("link"),l=o.t;o.ui.componentFactory.add("link",function(s){var f=new vt(s);return f.isEnabled=!0,f.label=l("Link"),f.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',f.keystroke=LD,f.tooltip=!0,f.isToggleable=!0,f.bind("isEnabled").to(c,"isEnabled"),f.bind("isOn").to(c,"value",function(d){return!!d}),e.listenTo(f,"execute",function(){return e._showUI(!0)}),f})}},{key:"_enableBalloonActivators",value:function(){var e=this,o=this.editor,c=o.editing.view.document;this.listenTo(c,"click",function(){e._getSelectedLinkElement()&&e._showUI()}),o.keystrokes.set(LD,function(l,s){s(),o.commands.get("link").isEnabled&&e._showUI(!0)})}},{key:"_enableUserBalloonInteractions",value:function(){var e=this;this.editor.keystrokes.set("Tab",function(o,c){e._areActionsVisible&&!e.actionsView.focusTracker.isFocused&&(e.actionsView.focus(),c())},{priority:"high"}),this.editor.keystrokes.set("Esc",function(o,c){e._isUIVisible&&(e._hideUI(),c())}),L({emitter:this.formView,activator:function(){return e._isUIInPanel},contextElements:function(){return[e._balloon.view.element]},callback:function(){return e._hideUI()}})}},{key:"_addActionsView",value:function(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}},{key:"_addFormView",value:function(){if(this.formView||this._createViews(),!this._isFormInPanel){var e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}}},{key:"_closeFormView",value:function(){var e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}},{key:"_removeFormView",value:function(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}},{key:"_showUI",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}},{key:"_hideUI",value:function(){if(this._isUIInPanel){var e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}}},{key:"_startUpdatingUI",value:function(){var e=this,o=this.editor,c=o.editing.view.document,l=this._getSelectedLinkElement(),s=d(),f=function(){var h=e._getSelectedLinkElement(),b=d();l&&!h||!l&&b!==s?e._hideUI():e._isUIVisible&&e._balloon.updatePosition(e._getBalloonPositionData()),l=h,s=b};function d(){return c.selection.focus.getAncestors().reverse().find(function(h){return h.is("element")})}this.listenTo(o.ui,"update",f),this.listenTo(this._balloon,"change:visibleView",f)}},{key:"_isFormInPanel",get:function(){return!!this.formView&&this._balloon.hasView(this.formView)}},{key:"_areActionsInPanel",get:function(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}},{key:"_areActionsVisible",get:function(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}},{key:"_isUIInPanel",get:function(){return this._isFormInPanel||this._areActionsInPanel}},{key:"_isUIVisible",get:function(){var e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}},{key:"_getBalloonPositionData",value:function(){var e,o=this,c=this.editor.editing.view,l=this.editor.model,s=c.document;if(l.markers.has(Cr)){var f=Array.from(this.editor.editing.mapper.markerNameToElements(Cr)),d=c.createRange(c.createPositionBefore(f[0]),c.createPositionAfter(f[f.length-1]));e=c.domConverter.viewRangeToDom(d)}else e=function(){var h=o._getSelectedLinkElement();return h?c.domConverter.mapViewToDom(h):c.domConverter.viewRangeToDom(s.selection.getFirstRange())};return{target:e}}},{key:"_getSelectedLinkElement",value:function(){var e=this.editor.editing.view,o=e.document.selection,c=o.getSelectedElement();if(o.isCollapsed||c&&Zt(c))return XD(o.getFirstPosition());var l=o.getFirstRange().getTrimmed(),s=XD(l.start),f=XD(l.end);return s&&s==f&&e.createRangeIn(s).getTrimmed().isEqual(l)?s:null}},{key:"_showFakeVisualSelection",value:function(){var e=this.editor.model;e.change(function(o){var c=e.document.selection.getFirstRange();if(e.markers.has(Cr))o.updateMarker(Cr,{range:c});else if(c.start.isAtEnd){var l=c.start.getLastMatchingPosition(function(s){var f=s.item;return!e.schema.isContent(f)},{boundaries:c});o.addMarker(Cr,{usingOperation:!1,affectsData:!1,range:o.createRange(l,c.end)})}else o.addMarker(Cr,{usingOperation:!1,affectsData:!1,range:c})})}},{key:"_hideFakeVisualSelection",value:function(){var e=this.editor.model;e.markers.has(Cr)&&e.change(function(o){o.removeMarker(Cr)})}}],i=[{key:"requires",get:function(){return[bn]}},{key:"pluginName",get:function(){return"LinkUI"}}],n&&sK(t.prototype,n),i&&sK(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function XD(r){return r.getAncestors().find(function(t){return(n=t).is("attributeElement")&&!!n.getCustomProperty("link");var n})||null}function Lf(r){return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(r)}function fK(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Lf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Lf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Lf(a)==="symbol"?a:String(a)),i)}var u,a}function tR(r,t){return tR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tR(r,t)}function Ugt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Yk(r);if(t){var u=Yk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Yk(r){return Yk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yk(r)}var Hgt=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),Ggt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&tR(e,o)})(a,r);var t,n,i,u=Ugt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Vr]}},{key:"pluginName",get:function(){return"AutoLink"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor.model.document.selection;o.on("change:range",function(){e.isEnabled=!o.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}},{key:"afterInit",value:function(){this._enableEnterHandling(),this._enableShiftEnterHandling()}},{key:"_enableTypingHandling",value:function(){var e=this,o=this.editor,c=new MV(o.model,function(l){if(function(f){return f.length>4&&f[f.length-1]===" "&&f[f.length-2]!==" "}(l)){var s=dK(l.substr(0,l.length-1));return s?{url:s}:void 0}});c.on("matched:data",function(l,s){var f=s.batch,d=s.range,h=s.url;if(f.isTyping){var b=d.end.getShiftedBy(-1),v=b.getShiftedBy(-h.length),g=o.model.createRange(v,b);e._applyAutoLink(h,g)}}),c.bind("isEnabled").to(this)}},{key:"_enableEnterHandling",value:function(){var e=this,o=this.editor,c=o.model,l=o.commands.get("enter");l&&l.on("execute",function(){var s=c.document.selection.getFirstPosition();if(s.parent.previousSibling){var f=c.createRangeIn(s.parent.previousSibling);e._checkAndApplyAutoLinkOnRange(f)}})}},{key:"_enableShiftEnterHandling",value:function(){var e=this,o=this.editor,c=o.model,l=o.commands.get("shiftEnter");l&&l.on("execute",function(){var s=c.document.selection.getFirstPosition(),f=c.createRange(c.createPositionAt(s.parent,0),s.getShiftedBy(-1));e._checkAndApplyAutoLinkOnRange(f)})}},{key:"_checkAndApplyAutoLinkOnRange",value:function(e){var o=this.editor.model,c=IV(e,o),l=c.text,s=c.range,f=dK(l);if(f){var d=o.createRange(s.end.getShiftedBy(-f.length),s.end);this._applyAutoLink(f,d)}}},{key:"_applyAutoLink",value:function(e,o){var c=this.editor.model,l=FD(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(s,f){return f.schema.checkAttributeInSelection(f.createSelection(s),"linkHref")}(o,c)&&VY(l)&&!function(s){var f=s.start.nodeAfter;return!!f&&f.hasAttribute("linkHref")}(o)&&this._persistAutoLink(l,o)}},{key:"_persistAutoLink",value:function(e,o){var c=this.editor.model,l=this.editor.plugins.get("Delete");c.enqueueChange(function(s){s.setAttribute("linkHref",e,o),c.enqueueChange(function(){l.requestUndoOnBackspace()})})}}])&&fK(t.prototype,n),i&&fK(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function dK(r){var t=Hgt.exec(r);return t?t[2]:null}function zf(r){return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(r)}function pK(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(zf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(zf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),zf(a)==="symbol"?a:String(a)),i)}var u,a}function eR(r,t){return eR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eR(r,t)}function Wgt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Kk(r);if(t){var u=Kk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Kk(r){return Kk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kk(r)}var $gt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&eR(e,o)})(a,r);var t,n,i,u=Wgt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Dgt,Vgt,Ggt]}},{key:"pluginName",get:function(){return"Link"}}],(n=null)&&pK(t.prototype,n),i&&pK(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Ff(r){return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(r)}function rR(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return yK(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return yK(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function yK(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function hK(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ff(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ff(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ff(a)==="symbol"?a:String(a)),i)}var u,a}function nR(r,t){return nR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nR(r,t)}function qgt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Zk(r);if(t){var u=Zk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Zk(r){return Zk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zk(r)}var oR=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&nR(e,o)})(a,r);var t,n,i,u=qgt(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e)).type=o,c}return t=a,n=[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=this.editor.model,l=c.document,s=Array.from(l.selection.getSelectedBlocks()).filter(function(d){return mK(d,c.schema)}),f=o.forceValue!==void 0?!o.forceValue:this.value;c.change(function(d){if(f){for(var h=s[s.length-1].nextSibling,b=Number.POSITIVE_INFINITY,v=[];h&&h.name=="listItem"&&h.getAttribute("listIndent")!==0;){var g=h.getAttribute("listIndent");g<b&&(b=g);var k=g-b;v.push({element:h,listIndent:k}),h=h.nextSibling}var _,A=rR(v=v.reverse());try{for(A.s();!(_=A.n()).done;){var C=_.value;d.setAttribute("listIndent",C.listIndent,C.element)}}catch(tt){A.e(tt)}finally{A.f()}}if(!f){var S,P=Number.POSITIVE_INFINITY,E=rR(s);try{for(E.s();!(S=E.n()).done;){var R=S.value;R.is("element","listItem")&&R.getAttribute("listIndent")<P&&(P=R.getAttribute("listIndent"))}}catch(tt){E.e(tt)}finally{E.f()}bK(s,!0,P=P===0?1:P),bK(s,!1,P)}var I,z=rR(s.reverse());try{for(z.s();!(I=z.n()).done;){var F=I.value;f&&F.name=="listItem"?d.rename(F,"paragraph"):f||F.name=="listItem"?f||F.name!="listItem"||F.getAttribute("listType")==e.type||d.setAttribute("listType",e.type,F):(d.setAttributes({listType:e.type,listIndent:0},F),d.rename(F,"listItem"))}}catch(tt){z.e(tt)}finally{z.f()}e.fire("_executeCleanup",s)})}},{key:"_getValue",value:function(){var e=Vt(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.document.selection,o=this.editor.model.schema,c=Vt(e.getSelectedBlocks());return!!c&&mK(c,o)}}],n&&hK(t.prototype,n),i&&hK(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function bK(r,t,n){var i=t?r[0]:r[r.length-1];if(i.is("element","listItem"))for(var u=i[t?"previousSibling":"nextSibling"],a=i.getAttribute("listIndent");u&&u.is("element","listItem")&&u.getAttribute("listIndent")>=n;)a>u.getAttribute("listIndent")&&(a=u.getAttribute("listIndent")),u.getAttribute("listIndent")==a&&r[t?"unshift":"push"](u),u=u[t?"previousSibling":"nextSibling"]}function mK(r,t){return t.checkChild(r.parent,"listItem")&&!t.isObject(r)}function Vf(r){return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(r)}function Ygt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return vK(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return vK(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function vK(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function gK(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Vf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Vf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Vf(a)==="symbol"?a:String(a)),i)}var u,a}function iR(r,t){return iR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iR(r,t)}function Kgt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Qk(r);if(t){var u=Qk(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Qk(r){return Qk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qk(r)}var wK=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&iR(e,o)})(a,r);var t,n,i,u=Kgt(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e))._indentBy=o=="forward"?1:-1,c}return t=a,n=[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,o=this.editor.model,c=o.document,l=Array.from(c.selection.getSelectedBlocks());o.change(function(s){for(var f=l[l.length-1],d=f.nextSibling;d&&d.name=="listItem"&&d.getAttribute("listIndent")>f.getAttribute("listIndent");)l.push(d),d=d.nextSibling;e._indentBy<0&&(l=l.reverse());var h,b=Ygt(l);try{for(b.s();!(h=b.n()).done;){var v=h.value,g=v.getAttribute("listIndent")+e._indentBy;g<0?s.rename(v,"paragraph"):s.setAttribute("listIndent",g,v)}}catch(k){b.e(k)}finally{b.f()}e.fire("_executeCleanup",l)})}},{key:"_checkEnabled",value:function(){var e=Vt(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){for(var o=e.getAttribute("listIndent"),c=e.getAttribute("listType"),l=e.previousSibling;l&&l.is("element","listItem")&&l.getAttribute("listIndent")>=o;){if(l.getAttribute("listIndent")==o)return l.getAttribute("listType")==c;l=l.previousSibling}return!1}return!0}}],n&&gK(t.prototype,n),i&&gK(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Zh(r){return function(t){if(Array.isArray(t))return aR(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||kK(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jk(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=kK(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function kK(r,t){if(r){if(typeof r=="string")return aR(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aR(r,t):void 0}}function aR(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function cR(r,t){var n=t.mapper,i=t.writer,u=r.getAttribute("listType")=="numbered"?"ol":"ul",a=function(o){var c=o.createContainerElement("li");return c.getFillerOffset=Jgt,c}(i),e=i.createContainerElement(u,null);return i.insert(i.createPositionAt(e,0),a),n.bindElements(r,a),a}function Xk(r,t,n,i){var u=t.parent,a=n.mapper,e=n.writer,o=a.toViewPosition(i.createPositionBefore(r)),c=_K(r.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:r.getAttribute("listIndent")}),l=r.previousSibling;if(c&&c.getAttribute("listIndent")==r.getAttribute("listIndent")){var s=a.toViewElement(c);o=e.breakContainer(e.createPositionAfter(s))}else if(l&&l.name=="listItem"){o=a.toViewPosition(i.createPositionAt(l,"end"));var f=a.findMappedViewAncestor(o),d=AK(f);o=d?e.createPositionBefore(d):e.createPositionAt(f,"end")}else o=a.toViewPosition(i.createPositionBefore(r));if(o=uR(o),e.insert(o,u),l&&l.name=="listItem"){var h,b=a.toViewElement(l),v=e.createRange(e.createPositionAt(b,0),o).getWalker({ignoreElementEnd:!0}),g=Jk(v);try{for(g.s();!(h=g.n()).done;){var k=h.value;if(k.item.is("element","li")){var _=e.breakContainer(e.createPositionBefore(k.item)),A=k.item.parent,C=e.createPositionAt(t,"end");tr(e,C.nodeBefore,C.nodeAfter),e.move(e.createRangeOn(A),C),v._position=_}}}catch(F){g.e(F)}finally{g.f()}}else{var S=u.nextSibling;if(S&&(S.is("element","ul")||S.is("element","ol"))){var P,E=null,R=Jk(S.getChildren());try{for(R.s();!(P=R.n()).done;){var I=P.value,z=a.toModelElement(I);if(!(z&&z.getAttribute("listIndent")>r.getAttribute("listIndent")))break;E=I}}catch(F){R.e(F)}finally{R.f()}E&&(e.breakContainer(e.createPositionAfter(E)),e.move(e.createRangeOn(E.parent),e.createPositionAt(t,"end")))}}tr(e,u,u.nextSibling),tr(e,u.previousSibling,u)}function tr(r,t,n){return!t||!n||t.name!="ul"&&t.name!="ol"||t.name!=n.name||t.getAttribute("class")!==n.getAttribute("class")?null:r.mergeContainers(r.createPositionAfter(t))}function uR(r){return r.getLastMatchingPosition(function(t){return t.item.is("uiElement")})}function _K(r,t){for(var n=!!t.sameIndent,i=!!t.smallerIndent,u=t.listIndent,a=r;a&&a.name=="listItem";){var e=a.getAttribute("listIndent");if(n&&u==e||i&&u>e)return a;a=t.direction==="forward"?a.nextSibling:a.previousSibling}return null}function lR(r,t,n,i){r.ui.componentFactory.add(t,function(u){var a=r.commands.get(t),e=new vt(u);return e.set({label:n,icon:i,tooltip:!0,isToggleable:!0}),e.bind("isOn","isEnabled").to(a,"value","isEnabled"),e.on("execute",function(){r.execute(t),r.editing.view.focus()}),e})}function AK(r){var t,n=Jk(r.getChildren());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.name=="ul"||i.name=="ol")return i}}catch(u){n.e(u)}finally{n.f()}return null}function sR(r,t){var n,i=[],u=r.parent,a={ignoreElementEnd:!1,startPosition:r,shallow:!0,direction:t},e=u.getAttribute("listIndent"),o=Jk(Zh(new mr(a)).filter(function(l){return l.item.is("element")}).map(function(l){return l.item}));try{for(o.s();!(n=o.n()).done;){var c=n.value;if(!c.is("element","listItem")||c.getAttribute("listIndent")<e)break;if(!(c.getAttribute("listIndent")>e)){if(c.getAttribute("listType")!==u.getAttribute("listType")||c.getAttribute("listStyle")!==u.getAttribute("listStyle")||c.getAttribute("listReversed")!==u.getAttribute("listReversed")||c.getAttribute("listStart")!==u.getAttribute("listStart"))break;t==="backward"?i.unshift(c):i.push(c)}}}catch(l){o.e(l)}finally{o.f()}return i}var Zgt=["disc","circle","square"],Qgt=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function Jgt(){var r=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||r?0:jN.call(this)}function Uf(r){return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(r)}function CK(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Uf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Uf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Uf(a)==="symbol"?a:String(a)),i)}var u,a}function fR(r,t){return fR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fR(r,t)}function Xgt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=t_(r);if(t){var u=t_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function t_(r){return t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t_(r)}var twt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&fR(e,o)})(a,r);var t,n,i,u=Xgt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"ListUtils"}}],(n=[{key:"getListTypeFromListStyleType",value:function(e){return function(o){return Zgt.includes(o)?"bulleted":Qgt.includes(o)?"numbered":null}(e)}},{key:"getSelectedListItems",value:function(e){return function(o){var c=Zh(o.document.selection.getSelectedBlocks()).filter(function(l){return l.is("element","listItem")}).map(function(l){var s=o.change(function(f){return f.createPositionAt(l,0)});return[].concat(Zh(sR(s,"backward")),Zh(sR(s,"forward")))}).flat();return Zh(new Set(c))}(e)}},{key:"getSiblingNodes",value:function(e,o){return sR(e,o)}}])&&CK(t.prototype,n),i&&CK(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function ewt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||dR(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function OK(r){return function(t){if(Array.isArray(t))return pR(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||dR(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _n(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=dR(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function dR(r,t){if(r){if(typeof r=="string")return pR(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pR(r,t):void 0}}function pR(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function SK(r){return function(t,n,i){var u=i.consumable;if(u.test(n.item,"insert")&&u.test(n.item,"attribute:listType")&&u.test(n.item,"attribute:listIndent")){u.consume(n.item,"insert"),u.consume(n.item,"attribute:listType"),u.consume(n.item,"attribute:listIndent");var a=n.item;Xk(a,cR(a,i),i,r)}}}var rwt=function(r,t,n){if(n.consumable.test(t.item,r.name)){var i=n.mapper.toViewElement(t.item),u=n.writer;u.breakContainer(u.createPositionBefore(i)),u.breakContainer(u.createPositionAfter(i));var a=i.parent,e=t.attributeNewValue=="numbered"?"ol":"ul";u.rename(e,a)}},nwt=function(r,t,n){n.consumable.consume(t.item,r.name);var i=n.mapper.toViewElement(t.item).parent,u=n.writer;tr(u,i,i.nextSibling),tr(u,i.previousSibling,i)},jK=function(r,t,n){if(n.consumable.test(t.item,r.name)&&t.item.name!="listItem"){for(var i=n.mapper.toViewPosition(t.range.start),u=n.writer,a=[];(i.parent.name=="ul"||i.parent.name=="ol")&&(i=u.breakContainer(i)).parent.name=="li";){var e=i,o=u.createPositionAt(i.parent,"end");if(!e.isEqual(o)){var c=u.remove(u.createRange(e,o));a.push(c)}i=u.createPositionAfter(i.parent)}if(a.length>0){for(var l=0;l<a.length;l++){var s=i.nodeBefore;if(i=u.insert(i,a[l]).end,l>0){var f=tr(u,s,s.nextSibling);f&&f.parent==s&&i.offset--}}tr(u,i.nodeBefore,i.nodeAfter)}}},owt=function(r,t,n){var i=n.mapper.toViewPosition(t.position),u=i.nodeBefore,a=i.nodeAfter;tr(n.writer,u,a)},iwt=function(r,t,n){if(n.consumable.consume(t.viewItem,{name:!0})){var i=n.writer,u=i.createElement("listItem"),a=function(c){for(var l=0,s=c.parent;s;){if(s.is("element","li"))l++;else{var f=s.previousSibling;f&&f.is("element","li")&&l++}s=s.parent}return l}(t.viewItem);i.setAttribute("listIndent",a,u);var e=t.viewItem.parent&&t.viewItem.parent.name=="ol"?"numbered":"bulleted";if(i.setAttribute("listType",e,u),!n.safeInsert(u,t.modelCursor))return;var o=function(c,l,s){var f,d=s.writer,h=s.schema,b=d.createPositionAfter(c),v=_n(l);try{for(v.s();!(f=v.n()).done;){var g=f.value;if(g.name=="ul"||g.name=="ol")b=s.convertItem(g,b).modelCursor;else{var k=s.convertItem(g,d.createPositionAt(c,"end")),_=k.modelRange.start.nodeAfter;_&&_.is("element")&&!h.checkChild(c,_.name)&&(c=k.modelCursor.parent.is("element","listItem")?k.modelCursor.parent:uwt(k.modelCursor),b=d.createPositionAfter(c))}}}catch(A){v.e(A)}finally{v.f()}return b}(u,t.viewItem.getChildren(),n);t.modelRange=i.createRange(t.modelCursor,o),n.updateConversionResult(u,t)}},PK=function(r,t,n){if(n.consumable.test(t.viewItem,{name:!0}))for(var i=0,u=Array.from(t.viewItem.getChildren());i<u.length;i++){var a=u[i];!(a.is("element","li")||Hf(a))&&a._remove()}},awt=function(r,t,n){if(n.consumable.test(t.viewItem,{name:!0})){if(t.viewItem.childCount===0)return;var i,u=!1,a=_n(OK(t.viewItem.getChildren()));try{for(a.s();!(i=a.n()).done;){var e=i.value;u&&!Hf(e)&&e._remove(),Hf(e)&&(u=!0)}}catch(o){a.e(o)}finally{a.f()}}};function EK(r){return function(t,n){if(!n.isPhantom){var i=n.modelPosition.nodeBefore;if(i&&i.is("element","listItem")){var u,a=n.mapper.toViewElement(i),e=a.getAncestors().find(Hf),o=_n(r.createPositionAt(a,0).getWalker());try{for(o.s();!(u=o.n()).done;){var c=u.value;if(c.type=="elementStart"&&c.item.is("element","li")){n.viewPosition=c.previousPosition;break}if(c.type=="elementEnd"&&c.item==e){n.viewPosition=c.nextPosition;break}}}catch(l){o.e(l)}finally{o.f()}}}}}var cwt=function(r,t){var n,i=ewt(t,2),u=i[0],a=i[1],e=u.is("documentFragment")?u.getChild(0):u;if(n=a?this.createSelection(a):this.document.selection,e&&e.is("element","listItem")){var o=n.getFirstPosition(),c=null;if(o.parent.is("element","listItem")?c=o.parent:o.nodeBefore&&o.nodeBefore.is("element","listItem")&&(c=o.nodeBefore),c){var l=c.getAttribute("listIndent");if(l>0)for(;e&&e.is("element","listItem");)e._setAttribute("listIndent",e.getAttribute("listIndent")+l),e=e.nextSibling}}};function uwt(r){var t,n=new mr({startPosition:r});do t=n.next();while(!t.value.item.is("element","listItem"));return t.value.item}function xK(r,t,n,i,u,a){var e,o=_K(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:r}),c=u.mapper,l=u.writer,s=o?o.getAttribute("listIndent"):null;if(o)if(s==r){var f=c.toViewElement(o).parent;e=l.createPositionAfter(f)}else{var d=a.createPositionAt(o,"end");e=c.toViewPosition(d)}else e=n;e=uR(e);for(var h=0,b=OK(i.getChildren());h<b.length;h++){var v=b[h];Hf(v)&&(e=l.move(l.createRangeOn(v),e).end,tr(l,v,v.nextSibling),tr(l,v.previousSibling,v))}}function Hf(r){return r.is("element","ol")||r.is("element","ul")}var TK=x(4784),lwt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(TK.Z,lwt),TK.Z.locals;function Gf(r){return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(r)}function DK(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return RK(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return RK(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function RK(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function IK(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Gf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Gf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Gf(a)==="symbol"?a:String(a)),i)}var u,a}function yR(r,t){return yR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yR(r,t)}function swt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=e_(r);if(t){var u=e_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function e_(r){return e_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},e_(r)}var BK=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&yR(e,o)})(a,r);var t,n,i,u=swt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor;o.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var c,l=o.data,s=o.editing;o.model.document.registerPostFixer(function(d){return function(h,b){var v,g=h.document.differ.getChanges(),k=new Map,_=!1,A=_n(g);try{for(A.s();!(v=A.n()).done;){var C=v.value;if(C.type=="insert"&&C.name=="listItem")F(C.position);else if(C.type=="insert"&&C.name!="listItem"){if(C.name!="$text"){var S=C.position.nodeAfter;S.hasAttribute("listIndent")&&(b.removeAttribute("listIndent",S),_=!0),S.hasAttribute("listType")&&(b.removeAttribute("listType",S),_=!0),S.hasAttribute("listStyle")&&(b.removeAttribute("listStyle",S),_=!0),S.hasAttribute("listReversed")&&(b.removeAttribute("listReversed",S),_=!0),S.hasAttribute("listStart")&&(b.removeAttribute("listStart",S),_=!0);var P,E=_n(Array.from(h.createRangeIn(S)).filter(function(G){return G.item.is("element","listItem")}));try{for(E.s();!(P=E.n()).done;)F(P.value.previousPosition)}catch(G){E.e(G)}finally{E.f()}}F(C.position.getShiftedBy(C.length))}else C.type=="remove"&&C.name=="listItem"?F(C.position):(C.type=="attribute"&&C.attributeKey=="listIndent"||C.type=="attribute"&&C.attributeKey=="listType")&&F(C.range.start)}}catch(G){A.e(G)}finally{A.f()}var R,I=_n(k.values());try{for(I.s();!(R=I.n()).done;){var z=R.value;tt(z),Z(z)}}catch(G){I.e(G)}finally{I.f()}return _;function F(G){var et=G.nodeBefore;if(et&&et.is("element","listItem")){var y=et;if(k.has(y))return;for(var p=y.previousSibling;p&&p.is("element","listItem");p=y.previousSibling)if(y=p,k.has(y))return;k.set(et,y)}else{var m=G.nodeAfter;m&&m.is("element","listItem")&&k.set(m,m)}}function tt(G){for(var et=0,y=null;G&&G.is("element","listItem");){var p=G.getAttribute("listIndent");if(p>et){var m=void 0;y===null?(y=p-et,m=et):(y>p&&(y=p),m=p-y),b.setAttribute("listIndent",m,G),_=!0}else y=null,et=G.getAttribute("listIndent")+1;G=G.nextSibling}}function Z(G){for(var et=[],y=null;G&&G.is("element","listItem");){var p=G.getAttribute("listIndent");if(y&&y.getAttribute("listIndent")>p&&(et=et.slice(0,p+1)),p!=0)if(et[p]){var m=et[p];G.getAttribute("listType")!=m&&(b.setAttribute("listType",m,G),_=!0)}else et[p]=G.getAttribute("listType");y=G,G=G.nextSibling}}}(o.model,d)}),s.mapper.registerViewToModelLength("li",hR),l.mapper.registerViewToModelLength("li",hR),s.mapper.on("modelToViewPosition",EK(s.view)),s.mapper.on("viewToModelPosition",(c=o.model,function(d,h){var b=h.viewPosition,v=b.parent,g=h.mapper;if(v.name=="ul"||v.name=="ol"){if(b.isAtEnd){var k=g.toModelElement(b.nodeBefore),_=g.getModelLength(b.nodeBefore);h.modelPosition=c.createPositionBefore(k).getShiftedBy(_)}else{var A=g.toModelElement(b.nodeAfter);h.modelPosition=c.createPositionBefore(A)}d.stop()}else if(v.name=="li"&&b.nodeBefore&&(b.nodeBefore.name=="ul"||b.nodeBefore.name=="ol")){for(var C=g.toModelElement(v),S=1,P=b.nodeBefore;P&&Hf(P);)S+=g.getModelLength(P),P=P.previousSibling;h.modelPosition=c.createPositionBefore(C).getShiftedBy(S),d.stop()}})),l.mapper.on("modelToViewPosition",EK(s.view)),o.conversion.for("editingDowncast").add(function(d){d.on("insert",jK,{priority:"high"}),d.on("insert:listItem",SK(o.model)),d.on("attribute:listType:listItem",rwt,{priority:"high"}),d.on("attribute:listType:listItem",nwt,{priority:"low"}),d.on("attribute:listIndent:listItem",function(h){return function(b,v,g){if(g.consumable.consume(v.item,"attribute:listIndent")){var k=g.mapper.toViewElement(v.item),_=g.writer;_.breakContainer(_.createPositionBefore(k)),_.breakContainer(_.createPositionAfter(k));var A=k.parent,C=A.previousSibling,S=_.createRangeOn(A);_.remove(S),C&&C.nextSibling&&tr(_,C,C.nextSibling),xK(v.attributeOldValue+1,v.range.start,S.start,k,g,h),Xk(v.item,k,g,h);var P,E=_n(v.item.getChildren());try{for(E.s();!(P=E.n()).done;){var R=P.value;g.consumable.consume(R,"insert")}}catch(I){E.e(I)}finally{E.f()}}}}(o.model)),d.on("remove:listItem",function(h){return function(b,v,g){var k=g.mapper.toViewPosition(v.position).getLastMatchingPosition(function(z){return!z.item.is("element","li")}).nodeAfter,_=g.writer;_.breakContainer(_.createPositionBefore(k)),_.breakContainer(_.createPositionAfter(k));var A=k.parent,C=A.previousSibling,S=_.createRangeOn(A),P=_.remove(S);C&&C.nextSibling&&tr(_,C,C.nextSibling),xK(g.mapper.toModelElement(k).getAttribute("listIndent")+1,v.position,S.start,k,g,h);var E,R=_n(_.createRangeIn(P).getItems());try{for(R.s();!(E=R.n()).done;){var I=E.value;g.mapper.unbindViewElement(I)}}catch(z){R.e(z)}finally{R.f()}b.stop()}}(o.model)),d.on("remove",owt,{priority:"low"})}),o.conversion.for("dataDowncast").add(function(d){d.on("insert",jK,{priority:"high"}),d.on("insert:listItem",SK(o.model))}),o.conversion.for("upcast").add(function(d){d.on("element:ul",PK,{priority:"high"}),d.on("element:ol",PK,{priority:"high"}),d.on("element:li",awt,{priority:"high"}),d.on("element:li",iwt)}),o.model.on("insertContent",cwt,{priority:"high"}),o.commands.add("numberedList",new oR(o,"numbered")),o.commands.add("bulletedList",new oR(o,"bulleted")),o.commands.add("indentList",new wK(o,"forward")),o.commands.add("outdentList",new wK(o,"backward"));var f=s.view.document;this.listenTo(f,"enter",function(d,h){var b=e.editor.model.document,v=b.selection.getLastPosition().parent;b.selection.isCollapsed&&v.name=="listItem"&&v.isEmpty&&(e.editor.execute("outdentList"),h.preventDefault(),d.stop())},{context:"li"}),this.listenTo(f,"delete",function(d,h){if(h.direction==="backward"){var b=e.editor.model.document.selection;if(b.isCollapsed){var v=b.getFirstPosition();if(v.isAtStart){var g=v.parent;g.name==="listItem"&&(g.previousSibling&&g.previousSibling.name==="listItem"||(e.editor.execute("outdentList"),h.preventDefault(),d.stop()))}}}},{context:"li"}),this.listenTo(o.editing.view.document,"tab",function(d,h){var b=h.shiftKey?"outdentList":"indentList";e.editor.commands.get(b).isEnabled&&(o.execute(b),h.stopPropagation(),h.preventDefault(),d.stop())},{context:"li"})}},{key:"afterInit",value:function(){var e=this.editor.commands,o=e.get("indent"),c=e.get("outdent");o&&o.registerChildCommand(e.get("indentList")),c&&c.registerChildCommand(e.get("outdentList"))}}],i=[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[zh,Vr,twt]}}],n&&IK(t.prototype,n),i&&IK(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function hR(r){var t,n=1,i=DK(r.getChildren());try{for(i.s();!(t=i.n()).done;){var u=t.value;if(u.name=="ul"||u.name=="ol"){var a,e=DK(u.getChildren());try{for(e.s();!(a=e.n()).done;)n+=hR(a.value)}catch(o){e.e(o)}finally{e.f()}}}}catch(o){i.e(o)}finally{i.f()}return n}function Wf(r){return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(r)}function MK(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Wf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Wf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Wf(a)==="symbol"?a:String(a)),i)}var u,a}function bR(r,t){return bR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bR(r,t)}function fwt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=r_(r);if(t){var u=r_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function r_(r){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r_(r)}var dwt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&bR(e,o)})(a,r);var t,n,i,u=fwt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"ListUI"}}],(n=[{key:"init",value:function(){var e=this.editor.t;lR(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),lR(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}])&&MK(t.prototype,n),i&&MK(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function $f(r){return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(r)}function NK(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if($f(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if($f(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),$f(a)==="symbol"?a:String(a)),i)}var u,a}function mR(r,t){return mR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mR(r,t)}function pwt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=n_(r);if(t){var u=n_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function n_(r){return n_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n_(r)}var ywt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&mR(e,o)})(a,r);var t,n,i,u=pwt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[BK,dwt]}},{key:"pluginName",get:function(){return"List"}}],(n=null)&&NK(t.prototype,n),i&&NK(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function hwt(r){return function(t){if(Array.isArray(t))return vR(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||function(t,n){if(t){if(typeof t=="string")return vR(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return vR(t,n)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vR(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function LK(r,t){var n=function(i,u,a){if(a.consumable.consume(u.item,i.name)){var e=u.attributeNewValue,o=a.writer,c=a.mapper.toViewElement(u.item),l=hwt(c.getChildren()).find(function(f){return f.getCustomProperty("media-content")});o.remove(l);var s=r.getMediaViewElement(o,e,t);o.insert(o.createPositionAt(c,0),s)}};return function(i){i.on("attribute:url:media",n)}}function zK(r,t,n,i){return r.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(r,n,i),r.createSlot()])}function FK(r){var t=r.getSelectedElement();return t&&t.is("element","media")?t:null}function VK(r,t,n,i){r.change(function(u){var a=u.createElement("media",{url:t});r.insertObject(a,n,null,{setSelection:"on",findOptimalPosition:i?"auto":void 0})})}function qf(r){return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(r)}function UK(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(qf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(qf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),qf(a)==="symbol"?a:String(a)),i)}var u,a}function gR(r,t){return gR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gR(r,t)}function bwt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=o_(r);if(t){var u=o_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function o_(r){return o_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o_(r)}var mwt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&gR(e,o)})(a,r);var t,n,i,u=bwt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(n=[{key:"refresh",value:function(){var e=this.editor.model,o=e.document.selection,c=FK(o);this.value=c?c.getAttribute("url"):void 0,this.isEnabled=function(l){var s=l.getSelectedElement();return!!s&&s.name==="media"}(o)||function(l,s){var f=Bw(l,s),d=f.start.parent;return d.isEmpty&&!s.schema.isLimit(d)&&(d=d.parent),s.schema.checkChild(d,"media")}(o,e)}},{key:"execute",value:function(e){var o=this.editor.model,c=o.document.selection,l=FK(c);l?o.change(function(s){s.setAttribute("url",e,l)}):VK(o,e,c,!0)}}])&&UK(t.prototype,n),i&&UK(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Qh(r){return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(r)}function HK(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return GK(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return GK(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function GK(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function WK(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function $K(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Qh(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Qh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Qh(a)==="symbol"?a:String(a)),i)}var u,a}function qK(r,t,n){return t&&$K(r.prototype,t),n&&$K(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}var vwt=function(){function r(t,n){WK(this,r);var i=n.providers,u=n.extraProviders||[],a=new Set(n.removeProviders),e=i.concat(u).filter(function(o){var c=o.name;return c?!a.has(c):(Ct("media-embed-no-provider-name",{provider:o}),!1)});this.locale=t,this.providerDefinitions=e}return qK(r,[{key:"hasMedia",value:function(t){return!!this._getMedia(t)}},{key:"getMediaViewElement",value:function(t,n,i){return this._getMedia(n).getViewElement(t,i)}},{key:"_getMedia",value:function(t){if(!t)return new YK(this.locale);t=t.trim();var n,i=HK(this.providerDefinitions);try{for(i.s();!(n=i.n()).done;){var u,a=n.value,e=a.html,o=HK(Kt(a.url));try{for(o.s();!(u=o.n()).done;){var c=u.value,l=this._getUrlMatches(t,c);if(l)return new YK(this.locale,t,l,e)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){i.e(s)}finally{i.f()}return null}},{key:"_getUrlMatches",value:function(t,n){var i=t.match(n);if(i)return i;var u=t.replace(/^https?:\/\//,"");return(i=u.match(n))?i:(i=(u=u.replace(/^www\./,"")).match(n))||null}}]),r}(),YK=function(){function r(t,n,i,u){WK(this,r),this.url=this._getValidUrl(n),this._locale=t,this._match=i,this._previewRenderer=u}return qK(r,[{key:"getViewElement",value:function(t,n){var i,u={};if(n.renderForEditingView||n.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(u["data-oembed-url"]=this.url),n.renderForEditingView&&(u.class="ck-media__wrapper");var a=this._getPreviewHtml(n);i=t.createRawElement("div",u,function(e,o){o.setContentOf(e,a)})}else this.url&&(u.url=this.url),i=t.createEmptyElement(n.elementName,u);return t.setCustomProperty("media-content",!0,i),i}},{key:"_getPreviewHtml",value:function(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}},{key:"_getPlaceholderHtml",value:function(){var t=new _i,n=this._locale.t;return t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42",new Re({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":n("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}},{key:"_getValidUrl",value:function(t){return t?t.match(/^https?/)?t:"https://"+t:null}}]),r}(),KK=x(1922),gwt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(KK.Z,gwt),KK.Z.locals;function Yf(r){return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(r)}function ZK(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Yf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Yf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Yf(a)==="symbol"?a:String(a)),i)}var u,a}function wR(r,t){return wR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wR(r,t)}function wwt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=i_(r);if(t){var u=i_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function i_(r){return i_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i_(r)}var a_=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&wR(e,o)})(a,r);var t,n,i,u=wwt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this,e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:function(c){var l=c[1];return'<div style="position: relative; padding-bottom: 100%; height: 0; ">'+'<iframe src="https://www.dailymotion.com/embed/video/'.concat(l,'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>'}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:function(c){var l=c[1];return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">'+'<iframe src="https://open.spotify.com/embed/'.concat(l,'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>'}},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:function(c){var l=c[1],s=c[2];return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+'<iframe src="https://www.youtube.com/embed/'.concat(l).concat(s?"?start=".concat(s):"",'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>'}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:function(c){var l=c[1];return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+'<iframe src="https://player.vimeo.com/video/'.concat(l,'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),o.registry=new vwt(e.locale,e.config.get("mediaEmbed")),o}return t=a,n=[{key:"init",value:function(){var e=this.editor,o=e.model.schema,c=e.t,l=e.conversion,s=e.config.get("mediaEmbed.previewsInData"),f=e.config.get("mediaEmbed.elementName"),d=this.registry;e.commands.add("mediaEmbed",new mwt(e)),o.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),l.for("dataDowncast").elementToStructure({model:"media",view:function(h,b){var v=b.writer,g=h.getAttribute("url");return zK(v,d,g,{elementName:f,renderMediaPreview:!!g&&s})}}),l.for("dataDowncast").add(LK(d,{elementName:f,renderMediaPreview:s})),l.for("editingDowncast").elementToStructure({model:"media",view:function(h,b){var v=b.writer,g=h.getAttribute("url");return function(k,_,A){return _.setCustomProperty("media",!0,k),xo(k,_,{label:A})}(zK(v,d,g,{elementName:f,renderForEditingView:!0}),v,c("media widget"))}}),l.for("editingDowncast").add(LK(d,{elementName:f,renderForEditingView:!0})),l.for("upcast").elementToElement({view:function(h){return["oembed",f].includes(h.name)&&h.getAttribute("url")?{name:!0}:null},model:function(h,b){var v=b.writer,g=h.getAttribute("url");return d.hasMedia(g)?v.createElement("media",{url:g}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:function(h,b){var v=b.writer,g=h.getAttribute("data-oembed-url");return d.hasMedia(g)?v.createElement("media",{url:g}):null}}).add(function(h){h.on("element:figure",function(b,v,g){if(g.consumable.consume(v.viewItem,{name:!0,classes:"media"})){var k=g.convertChildren(v.viewItem,v.modelCursor),_=k.modelRange,A=k.modelCursor;v.modelRange=_,v.modelCursor=A,Vt(_.getItems())||g.consumable.revert(v.viewItem,{name:!0,classes:"media"})}})})}}],i=[{key:"pluginName",get:function(){return"MediaEmbedEditing"}}],n&&ZK(t.prototype,n),i&&ZK(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Kf(r){return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(r)}function kwt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return QK(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return QK(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function QK(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function JK(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Kf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Kf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Kf(a)==="symbol"?a:String(a)),i)}var u,a}function kR(r,t){return kR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kR(r,t)}function _wt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=c_(r);if(t){var u=c_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function c_(r){return c_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c_(r)}var Awt=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/,Cwt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&kR(e,o)})(a,r);var t,n,i,u=_wt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._timeoutId=null,o._positionToInsert=null,o}return t=a,i=[{key:"requires",get:function(){return[OG,Vr,HG]}},{key:"pluginName",get:function(){return"AutoMediaEmbed"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.model.document,l=o.plugins.get("ClipboardPipeline");this.listenTo(l,"inputTransformation",function(){var s=c.selection.getFirstRange(),f=he.fromPosition(s.start);f.stickiness="toPrevious";var d=he.fromPosition(s.end);d.stickiness="toNext",c.once("change:data",function(){e._embedMediaBetweenPositions(f,d),f.detach(),d.detach()},{priority:"high"})}),o.commands.get("undo").on("execute",function(){e._timeoutId&&(kt.window.clearTimeout(e._timeoutId),e._positionToInsert.detach(),e._timeoutId=null,e._positionToInsert=null)},{priority:"high"})}},{key:"_embedMediaBetweenPositions",value:function(e,o){var c,l=this,s=this.editor,f=s.plugins.get(a_).registry,d=new Lr(e,o),h=d.getWalker({ignoreElementEnd:!0}),b="",v=kwt(h);try{for(v.s();!(c=v.n()).done;){var g=c.value;g.item.is("$textProxy")&&(b+=g.item.data)}}catch(k){v.e(k)}finally{v.f()}(b=b.trim()).match(Awt)&&f.hasMedia(b)&&s.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=he.fromPosition(e),this._timeoutId=kt.window.setTimeout(function(){s.model.change(function(k){l._timeoutId=null,k.remove(d),d.detach();var _=null;l._positionToInsert.root.rootName!=="$graveyard"&&(_=l._positionToInsert),VK(s.model,b,_,!1),l._positionToInsert.detach(),l._positionToInsert=null}),s.plugins.get(Vr).requestUndoOnBackspace()},100)):d.detach()}}])&&JK(t.prototype,n),i&&JK(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),XK=x(7138),Owt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(XK.Z,Owt),XK.Z.locals;function Zf(r){return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(r)}function Swt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return tZ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return tZ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function tZ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function eZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Zf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Zf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Zf(a)==="symbol"?a:String(a)),i)}var u,a}function u_(){return u_=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=No(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},u_.apply(this,arguments)}function _R(r,t){return _R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_R(r,t)}function jwt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=No(r);if(t){var u=No(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rZ(a)}(this,n)}}function rZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function No(r){return No=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},No(r)}var Pwt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&_R(e,o)})(a,r);var t,n,i,u=jwt(a);function a(e,o){var c;(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a),c=u.call(this,o);var l=o.t;return c.focusTracker=new ce,c.keystrokes=new de,c.set("mediaURLInputValue",""),c.urlInputView=c._createUrlInput(),c.saveButtonView=c._createButton(l("Save"),po,"ck-button-save"),c.saveButtonView.type="submit",c.saveButtonView.bind("isEnabled").to(rZ(c),"mediaURLInputValue",function(s){return!!s}),c.cancelButtonView=c._createButton(l("Cancel"),fo,"ck-button-cancel","cancel"),c._focusables=new De,c._focusCycler=new Qe({focusables:c._focusables,focusTracker:c.focusTracker,keystrokeHandler:c.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),c._validators=e,c.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[c.urlInputView,c.saveButtonView,c.cancelButtonView]}),c}return t=a,n=[{key:"render",value:function(){var e=this;u_(No(a.prototype),"render",this).call(this),it({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(function(c){e._focusables.add(c),e.focusTracker.add(c.element)}),this.keystrokes.listenTo(this.element);var o=function(c){return c.stopPropagation()};this.keystrokes.set("arrowright",o),this.keystrokes.set("arrowleft",o),this.keystrokes.set("arrowup",o),this.keystrokes.set("arrowdown",o)}},{key:"destroy",value:function(){u_(No(a.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"url",get:function(){return this.urlInputView.fieldView.element.value.trim()},set:function(e){this.urlInputView.fieldView.element.value=e.trim()}},{key:"isValid",value:function(){this.resetFormStatus();var e,o=Swt(this._validators);try{for(o.s();!(e=o.n()).done;){var c=(0,e.value)(this);if(c)return this.urlInputView.errorText=c,!1}}catch(l){o.e(l)}finally{o.f()}return!0}},{key:"resetFormStatus",value:function(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}},{key:"_createUrlInput",value:function(){var e=this,o=this.locale.t,c=new ue(this.locale,Ge),l=c.fieldView;return this._urlInputViewInfoDefault=o("Paste the media URL in the input."),this._urlInputViewInfoTip=o("Tip: Paste the URL into the content to embed faster."),c.label=o("Media URL"),c.infoText=this._urlInputViewInfoDefault,l.on("input",function(){c.infoText=l.element.value?e._urlInputViewInfoTip:e._urlInputViewInfoDefault,e.mediaURLInputValue=l.element.value.trim()}),c}},{key:"_createButton",value:function(e,o,c,l){var s=new vt(this.locale);return s.set({label:e,icon:o,tooltip:!0}),s.extendTemplate({attributes:{class:c}}),l&&s.delegate("execute").to(this,l),s}}],n&&eZ(t.prototype,n),i&&eZ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function Qf(r){return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(r)}function nZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Qf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Qf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Qf(a)==="symbol"?a:String(a)),i)}var u,a}function AR(r,t){return AR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AR(r,t)}function Ewt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=l_(r);if(t){var u=l_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function l_(r){return l_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l_(r)}var xwt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&AR(e,o)})(a,r);var t,n,i,u=Ewt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.commands.get("mediaEmbed");o.ui.componentFactory.add("mediaEmbed",function(l){var s=ae(l);return e._setUpDropdown(s,c),s})}},{key:"_setUpDropdown",value:function(e,o){var c=this.editor,l=c.t,s=e.buttonView,f=c.plugins.get(a_).registry;e.once("change:isOpen",function(){var d=new(nt(Pwt))(function(h,b){return[function(v){if(!v.url.length)return h("The URL must not be empty.")},function(v){if(!b.hasMedia(v.url))return h("This media URL is not supported.")}]}(c.t,f),c.locale);e.panelView.children.add(d),s.on("open",function(){d.disableCssTransitions(),d.url=o.value||"",d.urlInputView.fieldView.select(),d.enableCssTransitions()},{priority:"low"}),e.on("submit",function(){d.isValid()&&(c.execute("mediaEmbed",d.url),c.editing.view.focus())}),e.on("change:isOpen",function(){return d.resetFormStatus()}),e.on("cancel",function(){c.editing.view.focus()}),d.delegate("submit","cancel").to(e),d.urlInputView.fieldView.bind("value").to(o,"value"),d.urlInputView.bind("isEnabled").to(o,"isEnabled")}),e.bind("isEnabled").to(o),s.set({label:l("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}],i=[{key:"requires",get:function(){return[a_]}},{key:"pluginName",get:function(){return"MediaEmbedUI"}}],n&&nZ(t.prototype,n),i&&nZ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),oZ=x(8705),Twt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(oZ.Z,Twt),oZ.Z.locals;function Jf(r){return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(r)}function iZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Jf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Jf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Jf(a)==="symbol"?a:String(a)),i)}var u,a}function CR(r,t){return CR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CR(r,t)}function Dwt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=s_(r);if(t){var u=s_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function s_(r){return s_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s_(r)}var Rwt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&CR(e,o)})(a,r);var t,n,i,u=Dwt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[a_,xwt,Cwt,kn]}},{key:"pluginName",get:function(){return"MediaEmbed"}}],(n=null)&&iZ(t.prototype,n),i&&iZ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Jh(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return aZ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return aZ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function aZ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Iwt(r,t){if(r.childCount){var n=new _r(r.document),i=function(e,o){var c,l=o.createRangeIn(e),s=new ze({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),f=[],d=Jh(l);try{for(d.s();!(c=d.n()).done;){var h=c.value;if(h.type==="elementStart"&&s.match(h.item)){var b=Mwt(h.item);f.push({element:h.item,id:b.id,order:b.order,indent:b.indent})}}}catch(v){d.e(v)}finally{d.f()}return f}(r,n);if(i.length){var u=null,a=1;i.forEach(function(e,o){var c,l,s=function(_,A){if(!_)return!0;if(_.id!==A.id)return A.indent-_.indent!=1;var C=A.element.previousSibling;if(!C)return!0;return S=C,!(S.is("element","ol")||S.is("element","ul"));var S}(i[o-1],e),f=s?null:i[o-1],d=(l=e,(c=f)?l.indent-c.indent:l.indent-1);if(s&&(u=null,a=1),!u||d!==0){var h=function(_,A){var C=new RegExp("@list l".concat(_.id,":level").concat(_.indent,"\\s*({[^}]*)"),"gi"),S=/mso-level-number-format:([^;]{0,100});/gi,P=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,E=C.exec(A),R="decimal",I="ol",z=null;if(E&&E[1]){var F=S.exec(E[1]);if(F&&F[1]&&(I=(R=F[1].trim())!=="bullet"&&R!=="image"?"ol":"ul"),R==="bullet"){var tt=function(G){var et=function(p){if(p.getChild(0).is("$text"))return null;var m,O=Jh(p.getChildren());try{for(O.s();!(m=O.n()).done;){var w=m.value;if(w.is("element","span")){var j=w.getChild(0);if(j)return j.is("$text")?j:j.getChild(0)}}}catch(T){O.e(T)}finally{O.f()}return null}(G);if(!et)return null;var y=et._data;return y==="o"?"circle":y==="\xB7"?"disc":y==="\xA7"?"square":null}(_.element);tt&&(R=tt)}else{var Z=P.exec(E[1]);Z&&Z[1]&&(z=parseInt(Z[1]))}}return{type:I,startIndex:z,style:Bwt(R)}}(e,t);if(u){if(e.indent>a){var b=u.getChild(u.childCount-1),v=b.getChild(b.childCount-1);u=cZ(h,v,n),a+=1}else if(e.indent<a){var g=a-e.indent;u=function(_,A){var C,S=_.getAncestors({parentFirst:!0}),P=null,E=0,R=Jh(S);try{for(R.s();!(C=R.n()).done;){var I=C.value;if((I.is("element","ul")||I.is("element","ol"))&&E++,E===A){P=I;break}}}catch(z){R.e(z)}finally{R.f()}return P}(u,g),a=e.indent}}else u=cZ(h,e.element,n);e.indent<=a&&(u.is("element",h.type)||(u=n.rename(h.type,u)))}var k=function(_,A){return function(C,S){var P,E=new ze({name:"span",styles:{"mso-list":"Ignore"}}),R=S.createRangeIn(C),I=Jh(R);try{for(I.s();!(P=I.n()).done;){var z=P.value;z.type==="elementStart"&&E.match(z.item)&&S.remove(z.item)}}catch(F){I.e(F)}finally{I.f()}}(_,A),A.removeStyle("text-indent",_),A.rename("li",_)}(e.element,n);n.appendChild(k,u)})}}}function Bwt(r){if(r.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(r){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return r;default:return null}}function cZ(r,t,n){var i=t.parent,u=n.createElement(r.type),a=i.getChildIndex(t)+1;return n.insertChild(a,u,i),r.style&&n.setStyle("list-style-type",r.style,u),r.startIndex&&r.startIndex>1&&n.setAttribute("start",r.startIndex,u),u}function Mwt(r){var t={},n=r.getStyle("mso-list");if(n){var i=n.match(/(^|\s{1,100})l(\d+)/i),u=n.match(/\s{0,100}lfo(\d+)/i),a=n.match(/\s{0,100}level(\d+)/i);i&&u&&a&&(t.id=i[2],t.order=u[1],t.indent=parseInt(a[1]))}return t}function An(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return uZ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return uZ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function uZ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Nwt(r,t){if(r.childCount){var n=new _r(r.document),i=function(a,e){var o,c=e.createRangeIn(a),l=new ze({name:/v:(.+)/}),s=[],f=An(c);try{for(f.s();!(o=f.n()).done;){var d=o.value;if(d.type=="elementStart"){var h=d.item,b=h.previousSibling,v=b&&b.is("element")?b.name:null;l.match(h)&&h.getAttribute("o:gfxdata")&&v!=="v:shapetype"&&s.push(d.item.getAttribute("id"))}}}catch(g){f.e(g)}finally{f.f()}return s}(r,n);(function(a,e,o){var c,l=o.createRangeIn(e),s=new ze({name:"img"}),f=[],d=An(l);try{for(d.s();!(c=d.n()).done;){var h=c.value;if(h.item.is("element")&&s.match(h.item)){var b=h.item,v=b.getAttribute("v:shapes")?b.getAttribute("v:shapes").split(" "):[];v.length&&v.every(function(A){return a.indexOf(A)>-1})?f.push(b):b.getAttribute("src")||f.push(b)}}}catch(A){d.e(A)}finally{d.f()}for(var g=0,k=f;g<k.length;g++){var _=k[g];o.remove(_)}})(i,r,n),function(a,e,o){var c,l=o.createRangeIn(e),s=[],f=An(l);try{for(f.s();!(c=f.n()).done;){var d=c.value;if(d.type=="elementStart"&&d.item.is("element","v:shape")){var h=d.item.getAttribute("id");if(a.includes(h))continue;A(d.item.parent.getChildren(),h)||s.push(d.item)}}}catch(S){f.e(S)}finally{f.f()}for(var b=0,v=s;b<v.length;b++){var g=v[b],k={src:C(g)};g.hasAttribute("alt")&&(k.alt=g.getAttribute("alt"));var _=o.createElement("img",k);o.insertChild(g.index+1,_,g.parent)}function A(S,P){var E,R=An(S);try{for(R.s();!(E=R.n()).done;){var I=E.value;if(I.is("element")&&(I.name=="img"&&I.getAttribute("v:shapes")==P||A(I.getChildren(),P)))return!0}}catch(z){R.e(z)}finally{R.f()}return!1}function C(S){var P,E=An(S.getChildren());try{for(E.s();!(P=E.n()).done;){var R=P.value;if(R.is("element")&&R.getAttribute("src"))return R.getAttribute("src")}}catch(I){E.e(I)}finally{E.f()}}}(i,r,n),function(a,e){var o,c=e.createRangeIn(a),l=new ze({name:/v:(.+)/}),s=[],f=An(c);try{for(f.s();!(o=f.n()).done;){var d=o.value;d.type=="elementStart"&&l.match(d.item)&&s.push(d.item)}}catch(g){f.e(g)}finally{f.f()}for(var h=0,b=s;h<b.length;h++){var v=b[h];e.remove(v)}}(r,n);var u=function(a,e){var o,c=e.createRangeIn(a),l=new ze({name:"img"}),s=[],f=An(c);try{for(f.s();!(o=f.n()).done;){var d=o.value;d.item.is("element")&&l.match(d.item)&&d.item.getAttribute("src").startsWith("file://")&&s.push(d.item)}}catch(h){f.e(h)}finally{f.f()}return s}(r,n);u.length&&function(a,e,o){if(a.length===e.length)for(var c=0;c<a.length;c++){var l="data:".concat(e[c].type,";base64,").concat(Lwt(e[c].hex));o.setAttribute("src",l,a[c])}}(u,function(a){if(!a)return[];var e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,o=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),c=a.match(o),l=[];if(c){var s,f=An(c);try{for(f.s();!(s=f.n()).done;){var d=s.value,h=!1;d.includes("\\pngblip")?h="image/png":d.includes("\\jpegblip")&&(h="image/jpeg"),h&&l.push({hex:d.replace(e,"").replace(/[^\da-fA-F]/g,""),type:h})}}catch(b){f.e(b)}finally{f.f()}}return l}(t),n)}}function Lwt(r){return btoa(r.match(/\w{2}/g).map(function(t){return String.fromCharCode(parseInt(t,16))}).join(""))}function zwt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return lZ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return lZ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function lZ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Xh(r){return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(r)}function sZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Xh(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Xh(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Xh(a)==="symbol"?a:String(a)),i)}var u,a}var Fwt=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,Vwt=/xmlns:o="urn:schemas-microsoft-com/i,Uwt=function(){function r(u){(function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.document=u}var t,n,i;return t=r,(n=[{key:"isActive",value:function(u){return Fwt.test(u)||Vwt.test(u)}},{key:"execute",value:function(u){var a=u._parsedData,e=a.body;Iwt(e,a.stylesString),Nwt(e,u.dataTransfer.getData("text/rtf")),function(o){var c,l=new _r(o.document),s=zwt(o.getChildren());try{for(s.s();!(c=s.n()).done;){var f=c.value;if(f.is("element"))if(f.is("element","table"))l.setAttribute("align","left",f);else{var d=f.getAttribute("align"),h=f.getChild(0);f.name==="div"&&d&&h&&h.is("element","table")&&l.setAttribute("align",d==="center"?"none":d,h)}}}catch(b){s.e(b)}finally{s.f()}}(e),u.content=e}}])&&sZ(t.prototype,n),i&&sZ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Hwt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return fZ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return fZ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function fZ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Gwt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return dZ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return dZ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function dZ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function pZ(r,t,n,i){var u=i.blockElements,a=i.inlineObjectElements,e=n.createPositionAt(r,t=="forward"?"after":"before");return e=e.getLastMatchingPosition(function(o){var c=o.item;return c.is("element")&&!u.includes(c.name)&&!a.includes(c.name)},{direction:t}),t=="forward"?e.nodeAfter:e.nodeBefore}function yZ(r,t){return!!r&&r.is("element")&&t.includes(r.name)}function tb(r){return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tb(r)}function hZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(tb(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(tb(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),tb(a)==="symbol"?a:String(a)),i)}var u,a}var Wwt=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i,$wt=function(){function r(u){(function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.document=u}var t,n,i;return t=r,(n=[{key:"isActive",value:function(u){return Wwt.test(u)}},{key:"execute",value:function(u){var a=new _r(this.document),e=u._parsedData.body;(function(o,c){var l,s=Hwt(o.getChildren());try{for(s.s();!(l=s.n()).done;){var f=l.value;if(f.is("element","b")&&f.getStyle("font-weight")==="normal"){var d=o.getChildIndex(f);c.remove(f),c.insertChild(d,f.getChildren(),o)}}}catch(h){s.e(h)}finally{s.f()}})(e,a),function(o,c){var l,s=Jh(c.createRangeIn(o));try{for(s.s();!(l=s.n()).done;){var f=l.value.item;if(f.is("element","li")){var d=f.getChild(0);d&&d.is("element","p")&&c.unwrapElement(d)}}}catch(h){s.e(h)}finally{s.f()}}(e,a),function(o,c){var l,s=new Tm(c.document.stylesProcessor),f=new Fm(s,{renderingMode:"data"}),d=f.blockElements,h=f.inlineObjectElements,b=[],v=Gwt(c.createRangeIn(o));try{for(v.s();!(l=v.n()).done;){var g=l.value.item;if(g.is("element","br")){var k=pZ(g,"forward",c,{blockElements:d,inlineObjectElements:h}),_=pZ(g,"backward",c,{blockElements:d,inlineObjectElements:h}),A=yZ(k,d);(yZ(_,d)||A)&&b.push(g)}}}catch(E){v.e(E)}finally{v.f()}for(var C=0,S=b;C<S.length;C++){var P=S[C];P.hasClass("Apple-interchange-newline")?c.remove(P):c.replace(P,c.createElement("p"))}}(e,a),u.content=e}}])&&hZ(t.prototype,n),i&&hZ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function qwt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return bZ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return bZ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function bZ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Ywt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return mZ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return mZ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function mZ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Kwt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return vZ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return vZ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function vZ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function eb(r){return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eb(r)}function gZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(eb(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(eb(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),eb(a)==="symbol"?a:String(a)),i)}var u,a}var Zwt=/<google-sheets-html-origin/i,Qwt=function(){function r(u){(function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.document=u}var t,n,i;return t=r,(n=[{key:"isActive",value:function(u){return Zwt.test(u)}},{key:"execute",value:function(u){var a=new _r(this.document),e=u._parsedData.body;(function(o,c){var l,s=Ywt(o.getChildren());try{for(s.s();!(l=s.n()).done;){var f=l.value;if(f.is("element","google-sheets-html-origin")){var d=o.getChildIndex(f);c.remove(f),c.insertChild(d,f.getChildren(),o)}}}catch(h){s.e(h)}finally{s.f()}})(e,a),function(o,c){var l,s=qwt(o.getChildren());try{for(s.s();!(l=s.n()).done;){var f=l.value;f.is("element","table")&&f.hasAttribute("xmlns")&&c.removeAttribute("xmlns",f)}}catch(d){s.e(d)}finally{s.f()}}(e,a),function(o,c){var l,s=Kwt(o.getChildren());try{for(s.s();!(l=s.n()).done;){var f=l.value;f.is("element","table")&&f.getStyle("width")==="0px"&&c.removeStyle("width",f)}}catch(d){s.e(d)}finally{s.f()}}(e,a),function(o,c){for(var l=0,s=Array.from(o.getChildren());l<s.length;l++){var f=s[l];f.is("element","style")&&c.remove(f)}}(e,a),u.content=e}}])&&gZ(t.prototype,n),i&&gZ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}();function wZ(r){return r.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(t,n){return n.length===1?" ":Array(n.length+1).join("\xA0 ").substr(0,n.length)})}function Jwt(r,t){var n=new DOMParser,i=function(c){return wZ(wZ(c)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"\xA0</").replace(/ <o:p><\/o:p>/g,"\xA0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(c){var l="</body>",s="</html>",f=c.indexOf(l);if(f<0)return c;var d=c.indexOf(s,f+l.length);return c.substring(0,f+l.length)+(d>=0?c.substring(d):"")}(r=r.replace(/<!--\[if gte vml 1]>/g,""))),u=n.parseFromString(i,"text/html");(function(c){c.querySelectorAll("span[style*=spacerun]").forEach(function(l){if(l.innerText.trim().length===0){var s=l.innerText.length||0;l.innerHTML=Array(s+1).join("\xA0 ").substr(0,s)}})})(u);var a=u.body.innerHTML,e=function(c,l){for(var s=new Tm(l),f=new Fm(s,{renderingMode:"data"}),d=c.createDocumentFragment(),h=c.body.childNodes;h.length>0;)d.appendChild(h[0]);return f.domToView(d,{skipComments:!0})}(u,t),o=function(c){for(var l=[],s=[],f=Array.from(c.getElementsByTagName("style")),d=0,h=f;d<h.length;d++){var b=h[d];b.sheet&&b.sheet.cssRules&&b.sheet.cssRules.length&&(l.push(b.sheet),s.push(b.innerHTML))}return{styles:l,stylesString:s.join(" ")}}(u);return{body:e,bodyString:a,styles:o.styles,stylesString:o.stylesString}}function Xf(r){return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(r)}function kZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Xf(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Xf(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Xf(a)==="symbol"?a:String(a)),i)}var u,a}function OR(r,t){return OR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OR(r,t)}function Xwt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=f_(r);if(t){var u=f_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function f_(r){return f_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f_(r)}var t0t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&OR(e,o)})(a,r);var t,n,i,u=Xwt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"PasteFromOffice"}},{key:"requires",get:function(){return[Ar]}}],(n=[{key:"init",value:function(){var e=this.editor,o=e.plugins.get("ClipboardPipeline"),c=e.editing.view.document,l=[];l.push(new Uwt(c)),l.push(new $wt(c)),l.push(new Qwt(c)),o.on("inputTransformation",function(s,f){if(!f._isTransformedWithPasteFromOffice&&!e.model.document.selection.getFirstPosition().parent.is("element","codeBlock")){var d=f.dataTransfer.getData("text/html"),h=l.find(function(b){return b.isActive(d)});h&&(f._parsedData||(f._parsedData=Jwt(d,c.stylesProcessor)),h.execute(f),f._isTransformedWithPasteFromOffice=!0)}},{priority:"high"})}}])&&kZ(t.prototype,n),i&&kZ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function td(r){return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(r)}function _Z(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(td(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(td(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),td(a)==="symbol"?a:String(a)),i)}var u,a}function SR(r,t){return SR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SR(r,t)}function e0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=d_(r);if(t){var u=d_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function d_(r){return d_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d_(r)}var jR="removeFormat",r0t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&SR(e,o)})(a,r);var t,n,i,u=e0t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"RemoveFormatUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t;o.ui.componentFactory.add(jR,function(l){var s=o.commands.get(jR),f=new vt(l);return f.set({label:c("Remove Format"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>',tooltip:!0}),f.bind("isOn","isEnabled").to(s,"value","isEnabled"),e.listenTo(f,"execute",function(){o.execute(jR),o.editing.view.focus()}),f})}}])&&_Z(t.prototype,n),i&&_Z(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Cn(r){return Cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(r)}function n0t(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||AZ(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rb(){rb=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&Cn(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(Cn(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function Lo(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=AZ(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function AZ(r,t){if(r){if(typeof r=="string")return CZ(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CZ(r,t):void 0}}function CZ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function OZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Cn(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Cn(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Cn(a)==="symbol"?a:String(a)),i)}var u,a}function PR(r,t){return PR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PR(r,t)}function o0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=p_(r);if(t){var u=p_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Cn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function p_(r){return p_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p_(r)}var i0t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&PR(e,o)})(a,r);var t,n,i,u=o0t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(n=[{key:"refresh",value:function(){var e=this.editor.model;this.isEnabled=!!Vt(this._getFormattingItems(e.document.selection,e.schema))}},{key:"execute",value:function(){var e=this,o=this.editor.model,c=o.schema;o.change(function(l){var s,f=Lo(e._getFormattingItems(o.document.selection,c));try{for(f.s();!(s=f.n()).done;){var d=s.value;if(d.is("selection")){var h,b=Lo(e._getFormattingAttributes(d,c));try{for(b.s();!(h=b.n()).done;){var v=h.value;l.removeSelectionAttribute(v)}}catch(C){b.e(C)}finally{b.f()}}else{var g,k=l.createRangeOn(d),_=Lo(e._getFormattingAttributes(d,c));try{for(_.s();!(g=_.n()).done;){var A=g.value;l.removeAttribute(A,k)}}catch(C){_.e(C)}finally{_.f()}}}}catch(C){f.e(C)}finally{f.f()}})}},{key:"_getFormattingItems",value:rb().mark(function e(o,c){var l,s,f,d,h,b,v,g,k,_,A=this;return rb().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:l=function(S){return!!Vt(A._getFormattingAttributes(S,c))},s=Lo(o.getRanges()),C.prev=2,s.s();case 4:if((f=s.n()).done){C.next=26;break}d=f.value,h=Lo(d.getItems()),C.prev=7,h.s();case 9:if((b=h.n()).done){C.next=16;break}if(v=b.value,c.isBlock(v)||!l(v)){C.next=14;break}return C.next=14,v;case 14:C.next=9;break;case 16:C.next=21;break;case 18:C.prev=18,C.t0=C.catch(7),h.e(C.t0);case 21:return C.prev=21,h.f(),C.finish(21);case 24:C.next=4;break;case 26:C.next=31;break;case 28:C.prev=28,C.t1=C.catch(2),s.e(C.t1);case 31:return C.prev=31,s.f(),C.finish(31);case 34:g=Lo(o.getSelectedBlocks()),C.prev=35,g.s();case 37:if((k=g.n()).done){C.next=44;break}if(_=k.value,!l(_)){C.next=42;break}return C.next=42,_;case 42:C.next=37;break;case 44:C.next=49;break;case 46:C.prev=46,C.t2=C.catch(35),g.e(C.t2);case 49:return C.prev=49,g.f(),C.finish(49);case 52:if(!l(o)){C.next=55;break}return C.next=55,o;case 55:case"end":return C.stop()}},e,null,[[2,28,31,34],[7,18,21,24],[35,46,49,52]])})},{key:"_getFormattingAttributes",value:rb().mark(function e(o,c){var l,s,f,d,h;return rb().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:l=Lo(o.getAttributes()),b.prev=1,l.s();case 3:if((s=l.n()).done){b.next=11;break}if(f=n0t(s.value,1),d=f[0],!(h=c.getAttributeProperties(d))||!h.isFormatting){b.next=9;break}return b.next=9,d;case 9:b.next=3;break;case 11:b.next=16;break;case 13:b.prev=13,b.t0=b.catch(1),l.e(b.t0);case 16:return b.prev=16,l.f(),b.finish(16);case 19:case"end":return b.stop()}},e,null,[[1,13,16,19]])})}])&&OZ(t.prototype,n),i&&OZ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function ed(r){return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(r)}function SZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ed(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ed(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ed(a)==="symbol"?a:String(a)),i)}var u,a}function ER(r,t){return ER=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ER(r,t)}function a0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=y_(r);if(t){var u=y_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function y_(r){return y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y_(r)}var c0t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&ER(e,o)})(a,r);var t,n,i,u=a0t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"RemoveFormatEditing"}}],(n=[{key:"init",value:function(){var e=this.editor;e.commands.add("removeFormat",new i0t(e))}}])&&SZ(t.prototype,n),i&&SZ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function rd(r){return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(r)}function jZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(rd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(rd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),rd(a)==="symbol"?a:String(a)),i)}var u,a}function xR(r,t){return xR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xR(r,t)}function u0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=h_(r);if(t){var u=h_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function h_(r){return h_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h_(r)}var l0t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&xR(e,o)})(a,r);var t,n,i,u=u0t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[c0t,r0t]}},{key:"pluginName",get:function(){return"RemoveFormat"}}],(n=null)&&jZ(t.prototype,n),i&&jZ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function s0t(r){var t=[{name:"address",isVoid:!1},{name:"article",isVoid:!1},{name:"aside",isVoid:!1},{name:"blockquote",isVoid:!1},{name:"details",isVoid:!1},{name:"dialog",isVoid:!1},{name:"dd",isVoid:!1},{name:"div",isVoid:!1},{name:"dl",isVoid:!1},{name:"dt",isVoid:!1},{name:"fieldset",isVoid:!1},{name:"figcaption",isVoid:!1},{name:"figure",isVoid:!1},{name:"footer",isVoid:!1},{name:"form",isVoid:!1},{name:"h1",isVoid:!1},{name:"h2",isVoid:!1},{name:"h3",isVoid:!1},{name:"h4",isVoid:!1},{name:"h5",isVoid:!1},{name:"h6",isVoid:!1},{name:"header",isVoid:!1},{name:"hgroup",isVoid:!1},{name:"hr",isVoid:!0},{name:"input",isVoid:!0},{name:"li",isVoid:!1},{name:"main",isVoid:!1},{name:"nav",isVoid:!1},{name:"ol",isVoid:!1},{name:"p",isVoid:!1},{name:"section",isVoid:!1},{name:"table",isVoid:!1},{name:"tbody",isVoid:!1},{name:"td",isVoid:!1},{name:"textarea",isVoid:!1},{name:"th",isVoid:!1},{name:"thead",isVoid:!1},{name:"tr",isVoid:!1},{name:"ul",isVoid:!1}],n=t.map(function(a){return a.name}).join("|"),i=r.replace(new RegExp("</?(".concat(n,")( .*?)?>"),"g"),`
$&
`).replace(/<br[^>]*>/g,`$&
`).split(`
`),u=0;return i.filter(function(a){return a.length}).map(function(a){return function(e,o){return o.some(function(c){return!c.isVoid&&!!new RegExp("<".concat(c.name,"( .*?)?>")).test(e)})}(a,t)?TR(a,u++):function(e,o){return o.some(function(c){return new RegExp("</".concat(c.name,">")).test(e)})}(a,t)?TR(a,--u):TR(a,u)}).join(`
`)}function TR(r,t){return"".concat((arguments.length>2&&arguments[2]!==void 0?arguments[2]:"    ").repeat(Math.max(0,t))).concat(r)}var PZ=x(4420),f0t={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(PZ.Z,f0t),PZ.Z.locals;function nd(r){return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(r)}function nb(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||EZ(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function od(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=EZ(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function EZ(r,t){if(r){if(typeof r=="string")return xZ(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xZ(r,t):void 0}}function xZ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function TZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(nd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(nd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),nd(a)==="symbol"?a:String(a)),i)}var u,a}function DR(r,t){return DR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DR(r,t)}function d0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=b_(r);if(t){var u=b_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function b_(r){return b_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b_(r)}var DZ="SourceEditingMode",p0t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&DR(e,o)})(a,r);var t,n,i,u=d0t(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).set("isSourceEditingMode",!1),o._elementReplacer=new IB,o._replacedRoots=new Map,o._dataFromRoots=new Map,o}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t;o.ui.componentFactory.add("sourceEditing",function(l){var s=new vt(l);return s.set({label:c("Source"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 0 5 4.5v15.003h-16V0h11zM3 1.5v3.25l-1.497 1-.003 8 1.5 1v3.254L7.685 18l-.001 1.504H17.5V8.002L16 9.428l-.004-4.22-4.222-3.692L3 1.5z"/><path d="M4.06 6.64a.75.75 0 0 1 .958 1.15l-.085.07L2.29 9.75l2.646 1.89c.302.216.4.62.232.951l-.058.095a.75.75 0 0 1-.951.232l-.095-.058-3.5-2.5V9.14l3.496-2.5zm4.194 6.22a.75.75 0 0 1-.958-1.149l.085-.07 2.643-1.89-2.646-1.89a.75.75 0 0 1-.232-.952l.058-.095a.75.75 0 0 1 .95-.232l.096.058 3.5 2.5v1.22l-3.496 2.5zm7.644-.836 2.122 2.122-5.825 5.809-2.125-.005.003-2.116zm2.539-1.847 1.414 1.414a.5.5 0 0 1 0 .707l-1.06 1.06-2.122-2.12 1.061-1.061a.5.5 0 0 1 .707 0z"/></svg>',tooltip:!0,withText:!0,class:"ck-source-editing-button"}),s.bind("isOn").to(e,"isSourceEditingMode"),s.bind("isEnabled").to(e,"isEnabled",o,"isReadOnly",o.plugins.get($v),"hasAny",function(f,d,h){return!!f&&!d&&!h}),e.listenTo(s,"execute",function(){e.isSourceEditingMode=!e.isSourceEditingMode}),s}),this._isAllowedToHandleSourceEditingMode()&&(this.on("change:isSourceEditingMode",function(l,s,f){f?(e._showSourceEditing(),e._disableCommands()):(e._hideSourceEditing(),e._enableCommands())}),this.on("change:isEnabled",function(l,s,f){return e._handleReadOnlyMode(!f)}),this.listenTo(o,"change:isReadOnly",function(l,s,f){return e._handleReadOnlyMode(f)})),o.data.on("get",function(){e.isSourceEditingMode&&e.updateEditorData()},{priority:"high"})}},{key:"afterInit",value:function(){var e=this.editor;["RealTimeCollaborativeEditing","CommentsEditing","TrackChangesEditing","RevisionHistory"].some(function(o){return e.plugins.has(o)})&&console.warn("You initialized the editor with the source editing feature and at least one of the collaboration features. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the collaboration features."),e.plugins.has("RestrictedEditingModeEditing")&&console.warn("You initialized the editor with the source editing feature and restricted editing feature. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the restricted editing feature.")}},{key:"updateEditorData",value:function(){var e,o=this.editor,c={},l=od(this._replacedRoots);try{for(l.s();!(e=l.n()).done;){var s=nb(e.value,2),f=s[0],d=s[1],h=this._dataFromRoots.get(f),b=d.dataset.value;h!==b&&(c[f]=b,this._dataFromRoots.set(f,b))}}catch(v){l.e(v)}finally{l.f()}Object.keys(c).length&&o.data.set(c,{batchType:{isUndoable:!0}})}},{key:"_showSourceEditing",value:function(){var e=this,o=this.editor,c=o.editing.view,l=o.model;l.change(function(h){h.setSelection(null),h.removeSelectionAttribute(l.document.selection.getAttributeKeys())});var s,f=od(c.domRoots);try{var d=function(){var h=nb(s.value,2),b=h[0],v=h[1],g=function(A){return function(C){return C.startsWith("<")}(A)?s0t(A):A}(o.data.get({rootName:b})),k=Er(v.ownerDocument,"textarea",{rows:"1","aria-label":"Source code editing area"}),_=Er(v.ownerDocument,"div",{class:"ck-source-editing-area","data-value":g},[k]);k.value=g,k.setSelectionRange(0,0),k.addEventListener("input",function(){_.dataset.value=k.value,o.ui.update()}),c.change(function(A){var C=c.document.getRoot(b);A.addClass("ck-hidden",C)}),o.ui.setEditableElement("sourceEditing:"+b,k),e._replacedRoots.set(b,_),e._elementReplacer.replace(v,_),e._dataFromRoots.set(b,g)};for(f.s();!(s=f.n()).done;)d()}catch(h){f.e(h)}finally{f.f()}this._focusSourceEditing()}},{key:"_hideSourceEditing",value:function(){var e=this,o=this.editor.editing.view;this.updateEditorData(),o.change(function(c){var l,s=od(e._replacedRoots);try{for(s.s();!(l=s.n()).done;){var f=nb(l.value,1)[0];c.removeClass("ck-hidden",o.document.getRoot(f))}}catch(d){s.e(d)}finally{s.f()}}),this._elementReplacer.restore(),this._replacedRoots.clear(),this._dataFromRoots.clear(),o.focus()}},{key:"_focusSourceEditing",value:function(){var e=this.editor,o=nb(this._replacedRoots.values(),1)[0].querySelector("textarea");e.editing.view.document.isFocused=!1,o.focus()}},{key:"_disableCommands",value:function(){var e,o=od(this.editor.commands.commands());try{for(o.s();!(e=o.n()).done;)e.value.forceDisabled(DZ)}catch(c){o.e(c)}finally{o.f()}}},{key:"_enableCommands",value:function(){var e,o=od(this.editor.commands.commands());try{for(o.s();!(e=o.n()).done;)e.value.clearForceDisabled(DZ)}catch(c){o.e(c)}finally{o.f()}}},{key:"_handleReadOnlyMode",value:function(e){if(this.isSourceEditingMode){var o,c=od(this._replacedRoots);try{for(c.s();!(o=c.n()).done;)nb(o.value,2)[1].querySelector("textarea").readOnly=e}catch(l){c.e(l)}finally{c.f()}}}},{key:"_isAllowedToHandleSourceEditingMode",value:function(){var e=this.editor.ui.view.editable;return e&&!e.hasExternalElement}}],i=[{key:"pluginName",get:function(){return"SourceEditing"}},{key:"requires",get:function(){return[$v]}}],n&&TZ(t.prototype,n),i&&TZ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function ob(r){return ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ob(r)}function RZ(r){return function(t){if(Array.isArray(t))return RR(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||function(t,n){if(t){if(typeof t=="string")return RR(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return RR(t,n)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function RR(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function IZ(r,t,n){return t=function(i){var u=function(a,e){if(ob(a)!=="object"||a===null)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var c=o.call(a,e||"default");if(ob(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}(i,"string");return ob(u)==="symbol"?u:String(u)}(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function IR(r,t){var n=t.modelAttribute,i=t.styleName,u=t.viewElement,a=t.defaultValue,e=t.reduceBoxSides,o=e!==void 0&&e,c=t.shouldUpcast,l=c===void 0?function(){return!0}:c;r.for("upcast").attributeToAttribute({view:{name:u,styles:IZ({},i,/[\s\S]+/)},model:{key:n,value:function(s){if(l(s)){var f=s.getNormalizedStyle(i),d=o?v_(f):f;return a!==d?d:void 0}}}})}function BR(r,t,n,i){r.for("upcast").add(function(u){return u.on("element:"+t,function(a,e,o){if(e.modelRange){var c=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(function(h){return e.viewItem.hasStyle(h)});if(c.length){var l={styles:c};if(o.consumable.test(e.viewItem,l)){var s=RZ(e.modelRange.getItems({shallow:!0})).pop();o.consumable.consume(e.viewItem,l);var f={style:e.viewItem.getNormalizedStyle("border-style"),color:e.viewItem.getNormalizedStyle("border-color"),width:e.viewItem.getNormalizedStyle("border-width")},d={style:v_(f.style),color:v_(f.color),width:v_(f.width)};d.style!==i.style&&o.writer.setAttribute(n.style,d.style,s),d.color!==i.color&&o.writer.setAttribute(n.color,d.color,s),d.width!==i.width&&o.writer.setAttribute(n.width,d.width,s)}}}})})}function ib(r,t){var n=t.modelElement,i=t.modelAttribute,u=t.styleName;r.for("downcast").attributeToAttribute({model:{name:n,key:i},view:function(a){return{key:"style",value:IZ({},u,a)}}})}function m_(r,t){var n=t.modelAttribute,i=t.styleName;r.for("downcast").add(function(u){return u.on("attribute:".concat(n,":table"),function(a,e,o){var c=e.item,l=e.attributeNewValue,s=o.mapper,f=o.writer;if(o.consumable.consume(e.item,a.name)){var d=RZ(s.toViewElement(c).getChildren()).find(function(h){return h.is("element","table")});l?f.setStyle(i,l,d):f.removeStyle(i,d)}})})}function v_(r){if(r){var t=["top","right","bottom","left"];if(!t.every(function(i){return r[i]}))return r;var n=r.top;return t.every(function(i){return r[i]===n})?n:r}}function ab(r){return ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ab(r)}function BZ(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function MZ(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BZ(Object(n),!0).forEach(function(i){y0t(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):BZ(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function y0t(r,t,n){return t=function(i){var u=function(a,e){if(ab(a)!=="object"||a===null)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var c=o.call(a,e||"default");if(ab(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}(i,"string");return ab(u)==="symbol"?u:String(u)}(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Xt(r,t,n,i){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;t!=null&&u!=null&&t>u?i.setAttribute(r,t,n):i.removeAttribute(r,n)}function zo(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.createElement("tableCell",n);return r.insertElement("paragraph",i),r.insert(i,t),i}function MR(r,t){var n=t.parent.parent,i=parseInt(n.getAttribute("headingColumns")||"0"),u=r.getCellLocation(t).column;return!!i&&u<i}function g_(r,t,n){var i=n.modelAttribute;r.extend("tableCell",{allowAttributes:[i]}),IR(t,MZ({viewElement:/^(td|th)$/},n)),ib(t,MZ({modelElement:"tableCell"},n))}function NR(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return NZ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return NZ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function NZ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function h0t(){return function(r){r.on("element:figure",function(t,n,i){if(i.consumable.test(n.viewItem,{name:!0,classes:"table"})){var u=function(e){var o,c=NR(e.getChildren());try{for(c.s();!(o=c.n()).done;){var l=o.value;if(l.is("element","table"))return l}}catch(s){c.e(s)}finally{c.f()}}(n.viewItem);if(u&&i.consumable.test(u,{name:!0})){i.consumable.consume(n.viewItem,{name:!0,classes:"table"});var a=Vt(i.convertItem(u,n.modelCursor).modelRange.getItems());a?(i.convertChildren(n.viewItem,i.writer.createPositionAt(a,"end")),i.updateConversionResult(a,n)):i.consumable.revert(n.viewItem,{name:!0,classes:"table"})}}})}}function b0t(){return function(r){r.on("element:table",function(t,n,i){var u=n.viewItem;if(i.consumable.test(u,{name:!0})){var a=function(d){for(var h,b=0,v=void 0,g=[],k=[],_=0,A=Array.from(d.getChildren());_<A.length;_++){var C=A[_];if(C.name==="tbody"||C.name==="thead"||C.name==="tfoot"){C.name!=="thead"||h||(h=C);var S,P=NR(Array.from(C.getChildren()).filter(function(I){return I.is("element","tr")}));try{for(P.s();!(S=P.n()).done;){var E=S.value;if(h&&C===h||C.name==="tbody"&&Array.from(E.getChildren()).length&&Array.from(E.getChildren()).every(function(I){return I.is("element","th")}))b++,g.push(E);else{k.push(E);var R=m0t(E);(!v||R<v)&&(v=R)}}}catch(I){P.e(I)}finally{P.f()}}}return{headingRows:b,headingColumns:v||0,rows:[].concat(g,k)}}(u),e=a.rows,o=a.headingRows,c=a.headingColumns,l={};c&&(l.headingColumns=c),o&&(l.headingRows=o);var s=i.writer.createElement("table",l);if(i.safeInsert(s,n.modelCursor)){if(i.consumable.consume(u,{name:!0}),e.forEach(function(d){return i.convertItem(d,i.writer.createPositionAt(s,"end"))}),i.convertChildren(u,i.writer.createPositionAt(s,"end")),s.isEmpty){var f=i.writer.createElement("tableRow");i.writer.insert(f,i.writer.createPositionAt(s,"end")),zo(i.writer,i.writer.createPositionAt(f,"end"))}i.updateConversionResult(s,n)}}})}}function LZ(r){return function(t){t.on("element:".concat(r),function(n,i,u){var a=u.writer;if(i.modelRange){var e=i.modelRange.start.nodeAfter,o=a.createPositionAt(e,0);if(i.viewItem.isEmpty)a.insertElement("paragraph",o);else{var c=Array.from(e.getChildren());if(c.every(function(h){return h.is("element","$marker")})){var l=a.createElement("paragraph");a.insert(l,a.createPositionAt(e,0));var s,f=NR(c);try{for(f.s();!(s=f.n()).done;){var d=s.value;a.move(a.createRangeOn(d),a.createPositionAt(l,"end"))}}catch(h){f.e(h)}finally{f.f()}}}}},{priority:"low"})}}function m0t(r){for(var t=0,n=0,i=Array.from(r.getChildren()).filter(function(a){return a.name==="th"||a.name==="td"});n<i.length&&i[n].name==="th";){var u=i[n];t+=parseInt(u.getAttribute("colspan")||"1"),n++}return t}function cb(r){return cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cb(r)}function zZ(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function FZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(cb(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(cb(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),cb(a)==="symbol"?a:String(a)),i)}var u,a}function VZ(r,t,n){return t&&FZ(r.prototype,t),n&&FZ(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}var Mt=function(r){function t(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};zZ(this,t),this._table=n,this._startRow=i.row!==void 0?i.row:i.startRow||0,this._endRow=i.row!==void 0?i.row:i.endRow,this._startColumn=i.column!==void 0?i.column:i.startColumn||0,this._endColumn=i.column!==void 0?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}return VZ(t,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var n=this._table.getChild(this._rowIndex);if(!n||this._isOverEndRow())return{done:!0,value:void 0};if(!n.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();var i=null,u=this._getSpanned();if(u)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(u.cell,u.row,u.column));else{var a=n.getChild(this._cellIndex);if(!a)return this._advanceToNextRow();var e=parseInt(a.getAttribute("colspan")||"1"),o=parseInt(a.getAttribute("rowspan")||"1");(e>1||o>1)&&this._recordSpans(a,o,e),this._shouldSkipSlot()||(i=this._formatOutValue(a)),this._nextCellAtColumn=this._column+e}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}},{key:"skipRow",value:function(n){this._skipRows.add(n)}},{key:"_advanceToNextRow",value:function(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}},{key:"_isOverEndRow",value:function(){return this._endRow!==void 0&&this._row>this._endRow}},{key:"_isOverEndColumn",value:function(){return this._endColumn!==void 0&&this._column>this._endColumn}},{key:"_formatOutValue",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._column;return{done:!1,value:new v0t(this,n,i,u)}}},{key:"_shouldSkipSlot",value:function(){var n=this._skipRows.has(this._row),i=this._row<this._startRow,u=this._column<this._startColumn,a=this._endColumn!==void 0&&this._column>this._endColumn;return n||i||u||a}},{key:"_getSpanned",value:function(){var n=this._spannedCells.get(this._row);return n&&n.get(this._column)||null}},{key:"_recordSpans",value:function(n,i,u){for(var a={cell:n,row:this._row,column:this._column},e=this._row;e<this._row+i;e++)for(var o=this._column;o<this._column+u;o++)e==this._row&&o==this._column||this._markSpannedCell(e,o,a)}},{key:"_markSpannedCell",value:function(n,i,u){this._spannedCells.has(n)||this._spannedCells.set(n,new Map),this._spannedCells.get(n).set(i,u)}}]),t}(),v0t=function(){function r(t,n,i,u){zZ(this,r),this.cell=n,this.row=t._row,this.column=t._column,this.cellAnchorRow=i,this.cellAnchorColumn=u,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}return VZ(r,[{key:"isAnchor",get:function(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}},{key:"cellWidth",get:function(){return parseInt(this.cell.getAttribute("colspan")||"1")}},{key:"cellHeight",get:function(){return parseInt(this.cell.getAttribute("rowspan")||"1")}},{key:"rowIndex",get:function(){return this._rowIndex}},{key:"getPositionBefore",value:function(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}]),r}();function UZ(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return HZ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return HZ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function HZ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function GZ(r,t){return function(n,i){var u=i.writer,a=n.getAttribute("headingRows")||0,e=u.createContainerElement("table",null,[]),o=u.createContainerElement("figure",{class:"table"},e);a>0&&u.insert(u.createPositionAt(e,"end"),u.createContainerElement("thead",null,u.createSlot(function(h){return h.is("element","tableRow")&&h.index<a}))),a<r.getRows(n)&&u.insert(u.createPositionAt(e,"end"),u.createContainerElement("tbody",null,u.createSlot(function(h){return h.is("element","tableRow")&&h.index>=a})));var c,l=UZ(t.additionalSlots);try{for(l.s();!(c=l.n()).done;){var s=c.value,f=s.positionOffset,d=s.filter;u.insert(u.createPositionAt(e,f),u.createSlot(d))}}catch(h){l.e(h)}finally{l.f()}return u.insert(u.createPositionAt(e,"after"),u.createSlot(function(h){return!h.is("element","tableRow")&&!t.additionalSlots.some(function(b){return(0,b.filter)(h)})})),t.asWidget?function(h,b){return b.setCustomProperty("table",!0,h),xo(h,b,{hasSelectionHandle:!0})}(o,u):o}}function WZ(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(t,n){var i,u=n.writer,a=t.parent,e=a.parent,o=e.getChildIndex(a),c=new Mt(e,{row:o}),l=e.getAttribute("headingRows")||0,s=e.getAttribute("headingColumns")||0,f=null,d=UZ(c);try{for(d.s();!(i=d.n()).done;){var h=i.value;if(h.cell==t){var b=h.row<l||h.column<s?"th":"td";f=r.asWidget?qx(u.createEditableElement(b),u):u.createContainerElement(b);break}}}catch(v){d.e(v)}finally{d.f()}return f}}function $Z(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(t,n){var i=n.writer;if(!t.parent.is("element","tableCell")||!qZ(t))return null;if(r.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});var u=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,u),u}}function qZ(r){return r.parent.childCount==1&&!!r.getAttributeKeys().next().done}function id(r){return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(r)}function YZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(id(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(id(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),id(a)==="symbol"?a:String(a)),i)}var u,a}function LR(r,t){return LR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LR(r,t)}function g0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=w_(r);if(t){var u=w_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function w_(r){return w_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w_(r)}var w0t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&LR(e,o)})(a,r);var t,n,i,u=g0t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.model,o=e.document.selection,c=e.schema;this.isEnabled=function(l,s){var f=l.getFirstPosition().parent,d=f===f.root?f:f.parent;return s.checkChild(d,"table")}(o,c)}},{key:"execute",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.editor,c=o.model,l=o.plugins.get("TableUtils"),s=o.config.get("table.defaultHeadings.rows"),f=o.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&s&&(e.headingRows=s),e.headingColumns===void 0&&f&&(e.headingColumns=f),c.change(function(d){var h=l.createTable(d,e);c.insertObject(h,null,null,{findOptimalPosition:"auto"}),d.setSelection(d.createPositionAt(h.getNodeByPath([0,0,0]),0))})}}],n&&YZ(t.prototype,n),i&&YZ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function ad(r){return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(r)}function KZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ad(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ad(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ad(a)==="symbol"?a:String(a)),i)}var u,a}function zR(r,t){return zR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zR(r,t)}function k0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=k_(r);if(t){var u=k_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function k_(r){return k_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k_(r)}var ZZ=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&zR(e,o)})(a,r);var t,n,i,u=k0t(a);function a(e){var o,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).order=c.order||"below",o}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.model.document.selection,o=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=o}},{key:"execute",value:function(){var e=this.editor,o=e.model.document.selection,c=e.plugins.get("TableUtils"),l=this.order==="above",s=c.getSelectionAffectedTableCells(o),f=c.getRowIndexes(s),d=l?f.first:f.last,h=s[0].findAncestor("table");c.insertRows(h,{at:l?d:d+1,copyStructureFromAbove:!l})}}],n&&KZ(t.prototype,n),i&&KZ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function cd(r){return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(r)}function QZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(cd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(cd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),cd(a)==="symbol"?a:String(a)),i)}var u,a}function FR(r,t){return FR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FR(r,t)}function _0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=__(r);if(t){var u=__(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function __(r){return __=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},__(r)}var JZ=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&FR(e,o)})(a,r);var t,n,i,u=_0t(a);function a(e){var o,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).order=c.order||"right",o}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.model.document.selection,o=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=o}},{key:"execute",value:function(){var e=this.editor,o=e.model.document.selection,c=e.plugins.get("TableUtils"),l=this.order==="left",s=c.getSelectionAffectedTableCells(o),f=c.getColumnIndexes(s),d=l?f.first:f.last,h=s[0].findAncestor("table");c.insertColumns(h,{columns:1,at:l?d:d+1})}}],n&&QZ(t.prototype,n),i&&QZ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function ud(r){return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(r)}function XZ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ud(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ud(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ud(a)==="symbol"?a:String(a)),i)}var u,a}function VR(r,t){return VR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VR(r,t)}function A0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=A_(r);if(t){var u=A_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function A_(r){return A_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A_(r)}var tQ=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&VR(e,o)})(a,r);var t,n,i,u=A0t(a);function a(e){var o,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).direction=c.direction||"horizontally",o}return t=a,(n=[{key:"refresh",value:function(){var e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}},{key:"execute",value:function(){var e=this.editor.plugins.get("TableUtils"),o=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(o,2):e.splitCellVertically(o,2)}}])&&XZ(t.prototype,n),i&&XZ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function ub(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=eQ(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function UR(r){return function(t){if(Array.isArray(t))return HR(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||eQ(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function eQ(r,t){if(r){if(typeof r=="string")return HR(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HR(r,t):void 0}}function HR(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function rQ(r,t,n){for(var i=t.startRow,u=t.startColumn,a=t.endRow,e=t.endColumn,o=n.createElement("table"),c=a-i+1,l=0;l<c;l++)n.insertElement("tableRow",o,"end");var s,f=ub(UR(new Mt(r,{startRow:i,endRow:a,startColumn:u,endColumn:e,includeAllSlots:!0})));try{for(f.s();!(s=f.n()).done;){var d=s.value,h=d.row,b=d.column,v=d.cell,g=d.isAnchor,k=d.cellAnchorRow,_=d.cellAnchorColumn,A=h-i,C=o.getChild(A);if(g){var S=n.cloneElement(v);n.append(S,C),cQ(S,h,b,a,e,n)}else(k<i||_<u)&&zo(n,n.createPositionAt(C,"end"))}}catch(P){f.e(P)}finally{f.f()}return function(P,E,R,I,z){var F=parseInt(E.getAttribute("headingRows")||"0");F>0&&Xt("headingRows",F-R,P,z,0);var tt=parseInt(E.getAttribute("headingColumns")||"0");tt>0&&Xt("headingColumns",tt-I,P,z,0)}(o,r,i,u,n),o}function nQ(r,t){var n,i=[],u=ub(new Mt(r,{startRow:arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,endRow:t-1}));try{for(u.s();!(n=u.n()).done;){var a=n.value,e=a.row,o=a.cellHeight;e<t&&t<=e+o-1&&i.push(a)}}catch(c){u.e(c)}finally{u.f()}return i}function oQ(r,t,n){var i=r.parent,u=i.parent,a=i.index,e=t-a,o={},c=parseInt(r.getAttribute("rowspan"))-e;c>1&&(o.rowspan=c);var l=parseInt(r.getAttribute("colspan")||"1");l>1&&(o.colspan=l);var s,f,d=a+e,h=null,b=ub(UR(new Mt(u,{startRow:a,endRow:d,includeAllSlots:!0})));try{for(b.s();!(f=b.n()).done;){var v=f.value,g=v.row,k=v.column;v.cell===r&&s===void 0&&(s=k),s!==void 0&&s===k&&g===d&&(h=zo(n,v.getPositionBefore(),o))}}catch(_){b.e(_)}finally{b.f()}return Xt("rowspan",e,r,n),h}function iQ(r,t){var n,i=[],u=ub(new Mt(r));try{for(u.s();!(n=u.n()).done;){var a=n.value,e=a.column,o=a.cellWidth;e<t&&t<=e+o-1&&i.push(a)}}catch(c){u.e(c)}finally{u.f()}return i}function aQ(r,t,n,i){var u=n-t,a={},e=parseInt(r.getAttribute("colspan"))-u;e>1&&(a.colspan=e);var o=parseInt(r.getAttribute("rowspan")||"1");o>1&&(a.rowspan=o);var c=zo(i,i.createPositionAfter(r),a);return Xt("colspan",u,r,i),c}function cQ(r,t,n,i,u,a){var e=parseInt(r.getAttribute("colspan")||"1"),o=parseInt(r.getAttribute("rowspan")||"1");n+e-1>u&&Xt("colspan",u-n+1,r,a,1),t+o-1>i&&Xt("rowspan",i-t+1,r,a,1)}function GR(r,t){var n,i=t.getColumns(r),u=new Array(i).fill(0),a=ub(new Mt(r));try{for(a.s();!(n=a.n()).done;)u[n.value.column]++}catch(c){a.e(c)}finally{a.f()}var e=u.reduce(function(c,l,s){return l?c:[].concat(UR(c),[s])},[]);if(e.length>0){var o=e[e.length-1];return t.removeColumns(r,{at:o}),!0}return!1}function WR(r,t){for(var n=[],i=t.getRows(r),u=0;u<i;u++)r.getChild(u).isEmpty&&n.push(u);if(n.length>0){var a=n[n.length-1];return t.removeRows(r,{at:a}),!0}return!1}function $R(r,t){GR(r,t)||WR(r,t)}function uQ(r,t){var n=Array.from(new Mt(r,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(n.every(function(u){return u.cellHeight===1}))return t.lastRow;var i=n[0].cellHeight-1;return t.lastRow+i}function lQ(r,t){var n=Array.from(new Mt(r,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(n.every(function(u){return u.cellWidth===1}))return t.lastColumn;var i=n[0].cellWidth-1;return t.lastColumn+i}function ld(r){return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(r)}function C0t(r){return function(t){if(Array.isArray(t))return qR(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||function(t,n){if(t){if(typeof t=="string")return qR(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return qR(t,n)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qR(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function sQ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ld(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ld(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ld(a)==="symbol"?a:String(a)),i)}var u,a}function YR(r,t){return YR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YR(r,t)}function O0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=C_(r);if(t){var u=C_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function C_(r){return C_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C_(r)}var O_=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&YR(e,o)})(a,r);var t,n,i,u=O0t(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e)).direction=o.direction,c.isHorizontal=c.direction=="right"||c.direction=="left",c}return t=a,n=[{key:"refresh",value:function(){var e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}},{key:"execute",value:function(){var e=this,o=this.editor.model,c=o.document,l=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(c.selection)[0],s=this.value,f=this.direction;o.change(function(d){var h=f=="right"||f=="down",b=h?l:s,v=h?s:l,g=v.parent;(function(S,P,E){fQ(S)||(fQ(P)&&E.remove(E.createRangeIn(P)),E.move(E.createRangeIn(S),E.createPositionAt(P,"end"))),E.remove(S)})(v,b,d);var k=e.isHorizontal?"colspan":"rowspan",_=parseInt(l.getAttribute(k)||"1"),A=parseInt(s.getAttribute(k)||"1");d.setAttribute(k,_+A,b),d.setSelection(d.createRangeIn(b));var C=e.editor.plugins.get("TableUtils");$R(g.findAncestor("table"),C)})}},{key:"_getMergeableCell",value:function(){var e=this.editor.model.document,o=this.editor.plugins.get("TableUtils"),c=o.getTableCellsContainingSelection(e.selection)[0];if(c){var l=this.isHorizontal?function(d,h,b){var v=d.parent,g=v.parent,k=h=="right"?d.nextSibling:d.previousSibling,_=(g.getAttribute("headingColumns")||0)>0;if(k){var A=h=="right"?d:k,C=h=="right"?k:d,S=b.getCellLocation(A),P=S.column,E=b.getCellLocation(C),R=E.column,I=parseInt(A.getAttribute("colspan")||"1"),z=MR(b,A),F=MR(b,C);if(!_||z==F)return P+I===R?k:void 0}}(c,this.direction,o):function(d,h,b){var v=d.parent,g=v.parent,k=g.getChildIndex(v);if(h=="down"&&k===b.getRows(g)-1||h=="up"&&k===0)return null;var _=parseInt(d.getAttribute("rowspan")||"1"),A=g.getAttribute("headingRows")||0,C=h=="down"&&k+_===A,S=h=="up"&&k===A;if(A&&(C||S))return null;var P=parseInt(d.getAttribute("rowspan")||"1"),E=h=="down"?k+P:k,R=C0t(new Mt(g,{endRow:E})),I=R.find(function(tt){return tt.cell===d}),z=I.column,F=R.find(function(tt){var Z=tt.row,G=tt.cellHeight;return tt.column===z&&(h=="down"?Z===E:E===Z+G)});return F&&F.cell?F.cell:null}(c,this.direction,o);if(l){var s=this.isHorizontal?"rowspan":"colspan",f=parseInt(c.getAttribute(s)||"1");return parseInt(l.getAttribute(s)||"1")===f?l:void 0}}}}],n&&sQ(t.prototype,n),i&&sQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function fQ(r){var t=r.getChild(0);return r.childCount==1&&t.is("element","paragraph")&&t.isEmpty}function sd(r){return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(r)}function S0t(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return dQ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return dQ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function dQ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function pQ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(sd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(sd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),sd(a)==="symbol"?a:String(a)),i)}var u,a}function KR(r,t){return KR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KR(r,t)}function j0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=S_(r);if(t){var u=S_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function S_(r){return S_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S_(r)}var P0t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&KR(e,o)})(a,r);var t,n,i,u=j0t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.plugins.get("TableUtils"),o=e.getSelectionAffectedTableCells(this.editor.model.document.selection),c=o[0];if(c){var l=c.findAncestor("table"),s=e.getRows(l)-1,f=e.getRowIndexes(o),d=f.first===0&&f.last===s;this.isEnabled=!d}else this.isEnabled=!1}},{key:"execute",value:function(){var e=this.editor.model,o=this.editor.plugins.get("TableUtils"),c=o.getSelectionAffectedTableCells(e.document.selection),l=o.getRowIndexes(c),s=c[0],f=s.findAncestor("table"),d=o.getCellLocation(s).column;e.change(function(h){var b=l.last-l.first+1;o.removeRows(f,{at:l.first,rows:b});var v=function(g,k,_,A){var C,S=g.getChild(Math.min(k,A-1)),P=S.getChild(0),E=0,R=S0t(S.getChildren());try{for(R.s();!(C=R.n()).done;){var I=C.value;if(E>_)return P;P=I,E+=parseInt(I.getAttribute("colspan")||"1")}}catch(z){R.e(z)}finally{R.f()}return P}(f,l.first,d,o.getRows(f));h.setSelection(h.createPositionAt(v,0))})}}],n&&pQ(t.prototype,n),i&&pQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function fd(r){return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(r)}function E0t(r){return function(t){if(Array.isArray(t))return ZR(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||yQ(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x0t(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||yQ(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yQ(r,t){if(r){if(typeof r=="string")return ZR(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZR(r,t):void 0}}function ZR(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function hQ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(fd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(fd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),fd(a)==="symbol"?a:String(a)),i)}var u,a}function QR(r,t){return QR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QR(r,t)}function T0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=j_(r);if(t){var u=j_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function j_(r){return j_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j_(r)}var D0t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&QR(e,o)})(a,r);var t,n,i,u=T0t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.plugins.get("TableUtils"),o=e.getSelectionAffectedTableCells(this.editor.model.document.selection),c=o[0];if(c){var l=c.findAncestor("table"),s=e.getColumns(l),f=e.getColumnIndexes(o),d=f.first,h=f.last;this.isEnabled=h-d<s-1}else this.isEnabled=!1}},{key:"execute",value:function(){var e=this.editor.plugins.get("TableUtils"),o=function(v,g){var k=g.getSelectionAffectedTableCells(v),_=k[0],A=k.pop(),C=[_,A];return _.isBefore(A)?C:C.reverse()}(this.editor.model.document.selection,e),c=x0t(o,2),l=c[0],s=c[1],f=l.parent.parent,d=E0t(new Mt(f)),h={first:d.find(function(v){return v.cell===l}).column,last:d.find(function(v){return v.cell===s}).column},b=function(v,g,k,_){var A=parseInt(k.getAttribute("colspan")||"1");return A>1?k:g.previousSibling||k.nextSibling?k.nextSibling||g.previousSibling:_.first?v.reverse().find(function(C){return C.column<_.first}).cell:v.reverse().find(function(C){return C.column>_.last}).cell}(d,l,s,h);this.editor.model.change(function(v){var g=h.last-h.first+1;e.removeColumns(f,{at:h.first,columns:g}),v.setSelection(v.createPositionAt(b,0))})}}],n&&hQ(t.prototype,n),i&&hQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function dd(r){return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(r)}function R0t(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return bQ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return bQ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function bQ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function mQ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(dd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(dd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),dd(a)==="symbol"?a:String(a)),i)}var u,a}function JR(r,t){return JR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JR(r,t)}function I0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=P_(r);if(t){var u=P_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function P_(r){return P_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P_(r)}var B0t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&JR(e,o)})(a,r);var t,n,i,u=I0t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"refresh",value:function(){var e=this,o=this.editor.plugins.get("TableUtils"),c=this.editor.model,l=o.getSelectionAffectedTableCells(c.document.selection),s=l.length>0;this.isEnabled=s,this.value=s&&l.every(function(f){return e._isInHeading(f,f.parent.parent)})}},{key:"execute",value:function(){if((arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).forceValue!==this.value){var e=this.editor.plugins.get("TableUtils"),o=this.editor.model,c=e.getSelectionAffectedTableCells(o.document.selection),l=c[0].findAncestor("table"),s=e.getRowIndexes(c),f=s.first,d=s.last,h=this.value?f:d+1,b=l.getAttribute("headingRows")||0;o.change(function(v){if(h){var g,k=R0t(nQ(l,h,h>b?b:0));try{for(k.s();!(g=k.n()).done;)oQ(g.value.cell,h,v)}catch(_){k.e(_)}finally{k.f()}}Xt("headingRows",h,l,v,0)})}}},{key:"_isInHeading",value:function(e,o){var c=parseInt(o.getAttribute("headingRows")||"0");return!!c&&e.parent.index<c}}],n&&mQ(t.prototype,n),i&&mQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function pd(r){return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(r)}function M0t(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return vQ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return vQ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function vQ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function gQ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(pd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(pd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),pd(a)==="symbol"?a:String(a)),i)}var u,a}function XR(r,t){return XR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XR(r,t)}function N0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=E_(r);if(t){var u=E_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function E_(r){return E_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E_(r)}var L0t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&XR(e,o)})(a,r);var t,n,i,u=N0t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.model,o=this.editor.plugins.get("TableUtils"),c=o.getSelectionAffectedTableCells(e.document.selection),l=c.length>0;this.isEnabled=l,this.value=l&&c.every(function(s){return MR(o,s)})}},{key:"execute",value:function(){if((arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).forceValue!==this.value){var e=this.editor.plugins.get("TableUtils"),o=this.editor.model,c=e.getSelectionAffectedTableCells(o.document.selection),l=c[0].findAncestor("table"),s=e.getColumnIndexes(c),f=s.first,d=s.last,h=this.value?f:d+1;o.change(function(b){if(h){var v,g=M0t(iQ(l,h));try{for(g.s();!(v=g.n()).done;){var k=v.value;aQ(k.cell,k.column,h,b)}}catch(_){g.e(_)}finally{g.f()}}Xt("headingColumns",h,l,b,0)})}}}],n&&gQ(t.prototype,n),i&&gQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function yd(r){return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(r)}function Fo(r){return function(t){if(Array.isArray(t))return t5(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||wQ(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function We(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=wQ(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function wQ(r,t){if(r){if(typeof r=="string")return t5(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t5(r,t):void 0}}function t5(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function kQ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(yd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(yd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),yd(a)==="symbol"?a:String(a)),i)}var u,a}function e5(r,t){return e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e5(r,t)}function z0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=x_(r);if(t){var u=x_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function x_(r){return x_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x_(r)}var Ce=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&e5(e,o)})(a,r);var t,n,i,u=z0t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){this.decorate("insertColumns"),this.decorate("insertRows")}},{key:"getCellLocation",value:function(e){var o,c=e.parent,l=c.parent,s=l.getChildIndex(c),f=We(new Mt(l,{row:s}));try{for(f.s();!(o=f.n()).done;){var d=o.value,h=d.cell,b=d.row,v=d.column;if(h===e)return{row:b,column:v}}}catch(g){f.e(g)}finally{f.f()}}},{key:"createTable",value:function(e,o){var c=e.createElement("table"),l=o.rows||2,s=o.columns||2;return r5(e,c,0,l,s),o.headingRows&&Xt("headingRows",Math.min(o.headingRows,l),c,e,0),o.headingColumns&&Xt("headingColumns",Math.min(o.headingColumns,s),c,e,0),c}},{key:"insertRows",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.editor.model,l=o.at||0,s=o.rows||1,f=o.copyStructureFromAbove!==void 0,d=o.copyStructureFromAbove?l-1:l,h=this.getRows(e),b=this.getColumns(e);if(l>h)throw new V("tableutils-insertrows-insert-out-of-range",this,{options:o});c.change(function(v){var g=e.getAttribute("headingRows")||0;if(g>l&&Xt("headingRows",g+s,e,v,0),f||l!==0&&l!==h){var k,_=f?Math.max(l,d):l,A=new Mt(e,{endRow:_}),C=new Array(b).fill(1),S=We(A);try{for(S.s();!(k=S.n()).done;){var P=k.value,E=P.row,R=P.column,I=P.cellHeight,z=P.cellWidth,F=P.cell,tt=E+I-1,Z=E<=d&&d<=tt;E<l&&l<=tt?(v.setAttribute("rowspan",I+s,F),C[R]=-z):f&&Z&&(C[R]=z)}}catch(O){S.e(O)}finally{S.f()}for(var G=0;G<s;G++){var et=v.createElement("tableRow");v.insert(et,e,l);for(var y=0;y<C.length;y++){var p=C[y],m=v.createPositionAt(et,"end");p>0&&zo(v,m,p>1?{colspan:p}:void 0),y+=Math.abs(p)-1}}}else r5(v,e,l,s,b)})}},{key:"insertColumns",value:function(e){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=this.editor.model,s=c.at||0,f=c.columns||1;l.change(function(d){var h=e.getAttribute("headingColumns");s<h&&d.setAttribute("headingColumns",h+f,e);var b=o.getColumns(e);if(s!==0&&b!==s){var v,g=new Mt(e,{column:s,includeAllSlots:!0}),k=We(g);try{for(k.s();!(v=k.n()).done;){var _=v.value,A=_.row,C=_.cell,S=_.cellAnchorColumn,P=_.cellAnchorRow,E=_.cellWidth,R=_.cellHeight;if(S<s){d.setAttribute("colspan",E+f,C);for(var I=P+R-1,z=A;z<=I;z++)g.skipRow(z)}else hd(f,d,_.getPositionBefore())}}catch(G){k.e(G)}finally{k.f()}}else{var F,tt=We(e.getChildren());try{for(tt.s();!(F=tt.n()).done;){var Z=F.value;Z.is("element","tableRow")&&hd(f,d,d.createPositionAt(Z,s?"end":0))}}catch(G){tt.e(G)}finally{tt.f()}}})}},{key:"removeRows",value:function(e,o){var c=this,l=this.editor.model,s=o.rows||1,f=this.getRows(e),d=o.at,h=d+s-1;if(h>f-1)throw new V("tableutils-removerows-row-index-out-of-range",this,{table:e,options:o});l.change(function(b){var v={first:d,last:h},g=function(E,R){var I,z=R.first,F=R.last,tt=new Map,Z=[],G=We(new Mt(E,{endRow:F}));try{for(G.s();!(I=G.n()).done;){var et=I.value,y=et.row,p=et.column,m=et.cellHeight,O=et.cell,w=y+m-1;if(y>=z&&y<=F&&w>F){var j=m-(F-y+1);tt.set(p,{cell:O,rowspan:j})}if(y<z&&w>=z){var T=void 0;T=w>=F?F-z+1:w-z+1,Z.push({cell:O,rowspan:m-T})}}}catch(M){G.e(M)}finally{G.f()}return{cellsToMove:tt,cellsToTrim:Z}}(e,v),k=g.cellsToMove,_=g.cellsToTrim;k.size&&function(E,R,I,z){var F,tt,Z=new Mt(E,{includeAllSlots:!0,row:R}),G=Fo(Z),et=E.getChild(R),y=We(G);try{for(y.s();!(tt=y.n()).done;){var p=tt.value,m=p.column,O=p.cell,w=p.isAnchor;if(I.has(m)){var j=I.get(m),T=j.cell,M=j.rowspan,N=F?z.createPositionAfter(F):z.createPositionAt(et,0);z.move(z.createRangeOn(T),N),Xt("rowspan",M,T,z),F=T}else w&&(F=O)}}catch(X){y.e(X)}finally{y.f()}}(e,h+1,k,b);for(var A=h;A>=d;A--)b.remove(e.getChild(A));var C,S=We(_);try{for(S.s();!(C=S.n()).done;){var P=C.value;Xt("rowspan",P.rowspan,P.cell,b)}}catch(E){S.e(E)}finally{S.f()}(function(E,R,I){var z=R.first,F=R.last,tt=E.getAttribute("headingRows")||0;z<tt&&Xt("headingRows",F<tt?tt-(F-z+1):z,E,I,0)})(e,v,b),GR(e,c)||WR(e,c)})}},{key:"removeColumns",value:function(e,o){var c=this,l=this.editor.model,s=o.at,f=o.columns||1,d=o.at+f-1;l.change(function(h){(function(S,P,E){var R=S.getAttribute("headingColumns")||0;if(R&&P.first<R){var I=Math.min(R-1,P.last)-P.first+1;E.setAttribute("headingColumns",R-I,S)}})(e,{first:s,last:d},h);for(var b=d;b>=s;b--)for(var v=0,g=Fo(new Mt(e));v<g.length;v++){var k=g[v],_=k.cell,A=k.column,C=k.cellWidth;A<=b&&C>1&&A+C>b?Xt("colspan",C-1,_,h):A===b&&h.remove(_)}WR(e,c)||GR(e,c)})}},{key:"splitCellVertically",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,c=this.editor.model,l=e.parent.parent,s=parseInt(e.getAttribute("rowspan")||"1"),f=parseInt(e.getAttribute("colspan")||"1");c.change(function(d){if(f>1){var h=_Q(f,o),b=h.newCellsSpan;Xt("colspan",h.updatedSpan,e,d);var v={};b>1&&(v.colspan=b),s>1&&(v.rowspan=s),hd(f>o?o-1:f-1,d,d.createPositionAfter(e),v)}if(f<o){var g,k=o-f,_=Fo(new Mt(l)),A=_.find(function(F){return F.cell===e}).column,C=_.filter(function(F){var tt=F.cell,Z=F.cellWidth,G=F.column;return tt!==e&&G===A||G<A&&G+Z>A}),S=We(C);try{for(S.s();!(g=S.n()).done;){var P=g.value,E=P.cell,R=P.cellWidth;d.setAttribute("colspan",R+k,E)}}catch(F){S.e(F)}finally{S.f()}var I={};s>1&&(I.rowspan=s),hd(k,d,d.createPositionAfter(e),I);var z=l.getAttribute("headingColumns")||0;z>A&&Xt("headingColumns",z+k,l,d)}})}},{key:"splitCellHorizontally",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,c=this.editor.model,l=e.parent,s=l.parent,f=s.getChildIndex(l),d=parseInt(e.getAttribute("rowspan")||"1"),h=parseInt(e.getAttribute("colspan")||"1");c.change(function(b){if(d>1){var v=Fo(new Mt(s,{startRow:f,endRow:f+d-1,includeAllSlots:!0})),g=_Q(d,o),k=g.newCellsSpan,_=g.updatedSpan;Xt("rowspan",_,e,b);var A=v.find(function(w){return w.cell===e}).column,C={};k>1&&(C.rowspan=k),h>1&&(C.colspan=h);var S,P=We(v);try{for(P.s();!(S=P.n()).done;){var E=S.value,R=E.column,I=E.row;I>=f+_&&R===A&&(I+f+_)%k==0&&hd(1,b,E.getPositionBefore(),C)}}catch(w){P.e(w)}finally{P.f()}}if(d<o){var z,F=o-d,tt=We(Fo(new Mt(s,{startRow:0,endRow:f})));try{for(tt.s();!(z=tt.n()).done;){var Z=z.value,G=Z.cell,et=Z.cellHeight,y=Z.row;if(G!==e&&y+et>f){var p=et+F;b.setAttribute("rowspan",p,G)}}}catch(w){tt.e(w)}finally{tt.f()}var m={};h>1&&(m.colspan=h),r5(b,s,f+1,F,1,m);var O=s.getAttribute("headingRows")||0;O>f&&Xt("headingRows",O+F,s,b)}})}},{key:"getColumns",value:function(e){return Fo(e.getChild(0).getChildren()).reduce(function(o,c){return o+parseInt(c.getAttribute("colspan")||"1")},0)}},{key:"getRows",value:function(e){return Array.from(e.getChildren()).reduce(function(o,c){return c.is("element","tableRow")?o+1:o},0)}},{key:"createTableWalker",value:function(e){return new Mt(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{})}},{key:"getSelectedTableCells",value:function(e){var o,c=[],l=We(this.sortRanges(e.getRanges()));try{for(l.s();!(o=l.n()).done;){var s=o.value.getContainedElement();s&&s.is("element","tableCell")&&c.push(s)}}catch(f){l.e(f)}finally{l.f()}return c}},{key:"getTableCellsContainingSelection",value:function(e){var o,c=[],l=We(e.getRanges());try{for(l.s();!(o=l.n()).done;){var s=o.value.start.findAncestor("tableCell");s&&c.push(s)}}catch(f){l.e(f)}finally{l.f()}return c}},{key:"getSelectionAffectedTableCells",value:function(e){var o=this.getSelectedTableCells(e);return o.length?o:this.getTableCellsContainingSelection(e)}},{key:"getRowIndexes",value:function(e){var o=e.map(function(c){return c.parent.index});return this._getFirstLastIndexesObject(o)}},{key:"getColumnIndexes",value:function(e){var o=e[0].findAncestor("table"),c=Fo(new Mt(o)).filter(function(l){return e.includes(l.cell)}).map(function(l){return l.column});return this._getFirstLastIndexesObject(c)}},{key:"isSelectionRectangular",value:function(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;var o,c=new Set,l=new Set,s=0,f=We(e);try{for(f.s();!(o=f.n()).done;){var d=o.value,h=this.getCellLocation(d),b=h.row,v=h.column,g=parseInt(d.getAttribute("rowspan"))||1,k=parseInt(d.getAttribute("colspan"))||1;c.add(b),l.add(v),g>1&&c.add(b+g-1),k>1&&l.add(v+k-1),s+=g*k}}catch(A){f.e(A)}finally{f.f()}var _=function(A,C){var S=Array.from(A.values()),P=Array.from(C.values()),E=Math.max.apply(Math,S),R=Math.min.apply(Math,S),I=Math.max.apply(Math,P),z=Math.min.apply(Math,P);return(E-R+1)*(I-z+1)}(c,l);return _==s}},{key:"sortRanges",value:function(e){return Array.from(e).sort(F0t)}},{key:"_getFirstLastIndexesObject",value:function(e){var o=e.sort(function(c,l){return c-l});return{first:o[0],last:o[o.length-1]}}},{key:"_areCellInTheSameTableSection",value:function(e){var o=e[0].findAncestor("table"),c=this.getRowIndexes(e),l=parseInt(o.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(c,l))return!1;var s=this.getColumnIndexes(e),f=parseInt(o.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(s,f)}},{key:"_areIndexesInSameSection",value:function(e,o){return e.first<o==e.last<o}}],i=[{key:"pluginName",get:function(){return"TableUtils"}}],n&&kQ(t.prototype,n),i&&kQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function r5(r,t,n,i,u){for(var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},e=0;e<i;e++){var o=r.createElement("tableRow");r.insert(o,t,n),hd(u,r,r.createPositionAt(o,"end"),a)}}function hd(r,t,n){for(var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=0;u<r;u++)zo(t,n,i)}function _Q(r,t){if(r<t)return{newCellsSpan:1,updatedSpan:1};var n=Math.floor(r/t);return{newCellsSpan:n,updatedSpan:r-n*t+n}}function F0t(r,t){var n=r.start,i=t.start;return n.isBefore(i)?-1:1}function bd(r){return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(r)}function AQ(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return CQ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return CQ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function CQ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function OQ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(bd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(bd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),bd(a)==="symbol"?a:String(a)),i)}var u,a}function n5(r,t){return n5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n5(r,t)}function V0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=T_(r);if(t){var u=T_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function T_(r){return T_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T_(r)}var U0t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&n5(e,o)})(a,r);var t,n,i,u=V0t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(n=[{key:"refresh",value:function(){var e=this.editor.plugins.get(Ce),o=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(o)}},{key:"execute",value:function(){var e=this.editor.model,o=this.editor.plugins.get(Ce);e.change(function(c){var l=o.getSelectedTableCells(e.document.selection),s=l.shift(),f=function(g,k,_){var A,C=0,S=0,P=AQ(k);try{for(P.s();!(A=P.n()).done;){var E=A.value,R=_.getCellLocation(E),I=R.row;C=jQ(E,R.column,C,"colspan"),S=jQ(E,I,S,"rowspan")}}catch(et){P.e(et)}finally{P.f()}var z=_.getCellLocation(g),F=z.row,tt=z.column,Z=C-tt,G=S-F;return{mergeWidth:Z,mergeHeight:G}}(s,l,o),d=f.mergeWidth,h=f.mergeHeight;Xt("colspan",d,s,c),Xt("rowspan",h,s,c);var b,v=AQ(l);try{for(v.s();!(b=v.n()).done;)H0t(b.value,s,c)}catch(g){v.e(g)}finally{v.f()}$R(s.findAncestor("table"),o),c.setSelection(s,"in")})}}])&&OQ(t.prototype,n),i&&OQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function H0t(r,t,n){SQ(r)||(SQ(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(r),n.createPositionAt(t,"end"))),n.remove(r)}function SQ(r){var t=r.getChild(0);return r.childCount==1&&t.is("element","paragraph")&&t.isEmpty}function jQ(r,t,n,i){var u=parseInt(r.getAttribute(i)||"1");return Math.max(n,t+u)}function md(r){return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(r)}function G0t(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return PQ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return PQ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function PQ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function EQ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(md(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(md(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),md(a)==="symbol"?a:String(a)),i)}var u,a}function o5(r,t){return o5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o5(r,t)}function W0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=D_(r);if(t){var u=D_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function D_(r){return D_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D_(r)}var $0t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&o5(e,o)})(a,r);var t,n,i,u=W0t(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).affectsData=!1,o}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}},{key:"execute",value:function(){for(var e=this.editor.model,o=this.editor.plugins.get("TableUtils"),c=o.getSelectionAffectedTableCells(e.document.selection),l=o.getRowIndexes(c),s=c[0].findAncestor("table"),f=[],d=l.first;d<=l.last;d++){var h,b=G0t(s.getChild(d).getChildren());try{for(b.s();!(h=b.n()).done;){var v=h.value;f.push(e.createRangeOn(v))}}catch(g){b.e(g)}finally{b.f()}}e.change(function(g){g.setSelection(f)})}}],n&&EQ(t.prototype,n),i&&EQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function vd(r){return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(r)}function q0t(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return xQ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return xQ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function xQ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function TQ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(vd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(vd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),vd(a)==="symbol"?a:String(a)),i)}var u,a}function i5(r,t){return i5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i5(r,t)}function Y0t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=R_(r);if(t){var u=R_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function R_(r){return R_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R_(r)}var K0t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&i5(e,o)})(a,r);var t,n,i,u=Y0t(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).affectsData=!1,o}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}},{key:"execute",value:function(){var e,o=this.editor.plugins.get("TableUtils"),c=this.editor.model,l=o.getSelectionAffectedTableCells(c.document.selection),s=l[0],f=l.pop(),d=s.findAncestor("table"),h=o.getCellLocation(s),b=o.getCellLocation(f),v=Math.min(h.column,b.column),g=Math.max(h.column,b.column),k=[],_=q0t(new Mt(d,{startColumn:v,endColumn:g}));try{for(_.s();!(e=_.n()).done;){var A=e.value;k.push(c.createRangeOn(A.cell))}}catch(C){_.e(C)}finally{_.f()}c.change(function(C){C.setSelection(k)})}}],n&&TQ(t.prototype,n),i&&TQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function DQ(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||RQ(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vo(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=RQ(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function RQ(r,t){if(r){if(typeof r=="string")return IQ(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?IQ(r,t):void 0}}function IQ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Z0t(r){r.document.registerPostFixer(function(t){return function(n,i){var u,a=i.document.differ.getChanges(),e=!1,o=new Set,c=Vo(a);try{for(c.s();!(u=c.n()).done;){var l=u.value,s=null;l.type=="insert"&&l.name=="table"&&(s=l.position.nodeAfter),l.type!="insert"&&l.type!="remove"||l.name!="tableRow"&&l.name!="tableCell"||(s=l.position.findAncestor("table")),X0t(l)&&(s=l.range.start.findAncestor("table")),s&&!o.has(s)&&(e=Q0t(s,n)||e,e=J0t(s,n)||e,o.add(s))}}catch(f){c.e(f)}finally{c.f()}return e}(t,r)})}function Q0t(r,t){var n=!1,i=function(o){var c,l=parseInt(o.getAttribute("headingRows")||"0"),s=Array.from(o.getChildren()).reduce(function(A,C){return C.is("element","tableRow")?A+1:A},0),f=[],d=Vo(new Mt(o));try{for(d.s();!(c=d.n()).done;){var h=c.value,b=h.row,v=h.cell,g=h.cellHeight;if(!(g<2)){var k=b<l?l:s;if(b+g>k){var _=k-b;f.push({cell:v,rowspan:_})}}}}catch(A){d.e(A)}finally{d.f()}return f}(r);if(i.length){n=!0;var u,a=Vo(i);try{for(a.s();!(u=a.n()).done;){var e=u.value;Xt("rowspan",e.rowspan,e.cell,t,1)}}catch(o){a.e(o)}finally{a.f()}}return n}function J0t(r,t){var n,i=!1,u=function(S){var P,E=new Array(S.childCount).fill(0),R=Vo(new Mt(S,{includeAllSlots:!0}));try{for(R.s();!(P=R.n()).done;)E[P.value.rowIndex]++}catch(I){R.e(I)}finally{R.f()}return E}(r),a=[],e=Vo(u.entries());try{for(e.s();!(n=e.n()).done;){var o=DQ(n.value,2),c=o[0];!o[1]&&r.getChild(c).is("element","tableRow")&&a.push(c)}}catch(S){e.e(S)}finally{e.f()}if(a.length){i=!0;var l,s=Vo(a.reverse());try{for(s.s();!(l=s.n()).done;){var f=l.value;t.remove(r.getChild(f)),u.splice(f,1)}}catch(S){s.e(S)}finally{s.f()}}var d=u.filter(function(S,P){return r.getChild(P).is("element","tableRow")}),h=d[0];if(!d.every(function(S){return S===h})){var b,v=d.reduce(function(S,P){return P>S?P:S},0),g=Vo(d.entries());try{for(g.s();!(b=g.n()).done;){var k=DQ(b.value,2),_=k[0],A=v-k[1];if(A){for(var C=0;C<A;C++)zo(t,t.createPositionAt(r.getChild(_),"end"));i=!0}}}catch(S){g.e(S)}finally{g.f()}}return i}function X0t(r){if(r.type!=="attribute")return!1;var t=r.attributeKey;return t==="headingRows"||t==="colspan"||t==="rowspan"}function I_(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return BQ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return BQ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function BQ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function tkt(r){r.document.registerPostFixer(function(t){return function(n,i){var u,a=i.document.differ.getChanges(),e=!1,o=I_(a);try{for(o.s();!(u=o.n()).done;){var c=u.value;c.type=="insert"&&c.name=="table"&&(e=ekt(c.position.nodeAfter,n)||e),c.type=="insert"&&c.name=="tableRow"&&(e=MQ(c.position.nodeAfter,n)||e),c.type=="insert"&&c.name=="tableCell"&&(e=a5(c.position.nodeAfter,n)||e),c.type!="remove"&&c.type!="insert"||!rkt(c)||(e=a5(c.position.parent,n)||e)}}catch(l){o.e(l)}finally{o.f()}return e}(t,r)})}function ekt(r,t){var n,i=!1,u=I_(r.getChildren());try{for(u.s();!(n=u.n()).done;){var a=n.value;a.is("element","tableRow")&&(i=MQ(a,t)||i)}}catch(e){u.e(e)}finally{u.f()}return i}function MQ(r,t){var n,i=!1,u=I_(r.getChildren());try{for(u.s();!(n=u.n()).done;)i=a5(n.value,t)||i}catch(a){u.e(a)}finally{u.f()}return i}function a5(r,t){if(r.childCount==0)return t.insertElement("paragraph",r),!0;var n,i=Array.from(r.getChildren()).filter(function(e){return e.is("$text")}),u=I_(i);try{for(u.s();!(n=u.n()).done;){var a=n.value;t.wrap(t.createRangeOn(a),"paragraph")}}catch(e){u.e(e)}finally{u.f()}return!!i.length}function rkt(r){return!!r.position.parent.is("element","tableCell")&&(r.type=="insert"&&r.name=="$text"||r.type=="remove")}function NQ(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return LQ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return LQ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function LQ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function c5(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return zQ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return zQ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function zQ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function nkt(r,t){if(!r.is("element","paragraph"))return!1;var n=t.toViewElement(r);return!!n&&qZ(r)!==n.is("element","span")}var FQ=x(8361),okt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(FQ.Z,okt),FQ.Z.locals;function gd(r){return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(r)}function VQ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(gd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(gd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),gd(a)==="symbol"?a:String(a)),i)}var u,a}function u5(r,t){return u5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u5(r,t)}function ikt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=B_(r);if(t){var u=B_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function B_(r){return B_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B_(r)}var M_=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&u5(e,o)})(a,r);var t,n,i,u=ikt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._additionalSlots=[],o}return t=a,n=[{key:"init",value:function(){var e=this.editor,o=e.model,c=o.schema,l=e.conversion,s=e.plugins.get(Ce);c.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),c.register("tableRow",{allowIn:"table",isLimit:!0}),c.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),l.for("upcast").add(h0t()),l.for("upcast").add(b0t()),l.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:GZ(s,{asWidget:!0,additionalSlots:this._additionalSlots})}),l.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:GZ(s,{additionalSlots:this._additionalSlots})}),l.for("upcast").elementToElement({model:"tableRow",view:"tr"}),l.for("upcast").add(function(f){f.on("element:tr",function(d,h){h.viewItem.isEmpty&&h.modelCursor.index==0&&d.stop()},{priority:"high"})}),l.for("downcast").elementToElement({model:"tableRow",view:function(f,d){var h=d.writer;return f.isEmpty?h.createEmptyElement("tr"):h.createContainerElement("tr")}}),l.for("upcast").elementToElement({model:"tableCell",view:"td"}),l.for("upcast").elementToElement({model:"tableCell",view:"th"}),l.for("upcast").add(LZ("td")),l.for("upcast").add(LZ("th")),l.for("editingDowncast").elementToElement({model:"tableCell",view:WZ({asWidget:!0})}),l.for("dataDowncast").elementToElement({model:"tableCell",view:WZ()}),l.for("editingDowncast").elementToElement({model:"paragraph",view:$Z({asWidget:!0}),converterPriority:"high"}),l.for("dataDowncast").elementToElement({model:"paragraph",view:$Z(),converterPriority:"high"}),l.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),l.for("upcast").attributeToAttribute({model:{key:"colspan",value:UQ("colspan")},view:"colspan"}),l.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),l.for("upcast").attributeToAttribute({model:{key:"rowspan",value:UQ("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new w0t(e)),e.commands.add("insertTableRowAbove",new ZZ(e,{order:"above"})),e.commands.add("insertTableRowBelow",new ZZ(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new JZ(e,{order:"left"})),e.commands.add("insertTableColumnRight",new JZ(e,{order:"right"})),e.commands.add("removeTableRow",new P0t(e)),e.commands.add("removeTableColumn",new D0t(e)),e.commands.add("splitTableCellVertically",new tQ(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new tQ(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new U0t(e)),e.commands.add("mergeTableCellRight",new O_(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new O_(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new O_(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new O_(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new L0t(e)),e.commands.add("setTableRowHeader",new B0t(e)),e.commands.add("selectTableRow",new $0t(e)),e.commands.add("selectTableColumn",new K0t(e)),Z0t(o),tkt(o),this.listenTo(o.document,"change:data",function(){(function(f,d){var h,b=NQ(f.document.differ.getChanges());try{for(b.s();!(h=b.n()).done;){var v=h.value,g=void 0,k=!1;if(v.type=="attribute"){var _=v.range.start.nodeAfter;if(!_||!_.is("element","table")||v.attributeKey!="headingRows"&&v.attributeKey!="headingColumns")continue;g=_,k=v.attributeKey=="headingRows"}else v.name!="tableRow"&&v.name!="tableCell"||(g=v.position.findAncestor("table"),k=v.name=="tableRow");if(g){var A,C=g.getAttribute("headingRows")||0,S=g.getAttribute("headingColumns")||0,P=NQ(new Mt(g));try{for(P.s();!(A=P.n()).done;){var E=A.value,R=E.row<C||E.column<S?"th":"td",I=d.mapper.toViewElement(E.cell);I&&I.is("element")&&I.name!=R&&d.reconvertItem(k?E.cell.parent:E.cell)}}catch(z){P.e(z)}finally{P.f()}}}}catch(z){b.e(z)}finally{b.f()}})(o,e.editing),function(f,d){var h,b=f.document.differ,v=new Set,g=c5(b.getChanges());try{for(g.s();!(h=g.n()).done;){var k=h.value,_=k.type=="attribute"?k.range.start.parent:k.position.parent;_.is("element","tableCell")&&v.add(_)}}catch(I){g.e(I)}finally{g.f()}var A,C=c5(v.values());try{for(C.s();!(A=C.n()).done;){var S,P=A.value,E=c5(Array.from(P.getChildren()).filter(function(I){return nkt(I,d.mapper)}));try{for(E.s();!(S=E.n()).done;){var R=S.value;d.reconvertItem(R)}}catch(I){E.e(I)}finally{E.f()}}}catch(I){C.e(I)}finally{C.f()}}(o,e.editing)})}},{key:"registerAdditionalSlot",value:function(e){this._additionalSlots.push(e)}}],i=[{key:"pluginName",get:function(){return"TableEditing"}},{key:"requires",get:function(){return[Ce]}}],n&&VQ(t.prototype,n),i&&VQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function UQ(r){return function(t){var n=parseInt(t.getAttribute(r));return Number.isNaN(n)||n<=0?null:n}}var HQ=x(468),akt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(HQ.Z,akt),HQ.Z.locals;function wd(r){return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(r)}function ckt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return GQ(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return GQ(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function GQ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function WQ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(wd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(wd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),wd(a)==="symbol"?a:String(a)),i)}var u,a}function l5(){return l5=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=kd(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},l5.apply(this,arguments)}function s5(r,t){return s5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s5(r,t)}function ukt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=kd(r);if(t){var u=kd(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f5(a)}(this,n)}}function f5(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function kd(r){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kd(r)}var lkt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&s5(e,o)})(a,r);var t,n,i,u=ukt(a);function a(e){var o;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a);var c=(o=u.call(this,e)).bindTemplate;return o.items=o._createGridCollection(),o.keystrokes=new de,o.focusTracker=new ce,o.set("rows",0),o.set("columns",0),o.bind("label").to(f5(o),"columns",f5(o),"rows",function(l,s){return"".concat(s," \xD7 ").concat(l)}),o.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":c.to("boxover")},children:o.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:c.to("label")}]}],on:{mousedown:c.to(function(l){l.preventDefault()}),click:c.to(function(){o.fire("execute")})}}),o.on("boxover",function(l,s){var f=s.target.dataset,d=f.row,h=f.column;o.items.get(10*(parseInt(d,10)-1)+(parseInt(h,10)-1)).focus()}),o.focusTracker.on("change:focusedElement",function(l,s,f){if(f){var d=f.dataset,h=d.row,b=d.column;o.set({rows:parseInt(h),columns:parseInt(b)})}}),o.on("change:columns",function(){return o._highlightGridBoxes()}),o.on("change:rows",function(){return o._highlightGridBoxes()}),o}return t=a,n=[{key:"render",value:function(){l5(kd(a.prototype),"render",this).call(this),lt({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});var e,o=ckt(this.items);try{for(o.s();!(e=o.n()).done;){var c=e.value;this.focusTracker.add(c.element)}}catch(l){o.e(l)}finally{o.f()}this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this.items.get(0).focus()}},{key:"focusLast",value:function(){this.items.get(0).focus()}},{key:"_highlightGridBoxes",value:function(){var e=this.rows,o=this.columns;this.items.map(function(c,l){var s=Math.floor(l/10)<e&&l%10<o;c.set("isOn",s)})}},{key:"_createGridButton",value:function(e,o,c,l){var s=new vt(e);return s.set({label:l,class:"ck-insert-table-dropdown-grid-box"}),s.extendTemplate({attributes:{"data-row":o,"data-column":c}}),s}},{key:"_createGridCollection",value:function(){for(var e=[],o=0;o<100;o++){var c=Math.floor(o/10),l=o%10,s="".concat(c+1," \xD7 ").concat(l+1);e.push(this._createGridButton(this.locale,c+1,l+1,s))}return this.createCollection(e)}}],n&&WQ(t.prototype,n),i&&WQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function _d(r){return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(r)}function skt(r){return function(t){if(Array.isArray(t))return d5(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||$Q(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $Q(r,t){if(r){if(typeof r=="string")return d5(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d5(r,t):void 0}}function d5(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function qQ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(_d(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(_d(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),_d(a)==="symbol"?a:String(a)),i)}var u,a}function p5(r,t){return p5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p5(r,t)}function fkt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=N_(r);if(t){var u=N_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function N_(r){return N_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},N_(r)}var dkt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&p5(e,o)})(a,r);var t,n,i,u=fkt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=this.editor.t,l=o.locale.contentLanguageDirection==="ltr";o.ui.componentFactory.add("insertTable",function(s){var f,d=o.commands.get("insertTable"),h=ae(s);return h.bind("isEnabled").to(d),h.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:c("Insert table"),tooltip:!0}),h.on("change:isOpen",function(){f||(f=new lkt(s),h.panelView.children.add(f),f.delegate("execute").to(h),h.on("execute",function(){o.execute("insertTable",{rows:f.rows,columns:f.columns}),o.editing.view.focus()}))}),h}),o.ui.componentFactory.add("tableColumn",function(s){var f=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:c("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:l?"insertTableColumnLeft":"insertTableColumnRight",label:c("Insert column left")}},{type:"button",model:{commandName:l?"insertTableColumnRight":"insertTableColumnLeft",label:c("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:c("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:c("Select column")}}];return e._prepareDropdown(c("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',f,s)}),o.ui.componentFactory.add("tableRow",function(s){var f=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:c("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:c("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:c("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:c("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:c("Select row")}}];return e._prepareDropdown(c("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',f,s)}),o.ui.componentFactory.add("mergeTableCells",function(s){var f=[{type:"button",model:{commandName:"mergeTableCellUp",label:c("Merge cell up")}},{type:"button",model:{commandName:l?"mergeTableCellRight":"mergeTableCellLeft",label:c("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:c("Merge cell down")}},{type:"button",model:{commandName:l?"mergeTableCellLeft":"mergeTableCellRight",label:c("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:c("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:c("Split cell horizontally")}}];return e._prepareMergeSplitButtonDropdown(c("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',f,s)})}},{key:"_prepareDropdown",value:function(e,o,c,l){var s=this.editor,f=ae(l),d=this._fillDropdownWithListOptions(f,c);return f.buttonView.set({label:e,icon:o,tooltip:!0}),f.bind("isEnabled").toMany(d,"isEnabled",function(){for(var h=arguments.length,b=new Array(h),v=0;v<h;v++)b[v]=arguments[v];return b.some(function(g){return g})}),this.listenTo(f,"execute",function(h){s.execute(h.source.commandName),h.source instanceof Yb||s.editing.view.focus()}),f}},{key:"_prepareMergeSplitButtonDropdown",value:function(e,o,c,l){var s=this.editor,f=ae(l,Bc),d="mergeTableCells",h=s.commands.get(d),b=this._fillDropdownWithListOptions(f,c);return f.buttonView.set({label:e,icon:o,tooltip:!0,isEnabled:!0}),f.bind("isEnabled").toMany([h].concat(skt(b)),"isEnabled",function(){for(var v=arguments.length,g=new Array(v),k=0;k<v;k++)g[k]=arguments[k];return g.some(function(_){return _})}),this.listenTo(f.buttonView,"execute",function(){s.execute(d),s.editing.view.focus()}),this.listenTo(f,"execute",function(v){s.execute(v.source.commandName),s.editing.view.focus()}),f}},{key:"_fillDropdownWithListOptions",value:function(e,o){var c,l=this.editor,s=[],f=new Qt,d=function(h,b){var v=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!v){if(Array.isArray(h)||(v=$Q(h))||b&&h&&typeof h.length=="number"){v&&(h=v);var g=0,k=function(){};return{s:k,n:function(){return g>=h.length?{done:!0}:{done:!1,value:h[g++]}},e:function(S){throw S},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,A=!0,C=!1;return{s:function(){v=v.call(h)},n:function(){var S=v.next();return A=S.done,S},e:function(S){C=!0,_=S},f:function(){try{A||v.return==null||v.return()}finally{if(C)throw _}}}}(o);try{for(d.s();!(c=d.n()).done;)pkt(c.value,l,s,f)}catch(h){d.e(h)}finally{d.f()}return zr(e,f),s}}],i=[{key:"pluginName",get:function(){return"TableUI"}}],n&&qQ(t.prototype,n),i&&qQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function pkt(r,t,n,i){if(r.type==="button"||r.type==="switchbutton"){var u=r.model=new Fr(r.model),a=r.model,e=a.commandName,o=a.bindIsOn,c=t.commands.get(e);n.push(c),u.set({commandName:e}),u.bind("isEnabled").to(c),o&&u.bind("isOn").to(c,"value"),u.set({withText:!0})}i.add(r)}var YQ=x(1546),ykt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(YQ.Z,ykt),YQ.Z.locals;function Ad(r){return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(r)}function L_(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=KQ(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function hkt(r){return function(t){if(Array.isArray(t))return y5(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||KQ(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function KQ(r,t){if(r){if(typeof r=="string")return y5(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y5(r,t):void 0}}function y5(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function ZQ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ad(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ad(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ad(a)==="symbol"?a:String(a)),i)}var u,a}function h5(r,t){return h5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h5(r,t)}function bkt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=z_(r);if(t){var u=z_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function z_(r){return z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z_(r)}var Uo=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&h5(e,o)})(a,r);var t,n,i,u=bkt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.model,l=o.editing.view;this.listenTo(c,"deleteContent",function(s,f){return e._handleDeleteContent(s,f)},{priority:"high"}),this.listenTo(l.document,"insertText",function(s,f){return e._handleInsertTextEvent(s,f)},{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}},{key:"getSelectedTableCells",value:function(){var e=this.editor.plugins.get(Ce),o=this.editor.model.document.selection,c=e.getSelectedTableCells(o);return c.length==0?null:c}},{key:"getSelectionAsFragment",value:function(){var e=this.editor.plugins.get(Ce),o=this.getSelectedTableCells();return o?this.editor.model.change(function(c){var l=c.createDocumentFragment(),s=e.getColumnIndexes(o),f=s.first,d=s.last,h=e.getRowIndexes(o),b=h.first,v=h.last,g=o[0].findAncestor("table"),k=v,_=d;if(e.isSelectionRectangular(o)){var A={firstColumn:f,lastColumn:d,firstRow:b,lastRow:v};k=uQ(g,A),_=lQ(g,A)}var C=rQ(g,{startRow:b,startColumn:f,endRow:k,endColumn:_},c);return c.insert(C,l,0),l}):null}},{key:"setCellSelection",value:function(e,o){var c=this._getCellsToSelect(e,o);this.editor.model.change(function(l){l.setSelection(c.cells.map(function(s){return l.createRangeOn(s)}),{backward:c.backward})})}},{key:"getFocusCell",value:function(){var e=hkt(this.editor.model.document.selection.getRanges()).pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}},{key:"getAnchorCell",value:function(){var e=Vt(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}},{key:"_defineSelectionConverter",value:function(){var e=this,o=this.editor,c=new Set;o.conversion.for("editingDowncast").add(function(l){return l.on("selection",function(s,f,d){var h=d.writer;(function(C){var S,P=L_(c);try{for(P.s();!(S=P.n()).done;){var E=S.value;C.removeClass("ck-editor__editable_selected",E)}}catch(R){P.e(R)}finally{P.f()}c.clear()})(h);var b=e.getSelectedTableCells();if(b){var v,g=L_(b);try{for(g.s();!(v=g.n()).done;){var k=v.value,_=d.mapper.toViewElement(k);h.addClass("ck-editor__editable_selected",_),c.add(_)}}catch(C){g.e(C)}finally{g.f()}var A=d.mapper.toViewElement(b[b.length-1]);h.setSelection(A,0)}},{priority:"lowest"})})}},{key:"_enablePluginDisabling",value:function(){var e=this,o=this.editor;this.on("change:isEnabled",function(){if(!e.isEnabled){var c=e.getSelectedTableCells();if(!c)return;o.model.change(function(l){var s=l.createPositionAt(c[0],0),f=o.model.schema.getNearestSelectionRange(s);l.setSelection(f)})}})}},{key:"_handleDeleteContent",value:function(e,o){var c=this.editor.plugins.get(Ce),l=o[0],s=o[1],f=this.editor.model,d=!s||s.direction=="backward",h=c.getSelectedTableCells(l);h.length&&(e.stop(),f.change(function(b){var v=h[d?h.length-1:0];f.change(function(k){var _,A=L_(h);try{for(A.s();!(_=A.n()).done;){var C=_.value;f.deleteContent(k.createSelection(C,"in"))}}catch(S){A.e(S)}finally{A.f()}});var g=f.schema.getNearestSelectionRange(b.createPositionAt(v,0));l.is("documentSelection")?b.setSelection(g):l.setTo(g)}))}},{key:"_handleInsertTextEvent",value:function(e,o){var c=this.editor,l=this.getSelectedTableCells();if(l){var s=c.editing.view,f=c.editing.mapper,d=l.map(function(h){return s.createRangeOn(f.toViewElement(h))});o.selection=s.createSelection(d)}}},{key:"_getCellsToSelect",value:function(e,o){var c,l=this.editor.plugins.get("TableUtils"),s=l.getCellLocation(e),f=l.getCellLocation(o),d=Math.min(s.row,f.row),h=Math.max(s.row,f.row),b=Math.min(s.column,f.column),v=Math.max(s.column,f.column),g=new Array(h-d+1).fill(null).map(function(){return[]}),k={startRow:d,endRow:h,startColumn:b,endColumn:v},_=L_(new Mt(e.findAncestor("table"),k));try{for(_.s();!(c=_.n()).done;){var A=c.value,C=A.row,S=A.cell;g[C-d].push(S)}}catch(R){_.e(R)}finally{_.f()}var P=f.row<s.row,E=f.column<s.column;return P&&g.reverse(),E&&g.forEach(function(R){return R.reverse()}),{cells:g.flat(),backward:P||E}}}],i=[{key:"pluginName",get:function(){return"TableSelection"}},{key:"requires",get:function(){return[Ce,Ce]}}],n&&ZQ(t.prototype,n),i&&ZQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Cd(r){return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(r)}function b5(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=v5(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function m5(r){return function(t){if(Array.isArray(t))return g5(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||v5(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mkt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||v5(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v5(r,t){if(r){if(typeof r=="string")return g5(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g5(r,t):void 0}}function g5(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function QQ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Cd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Cd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Cd(a)==="symbol"?a:String(a)),i)}var u,a}function w5(r,t){return w5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w5(r,t)}function vkt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=F_(r);if(t){var u=F_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function F_(r){return F_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F_(r)}var gkt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&w5(e,o)})(a,r);var t,n,i,u=vkt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.editing.view.document;this.listenTo(c,"copy",function(l,s){return e._onCopyCut(l,s)}),this.listenTo(c,"cut",function(l,s){return e._onCopyCut(l,s)}),this.listenTo(o.model,"insertContent",function(l,s){var f=mkt(s,2),d=f[0],h=f[1];return e._onInsertContent(l,d,h)},{priority:"high"}),this.decorate("_replaceTableSlotCell")}},{key:"_onCopyCut",value:function(e,o){var c=this.editor.plugins.get(Uo);if(c.getSelectedTableCells()&&(e.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))){o.preventDefault(),e.stop();var l=this.editor.data,s=this.editor.editing.view.document,f=l.toView(c.getSelectionAsFragment());s.fire("clipboardOutput",{dataTransfer:o.dataTransfer,content:f,method:e.name})}}},{key:"_onInsertContent",value:function(e,o,c){var l=this;if(!c||c.is("documentSelection")){var s=this.editor.model,f=this.editor.plugins.get(Ce),d=this.getTableIfOnlyTableInContent(o,s);if(d){var h=f.getSelectionAffectedTableCells(s.document.selection);h.length?(e.stop(),s.change(function(b){var v={width:f.getColumns(d),height:f.getRows(d)},g=function(E,R,I,z){var F=E[0].findAncestor("table"),tt=z.getColumnIndexes(E),Z=z.getRowIndexes(E),G={firstColumn:tt.first,lastColumn:tt.last,firstRow:Z.first,lastRow:Z.last},et=E.length===1;return et&&(G.lastRow+=R.height-1,G.lastColumn+=R.width-1,function(y,p,m,O){var w=O.getColumns(y),j=O.getRows(y);m>w&&O.insertColumns(y,{at:w,columns:m-w}),p>j&&O.insertRows(y,{at:j,rows:p-j})}(F,G.lastRow+1,G.lastColumn+1,z)),et||!z.isSelectionRectangular(E)?function(y,p,m){var O=p.firstRow,w=p.lastRow,j=p.firstColumn,T=p.lastColumn,M={first:O,last:w},N={first:j,last:T};_5(y,j,M,m),_5(y,T+1,M,m),k5(y,O,N,m),k5(y,w+1,N,m,O)}(F,G,I):(G.lastRow=uQ(F,G),G.lastColumn=lQ(F,G)),G}(h,v,b,f),k=g.lastRow-g.firstRow+1,_=g.lastColumn-g.firstColumn+1,A={startRow:0,startColumn:0,endRow:Math.min(k,v.height)-1,endColumn:Math.min(_,v.width)-1};d=rQ(d,A,b);var C=h[0].findAncestor("table"),S=l._replaceSelectedCellsWithPasted(d,v,C,g,b);if(l.editor.plugins.get("TableSelection").isEnabled){var P=f.sortRanges(S.map(function(E){return b.createRangeOn(E)}));b.setSelection(P)}else b.setSelection(S[0],0)})):$R(d,f)}}}},{key:"_replaceSelectedCellsWithPasted",value:function(e,o,c,l,s){var f,d,h=o.width,b=o.height,v=function(y,p,m){var O,w=new Array(m).fill(null).map(function(){return new Array(p).fill(null)}),j=b5(new Mt(y));try{for(j.s();!(O=j.n()).done;){var T=O.value,M=T.column,N=T.row,X=T.cell;w[N][M]=X}}catch(rt){j.e(rt)}finally{j.f()}return w}(e,h,b),g=[],k=b5(m5(new Mt(c,{startRow:l.firstRow,endRow:l.lastRow,startColumn:l.firstColumn,endColumn:l.lastColumn,includeAllSlots:!0})));try{for(k.s();!(d=k.n()).done;){var _=d.value,A=_.row,C=_.column;C===l.firstColumn&&(f=_.getPositionBefore());var S=A-l.firstRow,P=C-l.firstColumn,E=v[S%b][P%h],R=E?s.cloneElement(E):null,I=this._replaceTableSlotCell(_,R,f,s);I&&(cQ(I,A,C,l.lastRow,l.lastColumn,s),g.push(I),f=s.createPositionAfter(I))}}catch(y){k.e(y)}finally{k.f()}var z=parseInt(c.getAttribute("headingRows")||"0"),F=parseInt(c.getAttribute("headingColumns")||"0"),tt=l.firstRow<z&&z<=l.lastRow,Z=l.firstColumn<F&&F<=l.lastColumn;if(tt){var G=k5(c,z,{first:l.firstColumn,last:l.lastColumn},s,l.firstRow);g.push.apply(g,m5(G))}if(Z){var et=_5(c,F,{first:l.firstRow,last:l.lastRow},s);g.push.apply(g,m5(et))}return g}},{key:"_replaceTableSlotCell",value:function(e,o,c,l){var s=e.cell;return e.isAnchor&&l.remove(s),o?(l.insert(o,c),o):null}},{key:"getTableIfOnlyTableInContent",value:function(e,o){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);var c,l=o.createRangeIn(e),s=b5(l.getItems());try{for(s.s();!(c=s.n()).done;){var f=c.value;if(f.is("element","table")){var d=o.createRange(l.start,o.createPositionBefore(f));if(o.hasContent(d,{ignoreWhitespaces:!0}))return null;var h=o.createRange(o.createPositionAfter(f),l.end);return o.hasContent(h,{ignoreWhitespaces:!0})?null:f}}}catch(b){s.e(b)}finally{s.f()}return null}}],i=[{key:"pluginName",get:function(){return"TableClipboard"}},{key:"requires",get:function(){return[Uo,Ce]}}],n&&QQ(t.prototype,n),i&&QQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function k5(r,t,n,i){if(!(t<1))return nQ(r,t,arguments.length>4&&arguments[4]!==void 0?arguments[4]:0).filter(function(u){return JQ(u.column,u.cellWidth,n)}).map(function(u){return oQ(u.cell,t,i)})}function _5(r,t,n,i){if(!(t<1))return iQ(r,t).filter(function(u){return JQ(u.row,u.cellHeight,n)}).map(function(u){return aQ(u.cell,u.column,t,i)})}function JQ(r,t,n){var i=r+t-1,u=n.first,a=n.last;return r>=u&&r<=a||r<u&&i>=u}function Od(r){return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(r)}function wkt(r){return function(t){if(Array.isArray(t))return A5(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||function(t,n){if(t){if(typeof t=="string")return A5(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return A5(t,n)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function A5(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function XQ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Od(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Od(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Od(a)==="symbol"?a:String(a)),i)}var u,a}function C5(r,t){return C5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C5(r,t)}function kkt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=V_(r);if(t){var u=V_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function V_(r){return V_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V_(r)}var _kt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&C5(e,o)})(a,r);var t,n,i,u=kkt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor.editing.view.document;this.listenTo(o,"arrowKey",function(){return e._onArrowKey.apply(e,arguments)},{context:"table"}),this.listenTo(o,"tab",function(){return e._handleTabOnSelectedTable.apply(e,arguments)},{context:"figure"}),this.listenTo(o,"tab",function(){return e._handleTab.apply(e,arguments)},{context:["th","td"]})}},{key:"_handleTabOnSelectedTable",value:function(e,o){var c=this.editor,l=c.model.document.selection.getSelectedElement();l&&l.is("element","table")&&(o.preventDefault(),o.stopPropagation(),e.stop(),c.model.change(function(s){s.setSelection(s.createRangeIn(l.getChild(0).getChild(0)))}))}},{key:"_handleTab",value:function(e,o){var c=this.editor,l=this.editor.plugins.get(Ce),s=this.editor.plugins.get("TableSelection"),f=c.model.document.selection,d=!o.shiftKey,h=l.getTableCellsContainingSelection(f)[0];if(h||(h=s.getFocusCell()),h){o.preventDefault(),o.stopPropagation(),e.stop();var b=h.parent,v=b.parent,g=v.getChildIndex(b),k=b.getChildIndex(h),_=k===0;if(d||!_||g!==0){var A=k===b.childCount-1,C=g===l.getRows(v)-1;if(d&&C&&A&&(c.execute("insertTableRowBelow"),g===l.getRows(v)-1))c.model.change(function(R){R.setSelection(R.createRangeOn(v))});else{var S;if(d&&A){var P=v.getChild(g+1);S=P.getChild(0)}else if(!d&&_){var E=v.getChild(g-1);S=E.getChild(E.childCount-1)}else S=b.getChild(k+(d?1:-1));c.model.change(function(R){R.setSelection(R.createRangeIn(S))})}}else c.model.change(function(R){R.setSelection(R.createRangeOn(v))})}}},{key:"_onArrowKey",value:function(e,o){var c=this.editor,l=zb(o.keyCode,c.locale.contentLanguageDirection);this._handleArrowKeys(l,o.shiftKey)&&(o.preventDefault(),o.stopPropagation(),e.stop())}},{key:"_handleArrowKeys",value:function(e,o){var c,l=this.editor.plugins.get(Ce),s=this.editor.plugins.get("TableSelection"),f=this.editor.model,d=f.document.selection,h=["right","down"].includes(e),b=l.getSelectedTableCells(d);if(b.length)return c=o?s.getFocusCell():h?b[b.length-1]:b[0],this._navigateFromCellInDirection(c,e,o),!0;var v=d.focus.findAncestor("tableCell");if(!v)return!1;if(!d.isCollapsed)if(o){if(d.isBackward==h&&!d.containsEntireContent(v))return!1}else{var g=d.getSelectedElement();if(!g||!f.schema.isObject(g))return!1}return!!this._isSelectionAtCellEdge(d,v,h)&&(this._navigateFromCellInDirection(v,e,o),!0)}},{key:"_isSelectionAtCellEdge",value:function(e,o,c){var l=this.editor.model,s=this.editor.model.schema,f=c?e.getLastPosition():e.getFirstPosition();if(!s.getLimitElement(f).is("element","tableCell"))return l.createPositionAt(o,c?"end":0).isTouching(f);var d=l.createSelection(f);return l.modifySelection(d,{direction:c?"forward":"backward"}),f.isEqual(d.focus)}},{key:"_navigateFromCellInDirection",value:function(e,o){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],l=this.editor.model,s=e.findAncestor("table"),f=wkt(new Mt(s,{includeAllSlots:!0})),d=f[f.length-1],h=d.row,b=d.column,v=f.find(function(E){return E.cell==e}),g=v.row,k=v.column;switch(o){case"left":k--;break;case"up":g--;break;case"right":k+=v.cellWidth;break;case"down":g+=v.cellHeight}if(g<0||g>h||k<0&&g<=0||k>b&&g>=h)l.change(function(E){E.setSelection(E.createRangeOn(s))});else{k<0?(k=c?0:b,g--):k>b&&(k=c?b:0,g++);var _=f.find(function(E){return E.row==g&&E.column==k}).cell,A=["right","down"].includes(o),C=this.editor.plugins.get("TableSelection");if(c&&C.isEnabled){var S=C.getAnchorCell()||e;C.setCellSelection(S,_)}else{var P=l.createPositionAt(_,A?0:"end");l.change(function(E){E.setSelection(P)})}}}}],i=[{key:"pluginName",get:function(){return"TableKeyboard"}},{key:"requires",get:function(){return[Uo,Ce]}}],n&&XQ(t.prototype,n),i&&XQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Sd(r){return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(r)}function tJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Sd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Sd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Sd(a)==="symbol"?a:String(a)),i)}var u,a}function O5(r,t){return O5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O5(r,t)}function Akt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=U_(r);if(t){var u=U_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function U_(r){return U_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U_(r)}var Ckt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&O5(e,o)})(a,r);var t,n,i,u=Akt(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments)).domEventType=["mousemove","mouseleave"],e}return t=a,(n=[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}])&&tJ(t.prototype,n),i&&tJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(an);function jd(r){return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(r)}function eJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(jd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(jd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),jd(a)==="symbol"?a:String(a)),i)}var u,a}function S5(r,t){return S5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S5(r,t)}function Okt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=H_(r);if(t){var u=H_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function H_(r){return H_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H_(r)}var Skt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&S5(e,o)})(a,r);var t,n,i,u=Okt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"TableMouse"}},{key:"requires",get:function(){return[Uo,Ce]}}],(n=[{key:"init",value:function(){this.editor.editing.view.addObserver(Ckt),this._enableShiftClickSelection(),this._enableMouseDragSelection()}},{key:"_enableShiftClickSelection",value:function(){var e=this,o=this.editor,c=o.plugins.get(Ce),l=!1,s=o.plugins.get(Uo);this.listenTo(o.editing.view.document,"mousedown",function(f,d){var h=o.model.document.selection;if(e.isEnabled&&s.isEnabled&&d.domEvent.shiftKey){var b=s.getAnchorCell()||c.getTableCellsContainingSelection(h)[0];if(b){var v=e._getModelTableCellFromDomEvent(d);v&&rJ(b,v)&&(l=!0,s.setCellSelection(b,v),d.preventDefault())}}}),this.listenTo(o.editing.view.document,"mouseup",function(){l=!1}),this.listenTo(o.editing.view.document,"selectionChange",function(f){l&&f.stop()},{priority:"highest"})}},{key:"_enableMouseDragSelection",value:function(){var e,o,c=this,l=this.editor,s=!1,f=!1,d=l.plugins.get(Uo);this.listenTo(l.editing.view.document,"mousedown",function(h,b){c.isEnabled&&d.isEnabled&&(b.domEvent.shiftKey||b.domEvent.ctrlKey||b.domEvent.altKey||(e=c._getModelTableCellFromDomEvent(b)))}),this.listenTo(l.editing.view.document,"mousemove",function(h,b){if(b.domEvent.buttons&&e){var v=c._getModelTableCellFromDomEvent(b);v&&rJ(e,v)&&(o=v,s||o==e||(s=!0)),s&&(f=!0,d.setCellSelection(e,o),b.preventDefault())}}),this.listenTo(l.editing.view.document,"mouseup",function(){s=!1,f=!1,e=null,o=null}),this.listenTo(l.editing.view.document,"selectionChange",function(h){f&&h.stop()},{priority:"highest"})}},{key:"_getModelTableCellFromDomEvent",value:function(e){var o=e.target,c=this.editor.editing.view.createPositionAt(o,0);return this.editor.editing.mapper.toModelPosition(c).parent.findAncestor("tableCell",{includeSelf:!0})}}])&&eJ(t.prototype,n),i&&eJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function rJ(r,t){return r.parent.parent==t.parent.parent}var nJ=x(2510),jkt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(nJ.Z,jkt),nJ.Z.locals;function Pd(r){return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(r)}function oJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Pd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Pd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Pd(a)==="symbol"?a:String(a)),i)}var u,a}function j5(r,t){return j5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j5(r,t)}function Pkt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=G_(r);if(t){var u=G_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function G_(r){return G_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G_(r)}var Ekt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&j5(e,o)})(a,r);var t,n,i,u=Pkt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[M_,dkt,Uo,Skt,_kt,gkt,kn]}},{key:"pluginName",get:function(){return"Table"}}],(n=null)&&oJ(t.prototype,n),i&&oJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function xkt(r){var t=r.getSelectedElement();return t&&iJ(t)?t:null}function W_(r){var t=r.getFirstPosition();if(!t)return null;for(var n=t.parent;n;){if(n.is("element")&&iJ(n))return n;n=n.parent}return null}function iJ(r){return!!r.getCustomProperty("table")&&Zt(r)}function Ed(r){return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(r)}function aJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ed(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ed(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ed(a)==="symbol"?a:String(a)),i)}var u,a}function P5(r,t){return P5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P5(r,t)}function Tkt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=$_(r);if(t){var u=$_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function $_(r){return $_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$_(r)}var Dkt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&P5(e,o)})(a,r);var t,n,i,u=Tkt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[Nw]}},{key:"pluginName",get:function(){return"TableToolbar"}}],(n=[{key:"afterInit",value:function(){var e=this.editor,o=e.t,c=e.plugins.get(Nw),l=e.config.get("table.contentToolbar"),s=e.config.get("table.tableToolbar");l&&c.register("tableContent",{ariaLabel:o("Table toolbar"),items:l,getRelatedElement:W_}),s&&c.register("table",{ariaLabel:o("Table toolbar"),items:s,getRelatedElement:xkt})}}])&&aJ(t.prototype,n),i&&aJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function xd(r){return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(r)}function cJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(xd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(xd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),xd(a)==="symbol"?a:String(a)),i)}var u,a}function E5(r,t){return E5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E5(r,t)}function Rkt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=q_(r);if(t){var u=q_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function q_(r){return q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q_(r)}var Ho=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&E5(e,o)})(a,r);var t,n,i,u=Rkt(a);function a(e,o,c){var l;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,a),(l=u.call(this,e)).attributeName=o,l._defaultValue=c,l}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!e,this.value=this._getValue(e)}},{key:"execute",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=this.editor.model,l=c.document.selection,s=o.value,f=o.batch,d=l.getFirstPosition().findAncestor("table"),h=this._getValueToSet(s);c.enqueueChange(f,function(b){h?b.setAttribute(e.attributeName,h,d):b.removeAttribute(e.attributeName,d)})}},{key:"_getValue",value:function(e){if(e){var o=e.getAttribute(this.attributeName);if(o!==this._defaultValue)return o}}},{key:"_getValueToSet",value:function(e){if(e!==this._defaultValue)return e}}],n&&cJ(t.prototype,n),i&&cJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Td(r){return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(r)}function uJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Td(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Td(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Td(a)==="symbol"?a:String(a)),i)}var u,a}function x5(r,t){return x5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x5(r,t)}function Ikt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Y_(r);if(t){var u=Y_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Y_(r){return Y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Y_(r)}var Bkt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&x5(e,o)})(a,r);var t,n,i,u=Ikt(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableBackgroundColor",o)}return t=a,n&&uJ(t.prototype,n),i&&uJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Ho);function lb(r){return lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lb(r)}function lJ(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function Mkt(r,t,n){return t=function(i){var u=function(a,e){if(lb(a)!=="object"||a===null)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var c=o.call(a,e||"default");if(lb(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}(i,"string");return lb(u)==="symbol"?u:String(u)}(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Go(r){if(!r||!Gt(r))return r;var t=r.top,n=r.right,i=r.bottom,u=r.left;return t==n&&n==i&&i==u?t:void 0}function Wo(r,t){var n=parseFloat(r);return Number.isNaN(n)||String(n)!==String(r)?r:"".concat(n).concat(t)}function sb(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=function(i){for(var u=1;u<arguments.length;u++){var a=arguments[u]!=null?arguments[u]:{};u%2?lJ(Object(a),!0).forEach(function(e){Mkt(i,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):lJ(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))})}return i}({borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:""},r);return t.includeAlignmentProperty&&!n.alignment&&(n.alignment="center"),t.includePaddingProperty&&!n.padding&&(n.padding=""),t.includeVerticalAlignmentProperty&&!n.verticalAlignment&&(n.verticalAlignment="middle"),t.includeHorizontalAlignmentProperty&&!n.horizontalAlignment&&(n.horizontalAlignment=t.isRightToLeftContent?"right":"left"),n}function Dd(r){return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(r)}function sJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Dd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Dd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Dd(a)==="symbol"?a:String(a)),i)}var u,a}function T5(r,t){return T5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T5(r,t)}function Nkt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=K_(r);if(t){var u=K_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function K_(r){return K_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},K_(r)}var Lkt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&T5(e,o)})(a,r);var t,n,i,u=Nkt(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableBorderColor",o)}return t=a,n=[{key:"_getValue",value:function(e){if(e){var o=Go(e.getAttribute(this.attributeName));if(o!==this._defaultValue)return o}}}],n&&sJ(t.prototype,n),i&&sJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ho);function Rd(r){return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(r)}function fJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Rd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Rd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Rd(a)==="symbol"?a:String(a)),i)}var u,a}function D5(r,t){return D5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D5(r,t)}function zkt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Z_(r);if(t){var u=Z_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Z_(r){return Z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Z_(r)}var Fkt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&D5(e,o)})(a,r);var t,n,i,u=zkt(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableBorderStyle",o)}return t=a,n=[{key:"_getValue",value:function(e){if(e){var o=Go(e.getAttribute(this.attributeName));if(o!==this._defaultValue)return o}}}],n&&fJ(t.prototype,n),i&&fJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ho);function Id(r){return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(r)}function dJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Id(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Id(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Id(a)==="symbol"?a:String(a)),i)}var u,a}function R5(r,t){return R5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R5(r,t)}function Vkt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Q_(r);if(t){var u=Q_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Q_(r){return Q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Q_(r)}var Ukt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&R5(e,o)})(a,r);var t,n,i,u=Vkt(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableBorderWidth",o)}return t=a,n=[{key:"_getValue",value:function(e){if(e){var o=Go(e.getAttribute(this.attributeName));if(o!==this._defaultValue)return o}}},{key:"_getValueToSet",value:function(e){var o=Wo(e,"px");if(o!==this._defaultValue)return o}}],n&&dJ(t.prototype,n),i&&dJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ho);function Bd(r){return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(r)}function pJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Bd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Bd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Bd(a)==="symbol"?a:String(a)),i)}var u,a}function I5(r,t){return I5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I5(r,t)}function Hkt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=J_(r);if(t){var u=J_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function J_(r){return J_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J_(r)}var Gkt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&I5(e,o)})(a,r);var t,n,i,u=Hkt(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableWidth",o)}return t=a,(n=[{key:"_getValueToSet",value:function(e){if((e=Wo(e,"px"))!==this._defaultValue)return e}}])&&pJ(t.prototype,n),i&&pJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ho);function Md(r){return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(r)}function yJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Md(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Md(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Md(a)==="symbol"?a:String(a)),i)}var u,a}function B5(r,t){return B5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B5(r,t)}function Wkt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=X_(r);if(t){var u=X_(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function X_(r){return X_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X_(r)}var $kt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&B5(e,o)})(a,r);var t,n,i,u=Wkt(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableHeight",o)}return t=a,(n=[{key:"_getValueToSet",value:function(e){if((e=Wo(e,"px"))!==this._defaultValue)return e}}])&&yJ(t.prototype,n),i&&yJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ho);function Nd(r){return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(r)}function hJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Nd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Nd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Nd(a)==="symbol"?a:String(a)),i)}var u,a}function M5(r,t){return M5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M5(r,t)}function qkt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=t1(r);if(t){var u=t1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function t1(r){return t1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t1(r)}var Ykt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&M5(e,o)})(a,r);var t,n,i,u=qkt(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableAlignment",o)}return t=a,n&&hJ(t.prototype,n),i&&hJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Ho);function Ld(r){return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(r)}function bJ(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function N5(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bJ(Object(n),!0).forEach(function(i){Kkt(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):bJ(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Kkt(r,t,n){return(t=vJ(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function mJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,vJ(i.key),i)}}function vJ(r){var t=function(n,i){if(Ld(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(Ld(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return Ld(t)==="symbol"?t:String(t)}function L5(r,t){return L5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L5(r,t)}function Zkt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=e1(r);if(t){var u=e1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function e1(r){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},e1(r)}var Qkt=/^(left|center|right)$/,Jkt=/^(left|none|right)$/,Xkt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&L5(e,o)})(a,r);var t,n,i,u=Zkt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this.editor,o=e.model.schema,c=e.conversion;e.config.define("table.tableProperties.defaultProperties",{});var l=sb(e.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});e.data.addStyleProcessorRules(Dz),function(s,f,d){var h={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};s.extend("table",{allowAttributes:Object.values(h)}),BR(f,"table",h,d),m_(f,{modelAttribute:h.color,styleName:"border-color"}),m_(f,{modelAttribute:h.style,styleName:"border-style"}),m_(f,{modelAttribute:h.width,styleName:"border-width"})}(o,c,{color:l.borderColor,style:l.borderStyle,width:l.borderWidth}),e.commands.add("tableBorderColor",new Lkt(e,l.borderColor)),e.commands.add("tableBorderStyle",new Fkt(e,l.borderStyle)),e.commands.add("tableBorderWidth",new Ukt(e,l.borderWidth)),function(s,f,d){s.extend("table",{allowAttributes:["tableAlignment"]}),f.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment"},view:function(h){return{key:"style",value:{float:h==="center"?"none":h}}},converterPriority:"high"}),f.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:Jkt}},model:{key:"tableAlignment",value:function(h){var b=h.getStyle("float");return b==="none"&&(b="center"),b===d?null:b}}}).attributeToAttribute({view:{attributes:{align:Qkt}},model:{name:"table",key:"tableAlignment",value:function(h){var b=h.getAttribute("align");return b===d?null:b}}})}(o,c,l.alignment),e.commands.add("tableAlignment",new Ykt(e,l.alignment)),gJ(o,c,{modelAttribute:"tableWidth",styleName:"width",defaultValue:l.width}),e.commands.add("tableWidth",new Gkt(e,l.width)),gJ(o,c,{modelAttribute:"tableHeight",styleName:"height",defaultValue:l.height}),e.commands.add("tableHeight",new $kt(e,l.height)),e.data.addStyleProcessorRules(Xj),function(s,f,d){var h=d.modelAttribute;s.extend("table",{allowAttributes:[h]}),IR(f,N5({viewElement:"table"},d)),m_(f,d)}(o,c,{modelAttribute:"tableBackgroundColor",styleName:"background-color",defaultValue:l.backgroundColor}),e.commands.add("tableBackgroundColor",new Bkt(e,l.backgroundColor))}}],i=[{key:"pluginName",get:function(){return"TablePropertiesEditing"}},{key:"requires",get:function(){return[M_]}}],n&&mJ(t.prototype,n),i&&mJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function gJ(r,t,n){var i=n.modelAttribute;r.extend("table",{allowAttributes:[i]}),IR(t,N5({viewElement:/^(table|figure)$/,shouldUpcast:function(u){return!(u.name=="table"&&u.parent.name=="figure")}},n)),ib(t,N5({modelElement:"table"},n))}var wJ=x(9953),t_t={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(wJ.Z,t_t),wJ.Z.locals;function zd(r){return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(r)}function kJ(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function _J(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kJ(Object(n),!0).forEach(function(i){e_t(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):kJ(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function e_t(r,t,n){return(t=CJ(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function AJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,CJ(i.key),i)}}function CJ(r){var t=function(n,i){if(zd(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(zd(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return zd(t)==="symbol"?t:String(t)}function r1(){return r1=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=$o(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},r1.apply(this,arguments)}function z5(r,t){return z5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z5(r,t)}function r_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=$o(r);if(t){var u=$o(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function $o(r){return $o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$o(r)}var n_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&z5(e,o)})(a,r);var t,n,i,u=r_t(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e)).set("value",""),c.set("isReadOnly",!1),c.set("isFocused",!1),c.set("isEmpty",!0),c.options=o,c.focusTracker=new ce,c._focusables=new De,c.dropdownView=c._createDropdownView(),c.inputView=c._createInputTextView(),c.keystrokes=new de,c._stillTyping=!1,c._focusCycler=new Qe({focusables:c._focusables,focusTracker:c.focusTracker,keystrokeHandler:c.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),c.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[c.dropdownView,c.inputView]}),c.on("change:value",function(l,s,f){return c._setInputValue(f)}),c}return t=a,n=[{key:"render",value:function(){r1($o(a.prototype),"render",this).call(this),this.keystrokes.listenTo(this.dropdownView.panelView.element)}},{key:"focus",value:function(){this.inputView.focus()}},{key:"destroy",value:function(){r1($o(a.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"_createDropdownView",value:function(){var e=this.locale,o=e.t,c=this.bindTemplate,l=this._createColorSelector(e),s=ae(e),f=new yt;return f.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:c.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",c.if("value","ck-hidden",function(d){return d!=""})]}}]}),s.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),s.buttonView.children.add(f),s.buttonView.label=o("Color picker"),s.buttonView.tooltip=!0,s.panelPosition=e.uiLanguageDirection==="rtl"?"se":"sw",s.panelView.children.add(l),s.bind("isEnabled").to(this,"isReadOnly",function(d){return!d}),this._focusables.add(l),this.focusTracker.add(l.element),s.on("change:isOpen",function(d,h,b){b&&(l.updateSelectedColors(),l.showColorGridsFragment())}),s}},{key:"_createInputTextView",value:function(){var e=this,o=this.locale,c=new gM(o);return c.extendTemplate({on:{blur:c.bindTemplate.to("blur")}}),c.value=this.value,c.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(c),c.on("input",function(){var l=c.element.value,s=e.options.colorDefinitions.find(function(f){return l===f.label});e._stillTyping=!0,e.value=s&&s.color||l}),c.on("blur",function(){e._stillTyping=!1,e._setInputValue(c.element.value)}),c.delegate("input").to(this),c}},{key:"_createColorSelector",value:function(e){var o=this,c=e.t,l=this.options.defaultColorValue||"",s=c(l?"Restore default":"Remove color"),f=new GF(e,{colors:this.options.colorDefinitions,columns:this.options.columns,removeButtonLabel:s,colorPickerLabel:c("Color picker"),colorPickerViewConfig:this.options.colorPickerConfig!==!1&&_J(_J({},this.options.colorPickerConfig),{},{hideInput:!0})});f.appendUI(),f.on("execute",function(h,b){b.source!=="colorPickerSaveButton"?(o.value=b.value||l,o.fire("input"),b.source!=="colorPicker"&&(o.dropdownView.isOpen=!1)):o.dropdownView.isOpen=!1});var d=this.value;return f.on("colorPicker:cancel",function(){o.value=d,o.fire("input"),o.dropdownView.isOpen=!1}),f.colorGridsFragmentView.colorPickerButtonView.on("execute",function(){d=o.value}),f.bind("selectedColor").to(this,"value"),f}},{key:"_setInputValue",value:function(e){if(!this._stillTyping){var o=OJ(e),c=this.options.colorDefinitions.find(function(l){return o===OJ(l.color)});this.inputView.value=c?c.label:e||""}}}],n&&AJ(t.prototype,n),i&&AJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function OJ(r){return r.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}var F5=function(r){return r===""};function V5(r){return{none:r("None"),solid:r("Solid"),dotted:r("Dotted"),dashed:r("Dashed"),double:r("Double"),groove:r("Groove"),ridge:r("Ridge"),inset:r("Inset"),outset:r("Outset")}}function SJ(r){return r('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function jJ(r){return r('The value is invalid. Try "10px" or "2em" or simply "2".')}function n1(r){return r=r.trim(),F5(r)||Pz(r)}function fb(r){return r=r.trim(),F5(r)||xJ(r)||Nv(r)||Ez(r)}function PJ(r){return r=r.trim(),F5(r)||xJ(r)||Nv(r)}function EJ(r,t){var n=new Qt,i=V5(r.t),u=function(e){var o={type:"button",model:new Fr({_borderStyleValue:e,label:i[e],role:"menuitemradio",withText:!0})};e==="none"?o.model.bind("isOn").to(r,"borderStyle",function(c){return t==="none"?!c:c===e}):o.model.bind("isOn").to(r,"borderStyle",function(c){return c===e}),n.add(o)};for(var a in i)u(a);return n}function U5(r){var t=r.view,n=r.icons,i=r.toolbar,u=r.labels,a=r.propertyName,e=r.nameToValue,o=r.defaultValue,c=function(){var s=new vt(t.locale);s.set({label:u[l],icon:n[l],tooltip:u[l]});var f=e?e(l):l;s.bind("isOn").to(t,a,function(d){var h=d;return d===""&&o&&(h=o),f===h}),s.on("execute",function(){t[a]=f}),i.items.add(s)};for(var l in u)c()}var o1=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function i1(r){return function(t,n,i){var u,a=new n_t(t.locale,{colorDefinitions:(u=r.colorConfig,u.map(function(e){return{color:e.model,label:e.label,options:{hasBorder:e.hasBorder}}})),columns:r.columns,defaultColorValue:r.defaultColorValue,colorPickerConfig:r.colorPickerConfig});return a.inputView.set({id:n,ariaDescribedById:i}),a.bind("isReadOnly").to(t,"isEnabled",function(e){return!e}),a.bind("hasError").to(t,"errorText",function(e){return!!e}),a.on("input",function(){t.errorText=null}),t.bind("isEmpty","isFocused").to(a),a}}function xJ(r){var t=parseFloat(r);return!Number.isNaN(t)&&r===String(t)}var TJ=x(6908),o_t={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(TJ.Z,o_t),TJ.Z.locals;function Fd(r){return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(r)}function DJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Fd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Fd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Fd(a)==="symbol"?a:String(a)),i)}var u,a}function H5(r,t){return H5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H5(r,t)}function i_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=a1(r);if(t){var u=a1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function a1(r){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a1(r)}var $e=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&H5(e,o)})(a,r);var t,n,i,u=i_t(a);function a(e){var o,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a);var l=(o=u.call(this,e)).bindTemplate;return o.set("class",c.class||null),o.children=o.createCollection(),c.children&&c.children.forEach(function(s){return o.children.add(s)}),o.set("_role",null),o.set("_ariaLabelledBy",null),c.labelView&&o.set({_role:"group",_ariaLabelledBy:c.labelView.id}),o.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",l.to("class")],role:l.to("_role"),"aria-labelledby":l.to("_ariaLabelledBy")},children:o.children}),o}return t=a,n&&DJ(t.prototype,n),i&&DJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(yt),RJ=x(7502),a_t={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(RJ.Z,a_t),RJ.Z.locals;var IJ=x(9429),c_t={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(IJ.Z,c_t),IJ.Z.locals;var BJ=x(6596),u_t={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(BJ.Z,u_t),BJ.Z.locals;function Vd(r){return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(r)}function MJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Vd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Vd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Vd(a)==="symbol"?a:String(a)),i)}var u,a}function c1(){return c1=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=qo(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},c1.apply(this,arguments)}function G5(r,t){return G5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G5(r,t)}function l_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=qo(r);if(t){var u=qo(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function qo(r){return qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qo(r)}var s_t={left:Jz,center:Xz,right:tF},f_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&G5(e,o)})(a,r);var t,n,i,u=l_t(a);function a(e,o){var c;(function(tt,Z){if(!(tt instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,a),(c=u.call(this,e)).set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),c.options=o;var l=c._createBorderFields(),s=l.borderStyleDropdown,f=l.borderWidthInput,d=l.borderColorInput,h=l.borderRowLabel,b=c._createBackgroundFields(),v=b.backgroundRowLabel,g=b.backgroundInput,k=c._createDimensionFields(),_=k.widthInput,A=k.operatorLabel,C=k.heightInput,S=k.dimensionsLabel,P=c._createAlignmentFields(),E=P.alignmentToolbar,R=P.alignmentLabel;c.focusTracker=new ce,c.keystrokes=new de,c.children=c.createCollection(),c.borderStyleDropdown=s,c.borderWidthInput=f,c.borderColorInput=d,c.backgroundInput=g,c.widthInput=_,c.heightInput=C,c.alignmentToolbar=E;var I=c._createActionButtons(),z=I.saveButtonView,F=I.cancelButtonView;return c.saveButtonView=z,c.cancelButtonView=F,c._focusables=new De,c._focusCycler=new Qe({focusables:c._focusables,focusTracker:c.focusTracker,keystrokeHandler:c.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),c.children.add(new XP(e,{label:c.t("Table properties")})),c.children.add(new $e(e,{labelView:h,children:[h,s,d,f],class:"ck-table-form__border-row"})),c.children.add(new $e(e,{labelView:v,children:[v,g],class:"ck-table-form__background-row"})),c.children.add(new $e(e,{children:[new $e(e,{labelView:S,children:[S,_,A,C],class:"ck-table-form__dimensions-row"}),new $e(e,{labelView:R,children:[R,E],class:"ck-table-properties-form__alignment-row"})]})),c.children.add(new $e(e,{children:[c.saveButtonView,c.cancelButtonView],class:"ck-table-form__action-row"})),c.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:c.children}),c}return t=a,n=[{key:"render",value:function(){var e=this;c1(qo(a.prototype),"render",this).call(this),it({view:this}),[this.borderStyleDropdown,this.borderColorInput,this.borderColorInput.fieldView.dropdownView.buttonView,this.borderWidthInput,this.backgroundInput,this.backgroundInput.fieldView.dropdownView.buttonView,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(function(o){e._focusables.add(o),e.focusTracker.add(o.element)}),this.keystrokes.listenTo(this.element)}},{key:"destroy",value:function(){c1(qo(a.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createBorderFields",value:function(){var e=this,o=this.options.defaultTableProperties,c={style:o.borderStyle,width:o.borderWidth,color:o.borderColor},l=i1({colorConfig:this.options.borderColors,columns:5,defaultColorValue:c.color,colorPickerConfig:this.options.colorPickerConfig}),s=this.locale,f=this.t,d=f("Style"),h=new ir(s);h.text=f("Border");var b=V5(f),v=new ue(s,_F);v.set({label:d,class:"ck-table-form__border-style"}),v.fieldView.buttonView.set({ariaLabel:d,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:d}),v.fieldView.buttonView.bind("label").to(this,"borderStyle",function(_){return b[_||"none"]}),v.fieldView.on("execute",function(_){e.borderStyle=_.source._borderStyleValue}),v.bind("isEmpty").to(this,"borderStyle",function(_){return!_}),zr(v.fieldView,EJ(this,c.style),{role:"menu",ariaLabel:d});var g=new ue(s,Ge);g.set({label:f("Width"),class:"ck-table-form__border-width"}),g.fieldView.bind("value").to(this,"borderWidth"),g.bind("isEnabled").to(this,"borderStyle",u1),g.fieldView.on("input",function(){e.borderWidth=g.fieldView.element.value});var k=new ue(s,l);return k.set({label:f("Color"),class:"ck-table-form__border-color"}),k.fieldView.bind("value").to(this,"borderColor"),k.bind("isEnabled").to(this,"borderStyle",u1),k.fieldView.on("input",function(){e.borderColor=k.fieldView.value}),this.on("change:borderStyle",function(_,A,C,S){u1(C)||(e.borderColor="",e.borderWidth=""),u1(S)||(e.borderColor=c.color,e.borderWidth=c.width)}),{borderRowLabel:h,borderStyleDropdown:v,borderColorInput:k,borderWidthInput:g}}},{key:"_createBackgroundFields",value:function(){var e=this,o=this.locale,c=this.t,l=new ir(o);l.text=c("Background");var s=i1({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),f=new ue(o,s);return f.set({label:c("Color"),class:"ck-table-properties-form__background"}),f.fieldView.bind("value").to(this,"backgroundColor"),f.fieldView.on("input",function(){e.backgroundColor=f.fieldView.value}),{backgroundRowLabel:l,backgroundInput:f}}},{key:"_createDimensionFields",value:function(){var e=this,o=this.locale,c=this.t,l=new ir(o);l.text=c("Dimensions");var s=new ue(o,Ge);s.set({label:c("Width"),class:"ck-table-form__dimensions-row__width"}),s.fieldView.bind("value").to(this,"width"),s.fieldView.on("input",function(){e.width=s.fieldView.element.value});var f=new yt(o);f.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});var d=new ue(o,Ge);return d.set({label:c("Height"),class:"ck-table-form__dimensions-row__height"}),d.fieldView.bind("value").to(this,"height"),d.fieldView.on("input",function(){e.height=d.fieldView.element.value}),{dimensionsLabel:l,widthInput:s,operatorLabel:f,heightInput:d}}},{key:"_createAlignmentFields",value:function(){var e=this.locale,o=this.t,c=new ir(e);c.text=o("Alignment");var l=new xc(e);return l.set({isCompact:!0,ariaLabel:o("Table alignment toolbar")}),U5({view:this,icons:s_t,toolbar:l,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:c,alignmentToolbar:l}}},{key:"_createActionButtons",value:function(){var e=this.locale,o=this.t,c=new vt(e),l=new vt(e),s=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return c.set({label:o("Save"),icon:po,class:"ck-button-save",type:"submit",withText:!0}),c.bind("isEnabled").toMany(s,"errorText",function(){for(var f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];return d.every(function(b){return!b})}),l.set({label:o("Cancel"),icon:fo,class:"ck-button-cancel",withText:!0}),l.delegate("execute").to(this,"cancel"),{saveButtonView:c,cancelButtonView:l}}},{key:"_alignmentLabels",get:function(){var e=this.locale,o=this.t,c=o("Align table to the left"),l=o("Center table"),s=o("Align table to the right");return e.uiLanguageDirection==="rtl"?{right:s,center:l,left:c}:{left:c,center:l,right:s}}}],n&&MJ(t.prototype,n),i&&MJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function u1(r){return r!=="none"}var Yo=Me.defaultPositions,W5=[Yo.northArrowSouth,Yo.northArrowSouthWest,Yo.northArrowSouthEast,Yo.southArrowNorth,Yo.southArrowNorthWest,Yo.southArrowNorthEast,Yo.viewportStickyNorth];function NJ(r,t){var n,i=r.plugins.get("ContextualBalloon");W_(r.editing.view.document.selection)&&(n=t==="cell"?zJ(r):LJ(r),i.updatePosition(n))}function LJ(r){var t=r.model.document.selection.getFirstPosition().findAncestor("table"),n=r.editing.mapper.toViewElement(t);return{target:r.editing.view.domConverter.mapViewToDom(n),positions:W5}}function zJ(r){var t=r.editing.mapper,n=r.editing.view.domConverter,i=r.model.document.selection;if(i.rangeCount>1)return{target:function(){return function(e,o){var c=o.editing.mapper,l=o.editing.view.domConverter,s=Array.from(e).map(function(f){var d=FJ(f.start),h=c.toViewElement(d);return new Lt(l.mapViewToDom(h))});return Lt.getBoundingRect(s)}(i.getRanges(),r)},positions:W5};var u=FJ(i.getFirstPosition()),a=t.toViewElement(u);return{target:n.mapViewToDom(a),positions:W5}}function FJ(r){return r.nodeAfter&&r.nodeAfter.is("element","tableCell")?r.nodeAfter:r.findAncestor("tableCell")}function Ud(r){return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(r)}function VJ(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||function(n,i){if(n){if(typeof n=="string")return UJ(n,i);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return UJ(n,i)}}(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function UJ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function HJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ud(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ud(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ud(a)==="symbol"?a:String(a)),i)}var u,a}function $5(){return $5=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Hd(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},$5.apply(this,arguments)}function q5(r,t){return q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q5(r,t)}function d_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Hd(r);if(t){var u=Hd(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Hd(r){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hd(r)}var GJ={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"},p_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&q5(e,o)})(a,r);var t,n,i,u=d_t(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e)).view=null,e.config.define("table.tableProperties",{borderColors:o1,backgroundColors:o1}),o}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t;this._defaultTableProperties=sb(o.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._balloon=o.plugins.get(bn),o.ui.componentFactory.add("tableProperties",function(l){var s=new vt(l);s.set({label:c("Table properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>',tooltip:!0}),e.listenTo(s,"execute",function(){return e._showView()});var f=Object.values(GJ).map(function(d){return o.commands.get(d)});return s.bind("isEnabled").toMany(f,"isEnabled",function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];return h.some(function(v){return v})}),s})}},{key:"destroy",value:function(){$5(Hd(a.prototype),"destroy",this).call(this),this.view&&this.view.destroy()}},{key:"_createPropertiesView",value:function(){var e=this,o=this.editor,c=o.config.get("table.tableProperties"),l=Cy(c.borderColors),s=Ay(o.locale,l),f=Cy(c.backgroundColors),d=Ay(o.locale,f),h=c.colorPicker!==!1,b=new f_t(o.locale,{borderColors:s,backgroundColors:d,defaultTableProperties:this._defaultTableProperties,colorPickerConfig:!!h&&(c.colorPicker||{})}),v=o.t;b.render(),this.listenTo(b,"submit",function(){e._hideView()}),this.listenTo(b,"cancel",function(){e._undoStepBatch.operations.length&&o.execute("undo",e._undoStepBatch),e._hideView()}),b.keystrokes.set("Esc",function(_,A){e._hideView(),A()}),L({emitter:b,activator:function(){return e._isViewInBalloon},contextElements:[this._balloon.view.element],callback:function(){return e._hideView()}});var g=SJ(v),k=jJ(v);return b.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),b.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:b.borderColorInput,commandName:"tableBorderColor",errorText:g,validator:n1})),b.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:b.borderWidthInput,commandName:"tableBorderWidth",errorText:k,validator:PJ})),b.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:b.backgroundInput,commandName:"tableBackgroundColor",errorText:g,validator:n1})),b.on("change:width",this._getValidatedPropertyChangeCallback({viewField:b.widthInput,commandName:"tableWidth",errorText:k,validator:fb})),b.on("change:height",this._getValidatedPropertyChangeCallback({viewField:b.heightInput,commandName:"tableHeight",errorText:k,validator:fb})),b.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),b}},{key:"_fillViewFormFromCommandValues",value:function(){var e=this,o=this.editor.commands,c=o.get("tableBorderStyle");Object.entries(GJ).map(function(l){var s=VJ(l,2),f=s[0],d=s[1],h=f,b=e._defaultTableProperties[h]||"";return[h,o.get(d).value||b]}).forEach(function(l){var s=VJ(l,2),f=s[0],d=s[1];(f!=="borderColor"&&f!=="borderWidth"||c.value!=="none")&&e.view.set(f,d)}),this._isReady=!0}},{key:"_showView",value:function(){var e=this,o=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(o.ui,"update",function(){e._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:LJ(o)}),this._undoStepBatch=o.model.createBatch(),this.view.focus()}},{key:"_hideView",value:function(){var e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}},{key:"_updateView",value:function(){var e=this.editor;W_(e.editing.view.document.selection)?this._isViewVisible&&NJ(e,"table"):this._hideView()}},{key:"_isViewVisible",get:function(){return!!this.view&&this._balloon.visibleView===this.view}},{key:"_isViewInBalloon",get:function(){return!!this.view&&this._balloon.hasView(this.view)}},{key:"_getPropertyChangeCallback",value:function(e){var o=this;return function(c,l,s){o._isReady&&o.editor.execute(e,{value:s,batch:o._undoStepBatch})}}},{key:"_getValidatedPropertyChangeCallback",value:function(e){var o=this,c=e.commandName,l=e.viewField,s=e.validator,f=e.errorText,d=Dr(function(){l.errorText=f},500);return function(h,b,v){d.cancel(),o._isReady&&(s(v)?(o.editor.execute(c,{value:v,batch:o._undoStepBatch}),l.errorText=null):d())}}}],i=[{key:"requires",get:function(){return[bn]}},{key:"pluginName",get:function(){return"TablePropertiesUI"}}],n&&HJ(t.prototype,n),i&&HJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Gd(r){return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(r)}function WJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Gd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Gd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Gd(a)==="symbol"?a:String(a)),i)}var u,a}function Y5(r,t){return Y5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y5(r,t)}function y_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=l1(r);if(t){var u=l1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function l1(r){return l1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l1(r)}var h_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Y5(e,o)})(a,r);var t,n,i,u=y_t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"TableProperties"}},{key:"requires",get:function(){return[Xkt,p_t]}}],(n=null)&&WJ(t.prototype,n),i&&WJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),$J=x(3964),b_t={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()($J.Z,b_t),$J.Z.locals;function Wd(r){return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(r)}function qJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Wd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Wd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Wd(a)==="symbol"?a:String(a)),i)}var u,a}function s1(){return s1=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=Ko(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},s1.apply(this,arguments)}function K5(r,t){return K5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K5(r,t)}function m_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ko(r);if(t){var u=Ko(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Ko(r){return Ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ko(r)}var YJ={left:sP,center:Kz,right:Zz,justify:Qz,top:qlt,middle:$lt,bottom:Wlt},v_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&K5(e,o)})(a,r);var t,n,i,u=m_t(a);function a(e,o){var c;(function(Z,G){if(!(Z instanceof G))throw new TypeError("Cannot call a class as a function")})(this,a),(c=u.call(this,e)).set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),c.options=o;var l=c._createBorderFields(),s=l.borderStyleDropdown,f=l.borderWidthInput,d=l.borderColorInput,h=l.borderRowLabel,b=c._createBackgroundFields(),v=b.backgroundRowLabel,g=b.backgroundInput,k=c._createDimensionFields(),_=k.widthInput,A=k.operatorLabel,C=k.heightInput,S=k.dimensionsLabel,P=c._createAlignmentFields(),E=P.horizontalAlignmentToolbar,R=P.verticalAlignmentToolbar,I=P.alignmentLabel;c.focusTracker=new ce,c.keystrokes=new de,c.children=c.createCollection(),c.borderStyleDropdown=s,c.borderWidthInput=f,c.borderColorInput=d,c.backgroundInput=g,c.paddingInput=c._createPaddingField(),c.widthInput=_,c.heightInput=C,c.horizontalAlignmentToolbar=E,c.verticalAlignmentToolbar=R;var z=c._createActionButtons(),F=z.saveButtonView,tt=z.cancelButtonView;return c.saveButtonView=F,c.cancelButtonView=tt,c._focusables=new De,c._focusCycler=new Qe({focusables:c._focusables,focusTracker:c.focusTracker,keystrokeHandler:c.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),c.children.add(new XP(e,{label:c.t("Cell properties")})),c.children.add(new $e(e,{labelView:h,children:[h,s,d,f],class:"ck-table-form__border-row"})),c.children.add(new $e(e,{labelView:v,children:[v,g],class:"ck-table-form__background-row"})),c.children.add(new $e(e,{children:[new $e(e,{labelView:S,children:[S,_,A,C],class:"ck-table-form__dimensions-row"}),new $e(e,{children:[c.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),c.children.add(new $e(e,{labelView:I,children:[I,E,R],class:"ck-table-cell-properties-form__alignment-row"})),c.children.add(new $e(e,{children:[c.saveButtonView,c.cancelButtonView],class:"ck-table-form__action-row"})),c.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:c.children}),c}return t=a,n=[{key:"render",value:function(){var e=this;s1(Ko(a.prototype),"render",this).call(this),it({view:this}),[this.borderStyleDropdown,this.borderColorInput,this.borderColorInput.fieldView.dropdownView.buttonView,this.borderWidthInput,this.backgroundInput,this.backgroundInput.fieldView.dropdownView.buttonView,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(function(o){e._focusables.add(o),e.focusTracker.add(o.element)}),this.keystrokes.listenTo(this.element)}},{key:"destroy",value:function(){s1(Ko(a.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createBorderFields",value:function(){var e=this,o=this.options.defaultTableCellProperties,c={style:o.borderStyle,width:o.borderWidth,color:o.borderColor},l=i1({colorConfig:this.options.borderColors,columns:5,defaultColorValue:c.color,colorPickerConfig:this.options.colorPickerConfig}),s=this.locale,f=this.t,d=f("Style"),h=new ir(s);h.text=f("Border");var b=V5(f),v=new ue(s,_F);v.set({label:d,class:"ck-table-form__border-style"}),v.fieldView.buttonView.set({ariaLabel:d,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:d}),v.fieldView.buttonView.bind("label").to(this,"borderStyle",function(_){return b[_||"none"]}),v.fieldView.on("execute",function(_){e.borderStyle=_.source._borderStyleValue}),v.bind("isEmpty").to(this,"borderStyle",function(_){return!_}),zr(v.fieldView,EJ(this,c.style),{role:"menu",ariaLabel:d});var g=new ue(s,Ge);g.set({label:f("Width"),class:"ck-table-form__border-width"}),g.fieldView.bind("value").to(this,"borderWidth"),g.bind("isEnabled").to(this,"borderStyle",f1),g.fieldView.on("input",function(){e.borderWidth=g.fieldView.element.value});var k=new ue(s,l);return k.set({label:f("Color"),class:"ck-table-form__border-color"}),k.fieldView.bind("value").to(this,"borderColor"),k.bind("isEnabled").to(this,"borderStyle",f1),k.fieldView.on("input",function(){e.borderColor=k.fieldView.value}),this.on("change:borderStyle",function(_,A,C,S){f1(C)||(e.borderColor="",e.borderWidth=""),f1(S)||(e.borderColor=c.color,e.borderWidth=c.width)}),{borderRowLabel:h,borderStyleDropdown:v,borderColorInput:k,borderWidthInput:g}}},{key:"_createBackgroundFields",value:function(){var e=this,o=this.locale,c=this.t,l=new ir(o);l.text=c("Background");var s=i1({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),f=new ue(o,s);return f.set({label:c("Color"),class:"ck-table-cell-properties-form__background"}),f.fieldView.bind("value").to(this,"backgroundColor"),f.fieldView.on("input",function(){e.backgroundColor=f.fieldView.value}),{backgroundRowLabel:l,backgroundInput:f}}},{key:"_createDimensionFields",value:function(){var e=this,o=this.locale,c=this.t,l=new ir(o);l.text=c("Dimensions");var s=new ue(o,Ge);s.set({label:c("Width"),class:"ck-table-form__dimensions-row__width"}),s.fieldView.bind("value").to(this,"width"),s.fieldView.on("input",function(){e.width=s.fieldView.element.value});var f=new yt(o);f.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});var d=new ue(o,Ge);return d.set({label:c("Height"),class:"ck-table-form__dimensions-row__height"}),d.fieldView.bind("value").to(this,"height"),d.fieldView.on("input",function(){e.height=d.fieldView.element.value}),{dimensionsLabel:l,widthInput:s,operatorLabel:f,heightInput:d}}},{key:"_createPaddingField",value:function(){var e=this,o=this.locale,c=this.t,l=new ue(o,Ge);return l.set({label:c("Padding"),class:"ck-table-cell-properties-form__padding"}),l.fieldView.bind("value").to(this,"padding"),l.fieldView.on("input",function(){e.padding=l.fieldView.element.value}),l}},{key:"_createAlignmentFields",value:function(){var e=this.locale,o=this.t,c=new ir(e);c.text=o("Table cell text alignment");var l=new xc(e),s=e.contentLanguageDirection==="rtl";l.set({isCompact:!0,ariaLabel:o("Horizontal text alignment toolbar")}),U5({view:this,icons:YJ,toolbar:l,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:function(d){if(s){if(d==="left")return"right";if(d==="right")return"left"}return d},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});var f=new xc(e);return f.set({isCompact:!0,ariaLabel:o("Vertical text alignment toolbar")}),U5({view:this,icons:YJ,toolbar:f,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:l,verticalAlignmentToolbar:f,alignmentLabel:c}}},{key:"_createActionButtons",value:function(){var e=this.locale,o=this.t,c=new vt(e),l=new vt(e),s=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return c.set({label:o("Save"),icon:po,class:"ck-button-save",type:"submit",withText:!0}),c.bind("isEnabled").toMany(s,"errorText",function(){for(var f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];return d.every(function(b){return!b})}),l.set({label:o("Cancel"),icon:fo,class:"ck-button-cancel",withText:!0}),l.delegate("execute").to(this,"cancel"),{saveButtonView:c,cancelButtonView:l}}},{key:"_horizontalAlignmentLabels",get:function(){var e=this.locale,o=this.t,c=o("Align cell text to the left"),l=o("Align cell text to the center"),s=o("Align cell text to the right"),f=o("Justify cell text");return e.uiLanguageDirection==="rtl"?{right:s,center:l,left:c,justify:f}:{left:c,center:l,right:s,justify:f}}},{key:"_verticalAlignmentLabels",get:function(){var e=this.t;return{top:e("Align cell text to the top"),middle:e("Align cell text to the middle"),bottom:e("Align cell text to the bottom")}}}],n&&qJ(t.prototype,n),i&&qJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(yt);function f1(r){return r!=="none"}function $d(r){return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(r)}function KJ(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||function(n,i){if(n){if(typeof n=="string")return ZJ(n,i);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return ZJ(n,i)}}(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ZJ(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function QJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if($d(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if($d(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),$d(a)==="symbol"?a:String(a)),i)}var u,a}function Z5(){return Z5=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,t,n){var i=function(a,e){for(;!Object.prototype.hasOwnProperty.call(a,e)&&(a=qd(a))!==null;);return a}(r,t);if(i){var u=Object.getOwnPropertyDescriptor(i,t);return u.get?u.get.call(arguments.length<3?r:n):u.value}},Z5.apply(this,arguments)}function Q5(r,t){return Q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q5(r,t)}function g_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=qd(r);if(t){var u=qd(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&($d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function qd(r){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qd(r)}var JJ={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"},w_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&Q5(e,o)})(a,r);var t,n,i,u=g_t(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this,e),e.config.define("table.tableCellProperties",{borderColors:o1,backgroundColors:o1}),o}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t;this._defaultTableCellProperties=sb(o.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:o.locale.contentLanguageDirection==="rtl"}),this._balloon=o.plugins.get(bn),this.view=null,this._isReady=!1,o.ui.componentFactory.add("tableCellProperties",function(l){var s=new vt(l);s.set({label:c("Cell properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>',tooltip:!0}),e.listenTo(s,"execute",function(){return e._showView()});var f=Object.values(JJ).map(function(d){return o.commands.get(d)});return s.bind("isEnabled").toMany(f,"isEnabled",function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];return h.some(function(v){return v})}),s})}},{key:"destroy",value:function(){Z5(qd(a.prototype),"destroy",this).call(this),this.view&&this.view.destroy()}},{key:"_createPropertiesView",value:function(){var e=this,o=this.editor,c=o.config.get("table.tableCellProperties"),l=Cy(c.borderColors),s=Ay(o.locale,l),f=Cy(c.backgroundColors),d=Ay(o.locale,f),h=c.colorPicker!==!1,b=new v_t(o.locale,{borderColors:s,backgroundColors:d,defaultTableCellProperties:this._defaultTableCellProperties,colorPickerConfig:!!h&&(c.colorPicker||{})}),v=o.t;b.render(),this.listenTo(b,"submit",function(){e._hideView()}),this.listenTo(b,"cancel",function(){e._undoStepBatch.operations.length&&o.execute("undo",e._undoStepBatch),e._hideView()}),b.keystrokes.set("Esc",function(_,A){e._hideView(),A()}),L({emitter:b,activator:function(){return e._isViewInBalloon},contextElements:[this._balloon.view.element],callback:function(){return e._hideView()}});var g=SJ(v),k=jJ(v);return b.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")),b.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:b.borderColorInput,commandName:"tableCellBorderColor",errorText:g,validator:n1})),b.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:b.borderWidthInput,commandName:"tableCellBorderWidth",errorText:k,validator:PJ})),b.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:b.paddingInput,commandName:"tableCellPadding",errorText:k,validator:fb})),b.on("change:width",this._getValidatedPropertyChangeCallback({viewField:b.widthInput,commandName:"tableCellWidth",errorText:k,validator:fb})),b.on("change:height",this._getValidatedPropertyChangeCallback({viewField:b.heightInput,commandName:"tableCellHeight",errorText:k,validator:fb})),b.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:b.backgroundInput,commandName:"tableCellBackgroundColor",errorText:g,validator:n1})),b.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")),b.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")),b}},{key:"_fillViewFormFromCommandValues",value:function(){var e=this,o=this.editor.commands,c=o.get("tableCellBorderStyle");Object.entries(JJ).map(function(l){var s=KJ(l,2),f=s[0],d=s[1],h=e._defaultTableCellProperties[f]||"";return[f,o.get(d).value||h]}).forEach(function(l){var s=KJ(l,2),f=s[0],d=s[1];(f!=="borderColor"&&f!=="borderWidth"||c.value!=="none")&&e.view.set(f,d)}),this._isReady=!0}},{key:"_showView",value:function(){var e=this,o=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(o.ui,"update",function(){e._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:zJ(o)}),this._undoStepBatch=o.model.createBatch(),this.view.focus()}},{key:"_hideView",value:function(){var e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}},{key:"_updateView",value:function(){var e=this.editor;W_(e.editing.view.document.selection)?this._isViewVisible&&NJ(e,"cell"):this._hideView()}},{key:"_isViewVisible",get:function(){return!!this.view&&this._balloon.visibleView===this.view}},{key:"_isViewInBalloon",get:function(){return!!this.view&&this._balloon.hasView(this.view)}},{key:"_getPropertyChangeCallback",value:function(e){var o=this;return function(c,l,s){o._isReady&&o.editor.execute(e,{value:s,batch:o._undoStepBatch})}}},{key:"_getValidatedPropertyChangeCallback",value:function(e){var o=this,c=e.commandName,l=e.viewField,s=e.validator,f=e.errorText,d=Dr(function(){l.errorText=f},500);return function(h,b,v){d.cancel(),o._isReady&&(s(v)?(o.editor.execute(c,{value:v,batch:o._undoStepBatch}),l.errorText=null):d())}}}],i=[{key:"requires",get:function(){return[bn]}},{key:"pluginName",get:function(){return"TableCellPropertiesUI"}}],n&&QJ(t.prototype,n),i&&QJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Yd(r){return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(r)}function XJ(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Yd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Yd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Yd(a)==="symbol"?a:String(a)),i)}var u,a}function J5(r,t){return J5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J5(r,t)}function k_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=d1(r);if(t){var u=d1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function d1(r){return d1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d1(r)}var Gr=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&J5(e,o)})(a,r);var t,n,i,u=k_t(a);function a(e,o,c){var l;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,a),(l=u.call(this,e)).attributeName=o,l._defaultValue=c,l}return t=a,n=[{key:"refresh",value:function(){var e=this.editor,o=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e.model.document.selection);this.isEnabled=!!o.length,this.value=this._getSingleValue(o)}},{key:"execute",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=o.value,l=o.batch,s=this.editor.model,f=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(s.document.selection),d=this._getValueToSet(c);s.enqueueChange(l,function(h){d?f.forEach(function(b){return h.setAttribute(e.attributeName,d,b)}):f.forEach(function(b){return h.removeAttribute(e.attributeName,b)})})}},{key:"_getAttribute",value:function(e){if(e){var o=e.getAttribute(this.attributeName);if(o!==this._defaultValue)return o}}},{key:"_getValueToSet",value:function(e){if(e!==this._defaultValue)return e}},{key:"_getSingleValue",value:function(e){var o=this,c=this._getAttribute(e[0]);return e.every(function(l){return o._getAttribute(l)===c})?c:void 0}}],n&&XJ(t.prototype,n),i&&XJ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Kd(r){return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(r)}function tX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Kd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Kd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Kd(a)==="symbol"?a:String(a)),i)}var u,a}function X5(r,t){return X5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X5(r,t)}function __t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=p1(r);if(t){var u=p1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function p1(r){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p1(r)}var A_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&X5(e,o)})(a,r);var t,n,i,u=__t(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableCellWidth",o)}return t=a,(n=[{key:"_getValueToSet",value:function(e){if((e=Wo(e,"px"))!==this._defaultValue)return e}}])&&tX(t.prototype,n),i&&tX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Gr);function Zd(r){return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(r)}function eX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Zd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Zd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Zd(a)==="symbol"?a:String(a)),i)}var u,a}function tI(r,t){return tI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tI(r,t)}function C_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=y1(r);if(t){var u=y1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function y1(r){return y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y1(r)}var O_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&tI(e,o)})(a,r);var t,n,i,u=C_t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"TableCellWidthEditing"}},{key:"requires",get:function(){return[M_]}}],(n=[{key:"init",value:function(){var e=this.editor,o=sb(e.config.get("table.tableCellProperties.defaultProperties"));g_(e.model.schema,e.conversion,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:o.width}),e.commands.add("tableCellWidth",new A_t(e,o.width))}}])&&eX(t.prototype,n),i&&eX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Qd(r){return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(r)}function rX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Qd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Qd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Qd(a)==="symbol"?a:String(a)),i)}var u,a}function eI(r,t){return eI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eI(r,t)}function S_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=h1(r);if(t){var u=h1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function h1(r){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h1(r)}var j_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&eI(e,o)})(a,r);var t,n,i,u=S_t(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableCellPadding",o)}return t=a,(n=[{key:"_getAttribute",value:function(e){if(e){var o=Go(e.getAttribute(this.attributeName));if(o!==this._defaultValue)return o}}},{key:"_getValueToSet",value:function(e){var o=Wo(e,"px");if(o!==this._defaultValue)return o}}])&&rX(t.prototype,n),i&&rX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Gr);function Jd(r){return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(r)}function nX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Jd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Jd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Jd(a)==="symbol"?a:String(a)),i)}var u,a}function rI(r,t){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rI(r,t)}function P_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=b1(r);if(t){var u=b1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function b1(r){return b1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b1(r)}var E_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&rI(e,o)})(a,r);var t,n,i,u=P_t(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableCellHeight",o)}return t=a,(n=[{key:"_getValueToSet",value:function(e){var o=Wo(e,"px");if(o!==this._defaultValue)return o}}])&&nX(t.prototype,n),i&&nX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Gr);function Xd(r){return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(r)}function oX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Xd(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Xd(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Xd(a)==="symbol"?a:String(a)),i)}var u,a}function nI(r,t){return nI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nI(r,t)}function x_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=m1(r);if(t){var u=m1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function m1(r){return m1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m1(r)}var T_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&nI(e,o)})(a,r);var t,n,i,u=x_t(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableCellBackgroundColor",o)}return t=a,n&&oX(t.prototype,n),i&&oX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Gr);function tp(r){return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(r)}function iX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(tp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(tp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),tp(a)==="symbol"?a:String(a)),i)}var u,a}function oI(r,t){return oI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oI(r,t)}function D_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=v1(r);if(t){var u=v1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function v1(r){return v1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v1(r)}var R_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&oI(e,o)})(a,r);var t,n,i,u=D_t(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableCellVerticalAlignment",o)}return t=a,n&&iX(t.prototype,n),i&&iX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Gr);function ep(r){return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(r)}function aX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ep(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ep(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ep(a)==="symbol"?a:String(a)),i)}var u,a}function iI(r,t){return iI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iI(r,t)}function I_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=g1(r);if(t){var u=g1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function g1(r){return g1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g1(r)}var B_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&iI(e,o)})(a,r);var t,n,i,u=I_t(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableCellHorizontalAlignment",o)}return t=a,n&&aX(t.prototype,n),i&&aX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Gr);function rp(r){return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(r)}function cX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(rp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(rp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),rp(a)==="symbol"?a:String(a)),i)}var u,a}function aI(r,t){return aI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aI(r,t)}function M_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=w1(r);if(t){var u=w1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function w1(r){return w1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w1(r)}var N_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&aI(e,o)})(a,r);var t,n,i,u=M_t(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableCellBorderStyle",o)}return t=a,(n=[{key:"_getAttribute",value:function(e){if(e){var o=Go(e.getAttribute(this.attributeName));if(o!==this._defaultValue)return o}}}])&&cX(t.prototype,n),i&&cX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Gr);function np(r){return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(r)}function uX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(np(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(np(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),np(a)==="symbol"?a:String(a)),i)}var u,a}function cI(r,t){return cI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cI(r,t)}function L_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=k1(r);if(t){var u=k1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function k1(r){return k1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k1(r)}var z_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&cI(e,o)})(a,r);var t,n,i,u=L_t(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableCellBorderColor",o)}return t=a,(n=[{key:"_getAttribute",value:function(e){if(e){var o=Go(e.getAttribute(this.attributeName));if(o!==this._defaultValue)return o}}}])&&uX(t.prototype,n),i&&uX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Gr);function op(r){return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(r)}function lX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(op(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(op(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),op(a)==="symbol"?a:String(a)),i)}var u,a}function uI(r,t){return uI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uI(r,t)}function F_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=_1(r);if(t){var u=_1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function _1(r){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_1(r)}var V_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&uI(e,o)})(a,r);var t,n,i,u=F_t(a);function a(e,o){return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,"tableCellBorderWidth",o)}return t=a,(n=[{key:"_getAttribute",value:function(e){if(e){var o=Go(e.getAttribute(this.attributeName));if(o!==this._defaultValue)return o}}},{key:"_getValueToSet",value:function(e){var o=Wo(e,"px");if(o!==this._defaultValue)return o}}])&&lX(t.prototype,n),i&&lX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Gr);function ip(r){return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(r)}function sX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ip(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ip(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ip(a)==="symbol"?a:String(a)),i)}var u,a}function lI(r,t){return lI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lI(r,t)}function U_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=A1(r);if(t){var u=A1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function A1(r){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A1(r)}var fX=/^(top|middle|bottom)$/,dX=/^(left|center|right|justify)$/,H_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&lI(e,o)})(a,r);var t,n,i,u=U_t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"TableCellPropertiesEditing"}},{key:"requires",get:function(){return[M_,O_t]}}],(n=[{key:"init",value:function(){var e=this.editor,o=e.model.schema,c=e.conversion;e.config.define("table.tableCellProperties.defaultProperties",{});var l=sb(e.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:e.locale.contentLanguageDirection==="rtl"});e.data.addStyleProcessorRules(Dz),function(s,f,d){var h={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};s.extend("tableCell",{allowAttributes:Object.values(h)}),BR(f,"td",h,d),BR(f,"th",h,d),ib(f,{modelElement:"tableCell",modelAttribute:h.style,styleName:"border-style"}),ib(f,{modelElement:"tableCell",modelAttribute:h.color,styleName:"border-color"}),ib(f,{modelElement:"tableCell",modelAttribute:h.width,styleName:"border-width"})}(o,c,{color:l.borderColor,style:l.borderStyle,width:l.borderWidth}),e.commands.add("tableCellBorderStyle",new N_t(e,l.borderStyle)),e.commands.add("tableCellBorderColor",new z_t(e,l.borderColor)),e.commands.add("tableCellBorderWidth",new V_t(e,l.borderWidth)),g_(o,c,{modelAttribute:"tableCellHeight",styleName:"height",defaultValue:l.height}),e.commands.add("tableCellHeight",new E_t(e,l.height)),e.data.addStyleProcessorRules(Elt),g_(o,c,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:l.padding}),e.commands.add("tableCellPadding",new j_t(e,l.padding)),e.data.addStyleProcessorRules(Xj),g_(o,c,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",defaultValue:l.backgroundColor}),e.commands.add("tableCellBackgroundColor",new T_t(e,l.backgroundColor)),function(s,f,d){s.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),f.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:function(h){return{key:"style",value:{"text-align":h}}}}),f.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":dX}},model:{key:"tableCellHorizontalAlignment",value:function(h){var b=h.getStyle("text-align");return b===d?null:b}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:dX}},model:{key:"tableCellHorizontalAlignment",value:function(h){var b=h.getAttribute("align");return b===d?null:b}}})}(o,c,l.horizontalAlignment),e.commands.add("tableCellHorizontalAlignment",new B_t(e,l.horizontalAlignment)),function(s,f,d){s.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),f.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:function(h){return{key:"style",value:{"vertical-align":h}}}}),f.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":fX}},model:{key:"tableCellVerticalAlignment",value:function(h){var b=h.getStyle("vertical-align");return b===d?null:b}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:fX}},model:{key:"tableCellVerticalAlignment",value:function(h){var b=h.getAttribute("valign");return b===d?null:b}}})}(o,c,l.verticalAlignment),e.commands.add("tableCellVerticalAlignment",new R_t(e,l.verticalAlignment))}}])&&sX(t.prototype,n),i&&sX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function ap(r){return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(r)}function pX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ap(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ap(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ap(a)==="symbol"?a:String(a)),i)}var u,a}function sI(r,t){return sI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sI(r,t)}function G_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=C1(r);if(t){var u=C1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function C1(r){return C1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C1(r)}var W_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&sI(e,o)})(a,r);var t,n,i,u=G_t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"TableCellProperties"}},{key:"requires",get:function(){return[H_t,w_t]}}],(n=null)&&pX(t.prototype,n),i&&pX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function yX(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return hX(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return hX(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function hX(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function $_t(r){r.document.registerPostFixer(function(t){return function(n,i){var u,a=i.document.differ.getChanges(),e=!1,o=yX(a);try{for(o.s();!(u=o.n()).done;){var c=u.value;if(c.type=="insert"){var l=c.position.parent;if(l.is("element","table")||c.name=="table"){var s=c.name=="table"?c.position.nodeAfter:l,f=Array.from(s.getChildren()).filter(function(g){return g.is("element","caption")}),d=f.shift();if(!d)continue;var h,b=yX(f);try{for(b.s();!(h=b.n()).done;){var v=h.value;n.move(n.createRangeIn(v),d,"end"),n.remove(v)}}catch(g){b.e(g)}finally{b.f()}d.nextSibling&&(n.move(n.createRangeOn(d),s,"end"),e=!0),e=!!f.length||e}}}}catch(g){o.e(g)}finally{o.f()}return e}(t,r)})}function q_t(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return bX(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return bX(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function bX(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function mX(r){return!!r&&r.is("element","table")}function fI(r){var t,n=q_t(r.getChildren());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.is("element","caption"))return i}}catch(u){n.e(u)}finally{n.f()}return null}function Y_t(r){var t=r.parent;return r.name=="figcaption"&&t&&t.is("element","figure")&&t.hasClass("table")||r.name=="caption"&&t&&t.is("element","table")?{name:!0}:null}function O1(r){var t=r.getSelectedElement();return t&&t.is("element","table")?t:r.getFirstPosition().findAncestor("table")}function cp(r){return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(r)}function vX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(cp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(cp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),cp(a)==="symbol"?a:String(a)),i)}var u,a}function dI(r,t){return dI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dI(r,t)}function K_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=S1(r);if(t){var u=S1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(cp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function S1(r){return S1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S1(r)}var Z_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&dI(e,o)})(a,r);var t,n,i,u=K_t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"refresh",value:function(){var e=O1(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?this.value=!!fI(e):this.value=!1}},{key:"execute",value:function(){var e=this,o=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).focusCaptionOnShow,c=o!==void 0&&o;this.editor.model.change(function(l){e.value?e._hideTableCaption(l):e._showTableCaption(l,c)})}},{key:"_showTableCaption",value:function(e,o){var c=this.editor.model,l=O1(c.document.selection),s=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(l)||e.createElement("caption");c.insertContent(s,l,"end"),o&&e.setSelection(s,"in")}},{key:"_hideTableCaption",value:function(e){var o=this.editor.model,c=O1(o.document.selection),l=this.editor.plugins.get("TableCaptionEditing"),s=fI(c);l._saveCaption(c,s),o.deleteContent(e.createSelection(s,"on"))}}],n&&vX(t.prototype,n),i&&vX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function up(r){return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(r)}function gX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(up(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(up(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),up(a)==="symbol"?a:String(a)),i)}var u,a}function pI(r,t){return pI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pI(r,t)}function Q_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=j1(r);if(t){var u=j1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(up(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function j1(r){return j1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j1(r)}var J_t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&pI(e,o)})(a,r);var t,n,i,u=Q_t(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._savedCaptionsMap=new WeakMap,o}return t=a,n=[{key:"init",value:function(){var e=this.editor,o=e.model.schema,c=e.editing.view,l=e.t;o.isRegistered("caption")?o.extend("caption",{allowIn:"table"}):o.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleTableCaption",new Z_t(this.editor)),e.conversion.for("upcast").elementToElement({view:Y_t,model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:function(s,f){var d=f.writer;return mX(s.parent)?d.createContainerElement("figcaption"):null}}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:function(s,f){var d=f.writer;if(!mX(s.parent))return null;var h=d.createEditableElement("figcaption");return d.setCustomProperty("tableCaption",!0,h),h.placeholder=l("Enter table caption"),cO({view:c,element:h,keepOnFocus:!0}),qx(h,d)}}),$_t(e.model)}},{key:"_getSavedCaption",value:function(e){var o=this._savedCaptionsMap.get(e);return o?Ut.fromJSON(o):null}},{key:"_saveCaption",value:function(e,o){this._savedCaptionsMap.set(e,o.toJSON())}}],i=[{key:"pluginName",get:function(){return"TableCaptionEditing"}}],n&&gX(t.prototype,n),i&&gX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function lp(r){return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(r)}function wX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(lp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(lp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),lp(a)==="symbol"?a:String(a)),i)}var u,a}function yI(r,t){return yI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yI(r,t)}function X_t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=P1(r);if(t){var u=P1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function P1(r){return P1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P1(r)}var t1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&yI(e,o)})(a,r);var t,n,i,u=X_t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"TableCaptionUI"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.editing.view,l=o.t;o.ui.componentFactory.add("toggleTableCaption",function(s){var f=o.commands.get("toggleTableCaption"),d=new vt(s);return d.set({icon:$z,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(f,"value","isEnabled"),d.bind("label").to(f,"value",function(h){return l(h?"Toggle caption off":"Toggle caption on")}),e.listenTo(d,"execute",function(){if(o.execute("toggleTableCaption",{focusCaptionOnShow:!0}),f.value){var h=(v=o.model.document.selection,(g=O1(v))?fI(g):null),b=o.editing.mapper.toViewElement(h);if(!b)return;c.scrollToTheSelection(),c.change(function(k){k.addClass("table__caption_highlighted",b)})}var v,g;o.editing.view.focus()}),d})}}])&&wX(t.prototype,n),i&&wX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),kX=x(1111),e1t={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(kX.Z,e1t),kX.Z.locals;function sp(r){return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(r)}function _X(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(sp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(sp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),sp(a)==="symbol"?a:String(a)),i)}var u,a}function hI(r,t){return hI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hI(r,t)}function r1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=E1(r);if(t){var u=E1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function E1(r){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E1(r)}var n1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&hI(e,o)})(a,r);var t,n,i,u=r1t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"TableCaption"}},{key:"requires",get:function(){return[J_t,t1t]}}],(n=null)&&_X(t.prototype,n),i&&_X(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function fp(r){return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(r)}function AX(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return CX(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return CX(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function CX(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function OX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(fp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(fp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),fp(a)==="symbol"?a:String(a)),i)}var u,a}function bI(r,t){return bI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bI(r,t)}function o1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=x1(r);if(t){var u=x1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function x1(r){return x1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x1(r)}var db="todoListChecked",i1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&bI(e,o)})(a,r);var t,n,i,u=o1t(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._selectedElements=[],o.on("execute",function(){o.refresh()},{priority:"highest"}),o}return t=a,n=[{key:"refresh",value:function(){this._selectedElements=this._getSelectedItems(),this.value=this._selectedElements.every(function(e){return!!e.getAttribute(db)}),this.isEnabled=!!this._selectedElements.length}},{key:"_getSelectedItems",value:function(){var e=this.editor.model,o=e.schema,c=e.document.selection.getFirstRange(),l=c.start.parent,s=[];o.checkAttribute(l,db)&&s.push(l);var f,d=AX(c.getItems());try{for(d.s();!(f=d.n()).done;){var h=f.value;o.checkAttribute(h,db)&&!s.includes(h)&&s.push(h)}}catch(b){d.e(b)}finally{d.f()}return s}},{key:"execute",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.editor.model.change(function(c){var l,s=AX(e._selectedElements);try{for(s.s();!(l=s.n()).done;){var f=l.value;(o.forceValue===void 0?!e.value:o.forceValue)?c.setAttribute(db,!0,f):c.removeAttribute(db,f)}}catch(d){s.e(d)}finally{s.f()}})}}],n&&OX(t.prototype,n),i&&OX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function SX(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return jX(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return jX(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function jX(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}var a1t=function(r,t,n){var i=t.modelCursor,u=i.parent,a=t.viewItem;if(a.getAttribute("type")=="checkbox"&&u.name=="listItem"&&i.isAtStart&&n.consumable.consume(a,{name:!0})){var e=n.writer;e.setAttribute("listType","todo",u),t.viewItem.hasAttribute("checked")&&e.setAttribute("todoListChecked",!0,u),t.modelRange=e.createRange(i)}};function c1t(r,t){return function(n,i,u){if(u.consumable.consume(i.item,n.name)){var a=u.mapper.toViewElement(i.item),e=u.writer,o=function(k,_){var A,C=_.createRangeIn(k),S=SX(C);try{for(S.s();!(A=S.n()).done;){var P=A.value;if(P.item.is("uiElement","label"))return P.item}}catch(E){S.e(E)}finally{S.f()}}(a,t);if(i.attributeNewValue=="todo"){var c=!!i.item.getAttribute("todoListChecked"),l=mI(i.item,e,c,r),s=e.createContainerElement("span",{class:"todo-list__label__description"}),f=e.createRangeIn(a),d=AK(a),h=uR(f.start),b=d?e.createPositionBefore(d):f.end,v=e.createRange(h,b);e.addClass("todo-list",a.parent),e.move(v,e.createPositionAt(s,0)),e.insert(e.createPositionAt(a,0),l),e.insert(e.createPositionAfter(l),s)}else if(i.attributeOldValue=="todo"){var g=EX(a,t);e.removeClass("todo-list",a.parent),e.remove(o),e.move(e.createRangeIn(g),e.createPositionBefore(g)),e.remove(g)}}}}function PX(r){return function(t,n){var i=n.modelPosition,u=i.parent;if(u.is("element","listItem")&&u.getAttribute("listType")=="todo"){var a=EX(n.mapper.toViewElement(u),r);a&&(n.viewPosition=n.mapper.findPositionIn(a,i.offset))}}}function mI(r,t,n,i){return t.createUIElement("label",{class:"todo-list__label",contenteditable:!1},function(u){var a=Er(document,"input",{type:"checkbox",tabindex:"-1"});n&&a.setAttribute("checked","checked"),a.addEventListener("change",function(){return i(r)});var e=this.toDomElement(u);return e.appendChild(a),e})}function EX(r,t){var n,i=SX(t.createRangeIn(r));try{for(i.s();!(n=i.n()).done;){var u=n.value;if(u.item.is("containerElement","span")&&u.item.hasClass("todo-list__label__description"))return u.item}}catch(a){i.e(a)}finally{i.f()}}function dp(r){return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(r)}function xX(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return TX(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return TX(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function TX(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function DX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(dp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(dp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),dp(a)==="symbol"?a:String(a)),i)}var u,a}function vI(r,t){return vI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vI(r,t)}function u1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=T1(r);if(t){var u=T1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function T1(r){return T1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T1(r)}var l1t=Lb("Ctrl+Enter"),s1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&vI(e,o)})(a,r);var t,n,i,u=u1t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.editing,l=o.data,s=o.model;s.schema.extend("listItem",{allowAttributes:["todoListChecked"]}),s.schema.addAttributeCheck(function(b,v){var g=b.last;if(v=="todoListChecked"&&g.name=="listItem"&&g.getAttribute("listType")!="todo")return!1}),o.commands.add("todoList",new oR(o,"todo"));var f,d=new i1t(o);o.commands.add("checkTodoList",d),o.commands.add("todoListCheck",d),l.downcastDispatcher.on("insert:listItem",function(b){return function(v,g,k){var _=k.consumable;if(_.test(g.item,"insert")&&_.test(g.item,"attribute:listType")&&_.test(g.item,"attribute:listIndent")&&g.item.getAttribute("listType")=="todo"){var A=g.item;_.consume(A,"insert"),_.consume(A,"attribute:listType"),_.consume(A,"attribute:listIndent"),_.consume(A,"attribute:todoListChecked");var C=k.writer,S=cR(A,k);C.addClass("todo-list",S.parent);var P=C.createContainerElement("label",{class:"todo-list__label"}),E=C.createEmptyElement("input",{type:"checkbox",disabled:"disabled"}),R=C.createContainerElement("span",{class:"todo-list__label__description"});A.getAttribute("todoListChecked")&&C.setAttribute("checked","checked",E),C.insert(C.createPositionAt(S,0),P),C.insert(C.createPositionAt(P,0),E),C.insert(C.createPositionAfter(E),R),Xk(A,S,k,b)}}}(s),{priority:"high"}),l.upcastDispatcher.on("element:input",a1t,{priority:"high"}),c.downcastDispatcher.on("insert:listItem",function(b,v){return function(g,k,_){var A=_.consumable;if(A.test(k.item,"insert")&&A.test(k.item,"attribute:listType")&&A.test(k.item,"attribute:listIndent")&&k.item.getAttribute("listType")=="todo"){var C=k.item;A.consume(C,"insert"),A.consume(C,"attribute:listType"),A.consume(C,"attribute:listIndent"),A.consume(C,"attribute:todoListChecked");var S=_.writer,P=cR(C,_),E=!!C.getAttribute("todoListChecked"),R=mI(C,S,E,v),I=S.createContainerElement("span",{class:"todo-list__label__description"});S.addClass("todo-list",P.parent),S.insert(S.createPositionAt(P,0),R),S.insert(S.createPositionAfter(R),I),Xk(C,P,_,b)}}}(s,function(b){return e._handleCheckmarkChange(b)}),{priority:"high"}),c.downcastDispatcher.on("attribute:listType:listItem",c1t(function(b){return e._handleCheckmarkChange(b)},c.view)),c.downcastDispatcher.on("attribute:todoListChecked:listItem",(f=function(b){return e._handleCheckmarkChange(b)},function(b,v,g){if(v.item.getAttribute("listType")=="todo"&&g.consumable.consume(v.item,"attribute:todoListChecked")){var k=g.mapper,_=g.writer,A=!!v.item.getAttribute("todoListChecked"),C=k.toViewElement(v.item).getChild(0),S=mI(v.item,_,A,f);_.insert(_.createPositionAfter(C),S),_.remove(C)}})),c.mapper.on("modelToViewPosition",PX(c.view)),l.mapper.on("modelToViewPosition",PX(c.view)),this.listenTo(c.view.document,"arrowKey",function(b,v){return function(g,k){if(zb(k.keyCode,v.contentLanguageDirection)=="left"){var _=b.schema,A=b.document.selection;if(A.isCollapsed){var C=A.getFirstPosition(),S=C.parent;if(S.name==="listItem"&&S.getAttribute("listType")=="todo"&&C.isAtStart){var P=_.getNearestSelectionRange(b.createPositionBefore(S),"backward");P&&b.change(function(E){return E.setSelection(P)}),k.preventDefault(),k.stopPropagation(),g.stop()}}}}}(s,o.locale),{context:"li"}),this.listenTo(c.view.document,"keydown",function(b,v){zn(v)===l1t&&(o.execute("checkTodoList"),b.stop())},{priority:"high"});var h=new Set;this.listenTo(s,"applyOperation",function(b,v){var g=v[0];if(g.type=="rename"&&g.oldName=="listItem"){var k=g.position.nodeAfter;k.hasAttribute("todoListChecked")&&h.add(k)}else if(g.type=="changeAttribute"&&g.key=="listType"&&g.oldValue==="todo"){var _,A=xX(g.range.getItems());try{for(A.s();!(_=A.n()).done;){var C=_.value;C.hasAttribute("todoListChecked")&&C.getAttribute("listType")!=="todo"&&h.add(C)}}catch(S){A.e(S)}finally{A.f()}}}),s.document.registerPostFixer(function(b){var v,g=!1,k=xX(h);try{for(k.s();!(v=k.n()).done;){var _=v.value;b.removeAttribute("todoListChecked",_),g=!0}}catch(A){k.e(A)}finally{k.f()}return h.clear(),g})}},{key:"_handleCheckmarkChange",value:function(e){var o=this.editor,c=o.model,l=Array.from(c.document.selection.getRanges());c.change(function(s){s.setSelection(e,"end"),o.execute("checkTodoList"),s.setSelection(l)})}}],i=[{key:"pluginName",get:function(){return"TodoListEditing"}},{key:"requires",get:function(){return[BK]}}],n&&DX(t.prototype,n),i&&DX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function pp(r){return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(r)}function RX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(pp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(pp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),pp(a)==="symbol"?a:String(a)),i)}var u,a}function gI(r,t){return gI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gI(r,t)}function f1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=D1(r);if(t){var u=D1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function D1(r){return D1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D1(r)}var d1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&gI(e,o)})(a,r);var t,n,i,u=f1t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"TodoListUI"}}],(n=[{key:"init",value:function(){var e=this.editor.t;lR(this.editor,"todoList",e("To-do List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>')}}])&&RX(t.prototype,n),i&&RX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),IX=x(9292),p1t={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(IX.Z,p1t),IX.Z.locals;function yp(r){return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(r)}function BX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(yp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(yp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),yp(a)==="symbol"?a:String(a)),i)}var u,a}function wI(r,t){return wI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wI(r,t)}function y1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=R1(r);if(t){var u=R1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function R1(r){return R1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R1(r)}var h1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&wI(e,o)})(a,r);var t,n,i,u=y1t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[s1t,d1t]}},{key:"pluginName",get:function(){return"TodoList"}}],(n=null)&&BX(t.prototype,n),i&&BX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function hp(r){return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(r)}function MX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(hp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(hp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),hp(a)==="symbol"?a:String(a)),i)}var u,a}function kI(r,t){return kI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kI(r,t)}function b1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=I1(r);if(t){var u=I1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function I1(r){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},I1(r)}var m1t={heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>'},v1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&kI(e,o)})(a,r);var t,n,i,u=b1t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(n=[{key:"init",value:function(){var e=this;SW(this.editor).filter(function(o){return o.model!=="paragraph"}).map(function(o){return e._createButton(o)})}},{key:"_createButton",value:function(e){var o=this.editor;o.ui.componentFactory.add(e.model,function(c){var l=new vt(c),s=o.commands.get("heading");return l.label=e.title,l.icon=e.icon||m1t[e.model],l.tooltip=!0,l.isToggleable=!0,l.bind("isEnabled").to(s),l.bind("isOn").to(s,"value",function(f){return f==e.model}),l.on("execute",function(){o.execute("heading",{value:e.model}),o.editing.view.focus()}),l})}}])&&MX(t.prototype,n),i&&MX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function bp(r){return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(r)}function g1t(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return NX(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return NX(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function NX(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function LX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(bp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(bp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),bp(a)==="symbol"?a:String(a)),i)}var u,a}function _I(r,t){return _I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_I(r,t)}function w1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=B1(r);if(t){var u=B1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(bp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function B1(r){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B1(r)}var M1=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&_I(e,o)})(a,r);var t,n,i,u=w1t(a);function a(e,o){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e)).attributeKey=o,c}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.model,o=e.document;this.value=o.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(o.selection,this.attributeKey)}},{key:"execute",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=this.editor.model,l=c.document.selection,s=o.value,f=o.batch,d=function(h){if(l.isCollapsed)s?h.setSelectionAttribute(e.attributeKey,s):h.removeSelectionAttribute(e.attributeKey);else{var b,v=g1t(c.schema.getValidRanges(l.getRanges(),e.attributeKey));try{for(v.s();!(b=v.n()).done;){var g=b.value;s?h.setAttribute(e.attributeKey,s,g):h.removeAttribute(e.attributeKey,g)}}catch(k){v.e(k)}finally{v.f()}}};f?c.enqueueChange(f,function(h){d(h)}):c.change(function(h){d(h)})}}],n&&LX(t.prototype,n),i&&LX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function k1t(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return zX(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return zX(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function zX(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}var qe="fontSize",Ye="fontFamily",Or="fontColor",Wr="fontBackgroundColor";function FX(r,t){var n,i={model:{key:r,values:[]},view:{},upcastAlso:{}},u=k1t(t);try{for(u.s();!(n=u.n()).done;){var a=n.value;i.model.values.push(a.model),i.view[a.model]=a.view,a.upcastAlso&&(i.upcastAlso[a.model]=a.upcastAlso)}}catch(e){u.e(e)}finally{u.f()}return i}function VX(r){return function(t){return t.getStyle(r).replace(/\s/g,"")}}function UX(r){return function(t,n){return n.writer.createAttributeElement("span",{style:"".concat(r,":").concat(t)},{priority:7})}}function mp(r){return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(r)}function HX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(mp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(mp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),mp(a)==="symbol"?a:String(a)),i)}var u,a}function AI(r,t){return AI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AI(r,t)}function _1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=N1(r);if(t){var u=N1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function N1(r){return N1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},N1(r)}var A1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&AI(e,o)})(a,r);var t,n,i,u=_1t(a);function a(e){return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,Ye)}return t=a,n&&HX(t.prototype,n),i&&HX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(M1);function CI(r){return CI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CI(r)}function GX(r){return r.map(C1t).filter(function(t){return t!==void 0})}function C1t(r){return CI(r)==="object"?r:r==="default"?{title:"Default",model:void 0}:typeof r=="string"?(t=r.replace(/"|'/g,"").split(","),n=t[0],i=t.map(O1t).join(", "),{title:n,model:i,view:{name:"span",styles:{"font-family":i},priority:7}}):void 0;var t,n,i}function O1t(r){return(r=r.trim()).indexOf(" ")>0&&(r="'".concat(r,"'")),r}function vp(r){return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(r)}function WX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(vp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(vp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),vp(a)==="symbol"?a:String(a)),i)}var u,a}function OI(r,t){return OI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OI(r,t)}function S1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=L1(r);if(t){var u=L1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function L1(r){return L1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L1(r)}var j1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&OI(e,o)})(a,r);var t,n,i,u=S1t(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this,e),e.config.define(Ye,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1}),o}return t=a,n=[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:Ye}),e.model.schema.setAttributeProperties(Ye,{isFormatting:!0,copyOnEnter:!0});var o=GX(e.config.get("fontFamily.options")).filter(function(l){return l.model}),c=FX(Ye,o);e.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(c),e.commands.add(Ye,new A1t(e))}},{key:"_prepareAnyValueConverters",value:function(){var e=this.editor;e.conversion.for("downcast").attributeToElement({model:Ye,view:function(o,c){return c.writer.createAttributeElement("span",{style:"font-family:"+o},{priority:7})}}),e.conversion.for("upcast").elementToAttribute({model:{key:Ye,value:function(o){return o.getStyle("font-family")}},view:{name:"span",styles:{"font-family":/.*/}}})}},{key:"_prepareCompatibilityConverter",value:function(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:Ye,value:function(e){return e.getAttribute("face")}}})}}],i=[{key:"pluginName",get:function(){return"FontFamilyEditing"}}],n&&WX(t.prototype,n),i&&WX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function gp(r){return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(r)}function P1t(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return $X(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return $X(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function $X(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function qX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(gp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(gp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),gp(a)==="symbol"?a:String(a)),i)}var u,a}function SI(r,t){return SI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SI(r,t)}function E1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=z1(r);if(t){var u=z1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function z1(r){return z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z1(r)}var x1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&SI(e,o)})(a,r);var t,n,i,u=E1t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t,l=this._getLocalizedOptions(),s=o.commands.get(Ye),f=c("Font Family");o.ui.componentFactory.add(Ye,function(d){var h=ae(d);return zr(h,function(){return function(b,v){var g,k=new Qt,_=P1t(b);try{var A=function(){var C=g.value,S={type:"button",model:new Fr({commandName:Ye,commandParam:C.model,label:C.title,role:"menuitemradio",withText:!0})};S.model.bind("isOn").to(v,"value",function(P){return P===C.model||!(!P||!C.model)&&P.split(",")[0].replace(/'/g,"").toLowerCase()===C.model.toLowerCase()}),C.view&&typeof C.view!="string"&&C.view.styles&&S.model.set("labelStyle","font-family: ".concat(C.view.styles["font-family"])),k.add(S)};for(_.s();!(g=_.n()).done;)A()}catch(C){_.e(C)}finally{_.f()}return k}(l,s)},{role:"menu",ariaLabel:f}),h.buttonView.set({label:f,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>',tooltip:!0}),h.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),h.bind("isEnabled").to(s),e.listenTo(h,"execute",function(b){o.execute(b.source.commandName,{value:b.source.commandParam}),o.editing.view.focus()}),h})}},{key:"_getLocalizedOptions",value:function(){var e=this.editor,o=e.t;return GX(e.config.get(Ye).options).map(function(c){return c.title==="Default"&&(c.title=o("Default")),c})}}],i=[{key:"pluginName",get:function(){return"FontFamilyUI"}}],n&&qX(t.prototype,n),i&&qX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function wp(r){return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(r)}function YX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(wp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(wp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),wp(a)==="symbol"?a:String(a)),i)}var u,a}function jI(r,t){return jI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jI(r,t)}function T1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=F1(r);if(t){var u=F1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function F1(r){return F1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F1(r)}var KX=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&jI(e,o)})(a,r);var t,n,i,u=T1t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[j1t,x1t]}},{key:"pluginName",get:function(){return"FontFamily"}}],(n=null)&&YX(t.prototype,n),i&&YX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function kp(r){return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(r)}function ZX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(kp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(kp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),kp(a)==="symbol"?a:String(a)),i)}var u,a}function PI(r,t){return PI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PI(r,t)}function D1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=V1(r);if(t){var u=V1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function V1(r){return V1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V1(r)}var R1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&PI(e,o)})(a,r);var t,n,i,u=D1t(a);function a(e){return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,qe)}return t=a,n&&ZX(t.prototype,n),i&&ZX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(M1);function U1(r){return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(r)}function EI(r){return r.map(function(t){return function(n){if(typeof n=="number"&&(n=String(n)),U1(n)==="object"&&(i=n,i.title&&i.model&&i.view))return xI(n);var i,u=function(a){return typeof a=="string"?QX[a]:QX[a.model]}(n);if(u)return xI(u);if(n==="default")return{model:void 0,title:"Default"};if(!function(a){var e;if(U1(a)==="object"){if(!a.model)throw new V("font-size-invalid-definition",null,a);e=parseFloat(a.model)}else e=parseFloat(a);return isNaN(e)}(n))return function(a){return typeof a=="string"&&(a={title:a,model:"".concat(parseFloat(a),"px")}),a.view={name:"span",styles:{"font-size":a.model}},xI(a)}(n)}(t)}).filter(function(t){return t!==void 0})}var QX={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function xI(r){return r.view&&typeof r.view!="string"&&!r.view.priority&&(r.view.priority=7),r}function _p(r){return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(r)}function JX(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(_p(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(_p(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),_p(a)==="symbol"?a:String(a)),i)}var u,a}function TI(r,t){return TI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TI(r,t)}function I1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=H1(r);if(t){var u=H1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(_p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function H1(r){return H1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H1(r)}var XX=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"],B1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&TI(e,o)})(a,r);var t,n,i,u=I1t(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this,e),e.config.define(qe,{options:["tiny","small","default","big","huge"],supportAllValues:!1}),o}return t=a,n=[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:qe}),e.model.schema.setAttributeProperties(qe,{isFormatting:!0,copyOnEnter:!0});var o=e.config.get("fontSize.supportAllValues"),c=EI(this.editor.config.get("fontSize.options")).filter(function(s){return s.model}),l=FX(qe,c);o?(this._prepareAnyValueConverters(l),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(l),e.commands.add(qe,new R1t(e))}},{key:"_prepareAnyValueConverters",value:function(e){var o=this.editor,c=e.model.values.filter(function(l){return!Nv(String(l))&&!Ez(String(l))});if(c.length)throw new V("font-size-invalid-use-of-named-presets",null,{presets:c});o.conversion.for("downcast").attributeToElement({model:qe,view:function(l,s){var f=s.writer;if(l)return f.createAttributeElement("span",{style:"font-size:"+l},{priority:7})}}),o.conversion.for("upcast").elementToAttribute({model:{key:qe,value:function(l){return l.getStyle("font-size")}},view:{name:"span",styles:{"font-size":/.*/}}})}},{key:"_prepareCompatibilityConverter",value:function(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:qe,value:function(e){var o=e.getAttribute("size"),c=o[0]==="-"||o[0]==="+",l=parseInt(o,10);c&&(l=3+l);var s=XX.length-1,f=Math.min(Math.max(l,0),s);return XX[f]}}})}}],i=[{key:"pluginName",get:function(){return"FontSizeEditing"}}],n&&JX(t.prototype,n),i&&JX(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),ttt=x(5991),M1t={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(ttt.Z,M1t),ttt.Z.locals;function Ap(r){return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(r)}function N1t(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return ett(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ett(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function ett(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function rtt(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ap(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ap(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ap(a)==="symbol"?a:String(a)),i)}var u,a}function DI(r,t){return DI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DI(r,t)}function L1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=G1(r);if(t){var u=G1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function G1(r){return G1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G1(r)}var z1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&DI(e,o)})(a,r);var t,n,i,u=L1t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.t,l=this._getLocalizedOptions(),s=o.commands.get(qe),f=c("Font Size");o.ui.componentFactory.add(qe,function(d){var h=ae(d);return zr(h,function(){return function(b,v){var g,k=new Qt,_=N1t(b);try{var A=function(){var C=g.value,S={type:"button",model:new Fr({commandName:qe,commandParam:C.model,label:C.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};C.view&&typeof C.view!="string"&&(C.view.styles&&S.model.set("labelStyle","font-size:".concat(C.view.styles["font-size"])),C.view.classes&&S.model.set("class","".concat(S.model.class," ").concat(C.view.classes))),S.model.bind("isOn").to(v,"value",function(P){return P===C.model}),k.add(S)};for(_.s();!(g=_.n()).done;)A()}catch(C){_.e(C)}finally{_.f()}return k}(l,s)},{role:"menu",ariaLabel:f}),h.buttonView.set({label:f,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',tooltip:!0}),h.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),h.bind("isEnabled").to(s),e.listenTo(h,"execute",function(b){o.execute(b.source.commandName,{value:b.source.commandParam}),o.editing.view.focus()}),h})}},{key:"_getLocalizedOptions",value:function(){var e=this.editor,o=e.t,c={Default:o("Default"),Tiny:o("Tiny"),Small:o("Small"),Big:o("Big"),Huge:o("Huge")};return EI(e.config.get(qe).options).map(function(l){var s=c[l.title];return s&&s!=l.title&&(l=Object.assign({},l,{title:s})),l})}}],i=[{key:"pluginName",get:function(){return"FontSizeUI"}}],n&&rtt(t.prototype,n),i&&rtt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Cp(r){return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(r)}function ntt(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Cp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Cp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Cp(a)==="symbol"?a:String(a)),i)}var u,a}function RI(r,t){return RI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RI(r,t)}function F1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=W1(r);if(t){var u=W1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Cp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function W1(r){return W1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W1(r)}var V1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&RI(e,o)})(a,r);var t,n,i,u=F1t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"normalizeSizeOptions",value:function(e){return EI(e)}}],i=[{key:"requires",get:function(){return[B1t,z1t]}},{key:"pluginName",get:function(){return"FontSize"}}],n&&ntt(t.prototype,n),i&&ntt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Op(r){return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(r)}function ott(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Op(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Op(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Op(a)==="symbol"?a:String(a)),i)}var u,a}function II(r,t){return II=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},II(r,t)}function U1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=$1(r);if(t){var u=$1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function $1(r){return $1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$1(r)}var H1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&II(e,o)})(a,r);var t,n,i,u=U1t(a);function a(e){return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,Or)}return t=a,n&&ott(t.prototype,n),i&&ott(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(M1);function Sp(r){return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(r)}function itt(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Sp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Sp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Sp(a)==="symbol"?a:String(a)),i)}var u,a}function BI(r,t){return BI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BI(r,t)}function G1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=q1(r);if(t){var u=q1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function q1(r){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q1(r)}var W1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&BI(e,o)})(a,r);var t,n,i,u=G1t(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this,e),e.config.define(Or,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:Or,value:VX("color")}}),e.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:Or,value:function(c){return c.getAttribute("color")}}}),e.conversion.for("downcast").attributeToElement({model:Or,view:UX("color")}),e.commands.add(Or,new H1t(e)),e.model.schema.extend("$text",{allowAttributes:Or}),e.model.schema.setAttributeProperties(Or,{isFormatting:!0,copyOnEnter:!0}),o}return t=a,i=[{key:"pluginName",get:function(){return"FontColorEditing"}}],(n=null)&&itt(t.prototype,n),i&&itt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function jp(r){return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(r)}function att(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(jp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(jp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),jp(a)==="symbol"?a:String(a)),i)}var u,a}function MI(r,t){return MI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MI(r,t)}function $1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Y1(r);if(t){var u=Y1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Y1(r){return Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Y1(r)}var ctt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&MI(e,o)})(a,r);var t,n,i,u=$1t(a);function a(e,o){var c,l=o.commandName,s=o.componentName,f=o.icon,d=o.dropdownLabel;return function(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this,e)).commandName=l,c.componentName=s,c.icon=f,c.dropdownLabel=d,c.columns=e.config.get("".concat(c.componentName,".columns")),c.colorSelectorView=void 0,c}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=o.locale,l=c.t,s=o.commands.get(this.commandName),f=o.config.get(this.componentName),d=Ay(c,Cy(f.colors)),h=f.documentColors,b=f.colorPicker!==!1;o.ui.componentFactory.add(this.componentName,function(v){var g=ae(v),k=!1;return e.colorSelectorView=function(_){var A=_.dropdownView,C=_.colors,S=_.columns,P=_.removeButtonLabel,E=_.colorPickerLabel,R=_.documentColorsLabel,I=_.documentColorsCount,z=_.colorPickerViewConfig,F=A.locale,tt=new GF(F,{colors:C,columns:S,removeButtonLabel:P,colorPickerLabel:E,documentColorsLabel:R,documentColorsCount:I,colorPickerViewConfig:z});return A.colorSelectorView=tt,A.panelView.children.add(tt),tt}({dropdownView:g,colors:d.map(function(_){return{label:_.label,color:_.model,options:{hasBorder:_.hasBorder}}}),columns:e.columns,removeButtonLabel:l("Remove color"),colorPickerLabel:l("Color picker"),documentColorsLabel:h!==0?l("Document colors"):"",documentColorsCount:h===void 0?e.columns:h,colorPickerViewConfig:!!b&&(f.colorPicker||{})}),e.colorSelectorView.bind("selectedColor").to(s,"value"),g.buttonView.set({label:e.dropdownLabel,icon:e.icon,tooltip:!0}),g.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),g.bind("isEnabled").to(s),e.colorSelectorView.on("execute",function(_,A){g.isOpen&&o.execute(e.commandName,{value:A.value,batch:e._undoStepBatch}),A.source!=="colorPicker"&&o.editing.view.focus(),A.source==="colorPickerSaveButton"&&(g.isOpen=!1)}),e.colorSelectorView.on("colorPicker:show",function(){e._undoStepBatch=o.model.createBatch()}),e.colorSelectorView.on("colorPicker:cancel",function(){e._undoStepBatch.operations.length&&(g.isOpen=!1,o.execute("undo",e._undoStepBatch)),o.editing.view.focus()}),g.on("change:isOpen",function(_,A,C){k||(k=!0,g.colorSelectorView.appendUI()),C&&(h!==0&&e.colorSelectorView.updateDocumentColors(o.model,e.componentName),e.colorSelectorView.updateSelectedColors(),e.colorSelectorView.showColorGridsFragment())}),vP(g,function(){return g.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(function(_){return _.isOn})}),g})}}],n&&att(t.prototype,n),i&&att(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Pp(r){return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(r)}function utt(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Pp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Pp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Pp(a)==="symbol"?a:String(a)),i)}var u,a}function NI(r,t){return NI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NI(r,t)}function q1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=K1(r);if(t){var u=K1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function K1(r){return K1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},K1(r)}var Y1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&NI(e,o)})(a,r);var t,n,i,u=q1t(a);function a(e){(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a);var o=e.locale.t;return u.call(this,e,{commandName:Or,componentName:Or,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',dropdownLabel:o("Font Color")})}return t=a,i=[{key:"pluginName",get:function(){return"FontColorUI"}}],(n=null)&&utt(t.prototype,n),i&&utt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(ctt);function Ep(r){return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(r)}function ltt(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ep(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ep(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ep(a)==="symbol"?a:String(a)),i)}var u,a}function LI(r,t){return LI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LI(r,t)}function K1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Z1(r);if(t){var u=Z1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Z1(r){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Z1(r)}var Z1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&LI(e,o)})(a,r);var t,n,i,u=K1t(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[W1t,Y1t]}},{key:"pluginName",get:function(){return"FontColor"}}],(n=null)&&ltt(t.prototype,n),i&&ltt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function xp(r){return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(r)}function stt(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(xp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(xp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),xp(a)==="symbol"?a:String(a)),i)}var u,a}function zI(r,t){return zI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zI(r,t)}function Q1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Q1(r);if(t){var u=Q1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function Q1(r){return Q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Q1(r)}var J1t=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&zI(e,o)})(a,r);var t,n,i,u=Q1t(a);function a(e){return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this,e,Wr)}return t=a,n&&stt(t.prototype,n),i&&stt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(M1);function Tp(r){return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(r)}function ftt(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Tp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Tp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Tp(a)==="symbol"?a:String(a)),i)}var u,a}function FI(r,t){return FI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FI(r,t)}function X1t(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=J1(r);if(t){var u=J1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function J1(r){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J1(r)}var tAt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&FI(e,o)})(a,r);var t,n,i,u=X1t(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this,e),e.config.define(Wr,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.data.addStyleProcessorRules(Xj),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:Wr,value:VX("background-color")}}),e.conversion.for("downcast").attributeToElement({model:Wr,view:UX("background-color")}),e.commands.add(Wr,new J1t(e)),e.model.schema.extend("$text",{allowAttributes:Wr}),e.model.schema.setAttributeProperties(Wr,{isFormatting:!0,copyOnEnter:!0}),o}return t=a,i=[{key:"pluginName",get:function(){return"FontBackgroundColorEditing"}}],(n=null)&&ftt(t.prototype,n),i&&ftt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Dp(r){return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(r)}function dtt(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Dp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Dp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Dp(a)==="symbol"?a:String(a)),i)}var u,a}function VI(r,t){return VI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VI(r,t)}function eAt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=X1(r);if(t){var u=X1(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function X1(r){return X1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X1(r)}var rAt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&VI(e,o)})(a,r);var t,n,i,u=eAt(a);function a(e){(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a);var o=e.locale.t;return u.call(this,e,{commandName:Wr,componentName:Wr,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:o("Font Background Color")})}return t=a,i=[{key:"pluginName",get:function(){return"FontBackgroundColorUI"}}],(n=null)&&dtt(t.prototype,n),i&&dtt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(ctt);function Rp(r){return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(r)}function ptt(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Rp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Rp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Rp(a)==="symbol"?a:String(a)),i)}var u,a}function UI(r,t){return UI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UI(r,t)}function nAt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=tA(r);if(t){var u=tA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function tA(r){return tA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tA(r)}var oAt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&UI(e,o)})(a,r);var t,n,i,u=nAt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[tAt,rAt]}},{key:"pluginName",get:function(){return"FontBackgroundColor"}}],(n=null)&&ptt(t.prototype,n),i&&ptt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Ip(r){return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(r)}function ytt(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Ip(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Ip(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Ip(a)==="symbol"?a:String(a)),i)}var u,a}function HI(r,t){return HI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HI(r,t)}function iAt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=eA(r);if(t){var u=eA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function eA(r){return eA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eA(r)}var aAt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&HI(e,o)})(a,r);var t,n,i,u=iAt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[KX,V1t,Z1t,oAt]}},{key:"pluginName",get:function(){return"Font"}}],(n=null)&&ytt(t.prototype,n),i&&ytt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Bp(r){return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(r)}function cAt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return htt(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return htt(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function htt(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function btt(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Bp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Bp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Bp(a)==="symbol"?a:String(a)),i)}var u,a}function GI(r,t){return GI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GI(r,t)}function uAt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=rA(r);if(t){var u=rA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Bp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function rA(r){return rA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rA(r)}var lAt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&GI(e,o)})(a,r);var t,n,i,u=uAt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"refresh",value:function(){var e=this.editor.model,o=e.document;this.value=o.selection.getAttribute("highlight"),this.isEnabled=e.schema.checkAttributeInSelection(o.selection,"highlight")}},{key:"execute",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=this.editor.model,l=c.document.selection,s=o.value;c.change(function(f){if(l.isCollapsed){var d=l.getFirstPosition();if(l.hasAttribute("highlight")){var h=function(C){return C.item.hasAttribute("highlight")&&C.item.getAttribute("highlight")===e.value},b=d.getLastMatchingPosition(h,{direction:"backward"}),v=d.getLastMatchingPosition(h),g=f.createRange(b,v);s&&e.value!==s?(d.isEqual(v)||f.setAttribute("highlight",s,g),f.setSelectionAttribute("highlight",s)):(d.isEqual(v)||f.removeAttribute("highlight",g),f.removeSelectionAttribute("highlight"))}else s&&f.setSelectionAttribute("highlight",s)}else{var k,_=cAt(c.schema.getValidRanges(l.getRanges(),"highlight"));try{for(_.s();!(k=_.n()).done;){var A=k.value;s?f.setAttribute("highlight",s,A):f.removeAttribute("highlight",A)}}catch(C){_.e(C)}finally{_.f()}}})}}],n&&btt(t.prototype,n),i&&btt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(gt);function Mp(r){return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(r)}function sAt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return mtt(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return mtt(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function mtt(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function vtt(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Mp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Mp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Mp(a)==="symbol"?a:String(a)),i)}var u,a}function WI(r,t){return WI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WI(r,t)}function fAt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=nA(r);if(t){var u=nA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function nA(r){return nA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nA(r)}var dAt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&WI(e,o)})(a,r);var t,n,i,u=fAt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),o=u.call(this,e),e.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]}),o}return t=a,n=[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"highlight"});var o=e.config.get("highlight.options");e.conversion.attributeToElement(function(c){var l,s={model:{key:"highlight",values:[]},view:{}},f=sAt(c);try{for(f.s();!(l=f.n()).done;){var d=l.value;s.model.values.push(d.model),s.view[d.model]={name:"mark",classes:d.class}}}catch(h){f.e(h)}finally{f.f()}return s}(o)),e.commands.add("highlight",new lAt(e))}}],i=[{key:"pluginName",get:function(){return"HighlightEditing"}}],n&&vtt(t.prototype,n),i&&vtt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y),gtt=x(7263),pAt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(gtt.Z,pAt),gtt.Z.locals;function Np(r){return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(r)}function yAt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return wtt(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return wtt(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function wtt(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function ktt(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Np(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Np(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Np(a)==="symbol"?a:String(a)),i)}var u,a}function $I(r,t){return $I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$I(r,t)}function hAt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=oA(r);if(t){var u=oA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function oA(r){return oA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oA(r)}var bAt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&$I(e,o)})(a,r);var t,n,i,u=hAt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"localizedOptionTitles",get:function(){var e=this.editor.t;return{"Yellow marker":e("Yellow marker"),"Green marker":e("Green marker"),"Pink marker":e("Pink marker"),"Blue marker":e("Blue marker"),"Red pen":e("Red pen"),"Green pen":e("Green pen")}}},{key:"init",value:function(){var e,o=this.editor.config.get("highlight.options"),c=yAt(o);try{for(c.s();!(e=c.n()).done;){var l=e.value;this._addHighlighterButton(l)}}catch(s){c.e(s)}finally{c.f()}this._addRemoveHighlightButton(),this._addDropdown(o)}},{key:"_addRemoveHighlightButton",value:function(){var e=this.editor.t,o=this.editor.commands.get("highlight");this._addButton("removeHighlight",e("Remove highlight"),Flt,null,function(c){c.bind("isEnabled").to(o,"isEnabled")})}},{key:"_addHighlighterButton",value:function(e){var o=this.editor.commands.get("highlight");this._addButton("highlight:"+e.model,e.title,_tt(e.type),e.model,function(c){c.bind("isEnabled").to(o,"isEnabled"),c.bind("isOn").to(o,"value",function(l){return l===e.model}),c.iconView.fillColor=e.color,c.isToggleable=!0})}},{key:"_addButton",value:function(e,o,c,l,s){var f=this,d=this.editor;d.ui.componentFactory.add(e,function(h){var b=new vt(h),v=f.localizedOptionTitles[o]?f.localizedOptionTitles[o]:o;return b.set({label:v,icon:c,tooltip:!0}),b.on("execute",function(){d.execute("highlight",{value:l}),d.editing.view.focus()}),s(b),b})}},{key:"_addDropdown",value:function(e){var o=this,c=this.editor,l=c.t,s=c.ui.componentFactory,f=e[0],d=e.reduce(function(h,b){return h[b.model]=b,h},{});s.add("highlight",function(h){var b=c.commands.get("highlight"),v=ae(h,Bc),g=v.buttonView;function k(_,A){var C=_&&_!==g.lastExecuted?_:g.lastExecuted;return d[C][A]}return g.set({label:l("Highlight"),tooltip:!0,lastExecuted:f.model,commandValue:f.model,isToggleable:!0}),g.bind("icon").to(b,"value",function(_){return _tt(k(_,"type"))}),g.bind("color").to(b,"value",function(_){return k(_,"color")}),g.bind("commandValue").to(b,"value",function(_){return k(_,"model")}),g.bind("isOn").to(b,"value",function(_){return!!_}),g.delegate("execute").to(v),v.bind("isEnabled").to(b,"isEnabled"),Th(v,function(){var _=e.map(function(A){var C=s.create("highlight:"+A.model);return o.listenTo(C,"execute",function(){v.buttonView.set({lastExecuted:A.model})}),C});return _.push(new QC),_.push(s.create("removeHighlight")),_},{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:l("Text highlight toolbar")}),function(_){var A=_.buttonView.actionView;A.iconView.bind("fillColor").to(_.buttonView,"color")}(v),g.on("execute",function(){c.execute("highlight",{value:g.commandValue})}),o.listenTo(v,"execute",function(){c.editing.view.focus()}),v})}}],i=[{key:"pluginName",get:function(){return"HighlightUI"}}],n&&ktt(t.prototype,n),i&&ktt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function _tt(r){return r==="marker"?'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>':'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>'}function Lp(r){return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(r)}function Att(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Lp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Lp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Lp(a)==="symbol"?a:String(a)),i)}var u,a}function qI(r,t){return qI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qI(r,t)}function mAt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=iA(r);if(t){var u=iA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function iA(r){return iA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iA(r)}var vAt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&qI(e,o)})(a,r);var t,n,i,u=mAt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[dAt,bAt]}},{key:"pluginName",get:function(){return"Highlight"}}],(n=null)&&Att(t.prototype,n),i&&Att(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function zp(r){return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(r)}function gAt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||Ctt(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fp(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=Ctt(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Ctt(r,t){if(r){if(typeof r=="string")return Ott(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ott(r,t):void 0}}function Ott(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Stt(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(zp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(zp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),zp(a)==="symbol"?a:String(a)),i)}var u,a}function YI(r,t){return YI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YI(r,t)}function wAt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=aA(r);if(t){var u=aA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function aA(r){return aA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},aA(r)}var kAt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&YI(e,o)})(a,r);var t,n,i,u=wAt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this,o=this.editor,c=new Map;o.data.processor.skipComments=!1,o.model.schema.addAttributeCheck(function(l,s){if(l.endsWith("$root")&&s.startsWith("$comment"))return!0}),o.conversion.for("upcast").elementToMarker({view:"$comment",model:function(l){var s=Oe(),f="$comment:".concat(s),d=l.getCustomProperty("$rawContent");return c.set(f,d),f}}),o.conversion.for("dataDowncast").markerToElement({model:"$comment",view:function(l,s){var f,d=s.writer,h=void 0,b=Fp(e.editor.model.document.getRootNames());try{for(b.s();!(f=b.n()).done;){var v=f.value;if((h=e.editor.model.document.getRoot(v)).hasAttribute(l.markerName))break}}catch(A){b.e(A)}finally{b.f()}var g=l.markerName,k=h.getAttribute(g),_=d.createUIElement("$comment");return d.setCustomProperty("$rawContent",k,_),_}}),o.model.document.registerPostFixer(function(l){var s,f=!1,d=o.model.document.differ.getChangedMarkers().filter(function(C){return C.name.startsWith("$comment:")}),h=Fp(d);try{for(h.s();!(s=h.n()).done;){var b=s.value,v=b.data,g=v.oldRange,k=v.newRange;if(!g||!k||g.root!=k.root){if(g){var _=g.root;_.hasAttribute(b.name)&&(l.removeAttribute(b.name,_),f=!0)}if(k){var A=k.root;A.rootName=="$graveyard"?(l.removeMarker(b.name),f=!0):A.hasAttribute(b.name)||(l.setAttribute(b.name,c.get(b.name)||"",A),f=!0)}}}}catch(C){h.e(C)}finally{h.f()}return f}),o.data.on("set",function(){var l,s=Fp(o.model.markers.getMarkersGroup("$comment"));try{for(s.s();!(l=s.n()).done;){var f=l.value;e.removeHtmlComment(f.name)}}catch(d){s.e(d)}finally{s.f()}},{priority:"high"}),o.model.on("deleteContent",function(l,s){var f,d=Fp(gAt(s,1)[0].getRanges());try{for(d.s();!(f=d.n()).done;){var h,b=f.value,v=o.model.schema.getLimitElement(b),g=o.model.createPositionAt(v,0),k=o.model.createPositionAt(v,"end"),_=Fp(g.isTouching(b.start)&&k.isTouching(b.end)?e.getHtmlCommentsInRange(o.model.createRange(g,k)):e.getHtmlCommentsInRange(b,{skipBoundaries:!0}));try{for(_.s();!(h=_.n()).done;){var A=h.value;e.removeHtmlComment(A)}}catch(C){_.e(C)}finally{_.f()}}}catch(C){d.e(C)}finally{d.f()}},{priority:"high"})}},{key:"createHtmlComment",value:function(e,o){var c=Oe(),l=this.editor.model,s=l.document.getRoot(e.root.rootName),f="$comment:".concat(c);return l.change(function(d){var h=d.createRange(e);return d.addMarker(f,{usingOperation:!0,affectsData:!0,range:h}),d.setAttribute(f,o,s),f})}},{key:"removeHtmlComment",value:function(e){var o=this.editor,c=o.model.markers.get(e);return!!c&&(o.model.change(function(l){l.removeMarker(c)}),!0)}},{key:"getHtmlCommentData",value:function(e){var o=this.editor.model.markers.get(e);if(!o)return null;var c,l="",s=Fp(this.editor.model.document.getRoots());try{for(s.s();!(c=s.n()).done;){var f=c.value;if(f.hasAttribute(e)){l=f.getAttribute(e);break}}}catch(d){s.e(d)}finally{s.f()}return{content:l,position:o.getStart()}}},{key:"getHtmlCommentsInRange",value:function(e){var o=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).skipBoundaries,c=!(o!==void 0&&o);return Array.from(this.editor.model.markers.getMarkersGroup("$comment")).filter(function(l){return function(s,f){var d=s.getRange().start;return(d.isAfter(f.start)||c&&d.isEqual(f.start))&&(d.isBefore(f.end)||c&&d.isEqual(f.end))}(l,e)}).map(function(l){return l.name})}}],i=[{key:"pluginName",get:function(){return"HtmlComment"}}],n&&Stt(t.prototype,n),i&&Stt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);const _At=function(r,t,n,i){var u=-1,a=r==null?0:r.length;for(i&&a&&(n=r[++u]);++u<a;)n=t(n,r[u],u,r);return n},AAt=function(r){return function(t){return r==null?void 0:r[t]}}({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"});var CAt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,OAt=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const SAt=function(r){return(r=xy(r))&&r.replace(CAt,AAt).replace(OAt,"")};var jAt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const PAt=function(r){return r.match(jAt)||[]};var EAt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const xAt=function(r){return EAt.test(r)};var jtt="\\ud800-\\udfff",Ptt="\\u2700-\\u27bf",Ett="a-z\\xdf-\\xf6\\xf8-\\xff",xtt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ttt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dtt="["+Ttt+"]",Rtt="\\d+",TAt="["+Ptt+"]",Itt="["+Ett+"]",Btt="[^"+jtt+Ttt+Rtt+Ptt+Ett+xtt+"]",Mtt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ntt="[\\ud800-\\udbff][\\udc00-\\udfff]",Vp="["+xtt+"]",Ltt="(?:"+Itt+"|"+Btt+")",DAt="(?:"+Vp+"|"+Btt+")",ztt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ftt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Vtt="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Utt="[\\ufe0e\\ufe0f]?",RAt=Utt+Vtt+("(?:\\u200d(?:"+["[^"+jtt+"]",Mtt,Ntt].join("|")+")"+Utt+Vtt+")*"),IAt="(?:"+[TAt,Mtt,Ntt].join("|")+")"+RAt,BAt=RegExp([Vp+"?"+Itt+"+"+ztt+"(?="+[Dtt,Vp,"$"].join("|")+")",DAt+"+"+Ftt+"(?="+[Dtt,Vp+Ltt,"$"].join("|")+")",Vp+"?"+Ltt+"+"+ztt,Vp+"+"+Ftt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rtt,IAt].join("|"),"g");const MAt=function(r){return r.match(BAt)||[]},NAt=function(r,t,n){return r=xy(r),(t=n?void 0:t)===void 0?xAt(r)?MAt(r):PAt(r):r.match(t)||[]};var LAt=RegExp("['\u2019]","g");const zAt=function(r){return function(t){return _At(NAt(SAt(t).replace(LAt,"")),r,"")}}(function(r,t,n){return r+(n?" ":"")+NY(t)});function pb(r){return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pb(r)}function Htt(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function Gtt(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Htt(Object(n),!0).forEach(function(i){FAt(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Htt(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function FAt(r,t,n){return t=function(i){var u=function(a,e){if(pb(a)!=="object"||a===null)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var c=o.call(a,e||"default");if(pb(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}(i,"string");return pb(u)==="symbol"?u:String(u)}(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Wtt(r){return function(t){if(Array.isArray(t))return KI(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||qtt(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $tt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||qtt(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qtt(r,t){if(r){if(typeof r=="string")return KI(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KI(r,t):void 0}}function KI(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Zo(r,t,n,i){t&&function(u,a,e){if(a.attributes)for(var o=0,c=Object.entries(a.attributes);o<c.length;o++){var l=$tt(c[o],1)[0];u.removeAttribute(l,e)}if(a.styles)for(var s=0,f=Object.keys(a.styles);s<f.length;s++){var d=f[s];u.removeStyle(d,e)}a.classes&&u.removeClass(a.classes,e)}(r,t,i),n&&Sr(r,n,i)}function Sr(r,t,n){if(t.attributes)for(var i=0,u=Object.entries(t.attributes);i<u.length;i++){var a=$tt(u[i],2),e=a[0],o=a[1];r.setAttribute(e,o,n)}t.styles&&r.setStyle(t.styles,n),t.classes&&r.addClass(t.classes,n)}function Up(r,t,n,i,u){for(var a=t.getAttribute(n),e={},o=0,c=["attributes","styles","classes"];o<c.length;o++){var l=c[o];if(l==i)if(i!="classes"){var s=new Map(Object.entries(a&&a[l]||{}));u(s),s.size&&(e[l]=Object.fromEntries(s))}else{var f=new Set(a&&a.classes||[]);u(f),f.size&&(e[l]=Array.from(f))}else a&&a[l]&&(e[l]=a[l])}Object.keys(e).length?t.is("documentSelection")?r.setSelectionAttribute(n,e):r.setAttribute(n,e,t):a&&(t.is("documentSelection")?r.removeSelectionAttribute(n):r.removeAttribute(n,t))}function er(r){return"html".concat(zAt(r).replace(/ /g,""),"Attributes")}function VAt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return Ytt(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Ytt(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Ytt(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function ZI(r){var t=r.model;return function(n,i){return i.writer.createElement(t,{htmlContent:n.getCustomProperty("$rawContent")})}}function UAt(r,t){var n=t.view,i=t.isInline,u=r.t;return function(a,e){var o=e.writer,c=u("HTML object"),l=cA(n,a,o),s=a.getAttribute(er(n));return o.addClass("html-object-embed__content",l),s&&Sr(o,s,l),xo(o.createContainerElement(i?"span":"div",{class:"html-object-embed","data-html-object-embed-label":c},l),o,{label:c})}}function cA(r,t,n){return n.createRawElement(r,null,function(i,u){u.setContentOf(i,t.getAttribute("htmlContent"))})}function HAt(r,t){var n=r.view,i=r.model,u=r.allowEmpty;return function(e){e.on("element:".concat(n),function(o,c,l){var s=t.processViewAttributes(c.viewItem,l);if(s||l.consumable.test(c.viewItem,{name:!0})){if(s=s||{},l.consumable.consume(c.viewItem,{name:!0}),c.modelRange||(c=Object.assign(c,l.convertChildren(c.viewItem,c.modelCursor))),u&&c.modelRange.isCollapsed&&Object.keys(s).length){var f=l.writer.createElement("htmlEmptyElement");if(!l.safeInsert(f,c.modelCursor))return;var d=l.getSplitParts(f);return c.modelRange=l.writer.createRange(c.modelRange.start,l.writer.createPositionAfter(d[d.length-1])),l.updateConversionResult(f,c),void a(f,s,l)}var h,b=VAt(c.modelRange.getItems());try{for(b.s();!(h=b.n()).done;)a(h.value,s,l)}catch(v){b.e(v)}finally{b.f()}}},{priority:"low"})};function a(e,o,c){if(c.schema.checkAttribute(e,i)){var l=function(s,f){var d=Mr(s),h="attributes";for(h in f)d[h]=h=="classes"?Array.from(new Set([].concat(Wtt(s[h]||[]),Wtt(f[h])))):Gtt(Gtt({},s[h]),f[h]);return d}(o,e.getAttribute(i)||{});c.writer.setAttribute(i,l,e)}}}function Ktt(r,t){var n=r.model,i=r.view;return function(u,a){var e=a.writer,o=a.consumable;if(!u.hasAttribute(n))return null;var c=e.createContainerElement(i),l=u.getAttribute(n);return o.consume(u,"attribute:".concat(n)),Sr(e,l,c),c.getFillerOffset=function(){return null},t?xo(c,e):c}}function yb(r,t){var n=r.view;return function(i){i.on("element:".concat(n),function(u,a,e){if(a.modelRange&&!a.modelRange.isCollapsed){var o=t.processViewAttributes(a.viewItem,e);o&&e.writer.setAttribute(er(a.viewItem.name),o,a.modelRange)}},{priority:"low"})}}function hb(r){var t=r.view,n=r.model;return function(i){i.on("attribute:".concat(er(t),":").concat(n),function(u,a,e){if(e.consumable.consume(a.item,u.name)){var o=a.attributeOldValue,c=a.attributeNewValue;Zo(e.writer,o,c,e.mapper.toViewElement(a.item))}})}}const GAt=[{model:"codeBlock",view:"pre"},{model:"paragraph",view:"p"},{model:"blockQuote",view:"blockquote"},{model:"listItem",view:"li"},{model:"pageBreak",view:"div"},{model:"rawHtml",view:"div"},{model:"table",view:"table"},{model:"tableRow",view:"tr"},{model:"tableCell",view:"td"},{model:"tableCell",view:"th"},{model:"tableColumnGroup",view:"colgroup"},{model:"tableColumn",view:"col"},{model:"caption",view:"caption"},{model:"caption",view:"figcaption"},{model:"imageBlock",view:"img"},{model:"imageInline",view:"img"},{model:"htmlP",view:"p",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlBlockquote",view:"blockquote",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlTable",view:"table",modelSchema:{allowWhere:"$block",isBlock:!0}},{model:"htmlTbody",view:"tbody",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlThead",view:"thead",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlTfoot",view:"tfoot",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlCaption",view:"caption",modelSchema:{allowIn:"htmlTable",allowChildren:"$text",isBlock:!1}},{model:"htmlColgroup",view:"colgroup",modelSchema:{allowIn:"htmlTable",allowChildren:"col",isBlock:!1}},{model:"htmlCol",view:"col",modelSchema:{allowIn:"htmlColgroup",isBlock:!1}},{model:"htmlTr",view:"tr",modelSchema:{allowIn:["htmlTable","htmlThead","htmlTbody"],isLimit:!0}},{model:"htmlTd",view:"td",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlTh",view:"th",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlFigure",view:"figure",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFigcaption",view:"figcaption",modelSchema:{allowIn:"htmlFigure",allowChildren:"$text",isBlock:!1}},{model:"htmlAddress",view:"address",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlAside",view:"aside",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlMain",view:"main",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDetails",view:"details",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSummary",view:"summary",modelSchema:{allowChildren:"$text",allowIn:"htmlDetails",isBlock:!1}},{model:"htmlDiv",view:"div",paragraphLikeModel:"htmlDivParagraph",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlFieldset",view:"fieldset",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlLegend",view:"legend",modelSchema:{allowIn:"htmlFieldset",allowChildren:"$text"}},{model:"htmlHeader",view:"header",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFooter",view:"footer",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlForm",view:"form",modelSchema:{inheritAllFrom:"$container",isBlock:!0}},{model:"htmlHgroup",view:"hgroup",modelSchema:{allowChildren:["htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6"],isBlock:!1}},{model:"htmlH1",view:"h1",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH2",view:"h2",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH3",view:"h3",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH4",view:"h4",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH5",view:"h5",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH6",view:"h6",modelSchema:{inheritAllFrom:"$block"}},{model:"$htmlList",modelSchema:{allowWhere:"$container",allowChildren:["$htmlList","htmlLi"],isBlock:!1}},{model:"htmlDir",view:"dir",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlMenu",view:"menu",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlUl",view:"ul",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlOl",view:"ol",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlLi",view:"li",modelSchema:{allowIn:"$htmlList",allowChildren:"$text",isBlock:!1}},{model:"htmlPre",view:"pre",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlArticle",view:"article",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSection",view:"section",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlNav",view:"nav",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDivDl",view:"div",modelSchema:{allowChildren:["htmlDt","htmlDd"],allowIn:"htmlDl"}},{model:"htmlDl",view:"dl",modelSchema:{allowWhere:"$container",allowChildren:["htmlDt","htmlDd","htmlDivDl"],isBlock:!1}},{model:"htmlDt",view:"dt",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlDd",view:"dd",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlCenter",view:"center",modelSchema:{inheritAllFrom:"$container",isBlock:!1}}],WAt=[{model:"htmlLiAttributes",view:"li",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlOlAttributes",view:"ol",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlUlAttributes",view:"ul",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"table"},{model:"htmlTheadAttributes",view:"thead",appliesToBlock:"table"},{model:"htmlTbodyAttributes",view:"tbody",appliesToBlock:"table"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"imageBlock"},{model:"htmlAcronym",view:"acronym",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTt",view:"tt",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlFont",view:"font",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTime",view:"time",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlVar",view:"var",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBig",view:"big",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSmall",view:"small",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSamp",view:"samp",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlQ",view:"q",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlOutput",view:"output",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlKbd",view:"kbd",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdi",view:"bdi",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdo",view:"bdo",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlAbbr",view:"abbr",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlA",view:"a",priority:5,coupledAttribute:"linkHref",attributeProperties:{copyOnEnter:!0}},{model:"htmlStrong",view:"strong",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlB",view:"b",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlI",view:"i",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlEm",view:"em",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlS",view:"s",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDel",view:"del",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlIns",view:"ins",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlU",view:"u",coupledAttribute:"underline",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSub",view:"sub",coupledAttribute:"subscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSup",view:"sup",coupledAttribute:"superscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCode",view:"code",coupledAttribute:"code",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlMark",view:"mark",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSpan",view:"span",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCite",view:"cite",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlLabel",view:"label",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDfn",view:"dfn",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlObject",view:"object",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlIframe",view:"iframe",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlInput",view:"input",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlButton",view:"button",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlTextarea",view:"textarea",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlSelect",view:"select",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlVideo",view:"video",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlEmbed",view:"embed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlOembed",view:"oembed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlAudio",view:"audio",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlImg",view:"img",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlCanvas",view:"canvas",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlMeter",view:"meter",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlProgress",view:"progress",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlScript",view:"script",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlStyle",view:"style",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlCustomElement",view:"$customElement",modelSchema:{allowWhere:["$text","$block"],allowAttributesOf:"$inlineObject",isInline:!0}}],$At=gO(function(r,t,n,i){yN(r,t,n,i)});function On(r){return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(r)}function Ztt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||Jtt(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bb(){bb=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&On(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(On(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}function Qtt(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function Sn(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qtt(Object(n),!0).forEach(function(i){qAt(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Qtt(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function qAt(r,t,n){return(t=eet(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function $r(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=Jtt(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Jtt(r,t){if(r){if(typeof r=="string")return Xtt(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xtt(r,t):void 0}}function Xtt(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function tet(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,eet(i.key),i)}}function eet(r){var t=function(n,i){if(On(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(On(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return On(t)==="symbol"?t:String(t)}function QI(r,t){return QI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QI(r,t)}function YAt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=uA(r);if(t){var u=uA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(On(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function uA(r){return uA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uA(r)}var Hp=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&QI(e,o)})(a,r);var t,n,i,u=YAt(a);function a(){var e;return function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.apply(this,arguments))._definitions=[],e}return t=a,n=[{key:"init",value:function(){var e,o=$r(GAt);try{for(o.s();!(e=o.n()).done;){var c=e.value;this.registerBlockElement(c)}}catch(d){o.e(d)}finally{o.f()}var l,s=$r(WAt);try{for(s.s();!(l=s.n()).done;){var f=l.value;this.registerInlineElement(f)}}catch(d){s.e(d)}finally{s.f()}}},{key:"registerBlockElement",value:function(e){this._definitions.push(Sn(Sn({},e),{},{isBlock:!0}))}},{key:"registerInlineElement",value:function(e){this._definitions.push(Sn(Sn({},e),{},{isInline:!0}))}},{key:"extendBlockElement",value:function(e){this._extendDefinition(Sn(Sn({},e),{},{isBlock:!0}))}},{key:"extendInlineElement",value:function(e){this._extendDefinition(Sn(Sn({},e),{},{isInline:!0}))}},{key:"getDefinitionsForView",value:function(e){var o,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],l=new Set,s=$r(this._getMatchingViewDefinitions(e));try{for(s.s();!(o=s.n()).done;){var f=o.value;if(c){var d,h=$r(this._getReferences(f.model));try{for(h.s();!(d=h.n()).done;){var b=d.value;l.add(b)}}catch(v){h.e(v)}finally{h.f()}}l.add(f)}}catch(v){s.e(v)}finally{s.f()}return l}},{key:"getDefinitionsForModel",value:function(e){return this._definitions.filter(function(o){return o.model==e})}},{key:"_getMatchingViewDefinitions",value:function(e){return this._definitions.filter(function(o){return o.view&&function(c,l){return typeof c=="string"?c===l:c instanceof RegExp&&c.test(l)}(e,o.view)})}},{key:"_getReferences",value:bb().mark(function e(o){var c,l,s,f,d,h,b,v,g,k,_,A=this;return bb().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:c=["inheritAllFrom","inheritTypesFrom","allowWhere","allowContentOf","allowAttributesOf"],l=this._definitions.filter(function(S){return S.model==o}),s=$r(l),C.prev=3,s.s();case 5:if((f=s.n()).done){C.next=42;break}if(d=f.value.modelSchema){C.next=9;break}return C.abrupt("continue",40);case 9:h=$r(c),C.prev=10,h.s();case 12:if((b=h.n()).done){C.next=32;break}v=b.value,g=$r(Kt(d[v]||[])),C.prev=15,_=bb().mark(function S(){var P,E,R,I,z;return bb().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:P=k.value,E=A._definitions.filter(function(tt){return tt.model==P}),R=$r(E),F.prev=3,R.s();case 5:if((I=R.n()).done){F.next=13;break}if(z=I.value,P===o){F.next=11;break}return F.delegateYield(A._getReferences(z.model),"t0",9);case 9:return F.next=11,z;case 11:F.next=5;break;case 13:F.next=18;break;case 15:F.prev=15,F.t1=F.catch(3),R.e(F.t1);case 18:return F.prev=18,R.f(),F.finish(18);case 21:case"end":return F.stop()}},S,null,[[3,15,18,21]])}),g.s();case 18:if((k=g.n()).done){C.next=22;break}return C.delegateYield(_(),"t0",20);case 20:C.next=18;break;case 22:C.next=27;break;case 24:C.prev=24,C.t1=C.catch(15),g.e(C.t1);case 27:return C.prev=27,g.f(),C.finish(27);case 30:C.next=12;break;case 32:C.next=37;break;case 34:C.prev=34,C.t2=C.catch(10),h.e(C.t2);case 37:return C.prev=37,h.f(),C.finish(37);case 40:C.next=5;break;case 42:C.next=47;break;case 44:C.prev=44,C.t3=C.catch(3),s.e(C.t3);case 47:return C.prev=47,s.f(),C.finish(47);case 50:case"end":return C.stop()}},e,this,[[3,44,47,50],[10,34,37,40],[15,24,27,30]])})},{key:"_extendDefinition",value:function(e){var o=Array.from(this._definitions.entries()).filter(function(h){return Ztt(h,2)[1].model==e.model});if(o.length!=0){var c,l=$r(o);try{for(l.s();!(c=l.n()).done;){var s=Ztt(c.value,2),f=s[0],d=s[1];this._definitions[f]=$At({},d,e,function(h,b){return Array.isArray(h)?h.concat(b):void 0})}}catch(h){l.e(h)}finally{l.f()}}else this._definitions.push(e)}}],i=[{key:"pluginName",get:function(){return"DataSchema"}}],n&&tet(t.prototype,n),i&&tet(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);const KAt=function(r,t,n,i){for(var u=r.length,a=n+(i?1:-1);i?a--:++a<u;)if(t(r[a],a,r))return a;return-1},ZAt=function(r){return r!=r},QAt=function(r,t,n){for(var i=n-1,u=r.length;++i<u;)if(r[i]===t)return i;return-1},JAt=function(r,t,n){return t==t?QAt(r,t,n):KAt(r,ZAt,n)},XAt=function(r,t,n,i){for(var u=n-1,a=r.length;++u<a;)if(i(r[u],t))return u;return-1};var ret=Array.prototype.splice;const tCt=function(r,t,n,i){var u=i?XAt:JAt,a=-1,e=t.length,o=r;for(r===t&&(t=qA(t)),n&&(o=lN(r,Eb(n)));++a<e;)for(var c=0,l=t[a],s=n?n(l):l;(c=u(o,s,c,i))>-1;)o!==r&&ret.call(o,c,1),ret.call(r,c,1);return r},eCt=bN(function(r,t){return r&&r.length&&t&&t.length?tCt(r,t):r});var net=x(1710),rCt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dt()(net.Z,rCt),net.Z.locals;function Gp(r){return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(r)}function JI(r){return function(t){if(Array.isArray(t))return tB(t)}(r)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(r)||XI(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nCt(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||XI(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function oet(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,i)}return n}function iet(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oet(Object(n),!0).forEach(function(i){mb(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):oet(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function mb(r,t,n){return(t=cet(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function fe(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=XI(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function XI(r,t){if(r){if(typeof r=="string")return tB(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tB(r,t):void 0}}function tB(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function aet(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,cet(i.key),i)}}function cet(r){var t=function(n,i){if(Gp(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,i||"default");if(Gp(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(r,"string");return Gp(t)==="symbol"?t:String(t)}function eB(r,t){return eB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eB(r,t)}function oCt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=lA(r);if(t){var u=lA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function lA(r){return lA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lA(r)}var ee=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&eB(e,o)})(a,r);var t,n,i,u=oCt(a);function a(e){var o;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,e))._dataSchema=e.plugins.get("DataSchema"),o._allowedAttributes=new ze,o._disallowedAttributes=new ze,o._allowedElements=new Set,o._disallowedElements=new Set,o._dataInitialized=!1,o._coupledAttributes=null,o._registerElementsAfterInit(),o._registerElementHandlers(),o._registerCoupledAttributesPostFixer(),o._registerAssociatedHtmlAttributesPostFixer(),o}return t=a,n=[{key:"loadAllowedConfig",value:function(e){var o,c=this,l=fe(e);try{for(l.s();!(o=l.n()).done;){var s=o.value,f=s.name||/[\s\S]+/,d=fet(s);this.allowElement(f),d.forEach(function(h){return c.allowAttributes(h)})}}catch(h){l.e(h)}finally{l.f()}}},{key:"loadDisallowedConfig",value:function(e){var o,c=this,l=fe(e);try{for(l.s();!(o=l.n()).done;){var s=o.value,f=s.name||/[\s\S]+/,d=fet(s);d.length==0?this.disallowElement(f):d.forEach(function(h){return c.disallowAttributes(h)})}}catch(h){l.e(h)}finally{l.f()}}},{key:"loadAllowedEmptyElementsConfig",value:function(e){var o,c=fe(e);try{for(c.s();!(o=c.n()).done;){var l=o.value;this.allowEmptyElement(l)}}catch(s){c.e(s)}finally{c.f()}}},{key:"allowElement",value:function(e){var o,c=fe(this._dataSchema.getDefinitionsForView(e,!0));try{for(c.s();!(o=c.n()).done;){var l=o.value;this._addAllowedElement(l),this._coupledAttributes=null}}catch(s){c.e(s)}finally{c.f()}}},{key:"disallowElement",value:function(e){var o,c=fe(this._dataSchema.getDefinitionsForView(e,!1));try{for(c.s();!(o=c.n()).done;){var l=o.value;this._disallowedElements.add(l.view)}}catch(s){c.e(s)}finally{c.f()}}},{key:"allowEmptyElement",value:function(e){var o,c=fe(this._dataSchema.getDefinitionsForView(e,!0));try{for(c.s();!(o=c.n()).done;){var l=o.value;l.isInline&&this._dataSchema.extendInlineElement(iet(iet({},l),{},{allowEmpty:!0}))}}catch(s){c.e(s)}finally{c.f()}}},{key:"allowAttributes",value:function(e){this._allowedAttributes.add(e)}},{key:"disallowAttributes",value:function(e){this._disallowedAttributes.add(e)}},{key:"processViewAttributes",value:function(e,o){return uet(e,o,this._disallowedAttributes),uet(e,o,this._allowedAttributes)}},{key:"_addAllowedElement",value:function(e){var o=this;if(!this._allowedElements.has(e)){if(this._allowedElements.add(e),"appliesToBlock"in e&&typeof e.appliesToBlock=="string"){var c,l=fe(this._dataSchema.getDefinitionsForModel(e.appliesToBlock));try{for(l.s();!(c=l.n()).done;){var s=c.value;s.isBlock&&this._addAllowedElement(s)}}catch(f){l.e(f)}finally{l.f()}}this._dataInitialized&&this.editor.data.once("set",function(){o._fireRegisterEvent(e)},{priority:we.highest+1})}}},{key:"_registerElementsAfterInit",value:function(){var e=this;this.editor.data.on("init",function(){e._dataInitialized=!0;var o,c=fe(e._allowedElements);try{for(c.s();!(o=c.n()).done;){var l=o.value;e._fireRegisterEvent(l)}}catch(s){c.e(s)}finally{c.f()}},{priority:we.highest+1})}},{key:"_registerElementHandlers",value:function(){var e=this;this.on("register",function(o,c){var l=e.editor.model.schema;if(c.isObject&&!l.isRegistered(c.model))e._registerObjectElement(c);else if(c.isBlock)e._registerBlockElement(c);else{if(!c.isInline)throw new V("data-filter-invalid-definition",null,c);e._registerInlineElement(c)}o.stop()},{priority:"lowest"})}},{key:"_registerCoupledAttributesPostFixer",value:function(){var e=this,o=this.editor.model;o.document.registerPostFixer(function(c){var l,s=o.document.differ.getChanges(),f=!1,d=e._getCoupledAttributesMap(),h=fe(s);try{for(h.s();!(l=h.n()).done;){var b=l.value;if(b.type=="attribute"&&b.attributeNewValue===null){var v=d.get(b.attributeKey);if(v){var g,k=fe(b.range.getWalker({shallow:!0}));try{for(k.s();!(g=k.n()).done;){var _,A=g.value.item,C=fe(v);try{for(C.s();!(_=C.n()).done;){var S=_.value;A.hasAttribute(S)&&(c.removeAttribute(S,A),f=!0)}}catch(P){C.e(P)}finally{C.f()}}}catch(P){k.e(P)}finally{k.f()}}}}}catch(P){h.e(P)}finally{h.f()}return f})}},{key:"_registerAssociatedHtmlAttributesPostFixer",value:function(){var e=this.editor.model;e.document.registerPostFixer(function(o){var c,l=!1,s=fe(e.document.differ.getChanges());try{for(s.s();!(c=s.n()).done;){var f=c.value;if(f.type==="insert"&&f.name!=="$text"){var d,h=fe(f.attributes.keys());try{for(h.s();!(d=h.n()).done;){var b=d.value;b.startsWith("html")&&b.endsWith("Attributes")&&(e.schema.checkAttribute(f.name,b)||(o.removeAttribute(b,f.position.nodeAfter),l=!0))}}catch(v){h.e(v)}finally{h.f()}}}}catch(v){s.e(v)}finally{s.f()}return l})}},{key:"_getCoupledAttributesMap",value:function(){if(this._coupledAttributes)return this._coupledAttributes;this._coupledAttributes=new Map;var e,o=fe(this._allowedElements);try{for(o.s();!(e=o.n()).done;){var c=e.value;if(c.coupledAttribute&&c.model){var l=this._coupledAttributes.get(c.coupledAttribute);l?l.push(c.model):this._coupledAttributes.set(c.coupledAttribute,[c.model])}}}catch(s){o.e(s)}finally{o.f()}return this._coupledAttributes}},{key:"_fireRegisterEvent",value:function(e){e.view&&this._disallowedElements.has(e.view)||this.fire(e.view?"register:".concat(e.view):"register",e)}},{key:"_registerObjectElement",value:function(e){var o=this.editor,c=o.model.schema,l=o.conversion,s=e.view,f=e.model;c.register(f,e.modelSchema),s&&(c.extend(e.model,{allowAttributes:[er(s),"htmlContent"]}),o.data.registerRawContentMatcher({name:s}),l.for("upcast").elementToElement({view:s,model:ZI(e),converterPriority:we.low+2}),l.for("upcast").add(yb(e,this)),l.for("editingDowncast").elementToStructure({model:{name:f,attributes:[er(s)]},view:UAt(o,e)}),l.for("dataDowncast").elementToElement({model:f,view:function(d,h){var b=h.writer;return cA(s,d,b)}}),l.for("dataDowncast").add(hb(e)))}},{key:"_registerBlockElement",value:function(e){var o=this.editor,c=o.model.schema,l=o.conversion,s=e.view,f=e.model;if(!c.isRegistered(e.model)){if(c.register(e.model,e.modelSchema),!s)return;l.for("upcast").elementToElement({model:f,view:s,converterPriority:we.low+2}),l.for("downcast").elementToElement({model:f,view:s})}s&&(c.extend(e.model,{allowAttributes:er(s)}),l.for("upcast").add(yb(e,this)),l.for("downcast").add(hb(e)))}},{key:"_registerInlineElement",value:function(e){var o,c,l,s=this.editor,f=s.model.schema,d=s.conversion,h=e.model;e.appliesToBlock||(f.extend("$text",{allowAttributes:h}),e.attributeProperties&&f.setAttributeProperties(h,e.attributeProperties),d.for("upcast").add(HAt(e,this)),d.for("downcast").attributeToElement({model:h,view:(o=e,c=o.priority,l=o.view,function(b,v){if(b){var g=v.writer,k=g.createAttributeElement(l,null,{priority:c});return Sr(g,b,k),k}})}),e.allowEmpty&&(f.setAttributeProperties(h,{copyFromObject:!1}),f.isRegistered("htmlEmptyElement")||f.register("htmlEmptyElement",{inheritAllFrom:"$inlineObject"}),s.data.htmlProcessor.domConverter.registerInlineObjectMatcher(function(b){return b.name==e.view&&b.isEmpty&&Array.from(b.getAttributeKeys()).length?{name:!0}:null}),d.for("editingDowncast").elementToElement({model:"htmlEmptyElement",view:Ktt(e,!0)}),d.for("dataDowncast").elementToElement({model:"htmlEmptyElement",view:Ktt(e)})))}}],i=[{key:"pluginName",get:function(){return"DataFilter"}},{key:"requires",get:function(){return[Hp,kn]}}],n&&aet(t.prototype,n),i&&aet(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function uet(r,t,n){var i=function(d,h,b){var v,g=h.consumable,k=b.matchAll(d)||[],_=[],A=fe(k);try{for(A.s();!(v=A.n()).done;){var C=v.value;iCt(g,d,C),delete C.match.name,g.consume(d,C.match),_.push(C)}}catch(S){A.e(S)}finally{A.f()}return _}(r,t,n),u=function(d){var h,b={attributes:new Set,classes:new Set,styles:new Set},v=fe(d);try{for(v.s();!(h=v.n()).done;){var g=h.value,k=function(A){(g.match[A]||[]).forEach(function(C){return b[A].add(C)})};for(var _ in b)k(_)}}catch(A){v.e(A)}finally{v.f()}return b}(i),a=u.attributes,e=u.styles,o=u.classes,c={};if(a.size){var l,s=fe(a);try{for(s.s();!(l=s.n()).done;){var f=l.value;J3(f)||a.delete(f)}}catch(d){s.e(d)}finally{s.f()}}return a.size&&(c.attributes=set(a,function(d){return r.getAttribute(d)})),e.size&&(c.styles=set(e,function(d){return r.getStyle(d)})),o.size&&(c.classes=Array.from(o)),Object.keys(c).length?c:null}function iCt(r,t,n){for(var i=0,u=["attributes","classes","styles"];i<u.length;i++){var a=u[i],e=n.match[a];if(e)for(var o=0,c=Array.from(e);o<c.length;o++){var l=c[o];r.test(t,mb({},a,[l]))||eCt(e,l)}}}function set(r,t){var n,i={},u=fe(r);try{for(u.s();!(n=u.n()).done;){var a=n.value;t(a)!==void 0&&(i[a]=t(a))}}catch(e){u.e(e)}finally{u.f()}return i}function rB(r,t){var n=r.name,i=r[t];return Te(i)?Object.entries(i).map(function(u){var a=nCt(u,2),e=a[0],o=a[1];return mb({name:n},t,mb({},e,o))}):Array.isArray(i)?i.map(function(u){return mb({name:n},t,[u])}):[r]}function fet(r){var t=r.name,n=r.attributes,i=r.classes,u=r.styles,a=[];return n&&a.push.apply(a,JI(rB({name:t,attributes:n},"attributes"))),i&&a.push.apply(a,JI(rB({name:t,classes:i},"classes"))),u&&a.push.apply(a,JI(rB({name:t,styles:u},"styles"))),a}function Wp(r){return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(r)}function det(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Wp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Wp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Wp(a)==="symbol"?a:String(a)),i)}var u,a}function nB(r,t){return nB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nB(r,t)}function aCt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=sA(r);if(t){var u=sA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function sA(r){return sA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sA(r)}var cCt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&nB(e,o)})(a,r);var t,n,i,u=aCt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[ee]}},{key:"pluginName",get:function(){return"CodeBlockElementSupport"}}],(n=[{key:"init",value:function(){var e=this;if(this.editor.plugins.has("CodeBlockEditing")){var o=this.editor.plugins.get(ee);o.on("register:pre",function(c,l){if(l.model==="codeBlock"){var s=e.editor,f=s.model.schema,d=s.conversion;f.extend("codeBlock",{allowAttributes:["htmlPreAttributes","htmlContentAttributes"]}),d.for("upcast").add(function(h){return function(b){b.on("element:code",function(v,g,k){var _=g.viewItem,A=_.parent;function C(S,P){var E=h.processViewAttributes(S,k);E&&k.writer.setAttribute(P,E,g.modelRange)}A&&A.is("element","pre")&&(C(A,"htmlPreAttributes"),C(_,"htmlContentAttributes"))},{priority:"low"})}}(o)),d.for("downcast").add(function(h){h.on("attribute:htmlPreAttributes:codeBlock",function(b,v,g){if(g.consumable.consume(v.item,b.name)){var k=v.attributeOldValue,_=v.attributeNewValue,A=g.mapper.toViewElement(v.item).parent;Zo(g.writer,k,_,A)}}),h.on("attribute:htmlContentAttributes:codeBlock",function(b,v,g){if(g.consumable.consume(v.item,b.name)){var k=v.attributeOldValue,_=v.attributeNewValue,A=g.mapper.toViewElement(v.item);Zo(g.writer,k,_,A)}})}),c.stop()}})}}}])&&det(t.prototype,n),i&&det(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function $p(r){return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(r)}function uCt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return pet(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return pet(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function pet(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function yet(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if($p(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if($p(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),$p(a)==="symbol"?a:String(a)),i)}var u,a}function oB(r,t){return oB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oB(r,t)}function lCt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=fA(r);if(t){var u=fA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&($p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function fA(r){return fA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fA(r)}var sCt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&oB(e,o)})(a,r);var t,n,i,u=lCt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[ee]}},{key:"pluginName",get:function(){return"DualContentModelElementSupport"}}],(n=[{key:"init",value:function(){var e=this;this.editor.plugins.get(ee).on("register",function(o,c){var l=c,s=e.editor,f=s.model.schema,d=s.conversion;if(l.paragraphLikeModel&&!f.isRegistered(l.model)&&!f.isRegistered(l.paragraphLikeModel)){var h={model:l.paragraphLikeModel,view:l.view};f.register(l.model,l.modelSchema),f.register(h.model,{inheritAllFrom:"$block"}),d.for("upcast").elementToElement({view:l.view,model:function(b,v){var g=v.writer;return e._hasBlockContent(b)?g.createElement(l.model):g.createElement(h.model)},converterPriority:we.low+.5}),d.for("downcast").elementToElement({view:l.view,model:l.model}),e._addAttributeConversion(l),d.for("downcast").elementToElement({view:h.view,model:h.model}),e._addAttributeConversion(h),o.stop()}})}},{key:"_hasBlockContent",value:function(e){var o,c=this.editor.editing.view,l=c.domConverter.blockElements,s=uCt(c.createRangeIn(e).getItems());try{for(s.s();!(o=s.n()).done;){var f=o.value;if(f.is("element")&&l.includes(f.name))return!0}}catch(d){s.e(d)}finally{s.f()}return!1}},{key:"_addAttributeConversion",value:function(e){var o=this.editor,c=o.conversion,l=o.plugins.get(ee);o.model.schema.extend(e.model,{allowAttributes:er(e.view)}),c.for("upcast").add(yb(e,l)),c.for("downcast").add(hb(e))}}])&&yet(t.prototype,n),i&&yet(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function qp(r){return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(r)}function fCt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return het(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return het(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function het(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function bet(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(qp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(qp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),qp(a)==="symbol"?a:String(a)),i)}var u,a}function iB(r,t){return iB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iB(r,t)}function dCt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=dA(r);if(t){var u=dA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function dA(r){return dA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dA(r)}var pCt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&iB(e,o)})(a,r);var t,n,i,u=dCt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this.editor;if(e.plugins.has("HeadingEditing")){var o=e.config.get("heading.options");this.registerHeadingElements(e,o)}}},{key:"registerHeadingElements",value:function(e,o){var c,l=e.plugins.get(Hp),s=[],f=fCt(o);try{for(f.s();!(c=f.n()).done;){var d=c.value;"model"in d&&"view"in d&&(l.registerBlockElement({view:d.view,model:d.model}),s.push(d.model))}}catch(h){f.e(h)}finally{f.f()}l.extendBlockElement({model:"htmlHgroup",modelSchema:{allowChildren:s}})}}],i=[{key:"requires",get:function(){return[Hp,zh]}},{key:"pluginName",get:function(){return"HeadingElementSupport"}}],n&&bet(t.prototype,n),i&&bet(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function yCt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return met(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return met(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function met(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function pA(r,t,n){var i,u=yCt(r.createRangeOn(t).getWalker());try{for(u.s();!(i=u.n()).done;){var a=i.value.item;if(a.is("element",n))return a}}catch(e){u.e(e)}finally{u.f()}}function Yp(r){return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(r)}function vet(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Yp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Yp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Yp(a)==="symbol"?a:String(a)),i)}var u,a}function aB(r,t){return aB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aB(r,t)}function hCt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=yA(r);if(t){var u=yA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function yA(r){return yA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yA(r)}var bCt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&aB(e,o)})(a,r);var t,n,i,u=hCt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[ee]}},{key:"pluginName",get:function(){return"ImageElementSupport"}}],(n=[{key:"init",value:function(){var e=this.editor;if(e.plugins.has("ImageInlineEditing")||e.plugins.has("ImageBlockEditing")){var o=e.model.schema,c=e.conversion,l=e.plugins.get(ee);l.on("register:figure",function(){c.for("upcast").add(function(s){return function(f){f.on("element:figure",function(d,h,b){var v=h.viewItem;if(h.modelRange&&v.hasClass("image")){var g=s.processViewAttributes(v,b);g&&b.writer.setAttribute("htmlFigureAttributes",g,h.modelRange)}},{priority:"low"})}}(l))}),l.on("register:img",function(s,f){f.model!=="imageBlock"&&f.model!=="imageInline"||(o.isRegistered("imageBlock")&&o.extend("imageBlock",{allowAttributes:["htmlImgAttributes","htmlFigureAttributes","htmlLinkAttributes"]}),o.isRegistered("imageInline")&&o.extend("imageInline",{allowAttributes:["htmlA","htmlImgAttributes"]}),c.for("upcast").add(function(d){return function(h){h.on("element:img",function(b,v,g){if(v.modelRange){var k=v.viewItem,_=d.processViewAttributes(k,g);_&&g.writer.setAttribute("htmlImgAttributes",_,v.modelRange)}},{priority:"low"})}}(l)),c.for("downcast").add(function(d){function h(v){d.on("attribute:".concat(v,":imageInline"),function(g,k,_){if(_.consumable.consume(k.item,g.name)){var A=k.attributeOldValue,C=k.attributeNewValue,S=_.mapper.toViewElement(k.item);Zo(_.writer,A,C,S)}},{priority:"low"})}function b(v,g){d.on("attribute:".concat(g,":imageBlock"),function(k,_,A){if(A.consumable.test(_.item,k.name)){var C=_.attributeOldValue,S=_.attributeNewValue,P=A.mapper.toViewElement(_.item),E=pA(A.writer,P,v);E&&(Zo(A.writer,C,S,E),A.consumable.consume(_.item,k.name))}},{priority:"low"}),v==="a"&&d.on("attribute:linkHref:imageBlock",function(k,_,A){if(A.consumable.consume(_.item,"attribute:htmlLinkAttributes:imageBlock")){var C=A.mapper.toViewElement(_.item),S=pA(A.writer,C,"a");Sr(A.writer,_.item.getAttribute("htmlLinkAttributes"),S)}},{priority:"low"})}h("htmlImgAttributes"),b("img","htmlImgAttributes"),b("figure","htmlFigureAttributes"),b("a","htmlLinkAttributes")}),e.plugins.has("LinkImage")&&c.for("upcast").add(function(d,h){var b=h.plugins.get("ImageUtils");return function(v){v.on("element:a",function(g,k,_){var A=k.viewItem;if(b.findViewImgElement(A)){var C=k.modelCursor.parent;if(C.is("element","imageBlock")){var S=d.processViewAttributes(A,_);S&&_.writer.setAttribute("htmlLinkAttributes",S,C)}}},{priority:"low"})}}(l,e)),s.stop())})}}}])&&vet(t.prototype,n),i&&vet(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Kp(r){return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(r)}function get(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Kp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Kp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Kp(a)==="symbol"?a:String(a)),i)}var u,a}function cB(r,t){return cB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cB(r,t)}function mCt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=hA(r);if(t){var u=hA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function hA(r){return hA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hA(r)}var vCt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&cB(e,o)})(a,r);var t,n,i,u=mCt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[ee]}},{key:"pluginName",get:function(){return"MediaEmbedElementSupport"}}],(n=[{key:"init",value:function(){var e=this.editor;if(e.plugins.has("MediaEmbed")&&!e.config.get("mediaEmbed.previewsInData")){var o=e.model.schema,c=e.conversion,l=this.editor.plugins.get(ee),s=this.editor.plugins.get(Hp),f=e.config.get("mediaEmbed.elementName");s.registerBlockElement({model:"media",view:f}),l.on("register:figure",function(){c.for("upcast").add(function(d){return function(h){h.on("element:figure",function(b,v,g){var k=v.viewItem;if(v.modelRange&&k.hasClass("media")){var _=d.processViewAttributes(k,g);_&&g.writer.setAttribute("htmlFigureAttributes",_,v.modelRange)}},{priority:"low"})}}(l))}),l.on("register:".concat(f),function(d,h){h.model==="media"&&(o.extend("media",{allowAttributes:[er(f),"htmlFigureAttributes"]}),c.for("upcast").add(function(b,v){var g=function(k,_,A){function C(S,P){var E=b.processViewAttributes(S,A);E&&A.writer.setAttribute(P,E,_.modelRange)}C(_.viewItem,er(v))};return function(k){k.on("element:".concat(v),g,{priority:"low"})}}(l,f)),c.for("dataDowncast").add(function(b){return function(v){function g(k,_){v.on("attribute:".concat(_,":media"),function(A,C,S){if(S.consumable.consume(C.item,A.name)){var P=C.attributeOldValue,E=C.attributeNewValue,R=S.mapper.toViewElement(C.item),I=pA(S.writer,R,k);Zo(S.writer,P,E,I)}})}g(b,er(b)),g("figure","htmlFigureAttributes")}}(f)),d.stop())})}}}])&&get(t.prototype,n),i&&get(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Zp(r){return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(r)}function wet(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Zp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Zp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Zp(a)==="symbol"?a:String(a)),i)}var u,a}function uB(r,t){return uB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uB(r,t)}function gCt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=bA(r);if(t){var u=bA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function bA(r){return bA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bA(r)}var wCt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&uB(e,o)})(a,r);var t,n,i,u=gCt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[ee]}},{key:"pluginName",get:function(){return"ScriptElementSupport"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor.plugins.get(ee);o.on("register:script",function(c,l){var s=e.editor,f=s.model.schema,d=s.conversion;f.register("htmlScript",l.modelSchema),f.extend("htmlScript",{allowAttributes:["htmlScriptAttributes","htmlContent"],isContent:!0}),s.data.registerRawContentMatcher({name:"script"}),d.for("upcast").elementToElement({view:"script",model:ZI(l)}),d.for("upcast").add(yb(l,o)),d.for("downcast").elementToElement({model:"htmlScript",view:function(h,b){return cA("script",h,b.writer)}}),d.for("downcast").add(hb(l)),c.stop()})}}])&&wet(t.prototype,n),i&&wet(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Qp(r){return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(r)}function ket(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return _et(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _et(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function _et(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Aet(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Qp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Qp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Qp(a)==="symbol"?a:String(a)),i)}var u,a}function lB(r,t){return lB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lB(r,t)}function kCt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=mA(r);if(t){var u=mA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function mA(r){return mA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mA(r)}var _Ct=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&lB(e,o)})(a,r);var t,n,i,u=kCt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,n=[{key:"init",value:function(){var e=this.editor;if(e.plugins.has("TableEditing")){var o=e.model.schema,c=e.conversion,l=e.plugins.get(ee),s=e.plugins.get("TableUtils");l.on("register:figure",function(){c.for("upcast").add(function(f){return function(d){d.on("element:figure",function(h,b,v){var g=b.viewItem;if(b.modelRange&&g.hasClass("table")){var k=f.processViewAttributes(g,v);k&&v.writer.setAttribute("htmlFigureAttributes",k,b.modelRange)}},{priority:"low"})}}(l))}),l.on("register:table",function(f,d){d.model==="table"&&(o.extend("table",{allowAttributes:["htmlTableAttributes","htmlFigureAttributes","htmlTheadAttributes","htmlTbodyAttributes"]}),c.for("upcast").add(function(h){return function(b){b.on("element:table",function(v,g,k){if(g.modelRange){var _=g.viewItem;P(_,"htmlTableAttributes");var A,C=ket(_.getChildren());try{for(C.s();!(A=C.n()).done;){var S=A.value;S.is("element","thead")&&P(S,"htmlTheadAttributes"),S.is("element","tbody")&&P(S,"htmlTbodyAttributes")}}catch(E){C.e(E)}finally{C.f()}}function P(E,R){var I=h.processViewAttributes(E,k);I&&k.writer.setAttribute(R,I,g.modelRange)}},{priority:"low"})}}(l)),c.for("downcast").add(function(h){function b(v,g){h.on("attribute:".concat(g,":table"),function(k,_,A){if(A.consumable.test(_.item,k.name)){var C=A.mapper.toViewElement(_.item),S=pA(A.writer,C,v);S&&(A.consumable.consume(_.item,k.name),Zo(A.writer,_.attributeOldValue,_.attributeNewValue,S))}})}b("table","htmlTableAttributes"),b("figure","htmlFigureAttributes"),b("thead","htmlTheadAttributes"),b("tbody","htmlTbodyAttributes")}),e.model.document.registerPostFixer(function(h,b){return function(v){var g,k=!1,_=ket(h.document.differ.getChanges());try{for(_.s();!(g=_.n()).done;){var A=g.value;if(A.type=="attribute"&&A.attributeKey=="headingRows"){var C=A.range.start.nodeAfter,S=C.getAttribute("htmlTheadAttributes"),P=C.getAttribute("htmlTbodyAttributes");S&&!A.attributeNewValue?(v.removeAttribute("htmlTheadAttributes",C),k=!0):P&&A.attributeNewValue==b.getRows(C)&&(v.removeAttribute("htmlTbodyAttributes",C),k=!0)}}}catch(E){_.e(E)}finally{_.f()}return k}}(e.model,s)),f.stop())})}}}],i=[{key:"requires",get:function(){return[ee]}},{key:"pluginName",get:function(){return"TableElementSupport"}}],n&&Aet(t.prototype,n),i&&Aet(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Jp(r){return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(r)}function Cet(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Jp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Jp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Jp(a)==="symbol"?a:String(a)),i)}var u,a}function sB(r,t){return sB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sB(r,t)}function ACt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=vA(r);if(t){var u=vA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function vA(r){return vA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vA(r)}var CCt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&sB(e,o)})(a,r);var t,n,i,u=ACt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[ee]}},{key:"pluginName",get:function(){return"StyleElementSupport"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor.plugins.get(ee);o.on("register:style",function(c,l){var s=e.editor,f=s.model.schema,d=s.conversion;f.register("htmlStyle",l.modelSchema),f.extend("htmlStyle",{allowAttributes:["htmlStyleAttributes","htmlContent"],isContent:!0}),s.data.registerRawContentMatcher({name:"style"}),d.for("upcast").elementToElement({view:"style",model:ZI(l)}),d.for("upcast").add(yb(l,o)),d.for("downcast").elementToElement({model:"htmlStyle",view:function(h,b){return cA("style",h,b.writer)}}),d.for("downcast").add(hb(l)),c.stop()})}}])&&Cet(t.prototype,n),i&&Cet(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Xp(r){return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(r)}function gA(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return Oet(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Oet(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Oet(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function jet(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(Xp(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(Xp(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),Xp(a)==="symbol"?a:String(a)),i)}var u,a}function fB(r,t){return fB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fB(r,t)}function OCt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=wA(r);if(t){var u=wA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(Xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function wA(r){return wA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wA(r)}var SCt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&fB(e,o)})(a,r);var t,n,i,u=OCt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[ee]}},{key:"pluginName",get:function(){return"DocumentListElementSupport"}}],(n=[{key:"init",value:function(){var e=this.editor;if(e.plugins.has("DocumentListEditing")){var o=e.model.schema,c=e.conversion,l=e.plugins.get(ee),s=e.plugins.get("DocumentListEditing"),f=["ul","ol","li"];s.registerDowncastStrategy({scope:"item",attributeName:"htmlLiAttributes",setAttributeOnDowncast:Sr}),s.registerDowncastStrategy({scope:"list",attributeName:"htmlUlAttributes",setAttributeOnDowncast:Sr}),s.registerDowncastStrategy({scope:"list",attributeName:"htmlOlAttributes",setAttributeOnDowncast:Sr}),l.on("register",function(d,h){if(f.includes(h.view)&&(d.stop(),!o.checkAttribute("$block","htmlLiAttributes"))){var b=f.map(function(v){return er(v)});o.extend("$block",{allowAttributes:b}),o.extend("$blockObject",{allowAttributes:b}),o.extend("$container",{allowAttributes:b}),c.for("upcast").add(function(v){v.on("element:ul",dB("htmlUlAttributes",l),{priority:"low"}),v.on("element:ol",dB("htmlOlAttributes",l),{priority:"low"}),v.on("element:li",dB("htmlLiAttributes",l),{priority:"low"})})}}),s.on("postFixer",function(d,h){var b,v=h.listNodes,g=h.writer,k=[],_=gA(v);try{for(_.s();!(b=_.n()).done;){var A=b.value,C=A.node,S=A.previous;if(S){var P=C.getAttribute("listIndent"),E=S.getAttribute("listIndent"),R=null;if(P>E?k[E]=S:P<E?(R=k[P],k.length=P):R=S,R){if(R.getAttribute("listType")==C.getAttribute("listType")){var I=Pet(R.getAttribute("listType")),z=R.getAttribute(I);!kv(C.getAttribute(I),z)&&g.model.schema.checkAttribute(C,I)&&(g.setAttribute(I,z,C),d.return=!0)}if(R.getAttribute("listItemId")==C.getAttribute("listItemId")){var F=R.getAttribute("htmlLiAttributes");!kv(C.getAttribute("htmlLiAttributes"),F)&&g.model.schema.checkAttribute(C,"htmlLiAttributes")&&(g.setAttribute("htmlLiAttributes",F,C),d.return=!0)}}}}}catch(tt){_.e(tt)}finally{_.f()}}),s.on("postFixer",function(d,h){var b,v=h.listNodes,g=h.writer,k=gA(v);try{for(k.s();!(b=k.n()).done;){var _=b.value.node,A=_.getAttribute("listType");A==="bulleted"&&_.getAttribute("htmlOlAttributes")&&(g.removeAttribute("htmlOlAttributes",_),d.return=!0),A==="numbered"&&_.getAttribute("htmlUlAttributes")&&(g.removeAttribute("htmlUlAttributes",_),d.return=!0)}}catch(C){k.e(C)}finally{k.f()}})}}},{key:"afterInit",value:function(){var e=this.editor;if(e.commands.get("indentList")){var o=e.commands.get("indentList");this.listenTo(o,"afterExecute",function(c,l){e.model.change(function(s){var f,d=gA(l);try{for(d.s();!(f=d.n()).done;){var h=f.value,b=Pet(h.getAttribute("listType"));e.model.schema.checkAttribute(h,b)&&s.setAttribute(b,{},h)}}catch(v){d.e(v)}finally{d.f()}})})}}}])&&jet(t.prototype,n),i&&jet(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function dB(r,t){return function(n,i,u){var a=i.viewItem;i.modelRange||Object.assign(i,u.convertChildren(i.viewItem,i.modelCursor));var e,o=t.processViewAttributes(a,u),c=gA(i.modelRange.getItems({shallow:!0}));try{for(c.s();!(e=c.n()).done;){var l=e.value;l.hasAttribute("listItemId")&&(l.hasAttribute(r)||u.writer.model.schema.checkAttribute(l,r)&&u.writer.setAttribute(r,o||{},l))}}catch(s){c.e(s)}finally{c.f()}}}function Pet(r){return r==="bulleted"?"htmlUlAttributes":"htmlOlAttributes"}function ty(r){return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(r)}function jCt(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(c,l){if(c){if(typeof c=="string")return Eet(c,l);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Eet(c,l)}}(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Eet(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function xet(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(ty(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(ty(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),ty(a)==="symbol"?a:String(a)),i)}var u,a}function pB(r,t){return pB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pB(r,t)}function PCt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=kA(r);if(t){var u=kA(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function kA(r){return kA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kA(r)}var ECt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&pB(e,o)})(a,r);var t,n,i,u=PCt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"requires",get:function(){return[ee,Hp]}},{key:"pluginName",get:function(){return"CustomElementSupport"}}],(n=[{key:"init",value:function(){var e=this,o=this.editor.plugins.get(ee),c=this.editor.plugins.get(Hp);o.on("register:$customElement",function(l,s){l.stop();var f=e.editor,d=f.model.schema,h=f.conversion,b=f.editing.view.domConverter.unsafeElements,v=f.data.htmlProcessor.domConverter.preElements;d.register(s.model,s.modelSchema),d.extend(s.model,{allowAttributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"],isContent:!0}),h.for("upcast").elementToElement({view:/.*/,model:function(g,k){if(g.name=="$comment"||!function(I){try{document.createElement(I)}catch(z){return!1}return!0}(g.name)||c.getDefinitionsForView(g.name).size)return null;b.includes(g.name)||b.push(g.name),v.includes(g.name)||v.push(g.name);var _=k.writer.createElement(s.model,{htmlElementName:g.name}),A=o.processViewAttributes(g,k);A&&k.writer.setAttribute("htmlCustomElementAttributes",A,_);var C=new _r(g.document).createDocumentFragment(g),S=f.data.processor.toData(C);k.writer.setAttribute("htmlContent",S,_);var P,E=jCt(f.editing.view.createRangeIn(g));try{for(E.s();!(P=E.n()).done;){var R=P.value.item;k.consumable.consume(R,{name:!0})}}catch(I){E.e(I)}finally{E.f()}return _},converterPriority:"low"}),h.for("editingDowncast").elementToElement({model:{name:s.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:function(g,k){var _=k.writer,A=g.getAttribute("htmlElementName"),C=_.createRawElement(A);return g.hasAttribute("htmlCustomElementAttributes")&&Sr(_,g.getAttribute("htmlCustomElementAttributes"),C),C}}),h.for("dataDowncast").elementToElement({model:{name:s.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:function(g,k){var _=k.writer,A=g.getAttribute("htmlElementName"),C=g.getAttribute("htmlContent"),S=_.createRawElement(A,null,function(P,E){E.setContentOf(P,C);var R=P.firstChild;for(R.remove();R.firstChild;)P.appendChild(R.firstChild)});return g.hasAttribute("htmlCustomElementAttributes")&&Sr(_,g.getAttribute("htmlCustomElementAttributes"),S),S}})})}}])&&xet(t.prototype,n),i&&xet(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function jn(r){return jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jn(r)}function yB(){yB=function(){return t};var r,t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(y,p,m){y[p]=m.value},a=typeof Symbol=="function"?Symbol:{},e=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(y,p,m){return Object.defineProperty(y,p,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[p]}try{l({},"")}catch(y){l=function(p,m,O){return p[m]=O}}function s(y,p,m,O){var w=p&&p.prototype instanceof k?p:k,j=Object.create(w.prototype),T=new G(O||[]);return u(j,"_invoke",{value:z(y,m,T)}),j}function f(y,p,m){try{return{type:"normal",arg:y.call(p,m)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",b="executing",v="completed",g={};function k(){}function _(){}function A(){}var C={};l(C,e,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(et([])));P&&P!==n&&i.call(P,e)&&(C=P);var E=A.prototype=k.prototype=Object.create(C);function R(y){["next","throw","return"].forEach(function(p){l(y,p,function(m){return this._invoke(p,m)})})}function I(y,p){function m(w,j,T,M){var N=f(y[w],y,j);if(N.type!=="throw"){var X=N.arg,rt=X.value;return rt&&jn(rt)=="object"&&i.call(rt,"__await")?p.resolve(rt.__await).then(function(q){m("next",q,T,M)},function(q){m("throw",q,T,M)}):p.resolve(rt).then(function(q){X.value=q,T(X)},function(q){return m("throw",q,T,M)})}M(N.arg)}var O;u(this,"_invoke",{value:function(w,j){function T(){return new p(function(M,N){m(w,j,M,N)})}return O=O?O.then(T,T):T()}})}function z(y,p,m){var O=d;return function(w,j){if(O===b)throw new Error("Generator is already running");if(O===v){if(w==="throw")throw j;return{value:r,done:!0}}for(m.method=w,m.arg=j;;){var T=m.delegate;if(T){var M=F(T,m);if(M){if(M===g)continue;return M}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(O===d)throw O=v,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);O=b;var N=f(y,p,m);if(N.type==="normal"){if(O=m.done?v:h,N.arg===g)continue;return{value:N.arg,done:m.done}}N.type==="throw"&&(O=v,m.method="throw",m.arg=N.arg)}}}function F(y,p){var m=p.method,O=y.iterator[m];if(O===r)return p.delegate=null,m==="throw"&&y.iterator.return&&(p.method="return",p.arg=r,F(y,p),p.method==="throw")||m!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+m+"' method")),g;var w=f(O,y.iterator,p.arg);if(w.type==="throw")return p.method="throw",p.arg=w.arg,p.delegate=null,g;var j=w.arg;return j?j.done?(p[y.resultName]=j.value,p.next=y.nextLoc,p.method!=="return"&&(p.method="next",p.arg=r),p.delegate=null,g):j:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,g)}function tt(y){var p={tryLoc:y[0]};1 in y&&(p.catchLoc=y[1]),2 in y&&(p.finallyLoc=y[2],p.afterLoc=y[3]),this.tryEntries.push(p)}function Z(y){var p=y.completion||{};p.type="normal",delete p.arg,y.completion=p}function G(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(tt,this),this.reset(!0)}function et(y){if(y||y===""){var p=y[e];if(p)return p.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,O=function w(){for(;++m<y.length;)if(i.call(y,m))return w.value=y[m],w.done=!1,w;return w.value=r,w.done=!0,w};return O.next=O}}throw new TypeError(jn(y)+" is not iterable")}return _.prototype=A,u(E,"constructor",{value:A,configurable:!0}),u(A,"constructor",{value:_,configurable:!0}),_.displayName=l(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(y){var p=typeof y=="function"&&y.constructor;return!!p&&(p===_||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,A):(y.__proto__=A,l(y,c,"GeneratorFunction")),y.prototype=Object.create(E),y},t.awrap=function(y){return{__await:y}},R(I.prototype),l(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(y,p,m,O,w){w===void 0&&(w=Promise);var j=new I(s(y,p,m,O),w);return t.isGeneratorFunction(p)?j:j.next().then(function(T){return T.done?T.value:j.next()})},R(E),l(E,c,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(y){var p=Object(y),m=[];for(var O in p)m.push(O);return m.reverse(),function w(){for(;m.length;){var j=m.pop();if(j in p)return w.value=j,w.done=!1,w}return w.done=!0,w}},t.values=et,G.prototype={constructor:G,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!y)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var p=this;function m(N,X){return j.type="throw",j.arg=y,p.next=N,X&&(p.method="next",p.arg=r),!!X}for(var O=this.tryEntries.length-1;O>=0;--O){var w=this.tryEntries[O],j=w.completion;if(w.tryLoc==="root")return m("end");if(w.tryLoc<=this.prev){var T=i.call(w,"catchLoc"),M=i.call(w,"finallyLoc");if(T&&M){if(this.prev<w.catchLoc)return m(w.catchLoc,!0);if(this.prev<w.finallyLoc)return m(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return m(w.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return m(w.finallyLoc)}}}},abrupt:function(y,p){for(var m=this.tryEntries.length-1;m>=0;--m){var O=this.tryEntries[m];if(O.tryLoc<=this.prev&&i.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var w=O;break}}w&&(y==="break"||y==="continue")&&w.tryLoc<=p&&p<=w.finallyLoc&&(w=null);var j=w?w.completion:{};return j.type=y,j.arg=p,w?(this.method="next",this.next=w.finallyLoc,g):this.complete(j)},complete:function(y,p){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&p&&(this.next=p),g},finish:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),Z(m),g}},catch:function(y){for(var p=this.tryEntries.length-1;p>=0;--p){var m=this.tryEntries[p];if(m.tryLoc===y){var O=m.completion;if(O.type==="throw"){var w=O.arg;Z(m)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(y,p,m){return this.delegate={iterator:et(y),resultName:p,nextLoc:m},this.method==="next"&&(this.arg=r),g}},t}var xCt=yB().mark(Qo);function Tet(r,t){return function(n){if(Array.isArray(n))return n}(r)||function(n,i){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,e,o,c,l=[],s=!0,f=!1;try{if(o=(u=u.call(n)).next,i===0){if(Object(u)!==u)return;s=!1}else for(;!(s=(a=o.call(u)).done)&&(l.push(a.value),l.length!==i);s=!0);}catch(d){f=!0,e=d}finally{try{if(!s&&u.return!=null&&(c=u.return(),Object(c)!==c))return}finally{if(f)throw e}}return l}}(r,t)||Det(r,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dr(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=Det(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0,u=function(){};return{s:u,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,e=!0,o=!1;return{s:function(){n=n.call(r)},n:function(){var c=n.next();return e=c.done,c},e:function(c){o=!0,a=c},f:function(){try{e||n.return==null||n.return()}finally{if(o)throw a}}}}function Det(r,t){if(r){if(typeof r=="string")return Ret(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ret(r,t):void 0}}function Ret(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function Iet(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(u=i.key,a=void 0,a=function(e,o){if(jn(e)!=="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var l=c.call(e,o||"default");if(jn(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(u,"string"),jn(a)==="symbol"?a:String(a)),i)}var u,a}function hB(r,t){return hB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hB(r,t)}function TCt(r){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=_A(r);if(t){var u=_A(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(a,e){if(e&&(jn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(a)}(this,n)}}function _A(r){return _A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_A(r)}var DCt=function(r){(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&hB(e,o)})(a,r);var t,n,i,u=TCt(a);function a(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,i=[{key:"pluginName",get:function(){return"GeneralHtmlSupport"}},{key:"requires",get:function(){return[ee,cCt,sCt,pCt,bCt,vCt,wCt,_Ct,CCt,SCt,ECt]}}],(n=[{key:"init",value:function(){var e=this.editor,o=e.plugins.get(ee);o.loadAllowedEmptyElementsConfig(e.config.get("htmlSupport.allowEmpty")||[]),o.loadAllowedConfig(e.config.get("htmlSupport.allow")||[]),o.loadDisallowedConfig(e.config.get("htmlSupport.disallow")||[])}},{key:"getGhsAttributeNameForElement",value:function(e){var o=this.editor.plugins.get("DataSchema"),c=Array.from(o.getDefinitionsForView(e,!1)),l=c.find(function(s){return s.isInline&&!c[0].isObject});return l?l.model:er(e)}},{key:"addModelHtmlClass",value:function(e,o,c){var l=this.editor.model,s=this.getGhsAttributeNameForElement(e);l.change(function(f){var d,h=dr(Qo(l,c,s));try{for(h.s();!(d=h.n()).done;)Up(f,d.value,s,"classes",function(b){var v,g=dr(Kt(o));try{for(g.s();!(v=g.n()).done;){var k=v.value;b.add(k)}}catch(_){g.e(_)}finally{g.f()}})}catch(b){h.e(b)}finally{h.f()}})}},{key:"removeModelHtmlClass",value:function(e,o,c){var l=this.editor.model,s=this.getGhsAttributeNameForElement(e);l.change(function(f){var d,h=dr(Qo(l,c,s));try{for(h.s();!(d=h.n()).done;)Up(f,d.value,s,"classes",function(b){var v,g=dr(Kt(o));try{for(g.s();!(v=g.n()).done;){var k=v.value;b.delete(k)}}catch(_){g.e(_)}finally{g.f()}})}catch(b){h.e(b)}finally{h.f()}})}},{key:"setModelHtmlAttributes",value:function(e,o,c){var l=this.editor.model,s=this.getGhsAttributeNameForElement(e);l.change(function(f){var d,h=dr(Qo(l,c,s));try{for(h.s();!(d=h.n()).done;)Up(f,d.value,s,"attributes",function(b){for(var v=0,g=Object.entries(o);v<g.length;v++){var k=Tet(g[v],2),_=k[0],A=k[1];b.set(_,A)}})}catch(b){h.e(b)}finally{h.f()}})}},{key:"removeModelHtmlAttributes",value:function(e,o,c){var l=this.editor.model,s=this.getGhsAttributeNameForElement(e);l.change(function(f){var d,h=dr(Qo(l,c,s));try{for(h.s();!(d=h.n()).done;)Up(f,d.value,s,"attributes",function(b){var v,g=dr(Kt(o));try{for(g.s();!(v=g.n()).done;){var k=v.value;b.delete(k)}}catch(_){g.e(_)}finally{g.f()}})}catch(b){h.e(b)}finally{h.f()}})}},{key:"setModelHtmlStyles",value:function(e,o,c){var l=this.editor.model,s=this.getGhsAttributeNameForElement(e);l.change(function(f){var d,h=dr(Qo(l,c,s));try{for(h.s();!(d=h.n()).done;)Up(f,d.value,s,"styles",function(b){for(var v=0,g=Object.entries(o);v<g.length;v++){var k=Tet(g[v],2),_=k[0],A=k[1];b.set(_,A)}})}catch(b){h.e(b)}finally{h.f()}})}},{key:"removeModelHtmlStyles",value:function(e,o,c){var l=this.editor.model,s=this.getGhsAttributeNameForElement(e);l.change(function(f){var d,h=dr(Qo(l,c,s));try{for(h.s();!(d=h.n()).done;)Up(f,d.value,s,"styles",function(b){var v,g=dr(Kt(o));try{for(g.s();!(v=g.n()).done;){var k=v.value;b.delete(k)}}catch(_){g.e(_)}finally{g.f()}})}catch(b){h.e(b)}finally{h.f()}})}}])&&Iet(t.prototype,n),i&&Iet(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(Y);function Qo(r,t,n){var i,u,a;return yB().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(Symbol.iterator in t||!t.is("documentSelection")||!t.isCollapsed){e.next=8;break}if(!r.schema.checkAttributeInSelection(t,n)){e.next=6;break}return e.next=6,t;case 6:e.next=24;break;case 8:i=dr(RCt(r,t,n)),e.prev=9,i.s();case 11:if((u=i.n()).done){e.next=16;break}return a=u.value,e.delegateYield(a.getItems({shallow:!0}),"t0",14);case 14:e.next=11;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(9),i.e(e.t1);case 21:return e.prev=21,i.f(),e.finish(21);case 24:case"end":return e.stop()}},xCt,null,[[9,18,21,24]])}function RCt(r,t,n){return!(Symbol.iterator in t)&&(t.is("node")||t.is("$text")||t.is("$textProxy"))?r.schema.checkAttribute(t,n)?[r.createRangeOn(t)]:[]:r.schema.getValidRanges(r.createSelection(t).getRanges(),n)}class Bet extends jg{}Bet.builtinPlugins=[tdt,Odt,Gdt,Qdt,ipt,ppt,jpt,Ipt,Jpt,aht,Bht,rbt,fbt,kbt,tmt,mvt,dmt,Cmt,Xmt,svt,dvt,uq,Avt,Evt,Bvt,Vvt,qvt,Xvt,igt,$gt,ywt,Rwt,t0t,l0t,p0t,Ekt,Dkt,h_t,W_t,n1t,gdt,h1t,v1t,Ght,KX,aAt,vAt,kAt,DCt];const ICt=Bet},4891:()=>{Object.entries||(Object.entries=function(W){for(var K=Object.keys(W),x=K.length,U=new Array(x);x--;)U[x]=[K[x],W[K[x]]];return U})}},qr={};function Ke(W){var K=qr[W];if(K!==void 0)return K.exports;var x=qr[W]={id:W,exports:{}};return ry[W](x,x.exports,Ke),x.exports}Ke.n=W=>{var K=W&&W.__esModule?()=>W.default:()=>W;return Ke.d(K,{a:K}),K},Ke.d=(W,K)=>{for(var x in K)Ke.o(K,x)&&!Ke.o(W,x)&&Object.defineProperty(W,x,{enumerable:!0,get:K[x]})},Ke.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(W){if(typeof window=="object")return window}}(),Ke.o=(W,K)=>Object.prototype.hasOwnProperty.call(W,K),Ke.nc=void 0,Ke(5666);var gB=Ke(9987);return gB=gB.default})())}}]);
