"use strict";(self.webpackChunkmingdao_web=self.webpackChunkmingdao_web||[]).push([[5668],{95668:(Ne,D,r)=>{r.r(D),r.d(D,{default:()=>ye});var Y=r(54208),q=r(88239),V=r(88106),R=r(70801),ee=r(26581),Be=r(10524),W=r(31059),Se=r(34279),S=r(64749),Z=r(12424),te=r(46593),ne=r.n(te),ae=r(85105),T=r.n(ae),F=r(99663),A=r(22600),H=r(49135),x=r(93196),t=r(67294),E=r(59911),O=r(71346);const ie={setAccountGuide:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mdyAPI("AccountGuide","SetAccountGuide",s,l)}};var ke=r(67272),k=r(51024),P=r(15577),j=r(66344),le=r(96486),N=r.n(le),oe=function(v){(0,x.default)(s,v);function s(l){(0,F.default)(this,s);var e=(0,H.default)(this,(s.__proto__||T()(s)).call(this,l));e.isPasswordRule=function(y){return j.Z.isPasswordValid(y,e.state.passwordRegex)};var n=window,a=n.md,i=a===void 0?{}:a,o=i.global,c=o===void 0?{}:o,d=c.SysSettings,u=d===void 0?{}:d,f=u.passwordRegexTip,w=u.passwordRegex;return e.state={originPassword:"",newPassword:"",confirmPassword:"",passwordRegexTip:f,passwordRegex:w},e}return(0,A.default)(s,[{key:"handleSubmit",value:function(){var e=this,n=this.props.isNullCredential,a=this.state,i=a.originPassword,o=a.newPassword,c=a.confirmPassword;if(!o){alert(_l("\u8BF7\u8BBE\u7F6E\u65B0\u5BC6\u7801"),3),$("#newInput").focus();return}if(!this.isPasswordRule(o)){var d=this.state.passwordRegexTip||_l("\u5BC6\u7801,8-20\u4F4D\uFF0C\u5FC5\u987B\u5B57\u6BCD+\u6570\u5B57");alert(d,3),$("#newInput").focus().select();return}if(n){if(!c){alert(_l("\u8BF7\u786E\u8BA4\u5BC6\u7801"),3),$("#confirmPassword").focus();return}if(!this.isPasswordRule(c)){var u=this.state.passwordRegexTip||_l("\u5BC6\u7801,8-20\u4F4D\uFF0C\u5FC5\u987B\u5B57\u6BCD+\u6570\u5B57");alert(u,3),$("#confirmPassword").focus().select();return}if(!N().isEqual(o,c)){alert(_l("\u4E24\u6B21\u8F93\u5165\u5BC6\u7801\u4E0D\u4E00\u81F4"),3);return}}E.Z.editPwd({oldPwd:i&&!n?(0,P.HI)(i):void 0,newPwd:(0,P.HI)(o),confirmPwd:n?(0,P.HI)(c):(0,P.HI)(o)}).then(function(f){if(window.localStorage.removeItem("LoginCheckList"),f===1){e.forbidRefresh();var w=_l("\u5BC6\u7801\u4FEE\u6539\u6210\u529F\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55")+'<div style="max-width:350px;" class="LineHeight20 Font12 Gray_a">'+_l("\u4E3A\u4E86\u4FDD\u969C\u8D26\u6237\u5B89\u5168\uFF0C\u5982\u679C\u60A8\u6709\u5B89\u88C5APP\uFF0C%0APP\u5C06\u81EA\u52A8\u767B\u51FA\uFF0C\u5EFA\u8BAE\u60A8\u91CD\u65B0\u767B\u5F55\u786E\u4FDD\u53EF\u4EE5\u6B63\u5E38\u6536\u5230\u63A8\u9001","<br />")+"</div>";alert(w,1,5e3,function(){window.location.href="/logout"})}else f===6?(alert(_l("\u539F\u5BC6\u7801\u8F93\u5165\u4E0D\u6B63\u786E"),2),$("#originInput").focus().select()):f===3?(alert(_l("\u60A8\u8F93\u5165\u7684\u65B0\u5BC6\u7801\u4E0E\u65E7\u5BC6\u7801\u4E00\u6837"),2),$("#newInput").focus().select()):f===4?(alert(_l("\u60A8\u8F93\u5165\u7684\u65B0\u5BC6\u7801\u548C\u786E\u8BA4\u5BC6\u7801\u4E0D\u4E00\u81F4"),2),$("#newInput").focus().select()):alert(_l("\u4FDD\u5B58\u5931\u8D25"),2)}).catch()}},{key:"forbidRefresh",value:function(){$("<div class='passwordModifySuccessMask'></div>").appendTo("html > body"),this.forbidF5(),this.forbidRightClick()}},{key:"forbidF5",value:function(){document.onkeydown=function(e){e=window.event||e;var n=e.keyCode||e.which;if(n=116)if(window.event){try{e.keyCode=0}catch(a){}e.returnValue=!1}else e.preventDefault()}}},{key:"forbidRightClick",value:function(){document.oncontextmenu=function(){return!1}}},{key:"render",value:function(){var e=this,n=this.props.isNullCredential,a=this.state,i=a.originPassword,o=a.newPassword,c=a.confirmPassword;return t.createElement("div",{className:"clearfix"},!n&&t.createElement(t.Fragment,null,t.createElement("div",{className:"Gray"},_l("\u539F\u6709\u5BC6\u7801")),t.createElement(k.default.Password,{id:"originInput",autocomplete:"new-password",value:i,className:"mTop10 mBottom10",placeholder:_l("\u539F\u6709\u5BC6\u7801"),onChange:function(u){return e.setState({originPassword:u.target.value})}}),t.createElement("div",{className:"clearfix Block"},t.createElement("a",{class:"NoUnderline Right ThemeColor3 Hover_49",target:"_blank",href:"/findPassword"},_l("\u5FD8\u8BB0\u5BC6\u7801\uFF1F")))),t.createElement("div",{className:"Gray mTop24"},_l("\u65B0\u5BC6\u7801")),t.createElement(k.default.Password,{id:"newInput",autocomplete:"new-password",value:o,className:"mTop10 mBottom10",placeholder:_l("\u65B0\u5BC6\u7801"),onChange:function(u){return e.setState({newPassword:u.target.value})}}),t.createElement("div",{className:"Gray_9e"},this.state.passwordRegexTip||_l("\u5BC6\u7801,8-20\u4F4D\uFF0C\u5FC5\u987B\u5B57\u6BCD+\u6570\u5B57")),n&&t.createElement(t.Fragment,null,t.createElement("div",{className:"Gray mTop24"},_l("\u518D\u6B21\u8F93\u5165\u65B0\u5BC6\u7801")),t.createElement(k.default.Password,{id:"confirmPassword",autocomplete:"new-password",value:c,className:"mTop10 mBottom10",placeholder:_l("\u518D\u6B21\u8F93\u5165\u65B0\u5BC6\u7801"),onChange:function(u){return e.setState({confirmPassword:u.target.value})}})),t.createElement("div",{className:"mTop40 Right mBottom24"},t.createElement("span",{className:"Font14 Gray_9e mRight32 Hover_49 Hand",onClick:function(){return e.props.closeDialog()}},_l("\u53D6\u6D88")),t.createElement("button",{type:"button",className:"ming Button Button--primary editPasswordDialogBtn",onClick:function(){return e.handleSubmit()}},_l("\u786E\u8BA4"))))}}]),s}(t.Component),re=r(1952),se=r(93967),g=r.n(se),ce=r(14260),de=r.n(ce),ue=r(60300),me=r.n(ue),X=r(54895),Ie=r(35919),fe,U,Q,he={account:function(s){var l=(0,Z.Z)(s,2),e=l[0],n=l[1];if(n&&!(e&&n.isValidNumber()))return _l("\u624B\u673A\u53F7\u7801\u683C\u5F0F\u9519\u8BEF")},newPwd:function(s){var l=window,e=l.md,n=e===void 0?{}:e,a=n.global,i=a===void 0?{}:a,o=i.SysSettings,c=o===void 0?{}:o,d=c.passwordRegexTip,u=c.passwordRegex;if(!(s&&j.Z.isPasswordValid(s,u)))return d||_l("\u5BC6\u7801\uFF0C\u81F3\u5C118-20\u4F4D\uFF0C\u4E14\u542B\u5B57\u6BCD+\u6570\u5B57")}},ve=(U=fe=function(v){(0,x.default)(s,v);function s(l){(0,F.default)(this,s);var e=(0,H.default)(this,(s.__proto__||T()(s)).call(this,l));Q.call(e);var n=window,a=n.md,i=a===void 0?{}:a,o=i.global,c=o===void 0?{}:o,d=c.SysSettings,u=d===void 0?{}:d,f=u.passwordRegexTip,w=u.passwordRegex;return e.state={passwordRegexTip:f,passwordRegex:w,account:"",verifyCode:"",newPwd:"",errorMsg:{},isSendVerify:!1,seconds:30,loading:!1},e.handleFieldInput=e.handleFieldInput.bind(e),e.handleFieldBlur=e.handleFieldBlur.bind(e),e.clearError=e.clearError.bind(e),e}return(0,A.default)(s,[{key:"componentDidMount",value:function(){this.itiFn()}},{key:"handleFieldInput",value:function(e,n){var a=n==="account"?e.target.value.replace(/ +/g,""):e.target.value;this.setState((0,V.default)({},n,a))}},{key:"handleFieldBlur",value:function(e){var n=this;return function(a){var i=void 0;typeof a<"u"?i=e==="account"?[n.mobile,n.iti]:a.target.value:i=e==="account"?[n.mobile,n.iti]:n.state[e];var o=n.state.errorMsg||{},c=he[e](i);c&&(o[e]=c),n.setState({errorMsg:o})}}},{key:"clearError",value:function(e){var n=this;return function(){var a=n.state.errorMsg;delete a[e],n.setState({errorMsg:a})}}},{key:"getVerifyCode",value:function(){var e=this,n=N().throttle(function(a){a.ret===0&&E.Z.sendVerifyCode({account:e.iti.getNumber(),ticket:a.ticket,randStr:a.randstr,captchaType:md.global.getCaptchaType(),needCheckCode:!1}).then(function(i){i===1?(alert(_l("\u9A8C\u8BC1\u7801\u53D1\u9001\u6210\u529F")),e.setState({isSendVerify:!0},e.countdown)):(i===2?(alert(_l("\u53D1\u9001\u5931\u8D25\uFF0C\u65B0\u624B\u673A\u53F7\u4E0E\u73B0\u6709\u624B\u673A\u53F7\u4E00\u81F4"),2),e.mobile.focus()):i===8&&alert(_l("\u9A8C\u8BC1\u7801\u9519\u8BEF"),3),i===9?(alert(_l("\u6B64\u624B\u673A\u53F7\u5DF2\u88AB\u5176\u5B83\u5E10\u53F7\u7ED1\u5B9A"),2),e.mobile.focus()):alert(_l("\u9A8C\u8BC1\u7801\u53D1\u9001\u5931\u8D25"),2))}).catch()},1e4,{leading:!0});md.global.getCaptchaType()===1?new X.Z(n):new TencentCaptcha(md.global.Config.CaptchaAppId.toString(),n).show()}},{key:"handleSubmit",value:function(){var e=this;this.setState({loading:!0});var n=this.state,a=n.verifyCode,i=n.newPwd,o={account:this.iti.getNumber(),verifyCode:a,newPwd:(0,P.HI)(i)};E.Z.editIntergrationAccount(o).then(function(c){c===1?(alert(_l("\u7ED1\u5B9A\u6210\u529F")),e.props.onCancel(),e.props.getData()):c===8?alert(_l("\u9A8C\u8BC1\u7801\u9519\u8BEF"),2):c===9?alert(_l("\u65B0\u8D26\u53F7\u5DF2\u7ECF\u88AB\u5360\u7528"),2):c===6?alert(_l("\u5BC6\u7801\u9519\u8BEF\uFF0C\u9700\u8981\u52A0\u5BC6"),2):c===0&&alert(_l("\u64CD\u4F5C\u5931\u8D25"),2),e.setState({loading:!1})})}},{key:"render",value:function(){var e=this,n=this.props,a=n.title,i=n.showFooter,o=n.onCancel,c=o===void 0?function(){}:o,d=this.state,u=d.account,f=d.verifyCode,w=d.newPwd,y=d.errorMsg,h=y===void 0?{}:y,b=d.isSendVerify,G=d.seconds,m=d.loading,I=u&&f&&w&&!N().keys(h).length&&!m;return t.createElement(R.Z,{title:a,visible:!0,showFooter:i,onCancel:c,onOk:function(){}},t.createElement("div",{className:"initPassowrdDialog"},t.createElement("div",{className:"mTop12"},_l("\u624B\u673A\u53F7")),t.createElement("div",{className:"inputWrap",id:"txtMobilePhone"},t.createElement("input",{className:g()("inputBox",{errors:h.account}),ref:function(C){return e.mobile=C},placeholder:_l("\u8BF7\u8F93\u5165\u624B\u673A\u53F7"),value:u,maxLength:"11",onInput:function(C){return e.handleFieldInput(C,"account")},onBlur:this.handleFieldBlur("account"),onFocus:this.clearError("account")})),t.createElement("div",{className:"warnBox"},h.account&&t.createElement("span",{className:"warnMsg"},h.account)),t.createElement("div",{className:"mTop10"},_l("\u9A8C\u8BC1\u7801")),t.createElement("div",{className:"inputWrap"},t.createElement("input",{className:g()("inputBox",{errors:h.verifyCode}),placeholder:_l("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"),maxLength:"6",value:f,onChange:function(C){return e.handleFieldInput(C,"verifyCode")},onFocus:this.clearError("verifyCode")}),t.createElement("button",{type:"button",className:g()("ming Button Button--primary codeBtn",{disable:!this.state.account||this.iti&&!this.iti.isValidNumber()||b}),disabled:!this.state.account||this.iti&&!this.iti.isValidNumber()||b,onClick:function(){return e.getVerifyCode()}},b?_l("%0\u79D2\u540E\u91CD\u65B0\u53D1\u9001",G):_l("\u83B7\u53D6\u9A8C\u8BC1\u7801"))),t.createElement("div",{className:"warnBox"},h.verifyCode&&t.createElement("span",{className:"warnMsg"},h.verifyCode)),t.createElement("div",{className:"mTop10"},_l("\u8BBE\u7F6E\u767B\u5F55\u5BC6\u7801")),t.createElement("div",{className:"inputWrap"},t.createElement(k.default.Password,{className:g()("inputBox",{errors:h.newPwd}),placeholder:_l("\u8BF7\u8F93\u5165\u5BC6\u7801"),maxLength:"20",value:w,onChange:function(C){return e.handleFieldInput(C,"newPwd")},onBlur:this.handleFieldBlur("newPwd"),onFocus:this.clearError("newPwd"),autocomplete:"new-password"})),t.createElement("div",{className:"warnBox"},h.newPwd?t.createElement("span",{className:"warnMsg"},h.newPwd):t.createElement("span",{className:"Gray_9e"},this.state.passwordRegexTip||_l("8-20\u4F4D\uFF0C\u9700\u5305\u542B\u5B57\u6BCD\u548C\u6570\u5B57"))),t.createElement("div",{className:"clearfix"},t.createElement("button",{type:"button",disabled:!I,className:g()("submitBtn ming Button Right Button--primary",{disable:!I}),onClick:function(){return e.handleSubmit()}},_l("\u786E\u8BA4")))))}}]),s}(t.Component),Q=function(){var s=this;this.itiFn=function(){s.mobile&&(s.iti=de()(s.mobile,{customPlaceholder:"",autoPlaceholder:"off",loadUtils:"",initialCountry:N().get(md,"global.Config.DefaultConfig.initialCountry")||"cn",preferredCountries:N().get(md,"global.Config.DefaultConfig.preferredCountries")||["cn"],utilsScript:me(),separateDialCode:!0,showSelectedDialCode:!0}))},this.countdown=function(){var l=s;e&&clearInterval(e);var e=setInterval(function(){l.state.seconds<=0?l.setState({isSendVerify:!1}):l.setState({seconds:l.state.seconds-1})},1e3)}},U),ge=function(s){return(0,re.Z)(ve,s)},L=r(8736),K=r(86515),M=[{key:"weiXinBind",icon:"icon-wechat",color:"weiBindColor",label:_l("\u5FAE\u4FE1")},{key:"qqBind",icon:"icon-qq",color:"qqBindColor",label:_l("QQ")},{key:"workBind",color:"workBindColor",needHide:!0}],we={mobilePhone:_l("\u7ED1\u5B9A\u624B\u673A\u53F7\u4F5C\u4E3A\u4F60\u7684\u767B\u5F55\u8D26\u53F7\u3002\u540C\u65F6\u4E5F\u662F\u7BA1\u7406\u4E2A\u4EBA\u8D26\u6237\u548C\u4F7F\u7528\u7CFB\u7EDF\u670D\u52A1\u7684\u91CD\u8981\u4F9D\u636E\u3002\u4E3A\u4FBF\u4E8E\u60A8\u4EE5\u540E\u7684\u64CD\u4F5C\u53CA\u8D26\u6237\u5B89\u5168\uFF0C\u8BF7\u60A8\u5C3D\u5FEB\u7ED1\u5B9A\u3002"),isTwoauthentication:_l("\u4E24\u6B65\u9A8C\u8BC1\u662F\u5728\u8F93\u5165\u8D26\u53F7\u5BC6\u7801\u540E\uFF0C\u989D\u5916\u589E\u52A0\u4E00\u9053\u5B89\u5168\u5C4F\u969C\uFF08\u624B\u673A\u77ED\u4FE1\u6216\u90AE\u7BB1\u9A8C\u8BC1\u7801\uFF09\uFF0C\u4FDD\u969C\u60A8\u7684\u5E10\u53F7\u5B89\u5168")},pe={0:_l("\u89E3\u7ED1\u5931\u8D25"),5:_l("\u89E3\u7ED1\u5931\u8D25\uFF0C\u8D26\u53F7\u4E0D\u5B58\u5728"),6:_l("\u89E3\u7ED1\u5931\u8D25\uFF0C\u5BC6\u7801\u9519\u8BEF"),7:_l("\u89E3\u7ED1\u5931\u8D25\uFF0C\u90AE\u7BB1\u548C\u624B\u673A\uFF0C\u8BF7\u81F3\u5C11\u4FDD\u7559\u5176\u4E00")},Ce={weiXinBind:1,qqBind:2},Ee=function(s){switch(s){case 1:return{icon:"icon-invite-ding",label:_l("\u9489\u9489")};case 2:case 3:return{icon:"icon-enterprise_wechat",label:_l("\u4F01\u4E1A\u5FAE\u4FE1")};case 4:return{icon:"icon-welink",label:_l("Welink")};case 5:case 6:return{icon:"icon-feishu",label:_l("\u98DE\u4E66")}}},ye=function(v){(0,x.default)(s,v);function s(l){(0,F.default)(this,s);var e=(0,H.default)(this,(s.__proto__||T()(s)).call(this,l));return e.getData=function(){e.setState({loading:!0}),ne().all([e.getAccount(),e.getInfo()]).then(function(n){var a=(0,Z.Z)(n,2),i=a[0],o=a[1];e.setState({isNullCredential:i.isNullCredential,email:i.email,isVerify:i.isVerify,mobilePhone:i.mobilePhone,isHavePrj:i.isHavePrj,qqBind:i.qqBind,weiXinBind:i.weiXinBind,workBind:i.workBind,needInit:i.isIntergration&&!i.mobilePhone,joinFriendMode:o.joinFriendMode,isPrivateMobile:o.isPrivateMobile,isPrivateEmail:o.isPrivateEmail,isTwoauthentication:o.isTwoauthentication,loading:!1})})},e.joinFriend=function(){return t.createElement(t.Fragment,null,t.createElement("div",{className:"LineHeight36 accountJoinFrirndBox"},t.createElement("span",{className:"InlineBlock accountLabel Gray_75"},_l("\u6DFB\u52A0\u6211\u7684\u65B9\u5F0F")),t.createElement(S.default,{value:e.state.joinFriendMode,onChange:function(a){return e.sureSettings("joinFriendMode",a,function(){e.setState({joinFriendMode:a})})}},t.createElement(S.default.Option,{value:0},_l("\u5141\u8BB8\u4EFB\u4F55\u4EBA")),t.createElement(S.default.Option,{value:1},_l("\u9700\u8981\u8EAB\u4EFD\u9A8C\u8BC1")),t.createElement(S.default.Option,{value:2},_l("\u4E0D\u5141\u8BB8\u4EFB\u4F55\u4EBA")))),t.createElement("div",{className:"mTop32 flexRow"},t.createElement("span",{className:"InlineBlock accountLabel Gray_75"},_l("\u624B\u673A\u548C\u90AE\u7BB1")),t.createElement("span",{className:"flexColumn"},t.createElement(W.default,{className:"Gray",checked:e.state.isPrivateMobile,onChange:function(a){var i=a.target.checked;e.sureSettings("isPrivateMobile",i,function(){e.setState({isPrivateMobile:i})})}},_l("\u624B\u673A\u53F7\u4EC5\u81EA\u5DF1\u53EF\u89C1")),t.createElement(W.default,{className:"Gray",checked:e.state.isPrivateEmail,onChange:function(a){var i=a.target.checked;e.sureSettings("isPrivateEmail",i,function(){e.setState({isPrivateEmail:i})})}},_l("\u90AE\u7BB1\u4EC5\u81EA\u5DF1\u53EF\u89C1")))))},e.renderTips=function(n){return t.createElement(ee.Z,{popupPlacement:"top",text:t.createElement("span",null,we[n])},t.createElement("span",{className:"icon-novice-circle Gray_bd Hand mLeft5 Font15"}))},e.renderRedDot=function(n,a){return t.createElement("span",{className:g()("Right Gray_9e Hover_49 Hand redDot",{Hidden:!n}),onClick:function(){return e.handleCancelRed(a)}},_l("\u53D6\u6D88\u7EA2\u70B9\u63D0\u793A"))},e.dealLoagout=function(){E.Z.validateLogoffAccount().then(function(n){n===1?location.href="/cancellation":n===20?alert(_l("\u60A8\u662F\u5E73\u53F0\u552F\u4E00\u7BA1\u7406\u5458\uFF0C\u65E0\u6CD5\u6CE8\u9500"),2):n===30&&alert(_l("\u60A8\u5C1A\u6709\u672A\u9000\u51FA\u7684\u7EC4\u7EC7\uFF0C\u8BF7\u5148\u81F3 \u4E2A\u4EBA\u4E2D\u5FC3-\u6211\u7684\u7EC4\u7EC7 \u9000\u51FA\u6240\u6709\u7EC4\u7EC7\uFF0C\u65B9\u53EF\u6CE8\u9500"),2)})},e.state={email:"",mobilePhone:"",qqBind:{isBind:!1},weiXinBind:{isBind:!1},workBind:{isBind:!1},loading:!1,joinFriendMode:1,isVerify:!1,isPrivateMobile:!1,isPrivateEmail:!1,needInit:!1,showWarn:!0,isTwoauthentication:!1,wxQRCodeLoading:!0,editPasswordVisible:!1},e}return(0,A.default)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getAccount",value:function(){return E.Z.getAccountInfo({})}},{key:"getInfo",value:function(){return O.Z.getAccountSettings({})}},{key:"handleBind",value:function(e){var n=this,a=this.state[e]||{};if(a.state){var u=e==="weiXinBind"?_l("\u5FAE\u4FE1"):"QQ";R.Z.confirm({title:_l("\u89E3\u7ED1%0",u),description:_l("\u786E\u8BA4\u89E3\u7ED1%0\uFF0C\u89E3\u7ED1\u4E4B\u540E\u4E0D\u80FD\u901A\u8FC7%1\u767B\u5F55\uFF1F",u,u),onOk:function(){return n.cancelBindAccount(a.state,e)}})}else if(e==="weiXinBind"){var i="/qrcode",o=400,c=400,d=this.getWindowPosition(o,c);this.showNewWindow(i,o,c,d.left,d.top)}else{var i="http://tp.mingdao.com/qq/authRequest",o=750,c=500,d=this.getWindowPosition(o,c);this.showNewWindow(i,o,c,d.left,d.top)}}},{key:"cancelBindAccount",value:function(e,n){var a=this;E.Z.unBindAccount({state:e,tpType:Ce[n]}).then(function(i){i?a.setState((0,V.default)({},n,{isBind:!1})):alert(_l("\u53D6\u6D88\u7ED1\u5B9A\u5931\u8D25"),2)}).catch()}},{key:"showNewWindow",value:function(e,n,a,i,o){window.open(e,"newWindow","width="+n+",height="+a+",left="+i+",top="+o+",toolbar=no,menubar=no,scrollbars=no,resizable=no,location=no, status=no")}},{key:"getWindowPosition",value:function(e,n){return{top:($(window).height()-n)/2,left:($(window).width()-e)/2}}},{key:"handleBindAccount",value:function(e){(0,L.H)({title:e==="email"?_l("\u7ED1\u5B9A\u90AE\u7BB1"):_l("\u7ED1\u5B9A\u624B\u673A\u53F7\u7801"),type:e,des:"",showStep:!0,callback:function(){location.reload()}})}},{key:"handleUnBindAccount",value:function(e){var n=this.state,a=n.email,i=n.mobilePhone,o=n.isVerify;if(!(i&&a&&o)){alert(_l("\u65E0\u6CD5\u89E3\u7ED1\uFF0C\u90AE\u7BB1\u548C\u624B\u673A\uFF0C\u8BF7\u81F3\u5C11\u4FDD\u7559\u5176\u4E00"),2);return}(0,L.H)({title:e==="email"?_l("\u89E3\u7ED1\u90AE\u7BB1"):_l("\u89E3\u7ED1\u624B\u673A\u53F7"),type:e,callback:function(d){var u=d.password;E.Z[e==="email"?"unbindEmail":"unbindMobile"]({password:(0,P.HI)(u)}).then(function(f){f===1?location.reload():alert(pe[f],2)})}})}},{key:"handleChangeAccount",value:function(e){(0,L.H)({title:e==="email"?_l("\u4FEE\u6539\u90AE\u7BB1"):_l("\u4FEE\u6539\u624B\u673A\u53F7\u7801"),type:e,showStep:!0,callback:function(){location.reload()}})}},{key:"sureSettings",value:function(e,n,a){O.Z.editAccountSetting({settingType:K.Z.settingOptions[e],settingValue:n}).then(function(i){i?(alert(_l("\u8BBE\u7F6E\u6210\u529F")),_.isFunction(a)&&a()):alert(_l("\u64CD\u4F5C\u5931\u8D25"),2)}).catch()}},{key:"handleCancelRed",value:function(e){ie.setAccountGuide({userGuideSetting:K.Z.guideType[e]}).then(function(){window.location.reload()})}},{key:"handleReviewEmail",value:function(){var e=_.throttle(function(n){n.ret===0&&E.Z.sendProjectBindEmail({ticket:n.ticket,randStr:n.randstr,captchaType:md.global.getCaptchaType()}).then(function(a){a?alert(_l("\u53D1\u9001\u6210\u529F")):alert(_l("\u53D1\u9001\u5931\u8D25"),2)})},1e4,{leading:!0});md.global.getCaptchaType()===1?new X.Z(e):new TencentCaptcha(md.global.Config.CaptchaAppId.toString(),e).show()}},{key:"renderWarning",value:function(){var e=this,n=this.state,a=n.needInit,i=n.showWarn;return t.createElement("div",{className:g()("initPasswordWarning",{Hidden:!(a&&i)})},t.createElement("span",{className:"warnColor"},t.createElement("span",{className:"icon-error1 Font16 mRight8 TxtMiddle"}),t.createElement("span",null,_l("\u5EFA\u8BAE\u60A8\u7ED1\u5B9A\u624B\u673A\u53F7\uFF0C\u7ED1\u5B9A\u540E\u53EF\u4EE5\u76F4\u63A5\u5728\u5B98\u7F51\u548C App \u767B\u5F55"))),t.createElement("span",{className:"icon-clear Font16 ThemeHoverColor3 Hand",onClick:function(){return e.setState({showWarn:!1})}}))}},{key:"render",value:function(){var e=this,n=this.state,a=n.email,i=n.mobilePhone,o=n.loading,c=n.isVerify,d=n.needInit,u=n.workBind,f=u===void 0?{}:u,w=n.editPasswordVisible,y=n.isNullCredential,h=md.global.Account.guideSettings.accountMobilePhone&&!i,b=md.global.Account.guideSettings.accountEmail&&(!a||!c);if(f.isBind){var G=Ee(Number(f.state))||{};M=M.map(function(m){return m.key==="workBind"?(0,q.default)({},m,G):m})}return o?t.createElement(Y.Z,{className:"mTop40"}):t.createElement("div",{className:"accountChartContainer"},t.createElement("div",{className:"Font17 Bold Gray mBottom40"},_l("\u8D26\u6237")),this.renderWarning(),t.createElement("div",{className:"accountRowItem clearfix"},t.createElement("div",{className:"accountLabel Gray_75"},_l("\u624B\u673A"),!i&&this.renderTips("mobilePhone")),t.createElement("span",null,t.createElement("span",{className:"Gray Relative"},i||_l("\u672A\u7ED1\u5B9A"),h&&t.createElement("span",{className:"warnLight warnLightMEPosition warnLightPhone"})),md.global.SysSettings.enableEditAccountInfo&&t.createElement(t.Fragment,null,i?t.createElement(t.Fragment,null,t.createElement("span",{className:"Hand ThemeColor3 Hover_49 mLeft24 mRight24",onClick:function(){return e.handleChangeAccount("mobile")}},_l("\u4FEE\u6539")),t.createElement("span",{className:"Hand ThemeColor3 Hover_49",onClick:function(){return e.handleUnBindAccount("mobile")}},_l("\u89E3\u7ED1"))):t.createElement("span",{className:"Hand ThemeColor3 Hover_49 mLeft24",onClick:function(){d?ge({title:_l("\u7ED1\u5B9A\u624B\u673A\u53F7"),showFooter:!1,getData:e.getData}):e.handleBindAccount("mobile")}},_l("\u7ED1\u5B9A")))),this.renderRedDot(h,"accountMobilePhone")),d?null:t.createElement(t.Fragment,null,t.createElement("div",{className:"accountRowItem clearfix"},t.createElement("div",{className:"accountLabel Gray_75"},_l("\u90AE\u7BB1")),t.createElement("span",null,t.createElement("span",{className:"Gray Relative"},a?t.createElement("span",null,t.createElement("span",{className:g()(c?"":"Gray_9e mRight12")},a),!c&&md.global.SysSettings.enableEditAccountInfo&&t.createElement("span",null,_l("\u672A\u9A8C\u8BC1"))):md.global.SysSettings.enableEditAccountInfo?_l("\u672A\u7ED1\u5B9A"):"",b?t.createElement("span",{className:"warnLight warnLightMEPosition warnLightEmail"}):null),md.global.SysSettings.enableEditAccountInfo&&t.createElement(t.Fragment,null,a?t.createElement(t.Fragment,null,t.createElement("span",{className:"Hand ThemeColor3 Hover_49 mLeft24 mRight24",onClick:function(){return e.handleChangeAccount("email")}},_l("\u4FEE\u6539")),c?t.createElement("span",{className:"Hand ThemeColor3 Hover_49",onClick:function(){return e.handleUnBindAccount("email")}},_l("\u89E3\u7ED1")):t.createElement("span",{className:"Hand ThemeColor3 Hover_49",onClick:function(){return e.handleReviewEmail()}},_l("\u9A8C\u8BC1"))):t.createElement("span",{className:"Hand ThemeColor3 Hover_49 mLeft24",onClick:function(){return e.handleBindAccount("email")}},_l("\u7ED1\u5B9A")))),this.renderRedDot(b,"accountEmail")),t.createElement("div",{className:"accountRowItem"},t.createElement("div",{className:"accountLabel Gray_75"},_l("\u5BC6\u7801")),t.createElement("span",{className:"Hand ThemeColor3 Hover_49",onClick:function(){return e.setState({editPasswordVisible:!0})}},y?_l("\u8BBE\u7F6E"):_l("\u4FEE\u6539")))),!md.global.Config.IsLocal&&t.createElement("div",{className:"accountRowItem"},t.createElement("div",{className:"accountLabel Gray_75"},_l("\u8D26\u53F7\u7ED1\u5B9A")),M.map(function(m,I){var p=m.key,C=m.label,Pe=m.color,be=m.icon,z=m.needHide,J=z===void 0?!1:z,B=e.state[p]||{};return t.createElement("span",{className:g()({mLeft80:I,Hidden:J&&!B.isBind})},t.createElement("span",{className:g()("Font16",be,B.isBind?Pe:"Gray_9e")}),t.createElement("span",{className:"Gray mLeft12"},C),B.isBind&&t.createElement("span",{className:"mLeft8 Gray_9e"},_l("\u5DF2\u7ED1\u5B9A\uFF1A%0",B.nickName)),!J&&t.createElement("span",{className:"Hand ThemeColor3 Hover_49 mLeft24",onClick:function(){return e.handleBind(p)}},B.isBind?_l("\u89E3\u7ED1"):_l("\u7ED1\u5B9A")))})),md.global.Config.IsPlatformLocal&&t.createElement("div",{className:"accountRowItem"},t.createElement("div",{className:"accountLabel Gray_75"},_l("\u8D26\u6237\u6CE8\u9500")),t.createElement("div",{className:"logout Hand",onClick:this.dealLoagout},_l("\u6CE8\u9500"))),t.createElement("div",{className:"Font17 Bold Gray mBottom40 mTop20"},_l("\u9690\u79C1")),this.joinFriend(),t.createElement(R.Z,{title:y?_l("\u8BBE\u7F6E\u5BC6\u7801"):_l("\u4FEE\u6539\u5BC6\u7801"),showFooter:!1,visible:w,onCancel:function(){return e.setState({editPasswordVisible:!1})},className:"editPasswordDialogId"},t.createElement(oe,{isNullCredential:y,closeDialog:function(){return e.setState({editPasswordVisible:!1})}})))}}]),s}(t.Component)}}]);
