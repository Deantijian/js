"use strict";(self.webpackChunkmingdao_web=self.webpackChunkmingdao_web||[]).push([[492],{1808:(Z,h,e)=>{var P=e(64836),B=e(18698);Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var W=P(e(10434)),O=P(e(38416)),U=P(e(861)),C=v(e(67294)),N=P(e(93967)),d=P(e(45598)),y=P(e(73757)),R=P(e(32117)),D=P(e(12386)),L=e(31929),a=P(e(72454)),p=e(47419);function g(t){if(typeof WeakMap!="function")return null;var l=new WeakMap,s=new WeakMap;return(g=function(u){return u?s:l})(t)}function v(t,l){if(!l&&t&&t.__esModule)return t;if(t===null||B(t)!=="object"&&typeof t!="function")return{default:t};var s=g(l);if(s&&s.has(t))return s.get(t);var i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in t)if(M!=="default"&&Object.prototype.hasOwnProperty.call(t,M)){var j=u?Object.getOwnPropertyDescriptor(t,M):null;j&&(j.get||j.set)?Object.defineProperty(i,M,j):i[M]=t[M]}return i.default=t,s&&s.set(t,i),i}var n=function(t,l){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&l.indexOf(i)<0&&(s[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(t);u<i.length;u++)l.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(t,i[u])&&(s[i[u]]=t[i[u]]);return s};function r(t,l){if(!t.breadcrumbName)return null;var s=Object.keys(l).join("|"),i=t.breadcrumbName.replace(new RegExp(":(".concat(s,")"),"g"),function(u,M){return l[M]||u});return i}function o(t,l,s,i){var u=s.indexOf(t)===s.length-1,M=r(t,l);return u?C.createElement("span",null,M):C.createElement("a",{href:"#/".concat(i.join("/"))},M)}var m=function(l,s){return l=(l||"").replace(/^\//,""),Object.keys(s).forEach(function(i){l=l.replace(":".concat(i),s[i])}),l},I=function(l,s,i){var u=(0,U.default)(l),M=m(s||"",i);return M&&u.push(M),u},b=function(l){var s=l.prefixCls,i=l.separator,u=i===void 0?"/":i,M=l.style,j=l.className,$=l.routes,H=l.children,X=l.itemRender,J=X===void 0?o:X,Q=l.params,A=Q===void 0?{}:Q,G=n(l,["prefixCls","separator","style","className","routes","children","itemRender","params"]),k=C.useContext(L.ConfigContext),ae=k.getPrefixCls,F=k.direction,w,x=ae("breadcrumb",s);if($&&$.length>0){var c=[];w=$.map(function(f){var T=m(f.path,A);T&&c.push(T);var V;return f.children&&f.children.length&&(V=C.createElement(D.default,null,f.children.map(function(K){return C.createElement(D.default.Item,{key:K.path||K.breadcrumbName},J(K,A,$,I(c,K.path,A)))}))),C.createElement(y.default,{overlay:V,separator:u,key:T||f.breadcrumbName},J(f,A,$,c))})}else H&&(w=(0,d.default)(H).map(function(f,T){return f&&((0,a.default)(f.type&&(f.type.__ANT_BREADCRUMB_ITEM===!0||f.type.__ANT_BREADCRUMB_SEPARATOR===!0),"Breadcrumb","Only accepts Breadcrumb.Item and Breadcrumb.Separator as it's children"),(0,p.cloneElement)(f,{separator:u,key:T}))}));var E=(0,N.default)(x,(0,O.default)({},"".concat(x,"-rtl"),F==="rtl"),j);return C.createElement("div",(0,W.default)({className:E,style:M},G),w)};b.Item=y.default,b.Separator=R.default;var S=b;h.default=S},73757:(Z,h,e)=>{var P=e(64836),B=e(18698);Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var W=P(e(10434)),O=y(e(67294)),U=P(e(5085)),C=P(e(48301)),N=e(31929);function d(a){if(typeof WeakMap!="function")return null;var p=new WeakMap,g=new WeakMap;return(d=function(n){return n?g:p})(a)}function y(a,p){if(!p&&a&&a.__esModule)return a;if(a===null||B(a)!=="object"&&typeof a!="function")return{default:a};var g=d(p);if(g&&g.has(a))return g.get(a);var v={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in a)if(r!=="default"&&Object.prototype.hasOwnProperty.call(a,r)){var o=n?Object.getOwnPropertyDescriptor(a,r):null;o&&(o.get||o.set)?Object.defineProperty(v,r,o):v[r]=a[r]}return v.default=a,g&&g.set(a,v),v}var R=function(a,p){var g={};for(var v in a)Object.prototype.hasOwnProperty.call(a,v)&&p.indexOf(v)<0&&(g[v]=a[v]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,v=Object.getOwnPropertySymbols(a);n<v.length;n++)p.indexOf(v[n])<0&&Object.prototype.propertyIsEnumerable.call(a,v[n])&&(g[v[n]]=a[v[n]]);return g},D=function(p){var g=p.prefixCls,v=p.separator,n=v===void 0?"/":v,r=p.children,o=p.overlay,m=p.dropdownProps,I=R(p,["prefixCls","separator","children","overlay","dropdownProps"]),b=O.useContext(N.ConfigContext),S=b.getPrefixCls,t=S("breadcrumb",g),l=function(u){return o?O.createElement(C.default,(0,W.default)({overlay:o,placement:"bottom"},m),O.createElement("span",{className:"".concat(t,"-overlay-link")},u,O.createElement(U.default,null))):u},s;return"href"in I?s=O.createElement("a",(0,W.default)({className:"".concat(t,"-link")},I),r):s=O.createElement("span",(0,W.default)({className:"".concat(t,"-link")},I),r),s=l(s),r?O.createElement("span",null,s,n&&O.createElement("span",{className:"".concat(t,"-separator")},n)):null};D.__ANT_BREADCRUMB_ITEM=!0;var L=D;h.default=L},32117:(Z,h,e)=>{var P=e(18698);Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var B=U(e(67294)),W=e(31929);function O(d){if(typeof WeakMap!="function")return null;var y=new WeakMap,R=new WeakMap;return(O=function(L){return L?R:y})(d)}function U(d,y){if(!y&&d&&d.__esModule)return d;if(d===null||P(d)!=="object"&&typeof d!="function")return{default:d};var R=O(y);if(R&&R.has(d))return R.get(d);var D={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in d)if(a!=="default"&&Object.prototype.hasOwnProperty.call(d,a)){var p=L?Object.getOwnPropertyDescriptor(d,a):null;p&&(p.get||p.set)?Object.defineProperty(D,a,p):D[a]=d[a]}return D.default=d,R&&R.set(d,D),D}var C=function(y){var R=y.children,D=B.useContext(W.ConfigContext),L=D.getPrefixCls,a=L("breadcrumb");return B.createElement("span",{className:"".concat(a,"-separator")},R||"/")};C.__ANT_BREADCRUMB_SEPARATOR=!0;var N=C;h.default=N},68672:(Z,h,e)=>{var P,B=e(64836);P={value:!0},h.Z=void 0;var W=B(e(1808)),O=W.default;h.Z=O},20956:(Z,h,e)=>{e(17847),e(57853),e(60954),e(59768)},57853:(Z,h,e)=>{e.r(h)},40055:()=>{},1936:(Z,h,e)=>{e.r(h),e.d(h,{default:()=>ae});var P=e(88239),B=e(66814),W=e.n(B),O=e(91880),U=e.n(O),C=e(48388),N=e.n(C),d=e(29914),y=e.n(d),R=e(33867),D=e(85105),L=e.n(D),a=e(99663),p=e(22600),g=e(49135),v=e(93196),n=e(67294),r=e(21),o=e(22010),m=e(50533),I=e(83848),b=e(15308),S=e(28968),t=e(3538),l=e(25019),s=e(40055),i=e(31742),u=e(76345),M=e(15577),j=e(93967),$=e.n(j),H=e(50043),X=e(97243),J=e.n(X),Q=e(96486),A=e.n(Q),G,k=(0,r.Z)(G=(0,S.Z)(G=function(F){(0,v.default)(w,F);function w(x){(0,a.default)(this,w);var c=(0,g.default)(this,(w.__proto__||L()(w)).call(this,x));return c.sheetViewOpenRecord=function(E,f){c.setState({previewRecordId:E,tempViewIdForRecordInfo:f})},c.setCache=function(E){var f=E.worksheetId,T=E.viewId;safeLocalStorageSetItem("mobileViewSheet-"+f,T)},c.handleChangeView=function(E){var f=c.props.now;f&&(c.props.updateBase({viewId:E.viewId}),c.props.resetSheetView())},c.state={previewRecordId:void 0,tempViewIdForRecordInfo:void 0},c}return(0,p.default)(w,[{key:"componentDidMount",value:function(){this.props.changeMobileGroupFilters([]),this.getApp(this.props),A().get(this.props,["filters","visible"])&&this.props.updateFilters({visible:!1})}},{key:"getApp",value:function(c){var E=c.match.params;c.updateBase({appId:E.appId,groupId:E.groupId,worksheetId:E.worksheetId,viewId:E.viewId}),c.loadWorksheet()}},{key:"componentWillReceiveProps",value:function(c){var E=c.match.params,f=this.props.match.params;E.viewId!==f.viewId&&(this.props.updateBase({viewId:E.viewId}),this.props.resetSheetView()),E.worksheetId!==f.worksheetId&&(this.props.emptySheetRows(),this.props.emptySheetControls(),this.getApp(c))}},{key:"componentWillUnmount",value:function(){this.props.emptySheetControls()}},{key:"renderContent",value:function(){var c=this,E=this.props,f=E.base,T=E.worksheetInfo,V=E.sheetSwitchPermit,K=E.match,q=E.batchOptVisible,ne=E.appDetail,ee=f.viewId,te=ne.detail,oe=te.appNaviStyle,le=T.views.filter(function(re){return A().get(re,"advancedSetting.showhide")!=="hide"&&A().get(re,"advancedSetting.showhide")!=="spc&happ"}),Y=A().find(le,{viewId:ee})||!ee&&le[0]||{},ue=K.params,ie=(0,M.aq)(Y),se=ie.begindate,fe=se===void 0?"":se,de=ie.enddate,_e=de===void 0?"":de,ce=ie.calendarcids,z=ce===void 0?"[]":ce;try{z=JSON.parse(z)}catch(re){z=[]}z.length<=0&&(z=[{begin:fe,end:_e}]);var pe=(0,i.v)(u.RX.delete,V,Y.viewId),ve=(0,i.v)(u.RX.execute,V,Y.viewId);return A().isEmpty(le)?n.createElement("div",{className:"flexColumn h100 justifyContentCenter alignItemsCenter Font16 Gray_9e"},n.createElement("img",{style:{width:70},src:J()}),_l("\u89C6\u56FE\u5DF2\u9690\u85CF")):n.createElement(n.Fragment,null,n.createElement("div",{className:$()("flexColumn w100 h100",{portalWrapHeight:md.global.Account.isPortal&&oe===2})},n.createElement(l.Z,{view:Y,key:T.worksheetId,routerParams:ue}),!A().get(window,"shareState.shareId")&&(pe||ve)&&Y.viewType===0&&!q&&A().isEmpty(Y.navGroup)&&n.createElement("div",{className:$()("batchOperation",{bottom70:oe===2&&location.href.includes("mobile/app")}),onClick:function(){return c.props.changeBatchOptVisible(!0)}},n.createElement(R.Z,{icon:"task-complete",className:"Font24"}))))}},{key:"render",value:function(){var c=this.props,E=c.base,f=c.worksheetInfo,T=c.workSheetLoading,V=c.appDetail,K=V===void 0?{}:V,q=K.detail,ne=q===void 0?{}:q,ee=K.appName,te=ne.webMobileDisplay;return te?n.createElement("div",{style:{background:"#fff",height:"100%"}},n.createElement("div",{className:"flex WordBreak overflow_ellipsis pLeft20 pRight20 Height80"},n.createElement("span",{className:"Gray Font24 LineHeight80 InlineBlock Bold"},ee)),n.createElement(H.Z,{isNoPublish:te})):T?n.createElement(U(),{justify:"center",align:"center",className:"h100"},n.createElement(y(),{size:"large"})):f.resultCode!==1?n.createElement(t.Z,{type:"sheet"}):n.createElement(U(),{justify:"center",align:"center",className:"w100 h100 relative"},this.renderContent())}}]),w}(n.Component))||G)||G;const ae=(0,m.$j)(function(F){return(0,P.default)({},A().pick(F.mobile,"base","worksheetInfo","sheetSwitchPermit","currentSheetRows","workSheetLoading","filters","worksheetControls","appColor","batchOptVisible","isCharge","appDetail"),{calendarview:F.sheet.calendarview})},function(F){return(0,o.DE)((0,P.default)({},A().pick(I,["updateBase","loadWorksheet","unshiftSheetRow","resetSheetView","emptySheetControls","emptySheetRows","updateFilters","changeMobileGroupFilters","changeBatchOptVisible"]),{addNewRecord:b.addNewRecord}),F)})(k)},60876:(Z,h,e)=>{e.d(h,{$B:()=>g,s3:()=>D,tg:()=>p});var P=e(349),B=e.n(P),W=e(85105),O=e.n(W),U=e(72444),C=e(88239),N=e(88902),d=e.n(N),y=e(96486),R=e.n(y),D=function(r){return R().get(r,["match","params"])},L=function(r){return _.flatten(_Object$keys(r).map(function(o){var m=r[o];return _.includes(["validProject"],o)?m.map(function(I){return _extends({type:o},I)}):_.includes(["aloneApps"],o)?{type:o,projectApps:m}:m.length?{type:o,projectApps:m}:null})).filter(function(o){return!!o})},a=function(r){if((typeof r>"u"?"undefined":(0,U.default)(r))!=="object"||r===null)return!1;for(var o=r;O()(o)!==null;)o=O()(o);return O()(r)===o},p=function n(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d()(r),I=0;I<m.length;I++){var b=m[I],S=r[b],t=o[b];if(a(S)&&a(t))return n(S,t,d()(S));if(!B()(S,t))return!0}return!1},g=function(r){var o=r.isGoodsStatus,m=r.isNew,I=r.fixed,b=r.isUpgrade;return o?b?_l("\u5347\u7EA7\u4E2D"):I?_l("\u7EF4\u62A4\u4E2D%01018"):m?_l("\u65B0 !"):null:_l("\u8FC7\u671F")},v=function(r,o){switch(o){case APP_ROLE_TYPE.POSSESS_ROLE:break;case APP_ROLE_TYPE.ADMIN_ROLE:r=_.filter(r,function(m){return!_.includes(["del"],m.type)});break;case APP_ROLE_TYPE.RUNNER_ROLE:r=_.filter(r,function(m){return _.includes(["modify","editIntro","appAnalytics","appLogs","modifyAppLockPassword"],m.type)});break;case APP_ROLE_TYPE.DEVELOPERS_ROLE:r=_.filter(r,function(m){return!_.includes(["copy","export","appAnalytics","appLogs","del"],m.type)});break;case APP_ROLE_TYPE.RUNNER_DEVELOPERS_ROLE:r=_.filter(r,function(m){return!_.includes(["copy","export","del"],m.type)});break;default:break}return r}}}]);
