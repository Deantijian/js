(self.webpackChunkmingdao_web=self.webpackChunkmingdao_web||[]).push([[7988],{49090:j=>{j.exports=function(o,e,i){var m=document.head||document.getElementsByTagName("head")[0],n=document.createElement("script");typeof e=="function"&&(i=e,e={}),e=e||{},i=i||function(){},n.type=e.type||"text/javascript",n.charset=e.charset||"utf8",n.async="async"in e?!!e.async:!0,n.src=o,e.attrs&&u(n,e.attrs),e.text&&(n.text=""+e.text);var v="onload"in n?t:f;v(n,i),n.onload||t(n,i),m.appendChild(n)};function u(a,o){for(var e in o)a.setAttribute(e,o[e])}function t(a,o){a.onload=function(){this.onerror=this.onload=null,o(null,a)},a.onerror=function(){this.onerror=this.onload=null,o(new Error("Failed to load "+this.src),a)}}function f(a,o){a.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,o(null,a))}}},32738:()=>{"use strict"},17988:(j,u,t)=>{"use strict";t.r(u),t.d(u,{default:()=>X});var f=t(85105),a=t.n(f),o=t(99663),e=t(22600),i=t(49135),m=t(93196),n=t(67294),v=t(21),S=t(73218),p=t(54208),M=t(88239),C=t(49090),N=t.n(C),B=t(50533),s=t(15577),E=t(25265),A=t(96486),c=t.n(A),h=t(30381),L=t.n(h),R,b,K=(R=(0,B.$j)(function(T){return{}}),R(b=function(T){(0,m.default)(l,T);function l(d){(0,o.default)(this,l);var r=(0,i.default)(this,(l.__proto__||a()(l)).call(this,d));r.reload=function(){var g=localStorage.getItem("currentProjectId");g!==r.state.projectId&&(location.href="/app/lib?projectId="+g)};var D="https://alifile.mingdaocloud.com/open/js/applibrary.js?"+L()().format("YYYYMMDD");return r.state={str:D,projectId:localStorage.getItem("currentProjectId")},r}return(0,e.default)(l,[{key:"componentDidMount",value:function(){var r=this;$(".loadBoxForWarehouse").hide();var D=window,g=D.md,y=g===void 0?{}:g,Y=y.global,F=Y===void 0?{}:Y,O=F.Config,P=O===void 0?{}:O,Z=F.Account,x=Z===void 0?{}:Z,W=P.AppFileServer,w=W===void 0?"":W,k=P.IsLocal,G=x.accountId,q=G===void 0?"":G,J=x.projects,V=J===void 0?[]:J,_=x.avatar;s.uY.addListener("CHANGE_CURRENT_PROJECT",this.reload);var z={upgradeVersionDialog:function(I){var tt=c().get(c().find(V,function(nt){return nt.projectId===I.projectId})||{},"licenseType");return(0,s.Yg)((0,M.default)({},I,{isFree:tt===0}))},MDAppLibraryId:"containerAppLib",getUrl:y&&y.global&&y.global.SysSettings&&y.global.SysSettings.templateLibraryTypes==="2"?__api_server__.main:"https://pd.mingdao.com/api/",installUrl:w,accountId:q,projects:V,isPrivate:k,avatar:_,contactUser:function(I){r.props.dispatch(E.Wu(I))}};c().get(window,"md.global.SysSettings.templateLibraryTypes")==="2"?t.e(7392).then(t.bind(t,57392)).then(function(){window.MDLibrary&&window.MDLibrary(z)}):N()(this.state.str,function(H){!H&&window.MDLibrary&&window.MDLibrary(z)})}},{key:"componentWillUnmount",value:function(){var r=$('script[src="'+this.state.str+'"]');r.length>0&&r.remove(),$("html").removeClass("appListPage"),s.uY.removeListener("CHANGE_CURRENT_PROJECT",this.reload)}},{key:"render",value:function(){return n.createElement("div",{id:"containerAppLib"},n.createElement(p.Z,{style:{paddingTop:document.documentElement.clientHeight/2,paddingBottom:document.documentElement.clientHeight/2}}))}}]),l}(n.Component))||b);const Q=K;var U,X=(0,v.Z)(U=function(T){(0,m.default)(l,T);function l(d){(0,o.default)(this,l);var r=(0,i.default)(this,(l.__proto__||a()(l)).call(this,d));return r.state={data:[],loading:!0},r}return(0,e.default)(l,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var r=this.state.loading;return n.createElement("div",{className:"appBox h100"},n.createElement("div",{className:"content"},n.createElement(Q,null)),n.createElement(S.Z,{action:"appBox"}))}}]),l}(n.Component))||U},73218:(j,u,t)=>{"use strict";t.d(u,{Z:()=>N});var f=t(85105),a=t.n(f),o=t(99663),e=t(22600),i=t(49135),m=t(93196),n=t(67294),v=t(21),S=t(93967),p=t.n(S),M=t(32738),C,N=(0,v.Z)(C=function(B){(0,m.default)(s,B);function s(E){return(0,o.default)(this,s),(0,i.default)(this,(s.__proto__||a()(s)).call(this,E))}return(0,e.default)(s,[{key:"render",value:function(){var A=this.props,c=A.action,h=A.history;return n.createElement("div",{className:"appTabBar"},n.createElement("div",{className:p()("itemTab",{action:c==="appHome"}),onClick:function(){h.push("/mobile/appHomeOri")}},n.createElement("i",{className:"tab-icon home-icon"}),n.createElement("span",null,_l("\u9996\u9875"))),n.createElement("div",{className:p()("itemTab",{action:c==="appHomeOri"}),onClick:function(){h.push("/mobile/appHome")}},n.createElement("i",{className:"tab-icon work-icon"}),n.createElement("span",{className:"mTop1"},_l("\u5DE5\u4F5C\u53F0"))),!md.global.SysSettings.hideTemplateLibrary&&n.createElement("div",{className:p()("itemTab",{action:c==="appBox"}),onClick:function(){h.push("/mobile/appBox")}},n.createElement("i",{className:"tab-icon yy-icon"}),n.createElement("span",null,_l("\u5E94\u7528\u5E93"))))}}]),s}(n.Component))||C}}]);
