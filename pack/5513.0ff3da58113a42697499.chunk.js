(self.webpackChunkmingdao_web=self.webpackChunkmingdao_web||[]).push([[5513],{25513:(b,q,i)=>{"use strict";i.r(q),i.d(q,{default:()=>Pt});var Ae=i(51197),O=i(88239),F=i(54208),x=i(88106),Ie=i(85105),T=i.n(Ie),L=i(99663),P=i(22600),W=i(49135),U=i(93196),t=i(67294),$=i(15577),ce=i(30539),ve=i(83555),we=i.n(ve),Ce=i(60294),Se=i.n(Ce),ye=i(62944),xe=i.n(ye),Ne=i(86670),be=i.n(Ne),Wt=i(67272),J=i(51024),Ut=i(25130),ee=i(64713),Rt=i(34279),Fe=i(64749),de=i(20845),I=i(97553),G=i(66215),Zt=i(55055),te=i(62443),g=i(33867),ke=i(93967),D=i.n(ke),K=i(53825),Gt=i(36964),p=i(61511),R=i(70801),Q=i(86735),De=i(88555),Y=i(14338),Be=i(9122),ne=i(12424),je=i(1952);function Te(E){var r=E.projectId,m=E.onCancel,e=m===void 0?function(){}:m,n=E.onSave,a=n===void 0?function(){}:n,s=(0,t.useState)("delete"),l=(0,ne.Z)(s,2),o=l[0],c=l[1],d=function(){e(),o==="delete"?Be.Z.confirm({allowNoVerify:!1,isRequired:!1,closeImageValidation:!1,onOk:function(){p.Z.removeProjectAllIntergration({projectId:r}).then(function(A){A?a():alert(_l("\u64CD\u4F5C\u5931\u8D25"),2)})}}):a()};return t.createElement(De.Z,{visible:!0,onCancel:e,title:_l("\u60A8\u662F\u5426\u786E\u8BA4\u8FDB\u884C\u4FDD\u5B58\uFF1F"),okText:_l("\u4E0B\u4E00\u6B65"),onOk:d},t.createElement(t.Fragment,null,t.createElement(Y.Z,{className:"Font13",checked:o==="delete",text:_l("\u5220\u9664\u539F\u6709\u7684\u96C6\u6210\u6620\u5C04\u5173\u7CFB"),onClick:function(){return c("delete")}}),t.createElement("div",{className:"Gray_75 Font12 mTop10 mLeft30 mBottom10"},_l("\u53D8\u66F4\u96C6\u6210\u65B9\u5F0F\u540E\u539F\u6709\u7684\u96C6\u6210\u6620\u5C04\u5173\u7CFB\u5EFA\u8BAE\u5220\u9664\uFF0C\u4FDD\u7559\u540E\u4F1A\u5BF9\u65B0\u7684\u6620\u5C04\u5173\u7CFB\u4EA7\u751F\u5F71\u54CD")),t.createElement(Y.Z,{className:"Font13",checked:o==="save",text:_l("\u4FDD\u7559\u539F\u6709\u7684\u96C6\u6210\u6620\u5C04\u5173\u7CFB"),onClick:function(){return c("save")}}),t.createElement("div",{className:"Gray_75 Font12 mTop10 mLeft30"},_l("\u4F01\u5FAE/\u9489\u9489/\u98DE\u4E66\u7B49\u5E73\u53F0\u79C1\u6709\u90E8\u7F72\u7684\u7528\u6237\uFF08\u652F\u6301ID\u81EA\u5B9A\u4E49\uFF09\u5EFA\u8BAE\u9009\u62E9\u4FDD\u7559\uFF0C\u6620\u5C04\u5173\u7CFB\u4E0D\u9700\u8981\u5220\u9664\uFF0C\u540E\u7EED\u4FEE\u6539 ID \u5373\u53EF"))))}var Le=function(r){return(0,je.Z)(Te,(0,O.default)({},r))},Pe={1:_l("\u9489\u9489"),3:_l("\u4F01\u4E1A\u5FAE\u4FE1"),4:"Welink",6:_l("\u98DE\u4E66")},V=function(r){ce.Z.getProjectPermissionsByUser({projectId:r}).then(function(m){var e=m.projectIntergrationType;_.includes([1,3,4,6],e)?alert(_l("\u64CD\u4F5C\u5931\u8D25\uFF0C\u5DF2\u542F\u7528\u201C%0\u201D\u96C6\u6210",Pe[e]),2):alert(_l("\u64CD\u4F5C\u5931\u8D25"),2)})},X=function(r){var m=r.projectId,e=r.onSave,n=e===void 0?function(){}:e;return p.Z.checkClearIntergrationData({projectId:m}).then(function(a){a?Le({projectId:m,onSave:n}):n()})},We=i(30878),Ue=i.n(We),M=i(5017),Re=i(50550),Ze=i.n(Re),Ge=i(96486),w=i.n(Ge),Qe=(0,Q.Z)([`
  padding: 15px 32px 0;
  .stepOneContent {
    width: 480px;
    text-align: center;
    margin: 90px auto 0;
    .iconContainer {
      width: 220px;
      height: 58px;
      margin: 0 auto 55px;
      display: flex;
      justify-content: space-between;
      .icon1 {
        width: 58px;
        background: #2196f3;
        border-radius: 50%;
        text-align: center;
        .icon {
          font-size: 36px;
          line-height: 58px;
          color: #fff;
        }
      }
      .icon2 {
        .icon {
          font-size: 27px;
          color: #bdbdbd;
          line-height: 58px;
        }
      }
      .icon3 {
        img {
          height: 58px;
        }
      }
    }
    .erweima {
      width: 220px;
      height: 220px;
      margin: 0 auto 39px;
      display: flex;
      justify-content: center;
      align-items: center;
      img {
        width: 100%;
        height: 100%;
      }
    }
    .tip {
      font-size: 32px;
      font-weight: 600;
      margin-bottom: 25px;
    }
    .subTip {
      font-size: 17px;
    }
  }
  .title {
    font-size: 20px;
    font-weight: 600;
  }
  .subTitle {
    font-size: 13px;
    color: #9e9e9e;
  }
  .confirmBtn {
    width: 132px;
    height: 36px;
    line-height: 36px;
    background: #2196f3;
    opacity: 1;
    border-radius: 18px;
    color: #fff;
    font-size: 14px;
    font-weight: 600;
    margin-top: 36px;
  }
  .line {
    width: 100%;
    border-top: 1px solid #eaeaea;
    height: 0;
    margin-bottom: 40px;
  }

  .dataSynInfo {
    color: #757575;
    font-size: 13px;
    margin-right: 8px;
  }

  .w130 {
    width: 130px;
  }
  .w140 {
    width: 140px;
  }
  .linkTxt {
    font-size: 13px;
    color: #2196f3;
    cursor: pointer;
  }
  .BoldText {
    color: #333;
    font-weight: 600;
  }
`],[`
  padding: 15px 32px 0;
  .stepOneContent {
    width: 480px;
    text-align: center;
    margin: 90px auto 0;
    .iconContainer {
      width: 220px;
      height: 58px;
      margin: 0 auto 55px;
      display: flex;
      justify-content: space-between;
      .icon1 {
        width: 58px;
        background: #2196f3;
        border-radius: 50%;
        text-align: center;
        .icon {
          font-size: 36px;
          line-height: 58px;
          color: #fff;
        }
      }
      .icon2 {
        .icon {
          font-size: 27px;
          color: #bdbdbd;
          line-height: 58px;
        }
      }
      .icon3 {
        img {
          height: 58px;
        }
      }
    }
    .erweima {
      width: 220px;
      height: 220px;
      margin: 0 auto 39px;
      display: flex;
      justify-content: center;
      align-items: center;
      img {
        width: 100%;
        height: 100%;
      }
    }
    .tip {
      font-size: 32px;
      font-weight: 600;
      margin-bottom: 25px;
    }
    .subTip {
      font-size: 17px;
    }
  }
  .title {
    font-size: 20px;
    font-weight: 600;
  }
  .subTitle {
    font-size: 13px;
    color: #9e9e9e;
  }
  .confirmBtn {
    width: 132px;
    height: 36px;
    line-height: 36px;
    background: #2196f3;
    opacity: 1;
    border-radius: 18px;
    color: #fff;
    font-size: 14px;
    font-weight: 600;
    margin-top: 36px;
  }
  .line {
    width: 100%;
    border-top: 1px solid #eaeaea;
    height: 0;
    margin-bottom: 40px;
  }

  .dataSynInfo {
    color: #757575;
    font-size: 13px;
    margin-right: 8px;
  }

  .w130 {
    width: 130px;
  }
  .w140 {
    width: 140px;
  }
  .linkTxt {
    font-size: 13px;
    color: #2196f3;
    cursor: pointer;
  }
  .BoldText {
    color: #333;
    font-weight: 600;
  }
`]),Me=(0,Q.Z)([`
  width: 452px;
  margin: 0 auto;
  text-align: center;
  padding-top: 150px;
  .gearImg {
    width: 120px;
    margin-bottom: 29px;
  }
  .title {
    margin-bottom: 15px;
  }
  .gray9e {
    color: #9e9e9e;
  }
`],[`
  width: 452px;
  margin: 0 auto;
  text-align: center;
  padding-top: 150px;
  .gearImg {
    width: 120px;
    margin-bottom: 29px;
  }
  .title {
    margin-bottom: 15px;
  }
  .gray9e {
    color: #9e9e9e;
  }
`]),He=M.ZP.div(Qe),Oe=M.ZP.div(Me),Ke=function(E){(0,U.default)(r,E);function r(m){(0,L.default)(this,r);var e=(0,W.default)(this,(r.__proto__||T()(r)).call(this,m));return e.geterwima=function(){e.setState({isLoading:!0}),p.Z.getWorkWXAlternativeAppScanCodeUrl({projectId:e.props.projectId}).then(function(n){n&&e.setState({url:md.global.Config.AjaxApiUrl+("code/CreateQrCodeImage?url="+n+"&download=true"),isLoading:!1})})},e.confirmAuthorize=function(){p.Z.editWorkWXAlternativeAppStatus({projectId:e.props.projectId}).then(function(n){n?e.setState({step:2}):alert(_l("\u5931\u8D25"),2)})},e.renderStepOne=function(){var n=e.state,a=n.url,s=a===void 0?"":a,l=n.isLoading;return t.createElement("div",{className:"stepOneContent"},t.createElement("div",{className:"iconContainer"},t.createElement("div",{className:"icon1"},t.createElement(g.Z,{icon:"widgets2"})),t.createElement("div",{className:"icon2"},t.createElement(g.Z,{icon:"swap_horiz"})),t.createElement("div",{className:"icon3"},t.createElement("img",{src:Ue()}))),t.createElement("div",{className:"erweima"},l?t.createElement(F.Z,null):t.createElement("img",{src:s})),t.createElement("div",{className:"tip"},_l("\u5C06\u5E94\u7528\u5B89\u88C5\u4F01\u4E1A\u5FAE\u4FE1\u5DE5\u4F5C\u53F0")),t.createElement("div",{className:"subTip"},_l("\u4F01\u4E1A\u5FAE\u4FE1\u7BA1\u7406\u5458\u626B\u7801\u5E76\u5B8C\u6210\u6388\u6743")),t.createElement(I.ZP,{className:"confirmBtn",onClick:function(){X({projectId:e.props.projectId,onSave:e.confirmAuthorize})}},_l("\u786E\u8BA4")))},e.toEnterPriseWXBackStage=function(){window.open("https://work.weixin.qq.com/wework_admin/frame#apps")},e.renderStepTwo=function(){return t.createElement(Oe,null,t.createElement("img",{className:"gearImg",src:Ze()}),t.createElement("div",{className:"title"},_l("\u5E94\u7528\u5F00\u53D1\u4E2D")),t.createElement("div",{className:"gray9e"},_l("\u6388\u6743\u5B8C\u6210\u540E\u5E94\u7528\u8FDB\u5165\u5F00\u53D1\u9636\u6BB5")),t.createElement("div",{className:"gray9e"},_l("\u53EF\u4EE5\u524D\u5F80"),t.createElement("span",{className:"Hand linkTxt",onClick:e.toEnterPriseWXBackStage},_l("\u4F01\u4E1A\u5FAE\u4FE1\u540E\u53F0-\u5E94\u7528\u7BA1\u7406")),"\u67E5\u770B\u5F00\u53D1\u8FDB\u5EA6\uFF0C\u9884\u8BA11-3\u4E2A\u5DE5\u4F5C\u65E5\u5185\u5B8C\u6210\u3002 "))},e.state={step:m.status===0?2:1,isLoading:!1},e}return(0,P.default)(r,[{key:"componentWillReceiveProps",value:function(e){w().isEqual(this.props.status,e.status)||(this.setState({step:e.status===0?2:1}),e.status!==0&&this.geterwima())}},{key:"render",value:function(){var e=this.state.step;return t.createElement(He,null,e===1&&this.renderStepOne(),e===2&&this.renderStepTwo())}}]),r}(t.Component),Qt=i(52262),Xe=i(65400),me=i(64712),Je=i(66344),Ye=(0,Q.Z)([`
  padding: 20px 0;
  margin: 0 25px;
  border-bottom: 1px solid #eaeaea;
  .syncBox {
    max-width: 637px;
  }
  .initialPasswordInfo {
    margin: 24px 0 20px 0;
    position: relative;
    .passwordlabel {
      font-size: 13px;
      color: #333;
    }
    .password {
      width: 320px;
      height: 36px;
      margin: 0 24px 0 28px;
      border: 1px solid #2196f3;
    }
    .passwordError {
      border: 1px solid #ff4d4f;
    }
    .passwordErrorTxt {
      color: #ff4d4f;
      padding-left: 80px;
    }
    .ant-btn-primary {
      height: 36px;
      position: absolute;
      top: 0;
      bottom: 0;
    }
  }
`],[`
  padding: 20px 0;
  margin: 0 25px;
  border-bottom: 1px solid #eaeaea;
  .syncBox {
    max-width: 637px;
  }
  .initialPasswordInfo {
    margin: 24px 0 20px 0;
    position: relative;
    .passwordlabel {
      font-size: 13px;
      color: #333;
    }
    .password {
      width: 320px;
      height: 36px;
      margin: 0 24px 0 28px;
      border: 1px solid #2196f3;
    }
    .passwordError {
      border: 1px solid #ff4d4f;
    }
    .passwordErrorTxt {
      color: #ff4d4f;
      padding-left: 80px;
    }
    .ant-btn-primary {
      height: 36px;
      position: absolute;
      top: 0;
      bottom: 0;
    }
  }
`]),Ve=M.ZP.div(Ye),ae=function(E){(0,U.default)(r,E);function r(m){(0,L.default)(this,r);var e=(0,W.default)(this,(r.__proto__||T()(r)).call(this,m));return e.changeInitialPassword=function(n){p.Z.editIntergrationAccountInitializeInfo({projectId:me.Z.projectId,password:n?(0,$.HI)(n):""}).then(function(a){e.state.isSetPassword&&(a?alert(_l("\u4FDD\u5B58\u6210\u529F")):alert(_l("\u4FDD\u5B58\u5931\u8D25"),2))})},e.changeSetInitialPassword=function(n){e.setState({isSetPassword:!n}),n?e.changeInitialPassword(""):e.setState({password:""})},e.savePassword=function(){var n=e.state.password,a=md.global.SysSettings.passwordRegex;Je.Z.isPasswordValid(n,a)?(e.setState({passwordError:!1}),e.changeInitialPassword(n)):e.setState({passwordError:!0})},e.state={password:m.password,isSetPassword:m.isSetPassword},e}return(0,P.default)(r,[{key:"componentWillReceiveProps",value:function(e){w().isEqual(this.props.isSetPassword,e.isSetPassword)||this.setState({isSetPassword:e.isSetPassword}),w().isEqual(this.props.password,e.password)||this.setState({password:e.password})}},{key:"render",value:function(){var e=this,n=this.props.disabled,a=md.global.SysSettings,s=a.passwordRegexTip,l=a.passwordRegex;return t.createElement(Ve,null,t.createElement("div",{className:"flex"},t.createElement("h3",{className:"stepTitle Font16 Gray mBottom24"},_l("\u4E3A\u540C\u6B65\u8D26\u53F7\u8BBE\u7F6E\u521D\u59CB\u5BC6\u7801")),t.createElement(G.Z,{disabled:n,checked:this.state.isSetPassword,onClick:this.changeSetInitialPassword}),t.createElement("div",{className:"mTop16 syncBox"},t.createElement("span",{className:"Font13 Gray_75 info"},_l("\u5F00\u542F\u540E\uFF0C\u4E3A\u540C\u6B65\u5230\u7CFB\u7EDF\u7684\u8D26\u53F7\u8BBE\u7F6E\u521D\u59CB\u5BC6\u7801\uFF0C\u7528\u6237\u53EF\u4EE5\u4F7F\u7528\u7CFB\u7EDF\u521B\u5EFA\u7684\u8D26\u53F7\u548C\u5BC6\u7801\uFF08\u521D\u59CB\u5BC6\u7801\uFF09\u8FDB\u884C\u767B\u5F55"))),t.createElement("div",{className:"mTop10 syncBox"},t.createElement("span",{className:"Font13 Gray_75 info"},_l("\u6CE8\uFF1A\u4E3A\u4FDD\u8BC1\u8D26\u53F7\u5B89\u5168\uFF0C\u9996\u6B21\u4F7F\u7528\u8D26\u53F7\u767B\u5F55\u9700\u4FEE\u6539\u5BC6\u7801"))),this.state.isSetPassword&&t.createElement("div",{className:"initialPasswordInfo"},t.createElement("span",{className:"passwordlabel"},_l("\u521D\u59CB\u5BC6\u7801")),t.createElement(J.default.Password,{className:D()("password",{passwordError:this.state.passwordError}),value:this.state.password,placeholder:s,autoComplete:"new-password",onChange:function(c){var d=c.target.value;e.setState({password:d})}}),t.createElement(Xe.default,{type:"primary",onClick:this.savePassword},_l("\u4FDD\u5B58")),this.state.passwordError&&t.createElement("div",{className:"passwordErrorTxt"},s||_l("8-20\u4F4D\uFF0C\u9700\u5305\u542B\u5B57\u6BCD\u548C\u6570\u5B57")))))}}]),r}(t.Component),pe=i(25273),ze=i(85315),_e=i(10929),ue=i(31261),qe=function(E){(0,U.default)(r,E);function r(m){(0,L.default)(this,r);var e=(0,W.default)(this,(r.__proto__||T()(r)).call(this,m));return e.getBindList=function(n){var a=n||{},s=a.pageIndex,l=s===void 0?1:s,o=a.pageSize,c=o===void 0?20:o,d=a.platformKeyword,u=a.workwxKeyword;e.ajaxPromise&&e.ajaxPromise.abort&&e.ajaxPromise.abort(),e.ajaxPromise=p.Z.getWorkWxUserRelations({projectId:e.props.projectId,pageIndex:l,pageSize:c,platformKeyword:d,workwxKeyword:u}),e.ajaxPromise.then(function(f){var A=f.iten1,C=f.item2,B=f.item3,N=B===void 0?[]:B,h=f.item4;e.setState({mingDaoUserInfos:N,allCount:h,loading:!1})})},e.renderConfirmSync=function(){var n=e.props.projectId,a=e.state,s=a.mingDaoUserInfos,l=s===void 0?[]:s,o=a.bindQWUserIds,c=o===void 0?[]:o,d=a.confirmVisible,u=a.syncLoading,f={};return l.forEach(function(A){A.wxUserInfo&&!w().isEmpty(A.wxUserInfo)&&(f[A.accountId]=A.wxUserInfo.userId)}),t.createElement(R.Z,{visible:d,title:_l("\u786E\u8BA4\u540C\u6B65\uFF1F"),width:"555px",okDisabled:u,onCancel:function(){e.setState({confirmVisible:!1})},onOk:function(){e.setState({syncLoading:!0}),p.Z.syncWorkWXToMingByApp({projectId:n,userMaps:f}).then(function(C){C.item1?(alert(_l("\u540C\u6B65\u6210\u529F")),e.setState({confirmVisible:!1,syncLoading:!1})):(e.setState({confirmVisible:!1,syncLoading:!1}),R.Z.confirm({title:_l("\u540C\u6B65\u5931\u8D25"),description:C.item2||_l("\u540C\u6B65\u5931\u8D25"),showCancel:!1}))})}},t.createElement("div",null,e.getCount(4)-c.length>0?_l("\u68C0\u7D22\u5230\u672A\u7ED1\u5B9A\u7EC4\u7EC7\u7528\u6237\u7684\u4F01\u5FAE\u7528\u6237 %0 \u4E2A\uFF0C\u5E73\u53F0\u4F1A\u4E3A\u8FD9 %0 \u4E2A\u7528\u6237\u521B\u5EFA\u65B0\u7684\u7EC4\u7EC7\u8D26\u53F7\u7ED1\u5B9A",e.getCount(4)-c.length):_l("\u5E73\u53F0\u4F1A\u7ED9\u672A\u7ED1\u5B9A\u7EC4\u7EC7\u7528\u6237\u7684\u4F01\u4E1A\u5FAE\u4FE1\u7528\u6237\u521B\u5EFA\u4E00\u4E2A\u7EC4\u7EC7\u8D26\u53F7\u7ED1\u5B9A")))},e.onOk=function(){var n=e.state.mingDaoUserInfos,a=n===void 0?[]:n,s={};a.forEach(function(l){l.wxUserInfo&&!w().isEmpty(l.wxUserInfo)&&(s[l.accountId]=l.wxUserInfo.userId)}),e.props.onCancel(),e.setState({confirmVisible:!0})},e.bindQWUser=function(n,a){var s=[].concat((0,ze.Z)(e.state.mingDaoUserInfos)).map(function(l){return l.accountId===n?(0,O.default)({},l,{wxUserInfo:a}):l});e.setState({mingDaoUserInfos:s,bindQWUserIds:s.filter(function(l){return l.wxUserInfo&&l.wxUserInfo.userId}).map(function(l){return l.wxUserInfo.userId}),filterMatchPhoneBindUserIds:s.filter(function(l){return l.wxUserInfo&&l.wxUserInfo.userId&&l.wxUserInfo.matchType!==1}).map(function(l){return l.wxUserInfo.userId})})},e.searchQWUserList=w().throttle(function(n){e.setState({keywords:n},function(){e.getWorkWXUsers()})},200),e.renderSelectUsers=function(n){var a=e.state,s=a.qwUserList,l=s===void 0?[]:s,o=a.searchLoading;return t.createElement("div",{className:"selectUserWrap flexColumn"},t.createElement("div",{className:"searchBox"},t.createElement(g.Z,{icon:"search",className:"Gray_bd Font20 mRight16"}),t.createElement("input",{placeholder:_l("\u641C\u7D22\u59D3\u540D\u3001\u90E8\u95E8\u3001\u804C\u4F4D"),onChange:function(d){return e.searchQWUserList(d.target.value)}})),t.createElement("div",{className:"userList flex"},o?t.createElement(F.Z,null):w().isEmpty(l)?t.createElement("div",{className:"mTop50 TxtCenter Gray_75 Font15"},_l("\u65E0\u6570\u636E")):t.createElement(pe.Z,null,l.map(function(c){var d=(c.jobNames||[]).join(";"),u=(c.departmentNames||[]).join(";");return t.createElement("div",{className:"listItem",key:c.userId,onClick:function(){return e.bindQWUser(n,c)}},t.createElement("div",{className:"Font14 bold Gray"},c.fullname),t.createElement("div",{className:"userInfo ellipsis Gray_75 Font13"},d&&u?d+" | "+u:d||u))}))))},e.searchProjecUsers=function(n){e.setState({platformKeyword:n}),n||e.getBindList({pageIndex:1,platformKeyword:n,workwxKeyword:e.state.workwxKeyword})},e.searchWorkwxUsers=function(n){e.setState({workwxKeyword:n}),n||e.getBindList({pageIndex:1,platformKeyword:e.state.platformKeyword,workwxKeyword:n})},e.changPage=function(n){e.setState({pageIndex:n,loading:!0},function(){e.getBindList({pageIndex:n,platformKeyword:e.state.platformKeyword,workwxKeyword:e.state.workwxKeyword})})},e.removeWXUser=function(n){var a=e.state.mingDaoUserInfos,s=a===void 0?[]:a,l=s.map(function(o){return o.accountId===n?(0,O.default)({},o,{wxUserInfo:{}}):o});e.setState({mingDaoUserInfos:l,bindQWUserIds:l.filter(function(o){return o.wxUserInfo&&o.wxUserInfo.userId}).map(function(o){return o.wxUserInfo.userId})})},e.getWorkWXUsers=function(){var n=e.state,a=n.bindQWUserIds,s=a===void 0?[]:a,l=n.keywords;e.ajaxWorkWXUsers&&e.ajaxWorkWXUsers.abort&&e.ajaxWorkWXUsers.abort(),e.setState({searchLoading:!0}),e.ajaxWorkWXUsers=p.Z.getWorkWXStructureInfo({projectId:e.props.projectId,keywords:l}),e.ajaxWorkWXUsers.then(function(o){var c=o.item1,d=o.item2,u=o.item3,f=u===void 0?[]:u;e.setState({qwUserList:f.filter(function(A){return!w().includes(s,A.userId)}),searchLoading:!1})})},e.cancelBind=function(n,a){var s=e.props.projectId;R.Z.confirm({title:_l("\u786E\u5B9A\u89E3\u7ED1"),description:_l("\u4F01\u5FAE\u8D26\u53F7\u4E0E\u5E73\u53F0\u8D26\u53F7\u89E3\u7ED1\u540E\uFF0C\u5C06\u4E0D\u80FD\u901A\u8FC7\u5E73\u53F0\u5B98\u7F51\u767B\u5F55\uFF1B\u540E\u7EED\u70B9\u51FB\u540C\u6B65\u53EF\u4EE5\u91CD\u65B0\u9009\u62E9\u8D26\u53F7\u7ED1\u5B9A\u3002"),onOk:function(){p.Z.unbindWorkWxUserRelation({projectId:s,mingdaoAccountId:n,workwxUserId:a}).then(function(o){o?(alert(_l("\u64CD\u4F5C\u6210\u529F")),e.getBindList({pageIndex:1,platformKeyword:e.state.platformKeyword,workwxKeyword:e.state.workwxKeyword})):alert(_l("\u64CD\u4F5C\u5931\u8D25"),2)})}})},e.getCount=function(n){var a=e.state.logDetailItems,s=a===void 0?[]:a,l=s.filter(function(o){return o.type===n});return l&&!w().isEmpty(l)&&l[0].items.length||0},e.renderSyncInfo=function(){var n=e.props,a=n.visible,s=n.isBindRelationship,l=e.state,o=l.allCount,c=l.pageIndex,d=c===void 0?1:c,u=l.pageSize,f=l.platformKeyword,A=f===void 0?"":f,C=l.workwxKeyword,B=C===void 0?"":C,N=l.mingDaoUserInfos,h=N===void 0?[]:N,S=l.bindQWUserIds,Z=S===void 0?[]:S,k=l.filterMatchPhoneBindUserIds,se=k===void 0?[]:k,he=l.loading,oe=s?{footer:null}:{};return t.createElement(R.Z,(0,O.default)({className:"syncDialog",width:1045,visible:a,title:s?_l("\u7ED1\u5B9A\u5173\u7CFB"):_l("\u540C\u6B65\u8D26\u53F7"),okText:_l("\u540C\u6B65"),onCancel:function(){e.props.onCancel(),e.setState({mingDaoUserInfos:[],bindQWUserIds:[]})},onOk:e.onOk},oe),s?t.createElement("div",{className:"searchConditionWrap mBottom24"},t.createElement(J.default,{allowClear:!0,placeholder:_l("\u641C\u7D22\u7EC4\u7EC7\u7528\u6237"),prefix:t.createElement(g.Z,{icon:"search"}),value:A,className:"mRight16 searchInput",onChange:function(y){return e.searchProjecUsers(y.target.value)},onKeyUp:function(y){var j=y.target.value.trim();y.keyCode===13&&(e.setState({loading:!0}),e.getBindList({pageIndex:1,platformKeyword:j,workwxKeyword:e.state.workwxKeyword}))}}),t.createElement(J.default,{allowClear:!0,placeholder:_l("\u641C\u7D22\u4F01\u4E1A\u5FAE\u4FE1\u7528\u6237"),prefix:t.createElement(g.Z,{icon:"search"}),value:B,className:"searchInput",onChange:function(y){return e.searchWorkwxUsers(y.target.value)},onKeyUp:function(y){var j=y.target.value.trim();y.keyCode===13&&(e.setState({loading:!0}),e.getBindList({pageIndex:1,platformKeyword:e.state.platformKeyword,workwxKeyword:j}))}})):t.createElement(t.Fragment,null,t.createElement("div",{className:"syncInfo"},t.createElement("div",{className:"Font15 bold mBottom3"},_l("\u540C\u6B65\u5185\u5BB9")),t.createElement("div",{className:"Gray_75"},_l("\u65B0\u589E\u7EC4\u7EC7\u7528\u6237 "),t.createElement("span",{className:"bold Gray"},e.getCount(4)-se.length>=0?e.getCount(4)-se.length:0),_l(" \u4E2A\uFF1B\u5339\u914D\u5230\u5DF2\u6709\u7EC4\u7EC7\u7528\u6237 "),t.createElement("span",{className:"bold Gray"},Z.length),_l(" \u4E2A"),e.getCount(6)?t.createElement("span",null,_l("; \u540C\u6B65\u4F01\u4E1A\u5FAE\u4FE1\u7528\u6237\u4FE1\u606F "),t.createElement("span",{className:"bold Gray"},e.getCount(6)),_l(" \u4E2A")):"",e.getCount(5)?t.createElement("span",null,_l("\uFF1B\u89E3\u9664\u4E0E\u7EC4\u7EC7\u7528\u6237\u7ED1\u5B9A\u5173\u7CFB"),t.createElement("span",{className:"bold Gray"},e.getCount(5)),_l(" \u4E2A")):"")),t.createElement("div",{className:"bindInfo mTop20 mBottom15"},t.createElement("div",{className:"Font15 bold mBottom3"},_l("\u7ED1\u5B9A\u5173\u7CFB")),t.createElement("div",{className:""},_l("\u5C06\u672A\u7ED1\u5B9A\u8FC7 "),t.createElement("span",{className:"bold"},_l("\u4F01\u4E1A\u5FAE\u4FE1\u7684\u7EC4\u7EC7\u7528\u6237")),_l("\u4E0E"),t.createElement("span",{className:"bold"},_l("\u672C\u6B21\u540C\u6B65\u7684\u4F01\u5FAE\u7528\u6237 ")),_l("\u5EFA\u7ACB\u7ED1\u5B9A\u5173\u7CFB")))),he?t.createElement("div",{className:"flexColumn w100 alignItemsCenter justifyContentCenter flex"},t.createElement(F.Z,null)):w().isEmpty(h)?t.createElement("div",{className:"emptyWrap flexColumn w100 alignItemsCenter justifyContentCenter flex"},t.createElement("div",{className:"emptyIconWrap"},t.createElement(g.Z,{icon:"Empty_data",className:"Font40"})),t.createElement("div",{className:"Gray_75 Font15"},s?_l("\u65E0\u6570\u636E"):_l("\u6CA1\u6709\u67E5\u8BE2\u5230\u672A\u7ED1\u5B9A\u4F01\u4E1A\u5FAE\u4FE1\u7528\u6237\u7684\u7EC4\u7EC7\u7528\u6237"))):t.createElement("div",{className:"bindTable flex"},t.createElement("div",{className:"tableHeader flexRow alignItemsCenter"},t.createElement("div",{className:"flex pLeft12"},s?_l("\u7EC4\u7EC7\u7528\u6237"):_l("\u7EC4\u7EC7\u7528\u6237\uFF08%0/%1\uFF09",Z.length,h.length)),t.createElement("div",{className:"flex pLeft16"},_l("\u4F01\u4E1A\u5FAE\u4FE1\u7528\u6237")),s?t.createElement("div",{className:"cancelBind"},_l("\u64CD\u4F5C")):""),t.createElement("div",{className:"tableBody"},h.map(function(v){var y=(v.jobNames||[]).join(";"),j=(v.departmentNames||[]).join(";");if(v.wxUserInfo&&!w().isEmpty(v.wxUserInfo)){var H=v.wxUserInfo,ie=(H.jobNames||[]).join(";"),re=(H.departmentNames||[]).join(";");return t.createElement("div",{className:"row flexRow",key:v.accountId+"-"+H.userId},t.createElement("div",{className:"flex orgInfo flexRow alignItemsCenter pLeft12"},t.createElement("img",{className:"avatar",src:v.avatar}),t.createElement("div",{className:"flex userInfo"},t.createElement("div",{className:"name bold"},v.fullname),t.createElement("div",{className:"Gray_75 ellipsis"},y&&j?y+" | "+j:y||j))),t.createElement("div",{className:"flex workwxInfo flexRow alignItemsCenter pLeft16"},t.createElement("div",{className:"flex userInfo"},t.createElement("div",{className:"name bold"},H.fullname),t.createElement("div",{className:"Gray_75 ellipsis"},ie&&re?ie+" | "+re:ie||re)),!s&&t.createElement("div",{className:"matchInfo"},H.matchType===1?_l("\u624B\u673A\u5339\u914D"):H.matchType===2?_l("\u59D3\u540D\u5339\u914D"):""),!s&&t.createElement("div",{className:"remove"},t.createElement("span",{className:"Hand Hover_21",onClick:function(){return e.removeWXUser(v.accountId)}},_l("\u79FB\u9664")))),s?t.createElement("div",{className:"Hand Hover_21 cancelBind flexRow alignItemsCenter",onClick:function(){e.cancelBind(v.accountId,H.userId)}},_l("\u89E3\u7ED1")):"")}return t.createElement("div",{className:"row flexRow",key:v.accountId},t.createElement("div",{className:"flex orgInfo flexRow alignItemsCenter pLeft12"},t.createElement("img",{className:"avatar",src:v.avatar}),t.createElement("div",{className:"flex userInfo"},t.createElement("div",{className:"name bold"},v.fullname),t.createElement("div",{className:"Gray_75 ellipsis"},y&&j?y+" | "+j:y||j))),t.createElement("div",{className:"flex workwxInfo flexRow alignItemsCenter pLeft16"},t.createElement(ue.Z,{action:["click"],popupAlign:{points:["tl","bl"],overflow:{adjustX:!0,adjustY:!0}},popup:function(){return e.renderSelectUsers(v.accountId)}},t.createElement("span",{className:"addUser Hand Hover_21",onClick:e.getWorkWXUsers},t.createElement(g.Z,{icon:"plus",className:"mRight6"}),_l("\u7ED1\u5B9A\u4F01\u4E1A\u5FAE\u4FE1\u7528\u6237")))))}))),s&&o>u&&t.createElement(_e.Z,{total:o,pageIndex:d,pageSize:u,onChange:e.changPage}))},e.state={mingDaoUserInfos:[],bindQWUserIds:[],filterMatchPhoneBindUserIds:[],pageIndex:1,pageSize:20,allCount:0,loading:!1,searchLoading:!1,syncLoading:!1},e.ajaxPromise=null,e.ajaxWorkWXUsers=null,e}return(0,P.default)(r,[{key:"componentWillReceiveProps",value:function(e){var n=this;!w().isEqual(this.props.isBindRelationship,e.isBindRelationship)&&e.isBindRelationship?this.setState({loading:!0},function(){n.getBindList()}):e.isBindRelationship===!1&&this.setState({mingDaoUserInfos:e.mingDaoUserInfos,bindQWUserIds:e.bindQWUserIds,filterMatchPhoneBindUserIds:e.filterMatchPhoneBindUserIds,logDetailItems:e.logDetailItems})}},{key:"render",value:function(){return t.createElement(t.Fragment,null,this.renderSyncInfo(),this.renderConfirmSync())}}]),r}(t.Component),$e=i(30381),et=i.n($e),tt=(0,Q.Z)([`
  background: #fff;
  position: absolute;
  top: 17px;
  left: 20px;
  width: calc(100% - 40px);
  .titleInfo {
    height: 55px;
    border-bottom: 1px solid #eaeaea;
    display: flex;
    align-items: center;
  }
  .applyConent {
    padding: 40px 72px 0;
  }
  .row {
    display: flex;
    .label {
      width: 108px;
      color: #9e9e9e;
      font-size: 13px;
    }
    .value {
      flex: 1;
      font-size: 15px;
      font-weight: 600;
    }
  }
  .line {
    width: 100%;
    height: 1px;
    border-top: 1px solid #eaeaea;
    margin: 20px 0 28px 0;
  }
  .borderRadius16 {
    border-radius: 16px;
  }
`],[`
  background: #fff;
  position: absolute;
  top: 17px;
  left: 20px;
  width: calc(100% - 40px);
  .titleInfo {
    height: 55px;
    border-bottom: 1px solid #eaeaea;
    display: flex;
    align-items: center;
  }
  .applyConent {
    padding: 40px 72px 0;
  }
  .row {
    display: flex;
    .label {
      width: 108px;
      color: #9e9e9e;
      font-size: 13px;
    }
    .value {
      flex: 1;
      font-size: 15px;
      font-weight: 600;
    }
  }
  .line {
    width: 100%;
    height: 1px;
    border-top: 1px solid #eaeaea;
    margin: 20px 0 28px 0;
  }
  .borderRadius16 {
    border-radius: 16px;
  }
`]),nt=(0,Q.Z)([`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 15px 24px 24px;
  .tableRow {
    .headerItem {
      padding: 10px 0;
      font-weight: 600;
      border-bottom: 1px solid #eaeaea;
      width: 110px;
    }
    .bodyItem {
      padding: 12px 8px 12px 0;
      border-bottom: 1px solid #eaeaea;
      width: 110px;
    }
  }
  .themeColor {
    color: #2196f3;
  }
`],[`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 15px 24px 24px;
  .tableRow {
    .headerItem {
      padding: 10px 0;
      font-weight: 600;
      border-bottom: 1px solid #eaeaea;
      width: 110px;
    }
    .bodyItem {
      padding: 12px 8px 12px 0;
      border-bottom: 1px solid #eaeaea;
      width: 110px;
    }
  }
  .themeColor {
    color: #2196f3;
  }
`]),at={1:_l("\u8D2D\u4E70\u8D26\u53F7"),2:_l("\u7EED\u671F\u8D26\u53F7"),5:_l("\u5386\u53F2\u4F01\u4E1A\u8FC1\u79FB\u8BA2\u5355")},lt={0:_l("\u5F85\u652F\u4ED8"),1:_l("\u5DF2\u652F\u4ED8"),2:_l("\u5DF2\u53D6\u6D88"),3:_l("\u672A\u652F\u4ED8\uFF0C\u8BA2\u5355\u5DF2\u8FC7\u671F"),4:_l("\u7533\u8BF7\u9000\u6B3E\u4E2D"),5:_l("\u9000\u6B3E\u6210\u529F"),6:_l("\u9000\u6B3E\u88AB\u62D2\u7EDD"),7:_l("\u8BA2\u5355\u5DF2\u5931\u6548")},st=M.ZP.div(tt),ot=M.ZP.div(nt),it=function(E){(0,U.default)(r,E);function r(m){(0,L.default)(this,r);var e=(0,W.default)(this,(r.__proto__||T()(r)).call(this,m));return e.getLicenseDetail=function(){var n=e.props.projectId;e.setState({loading:!0}),e.getWorkWxLicenseOrderList(),p.Z.getWorkWxLicenseDetailByApp({projectId:n}).then(function(a){e.setState({licenseDetail:a,loading:!1})})},e.clickBuy=function(n){var a=e.props.projectId;e.setState({loading:!0,step:2}),p.Z.getWorkWxLicenseCreateOrderDetailByApp({projectId:a}).then(function(s){e.setState({buyMore:n,orderInfo:s,loading:!1})})},e.getWorkWxLicenseOrderList=function(){var n=e.state,a=n.orderList,s=a===void 0?[]:a,l=n.pageIndex,o=l===void 0?1:l,c=e.props.projectId;p.Z.getWorkWxLicenseOrderList({projectId:c,pageIndex:o,pageSize:50}).then(function(d){e.setState({orderList:o==1?d.orderList:s.concat(d.orderList),hasMore:d.orderList.length>50,step:d.orderList.length?3:1})})},e.onScrollEnd=function(){var n=e.state.hasMore;n&&e.setState({pageIndex:e.state.pageIndex+1,hasMore:!1},function(){e.getWorkWxLicenseOrderList(cursor)})},e.applyPayOrder=function(n){var a=e.props.projectId;n||p.Z.createWorkWxLicenseOrder({projectId:a}).then(function(s){s.item1?(alert(_l("\u7533\u8BF7\u6210\u529F")),e.setState({isRenewal:!1},function(){e.getLicenseDetail(),e.getWorkWxLicenseOrderList()})):alert(s.item2,2)})},e.clickRenewal=function(){var n=e.props.projectId;p.Z.getWorkWxLicenseCreateOrderDetailByApp({projectId:n}).then(function(a){e.setState({step:2,isRenewal:!0,orderInfo:a})})},e.renderFirstBuy=function(){var n=e.state.licenseDetail,a=n===void 0?{}:n;return t.createElement("div",{className:"pLeft24 pRight24"},t.createElement("div",{className:"Font15 bold mBottom18"},_l("\u4E3A\u786E\u4FDD\u9996\u6B21\u96C6\u621090\u5929\u540E\u6B63\u5E38\u4F7F\u7528\uFF0C\u9700\u5411\u4F01\u4E1A\u5FAE\u4FE1\u8D2D\u4E70\u63A5\u53E3\u8BB8\u53EF\uFF0C\u7531\u7EC4\u7EC7\u81EA\u5DF1\u652F\u4ED8\u63A5\u53E3\u8BB8\u53EF\u7684\u8D39\u7528\uFF0C\u5E73\u53F0\u6536\u5230\u4ED8\u8D39\u540E\u5728\u4F01\u5FAE\u670D\u52A1\u5546\u540E\u53F0\u4EE3\u4E3A\u7F34\u8D39")),t.createElement("div",{className:"Font13 mBottom5"},_l("\u5DF2\u540C\u6B65\u8D26\u53F7\uFF1A%0\u4E2A",a.allAccountCount)),t.createElement("div",{className:"Font13 mBottom40"},_l("\u5DF2\u8D2D\u4E70\u8BB8\u53EF\uFF1A%0\u4E2A",a.boughtAccountCount)),t.createElement(I.ZP,{type:"primary",onClick:function(){return e.clickBuy(!1)}},_l("\u7533\u8BF7\u8D2D\u4E70")))},e.renderOrderInfo=function(){var n=e.state,a=n.loading,s=n.orderInfo,l=s===void 0?{}:s,o=n.isRenewal,c=n.buyMore,d=n.orderList,u=d===void 0?[]:d;return a?t.createElement("div",{className:"w100 h100 flexColumn justifyContentCenter alignItemsCenter"},t.createElement(F.Z,null)):t.createElement(st,null,t.createElement("div",{className:"titleInfo"},t.createElement(g.Z,{icon:"backspace",className:"Font24 mRight24 mLeft24 Hand",onClick:function(){return e.setState({step:u.length?3:1})}}),t.createElement("span",{className:"Font17"},_l("\u63A5\u53E3\u8BB8\u53EF"))),t.createElement("div",{className:"applyConent"},t.createElement("div",{className:"Font17 bold mBottom10"},o?_l("\u63A5\u53E3\u8BB8\u53EF\u7EED\u671F"):_l("\u63A5\u53E3\u8BB8\u53EF\u8D2D\u4E70")),t.createElement("div",{className:"Gray_9e mBottom40"},_l("\u5B9A\u4EF7\u89C4\u5219\u6765\u6E90\u4E8E\u4F01\u4E1A\u5FAE\u4FE1")),t.createElement("div",{className:"row mBottom12"},t.createElement("div",{className:"label"},_l("\u4F01\u4E1A\u5BA2\u6237ID")),t.createElement("div",{className:"value"},l.corpId||"-")),t.createElement("div",{className:"row mBottom12"},t.createElement("div",{className:"label"},_l("\u4F01\u4E1A\u5BA2\u6237\u540D\u79F0")),t.createElement("div",{className:"value"},l.corpName||"-")),t.createElement("div",{className:"line"}),t.createElement("div",{className:"row mBottom12"},t.createElement("div",{className:"label"},_l("\u5B9A\u4EF7")),t.createElement("div",{className:"value"},l.price||"-")),t.createElement("div",{className:"row mBottom12"},t.createElement("div",{className:"label"},o?_l("\u7EED\u671F\u8D26\u53F7"):_l("\u8BB8\u53EF\u8D26\u53F7")),t.createElement("div",{className:"value"},_l("%0\u4E2A",l.licenseAccountCount))),t.createElement("div",{className:"row mBottom40"},t.createElement("div",{className:"label"},_l("\u8D2D\u4E70\u65F6\u957F")),t.createElement("div",{className:"value"},_l("%0\u5929",l.days||"-"),t.createElement("span",{className:"Font13 Gray_9e"},c?_l("\uFF08\u622A\u6B62\u5230\u63A5\u53E3\u8BB8\u53EF\u5230\u671F\u65F6\u95F4\uFF09"):_l("\uFF08\u622A\u6B62\u5230\u7248\u672C\u5230\u671F\u65F6\u95F4\uFF09")))),t.createElement("div",{className:"Gray_75 mBottom50"},_l("\u603B\u8BA1"),t.createElement("span",{className:"Font20 bold Gray mLeft10"},_l("\xA5%0\u5143",l.amount))),t.createElement(I.ZP,{type:"primary",className:"borderRadius16",onClick:function(){e.applyPayOrder(o)}},o?_l("\u7533\u8BF7\u7EED\u671F"):_l("\u7533\u8BF7\u4E0B\u5355")),t.createElement("div",{className:"Gray_9e mTop20"},_l("\u8D2D\u4E70\u8D39\u7528\u7531\u5E73\u53F0\u652F\u4ED8\uFF0C\u60A8\u53EA\u9700\u7533\u8BF7\u4E0B\u5355\u5373\u53EF"))))},e.renderOrderDetail=function(){var n=e.state,a=n.licenseDetail,s=a===void 0?{}:a,l=n.orderList,o=l===void 0?[]:l;return t.createElement(ot,null,t.createElement("div",{className:"Font15 bold mBottom20"},_l("\u4E3A\u786E\u4FDD\u9996\u6B21\u96C6\u621090\u5929\u540E\u6B63\u5E38\u4F7F\u7528\uFF0C\u9700\u5411\u4F01\u4E1A\u5FAE\u4FE1\u8D2D\u4E70\u63A5\u53E3\u8BB8\u53EF\uFF0C\u7531\u7EC4\u7EC7\u81EA\u5DF1\u652F\u4ED8\u63A5\u53E3\u8BB8\u53EF\u7684\u8D39\u7528\uFF0C\u5E73\u53F0\u6536\u5230\u4ED8\u8D39\u540E\u5728\u4F01\u5FAE\u670D\u52A1\u5546\u540E\u53F0\u4EE3\u4E3A\u7F34\u8D39")),t.createElement("div",{className:"Font14"},_l("\u5DF2\u540C\u6B65\u8D26\u53F7\uFF1A"),t.createElement("span",{className:"bold"},_l("%0\u4E2A",s.allAccountCount||"-"))),t.createElement("div",{className:"Font14"},_l("\u5DF2\u8D2D\u4E70\u8BB8\u53EF\uFF1A")," ",t.createElement("span",{className:"bold"},_l("%0\u4E2A",s.boughtAccountCount)),s.isShowBuy&&t.createElement("span",{className:"mLeft10 Hand themeColor",onClick:function(){return e.clickBuy(!0)}},_l("\u7533\u8BF7\u8D2D\u4E70"))),t.createElement("div",{className:"Font14 mBottom30"},_l("\u63A5\u53E3\u8BB8\u53EF\u5230\u671F\u65F6\u95F4\uFF1A")," ",t.createElement("span",{className:"bold"},s.expireDate)),t.createElement(t.Fragment,null,t.createElement("div",{className:"Font15 bold"},_l("\u8D2D\u4E70\u8BA2\u5355")),t.createElement("div",{className:"tableRow flexRow"},t.createElement("div",{className:"headerItem orderId pLeft8 ellipsis flex"},_l("\u8BA2\u5355\u53F7")),t.createElement("div",{className:"headerItem"},_l("\u7C7B\u578B")),t.createElement("div",{className:"headerItem"},_l("\u8D26\u53F7\u6570\u91CF")),t.createElement("div",{className:"headerItem"},_l("\u65F6\u957F")),t.createElement("div",{className:"headerItem"},_l("\u91D1\u989D")),t.createElement("div",{className:"headerItem"},_l("\u72B6\u6001")),t.createElement("div",{className:"headerItem"},_l("\u4E0B\u5355\u65F6\u95F4")),t.createElement("div",{className:"headerItem"},_l("\u4E0B\u5355\u4EBA"))),t.createElement("div",{className:"tableContent flex"},t.createElement(pe.Z,{onScrollEnd:e.onScrollEnd},o.map(function(c){return t.createElement("div",{className:"tableRow flexRow",key:c.orderId},t.createElement("div",{className:"bodyItem orderId pLeft8 flex ellipsis"},c.orderId),t.createElement("div",{className:"bodyItem ellipsis"},at[c.orderType]),t.createElement("div",{className:"bodyItem ellipsis"},_l("%0\u4E2A",c.accountCount)),t.createElement("div",{className:"bodyItem ellipsis"},_l("%0\u5929",c.accountDuration)),t.createElement("div",{className:"bodyItem ellipsis"},c.price),t.createElement("div",{className:"bodyItem ellipsis"},lt[c.orderStatus]),t.createElement("div",{className:"bodyItem ellipsis"},et()(c.createTime).format("YYYY-MM-DD")),t.createElement("div",{className:"bodyItem ellipsis"},c.operatorName))})))))},e.renderContent=function(){if(e.state.loading&&e.state.step!==2)return t.createElement("div",{className:"w100 h100 flexColumn justifyContentCenter alignItemsCenter"},t.createElement(F.Z,null));switch(e.state.step){case 1:return e.renderFirstBuy();case 2:return e.renderOrderInfo();case 3:return e.renderOrderDetail()}},e.state={step:1,pageIndex:1,licenseDetail:{}},e}return(0,P.default)(r,[{key:"componentDidMount",value:function(){this.getLicenseDetail()}},{key:"render",value:function(){return t.createElement(t.Fragment,null,this.renderContent())}}]),r}(t.Component),fe=i(3540),rt=i(20640),ct=i.n(rt),dt=(0,Q.Z)([`
  padding: 20px 24px 0;
  .ming.Button {
    padding: 0 16px !important;
    min-width: 116px !important;
  }
  input {
    font-size: 12px !important;
    &::-webkit-input-placeholder,
    &:-moz-placeholder,
    &::-moz-placeholder,
    &:-ms-input-placeholder {
      color: #bdbdbd;
    }
  }
`],[`
  padding: 20px 24px 0;
  .ming.Button {
    padding: 0 16px !important;
    min-width: 116px !important;
  }
  input {
    font-size: 12px !important;
    &::-webkit-input-placeholder,
    &:-moz-placeholder,
    &::-moz-placeholder,
    &:-ms-input-placeholder {
      color: #bdbdbd;
    }
  }
`]),mt=M.ZP.div(dt);function pt(E){var r=E.projectId,m=(0,t.useState)(),e=(0,ne.Z)(m,2),n=e[0],a=e[1],s=(0,t.useState)(),l=(0,ne.Z)(s,2),o=l[0],c=l[1],d=(0,t.useRef)(),u=_.trim(o);return t.createElement(mt,null,t.createElement("div",{className:"bold mBottom24"},_l("\u804A\u5929\u5DE5\u5177\u680F\u914D\u7F6E")),t.createElement("div",{className:"Gray_9e LineHeight28"},t.createElement("div",null,_l("\u529F\u80FD\u4F7F\u7528\u573A\u666F\uFF1A\u5728 CRM \u4E1A\u52A1\u573A\u666F\u4E2D\uFF0C\u901A\u8FC7\u4F01\u4E1A\u5FAE\u4FE1\u4E0E\u5BA2\u6237\u6C9F\u901A\u65F6\u53F3\u4FA7\u804A\u5929\u5DE5\u5177\u680F\u7684\u89C6\u56FE\u9875\u9762\u53EF\u4EE5\u5C55\u793A\u5F53\u524D\u5BA2\u6237\u7684\u8BE6\u60C5\u4FE1\u606F\uFF0C\u4FBF\u4E8E\u7EF4\u62A4\u5BA2\u6237\u5173\u7CFB\u3002")),t.createElement("div",null,_l("1\u3001\u5148\u5C06\u4F01\u4E1A\u5FAE\u4FE1\u7684\u5916\u90E8\u8054\u7CFB\u4EBAID\uFF08external_userid\uFF09\u548C\u5BA2\u6237\u7FA4ID\uFF08chat_id\uFF09\u540C\u6B65\u5230\u672C\u7EC4\u7EC7\u7684\u5DE5\u4F5C\u8868\u4E2D")),t.createElement("div",null,_l("2\u3001\u5C06\u9700\u8981\u5C55\u793A\u5728\u5DE5\u5177\u680F\u7684\u9875\u9762\u8BE6\u60C5\u89C6\u56FE\u94FE\u63A5\u590D\u5236\u5230\u6B64\u5904\uFF0C\u7CFB\u7EDF\u4F1A\u81EA\u52A8\u751F\u6210\u80FD\u591F\u83B7\u53D6\u5230\u804A\u5929\u65F6\u7684\u5916\u90E8\u8054\u7CFB\u4EBAID /\u5BA2\u6237\u7FA4ID\u7684\u4E13\u7528\u94FE\u63A5")),t.createElement("div",null,_l("3\u3001\u5C06\u4E13\u7528\u94FE\u63A5\u590D\u5236\u5230\u4F01\u4E1A\u5FAE\u4FE1\u5DE5\u5177\u680F\u7684\u81EA\u5B9A\u4E49\u9875\u9762\u5185")),t.createElement("div",null,_l("4\u3001\u914D\u7F6E\u89C6\u56FE-\u94FE\u63A5\u53C2\u6570\u5185\u9700\u8981\u589E\u52A0\u4E24\u4E2A\u53C2\u6570\uFF0C\u540D\u79F0\u4E3A\uFF1Aexternal_userid\u3001chat_id\uFF1B\u7528\u89C6\u56FE\u8FC7\u6EE4\u7B5B\u9009\u5728\u4F01\u4E1A\u5FAE\u4FE1\u5DE5\u5177\u680F\u9875\u9762\u5C55\u793A\u5BF9\u5E94\u7684\u5BA2\u6237\u8BE6\u60C5"))),t.createElement("div",{className:"bold mBottom24 mTop24"},_l("\u89C6\u56FE\u94FE\u63A5")),t.createElement("div",{className:"flexRow mBottom20"},t.createElement(fe.Z,{ref:d,placeholder:_l("\u5C06\u89C6\u56FE\u94FE\u63A5\u590D\u5236\u5230\u8F93\u5165\u6846\u5185"),className:"flex",value:o,onChange:function(A){return c(A)}}),t.createElement(I.ZP,{disabled:!u,className:"mLeft20",onClick:function(){a(location.origin+"/auth/chatTools?p="+r+"&url="+u.split("?")[0])}},_l("\u751F\u6210\u4F01\u5FAE\u94FE\u63A5"))),t.createElement("div",{className:"flexRow"},t.createElement(fe.Z,{disabled:!0,className:"flex",value:n}),t.createElement(I.ZP,{disabled:!n,className:"mLeft20",onClick:function(){ct()(n),alert(_l("\u590D\u5236\u6210\u529F"))}},_l("\u590D\u5236"))))}var ut=(0,Q.Z)([`
  width: 174px;
  height: 48px;
  line-height: 48px;
  color: #f51744;
  padding-left: 20px;
  background-color: #fff;
  box-shadow: 0px 4px 16px 1px rgba(0, 0, 0, 0.24);
  border-radius: 3px;
  cursor: pointer;
`],[`
  width: 174px;
  height: 48px;
  line-height: 48px;
  color: #f51744;
  padding-left: 20px;
  background-color: #fff;
  box-shadow: 0px 4px 16px 1px rgba(0, 0, 0, 0.24);
  border-radius: 3px;
  cursor: pointer;
`]),ft=M.ZP.div(ut);function z(E){var r=E.clickCancel,m=r===void 0?function(){}:r;return t.createElement(ue.Z,{action:["hover"],popup:t.createElement(ft,{onClick:m},_l("\u53D6\u6D88\u96C6\u6210")),popupAlign:{points:["tr","br"],offset:[5,5],overflow:{adjustX:!0,adjustY:!0}}},t.createElement("i",{className:"icon-moreop Font18 Gray_9e"}))}var ge=i(16921),gt=i(4753),ht=i.n(gt),Et=i(1313),At=i.n(Et),It=i(41130),vt=i.n(It),wt=i(98725),Ct=i.n(wt),Mt=[{label:"URL",key:"url"},{label:"Token",key:"token"},{label:"EncodingAESKey",key:"encodingAESKey"}],St=[{key:"base",label:_l("\u4F01\u4E1A\u5FAE\u4FE1\u96C6\u6210")},{key:"other",label:_l("\u626B\u7801\u767B\u5F55\u4E0E\u540C\u6B65")},{key:"chatSetting",label:_l("\u804A\u5929\u5DE5\u5177\u680F\u914D\u7F6E")},{key:"interfaceLicense",label:"\u63A5\u53E3\u8BB8\u53EF"}],yt=function(E){(0,U.default)(r,E);function r(m){(0,L.default)(this,r);var e=(0,W.default)(this,(r.__proto__||T()(r)).call(this,m));return e.editInfo=function(){if(!e.state.AgentId||!e.state.Secret||!e.state.CorpId){alert("\u8BF7\u8F93\u5165\u76F8\u5173\u4FE1\u606F",3);return}p.Z.editWXProjectSetting({projectId:e.props.projectId,agentId:e.state.AgentId,secret:e.state.Secret,corpId:e.state.CorpId}).then(function(n){n.item1?e.setState({isHasInfo:!0,canEditInfo:!1}):alert(n.item2,2)})},e.handleChangeScanEnabled=function(n){p.Z.editWXProjectScanEnabled({projectId:e.props.projectId,status:n?0:1}).then(function(a){a&&e.setState({intergrationScanEnabled:!n})})},e.getInitialPassword=function(){p.Z.getIntergrationAccountInitializeInfo({projectId:e.props.projectId}).then(function(n){e.setState({password:n,isSetPassword:!!n})})},e.handleSaveJobnumberMappingField=function(){var n=e.state,a=n.fieldRadio,s=n.jobnumberMappingField,l=s.trim();l?p.Z.editWXProjectJobnumberMappingField({projectId:e.props.projectId,fieldName:l}).then(function(o){o&&a==="customField"&&alert(_l("\u4FDD\u5B58\u6210\u529F"))}):alert(_l("\u8BF7\u8F93\u5165\u4FE1\u606F\u5B57\u6BB5"),2)},e.handleChangeJobnumberMappingField=function(n){var a=e.state.jobnumberMappingField,s=n.target.value,l=s==="workxeixinapp-userid";e.setState({fieldRadio:s,jobnumberMappingField:l?s:""},function(){l&&e.handleSaveJobnumberMappingField()})},e.formatStr=function(n){if(n){var a=void 0;if(n.length===4)a=n.substr(0,3)+"*";else if(n.length>4){for(var s="",l=0,o=n.length-4;l<o;l++)s+="*";a=n.substr(0,3)+s+n.substr(-3,3)}else a=n;return a}},e.editDingStatus=function(n){e.editWXProjectSettingStatus(n,function(){e.setState({isCloseDing:!e.state.isCloseDing})})},e.inputRender=function(n,a,s,l){return t.createElement(t.Fragment,null,t.createElement("div",{className:"inputTitleBox"},t.createElement("span",{className:"inputTitle"},n+"\uFF1A"),t.createElement(te.Z,{title:null,arrowPointAtCenter:!0,placement:"bottomLeft",overlayClassName:"workwxPopoverWrapper",content:t.createElement("span",{className:"card Relative overflowHidden"},t.createElement("img",{width:a,className:"mTop1",src:s===1?ht():s===2?At():vt(),alt:_l("\u70B9\u51FB\u201C\u81EA\u5EFA\u5E94\u7528\u201D\u8FDB\u5165\u65B0\u5EFA\u5E94\u7528\u9875\u9762")}),l?t.createElement("img",{width:a,className:"mTop1 Block",src:Ct(),alt:_l("\u70B9\u51FB\u201C\u81EA\u5EFA\u5E94\u7528\u201D\u8FDB\u5165\u65B0\u5EFA\u5E94\u7528\u9875\u9762")}):null)},t.createElement(g.Z,{icon:"sidebar_help",className:"Font18 Gray_9e"}))),t.createElement("div",{className:"Relative InlineBlock inputDiv clearfix"},e.state.canEditInfo&&e.state.intergrationType!==2?t.createElement(t.Fragment,null,t.createElement("input",{type:"text",className:"inputBox",onChange:function(c){var d;e.setState((d={},(0,x.default)(d,n,c.target.value),(0,x.default)(d,n+"Format",e.formatStr(c.target.value)),d))},value:e.state[n]})):t.createElement(t.Fragment,null,t.createElement("input",{type:"text",className:"inputBox",readOnly:!0,value:e.state["isShow"+n]?e.state[n]:e.state[n+"Format"]}),t.createElement(g.Z,{icon:e.state["isShow"+n]?"circulated":"public-folder-hidden",className:"Gray_9e Font18 isShowIcon",onClick:function(){e.setState((0,x.default)({},"isShow"+n,!e.state["isShow"+n]))}}))))},e.getCount=function(n){var a=e.state.logDetailItems,s=a===void 0?[]:a,l=s.filter(function(o){return o.type===n});return l&&!w().isEmpty(l)&&l[0].items.length||0},e.renderOverLinitDialog=function(){var n=e.state,a=n.dialogOverlimit,s=n.overlinitLength;return t.createElement(R.Z,{width:"500px",title:_l("\u540C\u6B65\u5931\u8D25"),visible:a,showCancel:!1,onCancel:function(){e.setState({dialogOverlimit:!1})},onOk:function(){e.setState({dialogOverlimit:!1})}},t.createElement("div",null,_l("\u8D85\u51FA %0 \u4E2A\u4F01\u4E1A\u5FAE\u4FE1\u7528\u6237\u9700\u8981\u88AB\u540C\u6B65\uFF0C\u8BF7\u5148\u589E\u8D2D\u7EC4\u7EC7\u7528\u6237",s)))},e.checkSyncFn=function(n){e.setState({loading:!0}),p.Z.checkWorkWXToMingByApp({projectId:e.props.projectId}).then(function(a){var s=a.item1,l=a.item2,o=a.item3,c=o===void 0?{}:o;if(!s){alert(_l("\u540C\u6B65\u5931\u8D25"),2),e.setState({loading:!1});return}var d=c.logDetailItems,u=d===void 0?[]:d,f=c.mingDaoUserInfos,A=f===void 0?[]:f,C=u.filter(function(h){return h.type===7}),B=C&&!w().isEmpty(C)&&C[0].items.length||0;if(B){e.setState({overlinitLength:B,dialogOverlimit:!0,loading:!1});return}else{var N=A.map(function(h,S){for(var Z=!1,k=0;k<A.length;k++)if(h.wxUserInfo&&A[k].wxUserInfo&&h.wxUserInfo.userId===A[k].wxUserInfo.userId&&S!==k){Z=!0;break}return Z?(0,O.default)({},h,{wxUserInfo:{}}):h});e.setState({mingDaoUserInfos:N,bindQWUserIds:N.filter(function(h){return h.wxUserInfo&&h.wxUserInfo.userId}).map(function(h){return h.wxUserInfo.userId}),filterMatchPhoneBindUserIds:N.filter(function(h){return h.wxUserInfo&&h.wxUserInfo.userId&&h.wxUserInfo.matchType!==1}).map(function(h){return h.wxUserInfo.userId}),logDetailItems:u,loading:!1,showSyncDiaLog:n,isBindRelationship:!1})}})},e.stepRender=function(){var n=e.state,a=n.intergrationType,s=n.loading;return t.createElement("div",{className:"pBottom100"},a!==2&&t.createElement("div",{className:"stepItem Relative"},t.createElement("h3",{className:"stepTitle Font16 Gray"},_l("1.\u83B7\u53D6\u5BF9\u63A5\u4FE1\u606F")),e.state.show1?t.createElement(t.Fragment,null,t.createElement("p",{className:"mTop16 Font14 Gray_75"},_l("\u4ECE\u4F01\u4E1A\u5FAE\u4FE1\u540E\u53F0\u83B7\u53D6\u5BF9\u63A5\u4FE1\u606F\uFF0C\u5373\u53EF\u5F00\u59CB\u96C6\u6210\u4EE5\u53CA\u540C\u6B65\u901A\u8BAF\u5F55")),t.createElement(K.Z,{to:"/wxappSyncCourse/"+e.props.projectId,target:"_blank",className:"mTop16 Font14 howApply"},_l("\u5982\u4F55\u83B7\u53D6\u5BF9\u63A5\u4FE1\u606F\uFF1F"))):t.createElement("div",{className:"showDiv flexRow valignWrapper",onClick:function(){e.setState({show1:!0})}},t.createElement(g.Z,{icon:"sidebar-more",className:"Font13 Gray_75 Right Hand"}))),t.createElement("div",{className:"stepItem Relative"},t.createElement("h3",{className:"stepTitle Font16 Gray"},a===2?_l("1.\u5BF9\u63A5\u4FE1\u606F"):_l("2.\u5BF9\u63A5\u4FE1\u606F\u5F55\u5165")),!e.state.show2&&a!==2&&t.createElement("div",{className:"showDiv flexRow valignWrapper",onClick:function(){e.setState({show2:!0})}},t.createElement(g.Z,{icon:"sidebar-more",className:"Font13 Gray_75 Right Hand"})),(e.state.isHasInfo&&e.state.show2||a===2)&&t.createElement("span",{className:"Font13 Gray_75 Right closeDing"},t.createElement("span",{className:"mLeft10 switchBtn tip-bottom-left","data-tip":_l("\u5173\u95ED\u4F01\u4E1A\u5FAE\u4FE1\u96C6\u6210\u540E\uFF0C\u65E0\u6CD5\u518D\u4ECE\u4F01\u4E1A\u5FAE\u4FE1\u5904\u8FDB\u5165\u5E94\u7528")},t.createElement(G.Z,{checked:!e.state.isCloseDing,onClick:function(o){e.editDingStatus(o?2:1)}}))),(!e.state.isCloseDing&&e.state.show2||a===2)&&t.createElement(t.Fragment,null,a!==2&&t.createElement("p",{className:"mTop16 Font14 Gray_75"},_l("\u5B8C\u6210\u6B65\u9AA4 1 \u540E\uFF0C\u586B\u5165CorpId\u3001AgentId\u3001Secret\u540E\u53EF\u5BF9\u63A5\u5E94\u7528\u4E0E\u540C\u6B65\u901A\u8BAF\u5F55")),t.createElement("div",{className:"mTop25 infoList"},t.createElement("ul",null,t.createElement("li",null,e.inputRender("CorpId",600,1)),t.createElement("li",{className:"mTop16"},e.inputRender("AgentId",600,2)),t.createElement("li",{className:"mTop16"},e.inputRender("Secret",600,3,4)))),a!==2&&t.createElement("div",{className:"TxtRight mTop30"},e.state.canEditInfo?t.createElement(I.ZP,{type:"primary",className:"saveInfo",onClick:function(){X({projectId:e.props.projectId,onSave:e.editInfo})}},_l("\u4FDD\u5B58")):t.createElement(I.ZP,{type:"primary",className:"editInfo",onClick:function(o){e.setState({canEditInfo:!0})}},_l("\u7F16\u8F91"))))),t.createElement("div",{className:"stepItem"},t.createElement("h3",{className:"stepTitle Font16 Gray"},_l("%0\u6570\u636E\u540C\u6B65",a!==2?"3.":"2.")),t.createElement("div",{className:"mTop16 syncBox"},t.createElement("span",{className:"Font14 syncTxt Gray_75"},_l("\u4ECE\u4F01\u4E1A\u5FAE\u4FE1\u901A\u8BAF\u5F55\u540C\u6B65\u5230\u8BE5\u7CFB\u7EDF")," ",md.global.Config.IsPlatformLocal&&t.createElement("span",{className:"ThemeColor Hand",onClick:function(){e.setState({showSyncDiaLog:!0,isBindRelationship:!0})}},_l("\u8D26\u53F7\u7ED1\u5B9A\u5173\u7CFB\u5217\u8868"))),t.createElement(I.ZP,{type:"primary",disabled:s,className:D()("syncBtn",{isNO:e.state.canEditInfo&&!e.state.isHasInfo||e.state.isCloseDing||e.state.showSyncDiaLog}),onClick:function(o){e.state.canEditInfo&&!e.state.isHasInfo||e.state.isCloseDing||e.state.showSyncDiaLog||e.checkSyncFn(!0)}},s?_l("\u6B63\u5728\u8BA1\u7B97\uFF0C\u8BF7\u7A0D\u7B49"):_l("\u540C\u6B65")))))},e.editWXProjectSettingStatus=function(n,a){p.Z.editWXProjectSettingStatus({projectId:e.props.projectId,status:n}).then(function(s){s?(a(),e.setState({status:n})):V(e.props.projectId)})},e.changeTab=function(n){e.setState({currentTab:n}),n==="other"&&e.getInitialPassword()},e.handleChangeCustomMappingFieldEnabled=function(n){p.Z.editWXProjectMappingFieldEnabled({projectId:e.props.projectId,status:n?0:1}).then(function(a){a&&e.setState({customMappingFieldEnabled:!n})})},e.changeSyncWXLabel=function(n){p.Z.editWXProjectTagMappingField({projectId:e.props.projectId,fieldName:n}).then(function(a){a?e.setState({syncWXLabel:n}):alert(_l("\u64CD\u4F5C\u5931\u8D25"),2)})},e.syncWXLabel=function(n){p.Z.editWXProjectTagMappingField({projectId:e.props.projectId,fieldName:n?"":e.state.syncWXLabel}).then(function(a){a?e.setState({syncWXLabelChecked:!n}):alert(_l("\u64CD\u4F5C\u5931\u8D25"),2)})},e.handleChangeOpenQuickApproval=function(n){var a=e.state.qwQuickAprData,s=a===void 0?{}:a;p.Z.editWXIsEnableQuickApprove({projectId:e.props.projectId,status:n?2:1}).then(function(l){l?(e.setState({openQuickApproval:!n}),(!n||w().isEmpty(s))&&p.Z.getWXProjectSettingInfo({projectId:e.props.projectId}).then(function(o){e.setState({qwQuickAprData:{url:o.workWxCallBackUrl,token:o.workWxToken,encodingAESKey:o.workWxAesKey}})})):alert(_l("\u64CD\u4F5C\u5931\u8D25"),2)})},e.handleCopyTextSuccess=function(){return alert(_l("\u590D\u5236\u6210\u529F"))},e.renderTabContent=function(){var n=e.props.projectId,a=e.state,s=a.currentTab,l=a.CorpId,o=a.status,c=a.isPassApply,d=a.intergrationType,u=a.syncWXLabel,f=a.mingDaoUserInfos,A=f===void 0?[]:f,C=a.bindQWUserIds,B=C===void 0?[]:C,N=a.filterMatchPhoneBindUserIds,h=N===void 0?[]:N,S=a.logDetailItems,Z=S===void 0?[]:S,k=a.qwQuickAprData,se=k===void 0?{}:k;if(s==="base")return t.createElement(t.Fragment,null,!l&&!md.global.Config.IsLocal&&(o===0||!o)?t.createElement(Ke,{projectId:n,editWXProjectSettingStatus:e.editWXProjectSettingStatus,isPassApply:c,stepRender:e.stepRender,status:o}):e.stepRender());if(s==="other")return t.createElement(t.Fragment,null,t.createElement("div",{className:"stepItem flexRow valignWrapper"},t.createElement("div",{className:"flex"},t.createElement("h3",{className:"stepTitle Font16 Gray mBottom24"},_l("\u4F01\u4E1A\u5FAE\u4FE1\u626B\u7801\u767B\u5F55")),t.createElement(G.Z,{disabled:e.state.canEditInfo&&!e.state.isHasInfo||e.state.isCloseDing||e.state.showSyncDiaLog,checked:e.state.intergrationScanEnabled,onClick:e.handleChangeScanEnabled}),t.createElement("div",{className:"mTop16 syncBox"},t.createElement("span",{className:"Font14 Gray_75"},_l("\u5F00\u542F\u540E\uFF0C\u5728\u4E8C\u7EA7\u57DF\u540D\u4E0B\u4F7F\u7528\u4F01\u4E1A\u5FAE\u4FE1\u626B\u4E00\u626B\uFF0C\u76F4\u63A5\u767B\u5F55"))),d!==2?t.createElement(K.Z,{to:"/wxappSyncCourse/"+n+"#scanWorkwx",target:"_blank",className:"mTop16 Font14 howApply"},_l("\u5982\u4F55\u5B9E\u73B0\u4F01\u4E1A\u5FAE\u4FE1\u626B\u7801\u767B\u5F55\uFF1F")):t.createElement("a",{target:"_blank",href:"https://help.mingdao.com/wecom/ways-login-HAP#scan-code-login",className:"helpEntry"},_l("\u5982\u4F55\u5B9E\u73B0\u4F01\u4E1A\u5FAE\u4FE1\u626B\u7801\u767B\u5F55\uFF1F")),md.global.Config.IsLocal&&t.createElement(ae,{password:e.state.password,isSetPassword:e.state.isSetPassword,disabled:e.state.canEditInfo&&!e.state.isHasInfo||e.state.isCloseDing||e.state.showSyncDiaLog}),t.createElement("div",{className:"stepItem flexRow valignWrapper"},t.createElement("div",{className:"flexColumn flex"},t.createElement("h3",{className:"stepTitle Font16 Gray"},_l("\u4F01\u4E1A\u5FAE\u4FE1\u5B57\u6BB5\u540C\u6B65")),t.createElement("div",{className:"mTop16 syncBox mBottom24"},t.createElement("span",{className:"Font14 Gray_75"},_l("\u5B8C\u6210\u901A\u8BAF\u5F55\u540C\u6B65\u7684\u57FA\u7840\u914D\u7F6E\u540E\uFF0C\u53EF\u5C06\u4F01\u4E1A\u5FAE\u4FE1\u7528\u6237\u8D26\u53F7\u6216\u8005\u4F01\u4E1A\u5FAE\u4FE1\u81EA\u5B9A\u4E49\u4FE1\u606F\u5B57\u6BB5\u540C\u6B65\u5230\u7CFB\u7EDF\u7684\u5DE5\u53F7\u5B57\u6BB5"))),t.createElement("div",{className:"flexRow alignItemsCenter mBottom16 syncRow height32"},t.createElement(de.Z,{checked:e.state.syncWXLabelChecked,onClick:e.syncWXLabel},_l("\u540C\u6B65\u4F01\u4E1A\u5FAE\u4FE1\u6807\u7B7E")),e.state.syncWXLabelChecked&&t.createElement("span",{className:"mLeft110"},_l("\u540C\u6B65\u5230"),t.createElement(Fe.default,{style:{width:180,margin:"0 10px"},value:u,onChange:e.changeSyncWXLabel},t.createElement(Option,{value:"organize"},_l("\u7EC4\u7EC7\u89D2\u8272")),t.createElement(Option,{value:"job"},_l("\u804C\u4F4D"))),_l("\u5B57\u6BB5"))),t.createElement("div",{className:"syncRow mBottom8"},t.createElement(de.Z,{checked:e.state.customMappingFieldEnabled,onClick:e.handleChangeCustomMappingFieldEnabled},_l("\u540C\u6B65\u4F01\u4E1A\u5FAE\u4FE1\u7528\u6237\u8D26\u53F7 \u6216 \u81EA\u5B9A\u4E49\u4FE1\u606F\u5B57\u6BB5 \u5230\u5DE5\u53F7\u5B57\u6BB5"))),t.createElement("div",{className:"Gray_9e mLeft32"},_l("\u4F01\u4E1A\u5FAE\u4FE1\u7528\u6237\u8D26\u53F7\u548C\u4F01\u4E1A\u5FAE\u4FE1\u81EA\u5B9A\u4E49\u5B57\u6BB5\u53EA\u53EF\u9009\u62E9\u4E00\u4E2A\u540C\u6B65\u5230\u5DE5\u53F7\u5B57\u6BB5")),e.state.customMappingFieldEnabled&&t.createElement("div",{className:"mLeft32"},t.createElement("div",{className:"flexRow"},t.createElement(ee.default.Group,{className:"radioGroupWrapper",onChange:e.handleChangeJobnumberMappingField,value:e.state.fieldRadio},t.createElement(ee.default,{className:"Block",value:"workxeixinapp-userid"},t.createElement("span",{className:"width225"}," ",_l("\u4F01\u4E1A\u5FAE\u4FE1\u7528\u6237\u8D26\u53F7"))),t.createElement(ee.default,{className:"Block",value:"customField"},t.createElement("span",{className:"width225"},_l("\u4F01\u4E1A\u5FAE\u4FE1\u81EA\u5B9A\u4E49\u4FE1\u606F\u5B57\u6BB5")))),t.createElement("div",{className:"pTop15"},t.createElement("div",null,t.createElement("span",null,_l("\u540C\u6B65\u5230\u5DE5\u53F7\u5B57\u6BB5"))),t.createElement("div",null,t.createElement("span",null,_l("\u540C\u6B65\u5230\u5DE5\u53F7\u5B57\u6BB5")),t.createElement(K.Z,{to:"/wxappSyncCourse/"+n+"#syncField",target:"_blank",className:"mTop16 Font14 howApply mLeft10"},_l("\u5982\u4F55\u540C\u6B65\uFF1F"))))),e.state.fieldRadio=="customField"&&t.createElement("div",{className:"flexRow customFieldWrapper mTop12 mLeft25"},t.createElement(J.default,{className:"mRight12",value:e.state.jobnumberMappingField,onChange:function(oe){e.setState({jobnumberMappingField:oe.target.value})}}),t.createElement(I.ZP,{type:"primary",onClick:e.handleSaveJobnumberMappingField},_l("\u4FDD\u5B58")))))))));if(s==="chatSetting")return t.createElement(pt,{projectId:n});if(s==="interfaceLicense")return t.createElement(it,{projectId:n})},e.state={pageLoading:!0,hasApply:!1,isPassApply:!1,isReject:!1,isHasInfo:!1,canEditInfo:!0,isShowCorpId:!1,isShowAgentId:!1,isShowSecret:!1,CorpId:null,AgentId:null,Secret:null,CorpIdFormat:null,AgentIdFormat:null,SecretFormat:null,isCloseDing:!1,showSyncDiaLog:!1,data:null,show1:!1,show2:!1,isLoading:!1,canSyncBtn:!1,intergrationScanEnabled:!1,customMappingFieldEnabled:!1,jobnumberMappingField:null,fieldRadio:null,isSetPassword:!1,passwordError:!1,syncWXLabel:md.global.Config.IsLocal&&!md.global.Config.IsPlatformLocal?"job":"organize",qwQuickAprData:{},currentTab:"base"},e}return(0,P.default)(r,[{key:"componentDidMount",value:function(){var e=this;p.Z.getWXProjectSettingInfo({projectId:this.props.projectId}).then(function(n){e.setState({pageLoading:!1}),n||(n={corpId:"",agentId:"",secret:"",status:md.global.Config.IsLocal&&!md.global.Config.IsPlatformLocal?1:""}),n&&e.setState({hasApply:!!n,isPassApply:n.status===2||n.status===1,isReject:n.status===-1,CorpId:n.corpId,AgentId:n.agentId,Secret:n.secret,isHasInfo:n.status===2||n.corpId&&n.agentId&&n.secret,canEditInfo:!n.corpId&&!n.agentId&&!n.secret,isCloseDing:n.status===2,CorpIdFormat:e.formatStr(n.corpId),AgentIdFormat:e.formatStr(n.agentId),SecretFormat:e.formatStr(n.secret),show1:!(n.corpId&&n.agentId&&n.secret&&n.status!=2),show2:!(n.corpId&&n.agentId&&n.secret&&n.status!=2),intergrationScanEnabled:n.intergrationScanEnabled,customMappingFieldEnabled:n.customMappingFieldEnabled,jobnumberMappingField:n.jobnumberMappingField,fieldRadio:n.jobnumberMappingField!=="workxeixinapp-userid"?"customField":n.jobnumberMappingField,status:n.status,intergrationType:n.intergrationType,syncWXLabel:n.wxTagMappingField?n.wxTagMappingField:e.state.syncWXLabel,syncWXLabelChecked:!!n.wxTagMappingField,qwQuickAprData:{url:n.workWxCallBackUrl,token:n.workWxToken,encodingAESKey:n.workWxAesKey},openQuickApproval:!!n.workWxCallBackUrl})})}},{key:"render",value:function(){var e=this,n=this.state,a=n.intergrationType,s=n.mingDaoUserInfos,l=s===void 0?[]:s,o=n.bindQWUserIds,c=o===void 0?[]:o,d=n.filterMatchPhoneBindUserIds,u=d===void 0?[]:d,f=n.logDetailItems,A=f===void 0?[]:f,C=n.currentTab,B=n.status,N=this.props.projectId;return this.state.pageLoading?t.createElement(F.Z,{className:"mTop80"}):t.createElement("div",{className:"orgManagementWrap workwxMainContent"},!this.state.isPassApply&&!(!this.state.CorpId&&(!md.global.Config.IsLocal||md.global.Config.IsPlatformLocal))&&a!==2?t.createElement("div",{className:"TxtMiddle"},t.createElement("div",{className:"TxtCenter logoBox"},this.state.isReject?t.createElement(t.Fragment,null,t.createElement(g.Z,{icon:"closeelement-bg-circle",className:"Red iconReject"})):t.createElement(t.Fragment,null,t.createElement("span",{className:"mdIcon"},t.createElement(g.Z,{icon:"feed",className:"Font40 White"})),t.createElement(g.Z,{icon:"swap_horiz",className:"Font36 mLeft30 mRight30 Gray_bd"}),t.createElement(g.Z,{icon:"invite-ding",className:"TxtCenter"}))),this.state.hasApply?t.createElement("div",{className:"TxtCenter mTop50"},this.state.isReject?t.createElement(t.Fragment,null,t.createElement("h2",{className:"Font18 Gray"},_l("\u8BD5\u7528\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u4ED8\u8D39\u540E\u7EE7\u7EED\u4F7F\u7528")),t.createElement("p",{className:"mTop15 Font13 Gray_75"},_l("\u5982\u6709\u7591\u95EE\uFF0C\u8BF7\u8054\u7CFB\u60A8\u7684\u4E13\u5C5E\u987E\u95EE")),t.createElement(I.ZP,{type:"primary",className:"applyBtn mBottom10 mTop25",onClick:function(S){(0,ge.F)({projectId:N})}},_l("\u524D\u5F80\u4ED8\u8D39"))):t.createElement(t.Fragment,null,t.createElement("h2",{className:"Font26 Gray"},_l("\u7533\u8BF7\u5DF2\u63D0\u4EA4")),t.createElement("p",{className:"mTop24 mBottom32 Font16 Gray_75"},_l("\u9884\u8BA1\u4E24\u4E2A\u5DE5\u4F5C\u65E5\u53CD\u9988\u4FE1\u606F\uFF0C\u5982\u6709\u7591\u95EE\uFF0C\u8BF7\u8054\u7CFB\u60A8\u7684\u4E13\u5C5E\u987E\u95EE")))):t.createElement("div",{className:"TxtCenter mTop50"},t.createElement("h2",{className:"Font26 Gray"},_l("\u7533\u8BF7\u4F01\u4E1A\u5FAE\u4FE1\u96C6\u6210")),t.createElement("p",{className:"mTop24 mBottom32 Font16 Gray_75"},_l("\u7533\u8BF7\u901A\u8FC7\u540E\uFF0C\u53EF\u5C06\u8BE5\u7CFB\u7EDF\u5E94\u7528\u5B89\u88C5\u5230\u4F01\u4E1A\u5FAE\u4FE1\u5DE5\u4F5C\u53F0\uFF01")),t.createElement(I.ZP,{type:"primary",className:"applyBtn mBottom10",onClick:function(S){e.editWXProjectSettingStatus(0,function(){e.setState({hasApply:!0})})}},_l("\u7ACB\u5373\u7533\u8BF7")))):t.createElement(t.Fragment,null,t.createElement("div",{className:"orgManagementHeader"},t.createElement("div",{className:"h100 flexRow alignItemsCenter"},B!==1&&t.createElement("i",{className:"icon-backspace Font22 ThemeHoverColor3 pointer mRight10",onClick:this.props.onClose}),t.createElement("div",{className:D()("tabBox",{singleTab:!(this.state.status===1||a===2)})},St.map(function(h){var S=h.key,Z=h.label;if(!(S==="other"&&!(e.state.status===1||a===2))&&!(S==="chatSetting"&&!(e.state.status===1&&(w().includes(["fe288386-3d26-4eab-b5d2-51eeab82a7f9","faa2f6b1-f706-4084-9a8d-50616817f890"],N)||md.global.Config.IsLocal)))&&!(S==="interfaceLicense"&&!(!md.global.Config.IsLocal&&a===2&&e.state.status===1)))return t.createElement("span",{key:S,className:D()("tabItem Hand",{active:C===S}),onClick:function(){return e.changeTab(S)}},Z)}))),B===1&&t.createElement(z,{clickCancel:function(){return e.editWXProjectSettingStatus(2,function(){e.props.onClose(),alert(_l("\u53D6\u6D88\u6210\u529F"))})}})),t.createElement("div",{className:"orgManagementContent"},this.renderTabContent())),t.createElement(qe,{getCount:this.getCount,visible:this.state.showSyncDiaLog,isBindRelationship:this.state.isBindRelationship,projectId:N,onCancel:function(){e.setState({showSyncDiaLog:!1,isBindRelationship:void 0})},mingDaoUserInfos:l,bindQWUserIds:c,filterMatchPhoneBindUserIds:u,logDetailItems:A}),this.renderOverLinitDialog())}}]),r}(t.Component),xt=[{label:_l("\u65B0\u5F00\u6D4F\u89C8\u5668\u6253\u5F00"),key:1},{label:_l("\u9489\u9489\u5185\u6253\u5F00"),key:2}],Nt=[{label:_l("\u72EC\u7ACB\u7A97\u53E3"),key:2},{label:_l("\u4FA7\u8FB9\u680F\u6253\u5F00"),key:1}],bt=[{key:"base",label:_l("\u9489\u9489\u96C6\u6210")},{key:"other",label:_l("\u5176\u4ED6")}],Ft=function(E){(0,U.default)(r,E);function r(m){(0,L.default)(this,r);var e=(0,W.default)(this,(r.__proto__||T()(r)).call(this,m));return e.editInfo=function(){if(!e.state.AppKey||!e.state.AppSecret||!e.state.CorpId||!e.state.AgentId){alert(_l("\u8BF7\u8F93\u5165\u76F8\u5173\u4FE1\u606F"),2);return}p.Z.editDDProjectSetting({projectId:e.props.projectId,appKey:e.state.AppKey,appSecret:e.state.AppSecret,corpId:e.state.CorpId}).then(function(n){n.item1?p.Z.editDDAppNoticeSetting({projectId:e.props.projectId,agentId:e.state.AgentId}).then(function(a){a.item1?e.setState({isHasInfo:!0,canEditInfo:!1}):alert(a.item2,2)}):alert(n.item2,2)})},e.formatStr=function(n){if(n){var a=void 0;if(n.length===4)a=n.substr(0,3)+"*";else if(n.length>4){for(var s="",l=0,o=n.length-4;l<o;l++)s+="*";a=n.substr(0,3)+s+n.substr(-3,3)}else a=n;return a}},e.editDingStatus=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};e.editDDProjectSettingStatus(n,function(){a(),e.setState({isCloseDing:!e.state.isCloseDing})})},e.inputRender=function(n,a,s){return t.createElement(t.Fragment,null,t.createElement("div",{className:"inputTitleBox"},t.createElement("span",{className:"inputTitle"},s+"\uFF1A")),t.createElement("div",{className:"Relative InlineBlock inputDiv clearfix"},e.state.canEditInfo?t.createElement(t.Fragment,null,t.createElement("input",{type:"text",className:"inputBox",onChange:function(o){var c;e.setState((c={},(0,x.default)(c,n,o.target.value),(0,x.default)(c,n+"Format",e.formatStr(o.target.value)),c))},value:e.state[n]})):t.createElement(t.Fragment,null,t.createElement("input",{type:"text",className:"inputBox",readOnly:!0,value:e.state["isShow"+n]?e.state[n]:e.state[n+"Format"]}),t.createElement(g.Z,{icon:e.state["isShow"+n]?"circulated":"visibility_off",className:"Gray_9e Font18 isShowIcon",onClick:function(){e.setState((0,x.default)({},"isShow"+n,!e.state["isShow"+n]))}}))))},e.syncFn=function(n){n&&e.setState({isLoading:!0,showSyncDiaLog:n,canSyncBtn:!1}),p.Z.syncWorkDDToMing({projectId:e.props.projectId,check:n}).then(function(a){a.item1?(e.setState({failed:!1}),n?e.setState({canSyncBtn:!0,data:a.item3,isLoading:!1}):(e.setState({showSyncDiaLog:!1,isLoading:!1}),alert(_l("\u6210\u529F\u540C\u6B65")))):e.setState({showSyncDiaLog:!0,data:a.item3,isLoading:!1,failed:!0,failedStr:a.item2?a.item2:_l("\u540C\u6B65\u5931\u8D25\uFF01")})})},e.stepRender=function(){return t.createElement("div",{className:"pBottom100"},t.createElement("div",{className:"stepItem Relative"},t.createElement("h3",{className:"stepTitle Font16 Gray"},_l("1.\u83B7\u53D6\u5BF9\u63A5\u4FE1\u606F")),e.state.show1?t.createElement(t.Fragment,null,t.createElement("p",{className:"mTop16 Font14 Gray_75"},_l("\u4ECE\u9489\u9489\u5F00\u653E\u5E73\u53F0\u83B7\u53D6\u5BF9\u63A5\u4FE1\u606F\uFF0C\u5373\u53EF\u5F00\u59CB\u96C6\u6210\u4EE5\u53CA\u540C\u6B65\u901A\u8BAF\u5F55")),t.createElement(K.Z,{to:"/dingSyncCourse/"+e.props.projectId,target:"_blank",className:"mTop16 Font14 howApply"},_l("\u5982\u4F55\u83B7\u53D6\u5BF9\u63A5\u4FE1\u606F\uFF1F"))):t.createElement("div",{className:"showDiv flexRow valignWrapper",onClick:function(){e.setState({show1:!0})}},t.createElement(g.Z,{icon:"sidebar-more",className:"Font13 Gray_75 Right Hand"}))),t.createElement("div",{className:"stepItem Relative"},t.createElement("h3",{className:"stepTitle Font16 Gray"},_l("2.\u5BF9\u63A5\u4FE1\u606F\u5F55\u5165")),!e.state.show2&&t.createElement("div",{className:"showDiv flexRow valignWrapper",onClick:function(){e.setState({show2:!0})}},t.createElement(g.Z,{icon:"sidebar-more",className:"Font13 Gray_75 Right Hand"})),e.state.isHasInfo&&e.state.show2&&t.createElement("span",{className:"Font13 Gray_75 Right closeDing"},t.createElement("span",{className:"mLeft10 switchBtn tip-bottom-left","data-tip":_l("\u5173\u95ED\u9489\u9489\u96C6\u6210\u540E\uFF0C\u65E0\u6CD5\u518D\u4ECE\u9489\u9489\u5904\u8FDB\u5165\u5E94\u7528")},t.createElement(G.Z,{checked:!e.state.isCloseDing,onClick:function(a){return e.editDingStatus(a?2:1)}}))),!e.state.isCloseDing&&e.state.show2&&t.createElement(t.Fragment,null,t.createElement("p",{className:"mTop16 Font14 Gray_75"},_l("\u5B8C\u6210\u6B65\u9AA4 1 \u540E\uFF0C\u586B\u5165CorpId\u3001AgentId\u3001ClientId\u3001ClientScret\u540E\u53EF\u5BF9\u63A5\u5E94\u7528\u4E0E\u540C\u6B65\u901A\u8BAF\u5F55")),t.createElement("div",{className:"mTop25 infoList"},t.createElement("ul",null,t.createElement("li",null,e.inputRender("CorpId",466,"CorpId")),t.createElement("li",{className:"mTop16"},e.inputRender("AgentId",446,"AgentId")),t.createElement("li",{className:"mTop16"},e.inputRender("AppKey",446,"ClientId")),t.createElement("li",{className:"mTop16"},e.inputRender("AppSecret",445,"ClientScret")))),t.createElement("div",{className:"TxtRight mTop30"},e.state.canEditInfo?t.createElement(I.ZP,{type:"primary",className:"saveInfo",onClick:function(a){X({projectId:e.props.projectId,onSave:e.editInfo})}},_l("\u4FDD\u5B58")):t.createElement(I.ZP,{type:"primary",className:"editInfo",onClick:function(a){e.setState({canEditInfo:!0})}},_l("\u7F16\u8F91"))))),t.createElement("div",{className:"stepItem"},t.createElement("h3",{className:"stepTitle Font16 Gray"},_l("3.\u6570\u636E\u540C\u6B65")),t.createElement("div",{className:"mTop20 syncBox"},t.createElement("span",{className:"Font14 syncTxt"},_l("\u4ECE\u9489\u9489\u901A\u8BAF\u5F55\u540C\u6B65\u5230\u8BE5\u7CFB\u7EDF")),t.createElement(I.ZP,{type:"primary",className:D()("syncBtn",{isNO:e.state.canEditInfo&&!e.state.isHasInfo||e.state.isCloseDing||e.state.showSyncDiaLog}),onClick:function(a){e.state.canEditInfo&&!e.state.isHasInfo||e.state.isCloseDing||e.state.showSyncDiaLog||e.syncFn(!0)}},e.state.showSyncDiaLog?_l("\u540C\u6B65\u4E2D"):_l("\u540C\u6B65")))))},e.renderSyncDiaLog=function(){return t.createElement(R.Z,{visible:e.state.showSyncDiaLog,className:"SyncDiaLog",onCancel:function(){e.setState({showSyncDiaLog:!1})},overlayClosable:!1,title:e.state.failed?_l("\u540C\u6B65\u5931\u8D25"):_l("\u540C\u6B65\u5185\u5BB9"),footer:t.createElement(I.ZP,{disabled:!e.state.canSyncBtn,type:"primary",onClick:function(){e.state.canSyncBtn&&(e.state.failed?e.setState({showSyncDiaLog:!1}):(e.setState({canSyncBtn:!1}),e.syncFn(!1)))}},_l("\u786E\u8BA4"))},t.createElement("p",null,e.state.isLoading?t.createElement(F.Z,{className:""}):e.state.failed?e.state.failedStr:w().map(e.state.data,function(n,a){switch(n.type){case 4:return t.createElement("p",null,"\u65B0\u589E"+n.items.length+"\u4E2A\u7528\u6237");case 5:return t.createElement("p",null,"\u5220\u9664"+n.items.length+"\u4E2A\u7528\u6237");case 6:return t.createElement("p",null,"\u540C\u6B65"+n.items.length+"\u4E2A\u7528\u6237\u4FE1\u606F");case 7:return t.createElement("p",null,n.items.length+"\u4E2A\u7528\u6237\u4FE1\u606F\uFF0C\u7531\u4E8E\u7528\u6237\u6570\u91CF\u5DF2\u8FBE\u4E0A\u9650\uFF0C\u6682\u4E0D\u80FD\u540C\u6B65\u5230\u901A\u8BAF\u5F55");case 8:return t.createElement("p",null,"\u65B0\u589E"+n.items.length+"\u4E2A\u90E8\u95E8");case 9:return t.createElement("p",null,"\u5220\u9664"+n.items.length+"\u4E2A\u90E8\u95E8");case 10:return t.createElement("p",null,"\u540C\u6B65"+n.items.length+"\u4E2A\u90E8\u95E8\u4FE1\u606F");default:break}})))},e.editDDProjectSettingStatus=function(n,a){p.Z.editDDProjectSettingStatus({projectId:e.props.projectId,status:n}).then(function(s){s?a():V(e.props.projectId)})},e.handleChangeMessageLinkWay=function(n){p.Z.editDDMessagUrlPcSlide({projectId:e.props.projectId,status:n}).then(function(a){a?e.setState({ddMessagUrlPcSlide:n}):alert(_l("\u5931\u8D25"),2)})},e.getInitialPassword=function(){p.Z.getIntergrationAccountInitializeInfo({projectId:e.props.projectId}).then(function(n){e.setState({password:n,isSetPassword:!!n})})},e.changeTab=function(n){e.setState({currentTab:n}),n==="other"&&e.getInitialPassword()},e.state={pageLoading:!0,isHasInfo:!1,canEditInfo:!0,isShowCorpId:!1,isShowAppKey:!1,isShowAppSecret:!1,isShowAgentId:!1,CorpId:null,AppKey:null,AppSecret:null,AgentId:null,CorpIdFormat:null,AppKeyFormat:null,AppSecretFormat:null,AgentIdFormat:null,isCloseDing:!1,showSyncDiaLog:!1,data:null,show1:!1,show2:!1,isLoading:!1,failed:!1,failedStr:"",canSyncBtn:!1,intergrationClientWorkingPattern:0,intergrationTodoMessageEnabled:!1,isSetPassword:!1,passwordError:!1,currentTab:"base"},e}return(0,P.default)(r,[{key:"componentDidMount",value:function(){var e=this;p.Z.getDDProjectSettingInfo({projectId:this.props.projectId}).then(function(n){e.setState({pageLoading:!1}),n&&e.setState({CorpId:n.corpId,AppKey:n.appKey,AppSecret:n.appSecret,AgentId:n.agentId,isHasInfo:n.status===2||n.corpId&&n.agentId&&n.appKey&&n.appSecret,canEditInfo:!n.corpId&&!n.agentId&&!n.appKey&&!n.appSecret,isCloseDing:n.status===2,CorpIdFormat:e.formatStr(n.corpId),AppKeyFormat:e.formatStr(n.appKey),AppSecretFormat:e.formatStr(n.appSecret),AgentIdFormat:e.formatStr(n.agentId),show1:!(n.corpId&&n.agentId&&n.appKey&&n.appSecret&&n.status!=2),show2:!(n.corpId&&n.agentId&&n.appKey&&n.appSecret&&n.status!=2),intergrationClientWorkingPattern:n.intergrationClientWorkingPattern,intergrationTodoMessageEnabled:n.intergrationTodoMessageEnabled,ddMessagUrlPcSlide:n.ddMessagUrlPcSlide,status:n.status})})}},{key:"switchEnabled",value:function(){var e=this;p.Z.editDDProjectTodoMessageEnabled({projectId:this.props.projectId,status:this.state.intergrationTodoMessageEnabled?2:1}).then(function(n){n?e.setState({intergrationTodoMessageEnabled:!e.state.intergrationTodoMessageEnabled}):alert(_l("\u5931\u8D25"),2)})}},{key:"handleChangePattern",value:function(e){var n=this;p.Z.editDDProjectClientWorkingPattern({projectId:this.props.projectId,status:e}).then(function(a){a?n.setState({intergrationClientWorkingPattern:e}):alert(_l("\u5931\u8D25"),2)})}},{key:"render",value:function(){var e=this,n=this.state,a=n.currentTab,s=n.CorpId,l=n.AppKey,o=n.AppSecret,c=n.AgentId;return this.state.pageLoading?t.createElement(F.Z,{className:"mTop80"}):t.createElement("div",{className:"orgManagementWrap dingMainContent"},t.createElement("div",{className:"orgManagementHeader"},t.createElement("div",{className:"h100 flexRow alignItemsCenter"},!(!this.state.isCloseDing&&s&&l&&o&&c)&&t.createElement("i",{className:"icon-backspace Font22 ThemeHoverColor3 pointer mRight10",onClick:this.props.onClose}),t.createElement("div",{className:D()("tabBox",{singleTab:!(this.state.status===1&&!this.state.isCloseDing)})},bt.map(function(d){var u=d.key,f=d.label;if(!(u==="other"&&!(e.state.status===1&&!e.state.isCloseDing)))return t.createElement("span",{key:u,className:D()("tabItem Hand",{active:a===u}),onClick:function(){return e.changeTab(u)}},f)}))),!this.state.isCloseDing&&s&&l&&o&&c&&t.createElement(z,{clickCancel:function(){return e.editDingStatus(2,function(){e.props.onClose(),alert(_l("\u53D6\u6D88\u6210\u529F"))})}})),t.createElement("div",{className:"orgManagementContent"},a==="base"&&this.stepRender(),a==="other"&&this.state.status===1&&!this.state.isCloseDing&&t.createElement(t.Fragment,null,t.createElement("div",{className:"stepItem"},t.createElement("h3",{className:"stepTitle Font16 Gray pBottom5"},_l("\u5E94\u7528\u5728\u9489\u9489PC\u7AEF\u6253\u5F00\u65B9\u5F0F")),xt.map(function(d){return t.createElement(Y.Z,{className:"Block mTop20",disabled:e.state.isCloseDing,checked:e.state.intergrationClientWorkingPattern===d.key,text:d.label,onClick:function(f){return e.handleChangePattern(d.key)}})})),t.createElement("div",{className:"stepItem"},t.createElement("h3",{className:"stepTitle Font16 Gray pBottom5"},_l("\u6D88\u606F\u94FE\u63A5")),Nt.map(function(d){return t.createElement(Y.Z,{className:"Block mTop20",disabled:e.state.isCloseDing,checked:e.state.ddMessagUrlPcSlide===d.key,text:d.label,onClick:function(f){return e.handleChangeMessageLinkWay(d.key)}})})),t.createElement("div",{className:"stepItem flexRow valignWrapper"},t.createElement("div",{className:"flexColumn flex"},t.createElement("h3",{className:"stepTitle Font16 Gray mBottom24"},_l("\u6D41\u7A0B\u5F85\u529E\u540C\u6B65\u81F3\u9489\u9489\u5F85\u529E\u4EFB\u52A1")),t.createElement(G.Z,{disabled:this.state.isCloseDing,checked:this.state.intergrationTodoMessageEnabled,onClick:function(){return e.switchEnabled()}}),t.createElement("div",{className:"mTop16"},t.createElement("span",null,_l("\u5F00\u542F\u540E\uFF0C\u6211\u7684\u6D41\u7A0B\u4E2D\u7684\u5F85\u529E\uFF08\u5F85\u5BA1\u6279\u3001\u5F85\u586B\u5199\uFF09\u540C\u65F6\u4F1A\u8FDB\u5165\u9489\u9489\u5F85\u529E\u4EFB\u52A1\uFF0C\u5904\u7406\u72B6\u6001\u4F1A\u540C\u6B65\u66F4\u65B0")),t.createElement("span",{className:"Block Gray"},t.createElement("span",{className:"Bold"},_l("\u6CE8\u610F\uFF1A")),t.createElement("span",{dangerouslySetInnerHTML:{__html:_l("\u6B64\u529F\u80FD\u9700\u8981\u5728\u9489\u9489\u4E2D\u5F00\u542F\u6DFB\u52A0\u5F85\u529E\u4EFB\u52A1\u63A5\u53E3\u6743\u9650\u3002%0\u5982\u4F55\u5F00\u542F\uFF1F%1",'<a href="https://help.mingdao.com/dingtalk/integration-guide#pending" target="_blank">',"</a>")}}))))),md.global.Config.IsLocal&&t.createElement(ae,{password:this.state.password,isSetPassword:this.state.isSetPassword,disabled:this.state.isCloseDing}))),this.state.showSyncDiaLog&&this.renderSyncDiaLog())}}]),r}(t.Component),kt=i(65080),Dt=i.n(kt),Bt=function(E){(0,U.default)(r,E);function r(m){(0,L.default)(this,r);var e=(0,W.default)(this,(r.__proto__||T()(r)).call(this,m));return e.editInfo=function(){if(!e.state.Secret||!e.state.CorpId){alert("\u8BF7\u8F93\u5165\u76F8\u5173\u4FE1\u606F",2);return}p.Z.editWelinkProjectSetting({projectId:e.props.projectId,clientSecret:e.state.Secret,clientId:e.state.CorpId}).then(function(n){n.item1?e.setState({isHasInfo:!0,canEditInfo:!1}):alert(n.item2,2)})},e.formatStr=function(n){if(n){var a=void 0;if(n.length===4)a=n.substr(0,3)+"*";else if(n.length>4){for(var s="",l=0,o=n.length-4;l<o;l++)s+="*";a=n.substr(0,3)+s+n.substr(-3,3)}else a=n;return a}},e.editDingStatus=function(n){e.editWXProjectSettingStatus(n,function(){e.setState({isCloseDing:!e.state.isCloseDing})})},e.inputRender=function(n,a){return t.createElement(t.Fragment,null,t.createElement("div",{className:"inputTitleBox"},t.createElement("span",{className:"inputTitle"},a+"\uFF1A"),t.createElement(te.Z,{title:null,arrowPointAtCenter:!0,placement:"bottomLeft",overlayClassName:"welinkPopoverWrapper",content:t.createElement("span",{className:"card Relative overflowHidden"},t.createElement("img",{width:466,className:"mTop1",src:Dt(),alt:_l("\u70B9\u51FB\u201C\u81EA\u5EFA\u5E94\u7528\u201D\u8FDB\u5165\u65B0\u5EFA\u5E94\u7528\u9875\u9762")}))},t.createElement(g.Z,{icon:"sidebar_help",className:"Font18 Gray_9e"}))),t.createElement("div",{className:"Relative InlineBlock inputDiv clearfix"},e.state.canEditInfo?t.createElement(t.Fragment,null,t.createElement("input",{type:"text",className:"inputBox",onChange:function(l){var o;e.setState((o={},(0,x.default)(o,n,l.target.value),(0,x.default)(o,n+"Format",e.formatStr(l.target.value)),o))},value:e.state[n]})):t.createElement(t.Fragment,null,t.createElement("input",{type:"text",className:"inputBox",readOnly:!0,value:e.state["isShow"+n]?e.state[n]:e.state[n+"Format"]}),t.createElement(g.Z,{icon:e.state["isShow"+n]?"circulated":"public-folder-hidden",className:"Gray_9e Font18 isShowIcon",onClick:function(){e.setState((0,x.default)({},"isShow"+n,!e.state["isShow"+n]))}}))))},e.syncFn=function(n){n&&e.setState({isLoading:!0,showSyncDiaLog:n,canSyncBtn:!1}),p.Z.syncWelinkToMingByApp({projectId:e.props.projectId,check:n}).then(function(a){a.item1?(e.setState({failed:!1}),n?e.setState({canSyncBtn:!0,data:a.item3,isLoading:!1}):(e.setState({showSyncDiaLog:!1,isLoading:!1}),alert(_l("\u6210\u529F\u540C\u6B65")))):e.setState({showSyncDiaLog:!0,data:a.item3,isLoading:!1,failed:!0,failedStr:a.item2?a.item2:_l("\u540C\u6B65\u5931\u8D25\uFF01")})})},e.stepRender=function(){return t.createElement("div",{className:"pBottom100"},t.createElement("div",{className:"stepItem Relative"},t.createElement("h3",{className:"stepTitle Font16 Gray"},_l("1.\u83B7\u53D6\u5BF9\u63A5\u4FE1\u606F")),e.state.show1?t.createElement(t.Fragment,null,t.createElement("p",{className:"mTop16 Font14 Gray_75"},_l("\u4ECEWelink\u5F00\u653E\u5E73\u53F0\u83B7\u53D6\u5BF9\u63A5\u4FE1\u606F\uFF0C\u5373\u53EF\u5F00\u59CB\u96C6\u6210\u4EE5\u53CA\u540C\u6B65\u901A\u8BAF\u5F55")),t.createElement(K.Z,{to:"/welinkSyncCourse/"+e.props.projectId,target:"_blank",className:"mTop16 Font14 howApply"},_l("\u5982\u4F55\u83B7\u53D6\u5BF9\u63A5\u4FE1\u606F\uFF1F"))):t.createElement("div",{className:"showDiv flexRow valignWrapper",onClick:function(){e.setState({show1:!0})}},t.createElement(g.Z,{icon:"sidebar-more",className:"Font13 Gray_75 Right Hand showBtn"}))),t.createElement("div",{className:"stepItem Relative"},t.createElement("h3",{className:"stepTitle Font16 Gray"},_l("2.\u5BF9\u63A5\u4FE1\u606F\u5F55\u5165")),!e.state.show2&&t.createElement("div",{className:"showDiv flexRow valignWrapper",onClick:function(){e.setState({show2:!0})}},t.createElement(g.Z,{icon:"sidebar-more",className:"Font13 Gray_75 Right Hand showBtn"})),e.state.isHasInfo&&e.state.show2&&t.createElement("span",{className:"Font13 Gray_75 Right closeDing"},t.createElement("span",{className:"mLeft10 switchBtn tip-bottom-left","data-tip":_l("\u5173\u95EDWelink\u96C6\u6210\u540E\uFF0C\u65E0\u6CD5\u518D\u4ECEWelink\u96C6\u6210\u5904\u8FDB\u5165\u5E94\u7528")},t.createElement(G.Z,{checked:!e.state.isCloseDing,onClick:function(a){return e.editDingStatus(a?2:1)}}))),!e.state.isCloseDing&&e.state.show2&&t.createElement(t.Fragment,null,t.createElement("p",{className:"mTop16 Font14 Gray_75"},_l("\u5B8C\u6210\u6B65\u9AA4 1 \u540E\uFF0C\u586B\u5165client_id\u3001client_secret\u540E\u53EF\u5BF9\u63A5\u5E94\u7528\u4E0E\u540C\u6B65\u901A\u8BAF\u5F55")),t.createElement("div",{className:"mTop25 infoList"},t.createElement("ul",null,t.createElement("li",null,e.inputRender("CorpId","client_id")),t.createElement("li",{className:"mTop16"},e.inputRender("Secret","client_secret")))),t.createElement("div",{className:"TxtRight mTop30"},e.state.canEditInfo?t.createElement(I.ZP,{type:"primary",className:"saveInfo",onClick:function(a){X({projectId:e.props.projectId,onSave:e.editInfo})}},_l("\u4FDD\u5B58")):t.createElement(I.ZP,{type:"primary",className:"editInfo",onClick:function(a){e.setState({canEditInfo:!0})}},_l("\u7F16\u8F91"))))),t.createElement("div",{className:"stepItem"},t.createElement("h3",{className:"stepTitle Font16 Gray"},_l("3.\u6570\u636E\u540C\u6B65")),t.createElement("div",{className:"mTop20 syncBox"},t.createElement("span",{className:"Font14 syncTxt"},_l("\u4ECEWelink\u901A\u8BAF\u5F55\u540C\u6B65\u5230\u8BE5\u7CFB\u7EDF")),t.createElement(I.ZP,{type:"primary",className:D()("syncBtn",{isNO:e.state.canEditInfo&&!e.state.isHasInfo||e.state.isCloseDing||e.state.showSyncDiaLog}),onClick:function(a){e.state.canEditInfo&&!e.state.isHasInfo||e.state.isCloseDing||e.state.showSyncDiaLog||e.syncFn(!0)}},e.state.showSyncDiaLog?_l("\u540C\u6B65\u4E2D"):_l("\u540C\u6B65")))))},e.renderSyncDiaLog=function(){return t.createElement(R.Z,{visible:e.state.showSyncDiaLog,className:"SyncDiaLog",onCancel:function(){e.setState({showSyncDiaLog:!1})},overlayClosable:!1,title:e.state.failed?_l("\u540C\u6B65\u5931\u8D25"):_l("\u540C\u6B65\u5185\u5BB9"),footer:t.createElement(I.ZP,{disabled:!e.state.canSyncBtn,type:"primary",onClick:function(){e.state.canSyncBtn&&(e.state.failed?e.setState({showSyncDiaLog:!1}):(e.setState({canSyncBtn:!1}),e.syncFn(!1)))}},_l("\u786E\u8BA4"))},t.createElement("p",null,e.state.isLoading?t.createElement(F.Z,{className:""}):e.state.failed?e.state.failedStr:_.map(e.state.data,function(n,a){switch(n.type){case 4:return t.createElement("p",null,"\u65B0\u589E"+n.items.length+"\u4E2A\u7528\u6237");case 5:return t.createElement("p",null,"\u5220\u9664"+n.items.length+"\u4E2A\u7528\u6237");case 6:return t.createElement("p",null,"\u540C\u6B65"+n.items.length+"\u4E2A\u7528\u6237\u4FE1\u606F");case 7:return t.createElement("p",null,n.items.length+"\u4E2A\u7528\u6237\u4FE1\u606F\uFF0C\u7531\u4E8E\u7528\u6237\u6570\u91CF\u5DF2\u8FBE\u4E0A\u9650\uFF0C\u6682\u4E0D\u80FD\u540C\u6B65\u5230\u901A\u8BAF\u5F55");case 8:return t.createElement("p",null,"\u65B0\u589E"+n.items.length+"\u4E2A\u90E8\u95E8");case 9:return t.createElement("p",null,"\u5220\u9664"+n.items.length+"\u4E2A\u90E8\u95E8");case 10:return t.createElement("p",null,"\u540C\u6B65"+n.items.length+"\u4E2A\u90E8\u95E8\u4FE1\u606F");default:break}})))},e.editWXProjectSettingStatus=function(n,a){p.Z.editWelinkProjectSettingStatus({projectId:e.props.projectId,status:n}).then(function(s){s?a():V(e.props.projectId)})},e.state={pageLoading:!0,hasApply:!1,isPassApply:!1,isReject:!1,isHasInfo:!1,canEditInfo:!0,isShowCorpId:!1,isShowSecret:!1,CorpId:null,Secret:null,CorpIdFormat:null,SecretFormat:null,isCloseDing:!1,showSyncDiaLog:!1,data:null,show1:!1,show2:!1,isLoading:!1,failed:!1,failedStr:"",canSyncBtn:!1},e}return(0,P.default)(r,[{key:"componentDidMount",value:function(){var e=this;p.Z.getWelinkProjectSettingInfo({projectId:this.props.projectId}).then(function(n){e.setState({pageLoading:!1}),n||(n={corpId:"",secret:"",status:1}),n&&e.setState({hasApply:!!n,isPassApply:n.status===2||n.status===1,isReject:n.status===-1,CorpId:n.clientId,Secret:n.clientSecret,isHasInfo:n.status===2||n.clientId&&n.clientSecret,canEditInfo:!n.clientId&&!n.clientSecret,isCloseDing:n.status===2,CorpIdFormat:e.formatStr(n.clientId),SecretFormat:e.formatStr(n.clientSecret),show1:!(n.clientId&&n.clientSecret&&n.status!=2),show2:!(n.clientId&&n.clientSecret&&n.status!=2)})})}},{key:"render",value:function(){var e=this,n=this.state,a=n.CorpId,s=n.Secret;return this.state.pageLoading?t.createElement(F.Z,{className:"mTop80"}):t.createElement("div",{className:"orgManagementWrap welinkMainContent"},t.createElement("div",{className:"orgManagementHeader"},t.createElement("div",{className:"h100 flexRow alignItemsCenter"},!(!this.state.isCloseDing&&a&&s)&&t.createElement("i",{className:"icon-backspace Font22 ThemeHoverColor3 pointer mRight10",onClick:this.props.onClose}),t.createElement("div",{className:"Font17 bold"},"Welink",_l("\u96C6\u6210"))),!this.state.isCloseDing&&a&&s&&t.createElement(z,{clickCancel:function(){return e.editWXProjectSettingStatus(2,function(){e.props.onClose(),alert(_l("\u53D6\u6D88\u6210\u529F"))})}})),this.state.isPassApply?t.createElement(t.Fragment,null,t.createElement("div",{className:"orgManagementContent"},this.stepRender())):t.createElement("div",{className:"TxtMiddle"},t.createElement("div",{className:"TxtCenter logoBox"},this.state.isReject?t.createElement(t.Fragment,null,t.createElement(g.Z,{icon:"closeelement-bg-circle",className:"Red iconReject"})):t.createElement(t.Fragment,null,t.createElement("span",{className:"mdIcon"},t.createElement(g.Z,{icon:"feed",className:"Font40 White"})),t.createElement(g.Z,{icon:"swap_horiz",className:"Font36 mLeft30 mRight30 Gray_bd"}),t.createElement(g.Z,{icon:"invite-ding",className:"TxtCenter"}))),this.state.hasApply?t.createElement("div",{className:"TxtCenter mTop50"},this.state.isReject?t.createElement(t.Fragment,null,t.createElement("h2",{className:"Font18 Gray"},_l("\u8BD5\u7528\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u4ED8\u8D39\u540E\u7EE7\u7EED\u4F7F\u7528")),t.createElement("p",{className:"mTop15 Font13 Gray_75"},_l("\u5982\u6709\u7591\u95EE\uFF0C\u8BF7\u8054\u7CFB\u60A8\u7684\u4E13\u5C5E\u987E\u95EE")),t.createElement(I.ZP,{type:"primary",className:"applyBtn mBottom10 mTop25",onClick:function(o){(0,ge.F)({projectId:e.props.projectId})}},_l("\u524D\u5F80\u4ED8\u8D39"))):t.createElement(t.Fragment,null,t.createElement("h2",{className:"Font26 Gray"},_l("\u7533\u8BF7\u5DF2\u63D0\u4EA4")),t.createElement("p",{className:"mTop24 mBottom32 Font16 Gray_75"},_l("\u9884\u8BA1\u4E24\u4E2A\u5DE5\u4F5C\u65E5\u53CD\u9988\u4FE1\u606F\uFF0C\u5982\u6709\u7591\u95EE\uFF0C\u8BF7\u8054\u7CFB\u60A8\u7684\u4E13\u5C5E\u987E\u95EE")))):t.createElement("div",{className:"TxtCenter mTop50"},t.createElement("h2",{className:"Font26 Gray"},_l("\u7533\u8BF7Welink\u96C6\u6210")),t.createElement("p",{className:"mTop24 mBottom32 Font16 Gray_75"},_l("\u7533\u8BF7\u901A\u8FC7\u540E\uFF0C\u53EF\u5C06\u5E94\u7528\u5B89\u88C5\u5230Welink\u96C6\u6210\u5DE5\u4F5C\u53F0\uFF01")),t.createElement(I.ZP,{type:"primary",className:"applyBtn mBottom10",onClick:function(o){e.editWXProjectSettingStatus(0,function(){e.setState({hasApply:!0})})}},_l("\u7ACB\u5373\u7533\u8BF7")))),this.state.showSyncDiaLog&&this.renderSyncDiaLog())}}]),r}(t.Component),jt=i(1920),Tt=i.n(jt),Lt=function(E){(0,U.default)(r,E);function r(m){(0,L.default)(this,r);var e=(0,W.default)(this,(r.__proto__||T()(r)).call(this,m));return e.editInfo=function(){if(!e.state.AppSecret||!e.state.AppId){alert("\u8BF7\u8F93\u5165\u76F8\u5173\u4FE1\u606F",3);return}p.Z.editFeishuProjectSetting({projectId:e.props.projectId,appId:e.state.AppId,appSecret:e.state.AppSecret}).then(function(n){n&&(n.item1?e.setState({isHasInfo:!0,canEditInfo:!1}):alert(n.item2,2))})},e.formatStr=function(n){if(n){var a=void 0;if(n.length===4)a=n.substr(0,3)+"*";else if(n.length>4){for(var s="",l=0,o=n.length-4;l<o;l++)s+="*";a=n.substr(0,3)+s+n.substr(-3,3)}else a=n;return a}},e.editFeishuProjectSettingStatus=function(n,a){p.Z.editFeishuProjectSettingStatus({projectId:e.props.projectId,status:n}).then(function(s){s?a():V(e.props.projectId)})},e.editDingStatus=function(n){e.editFeishuProjectSettingStatus(n,function(){e.setState({isCloseDing:!e.state.isCloseDing})})},e.inputRender=function(n,a){return t.createElement(t.Fragment,null,t.createElement("div",{className:"inputTitleBox"},t.createElement("span",{className:"inputTitle"},a+"\uFF1A"),t.createElement(te.Z,{title:null,arrowPointAtCenter:!0,placement:"bottomLeft",overlayClassName:"workwxPopoverWrapper",content:t.createElement("span",{className:"card Relative overflowHidden"},t.createElement("img",{width:600,src:Tt()}))},t.createElement(g.Z,{icon:"sidebar_help",className:"Font18 Gray_9e"}))),t.createElement("div",{className:"Relative InlineBlock inputDiv clearfix"},e.state.canEditInfo?t.createElement(t.Fragment,null,t.createElement("input",{type:"text",className:"inputBox",onChange:function(l){var o;e.setState((o={},(0,x.default)(o,n,l.target.value),(0,x.default)(o,n+"Format",e.formatStr(l.target.value)),o))},value:e.state[n]})):t.createElement(t.Fragment,null,t.createElement("input",{type:"text",className:"inputBox",readOnly:!0,value:e.state["isShow"+n]?e.state[n]:e.state[n+"Format"]}),t.createElement(g.Z,{icon:e.state["isShow"+n]?"circulated":"visibility_off",className:"Gray_9e Font18 isShowIcon",onClick:function(){e.setState((0,x.default)({},"isShow"+n,!e.state["isShow"+n]))}}))))},e.syncFn=function(n){n&&e.setState({isLoading:!0,showSyncDiaLog:n,canSyncBtn:!1}),p.Z.syncFeishuToMingByApp({projectId:e.props.projectId,check:n}).then(function(a){a.item1?(e.setState({failed:!1}),n?e.setState({canSyncBtn:!0,data:a.item3,isLoading:!1}):(e.setState({showSyncDiaLog:!1,isLoading:!1}),alert(_l("\u6210\u529F\u540C\u6B65")))):e.setState({showSyncDiaLog:!0,data:a.item3,isLoading:!1,failed:!0,failedStr:a.item2?a.item2:_l("\u540C\u6B65\u5931\u8D25\uFF01")})})},e.stepRender=function(){return t.createElement("div",{className:"pBottom100"},t.createElement("div",{className:"stepItem Relative"},t.createElement("h3",{className:"Font16 Gray"},_l("1.\u83B7\u53D6\u5BF9\u63A5\u4FE1\u606F")),e.state.show1?t.createElement(t.Fragment,null,t.createElement("p",{className:"mTop16 Font14 Gray_75"},_l("\u4ECE\u98DE\u4E66\u5F00\u653E\u5E73\u53F0\u83B7\u53D6\u5BF9\u63A5\u4FE1\u606F\uFF0C\u5373\u53EF\u5F00\u59CB\u96C6\u6210\u4EE5\u53CA\u540C\u6B65\u901A\u8BAF\u5F55")),t.createElement(K.Z,{to:"/feishuSyncCourse/"+e.props.projectId,target:"_blank",className:"mTop16 Font14 howApply"},_l("\u5982\u4F55\u83B7\u53D6\u5BF9\u63A5\u4FE1\u606F\uFF1F"))):t.createElement("div",{className:"showDiv flexRow valignWrapper",onClick:function(){e.setState({show1:!0})}},t.createElement(g.Z,{icon:"sidebar-more",className:"Font13 Gray_75 Right Hand"}))),t.createElement("div",{className:"stepItem Relative"},t.createElement("h3",{className:"Font16 Gray"},_l("2.\u5BF9\u63A5\u4FE1\u606F\u5F55\u5165")),!e.state.show2&&t.createElement("div",{className:"showDiv flexRow valignWrapper",onClick:function(){e.setState({show2:!0})}},t.createElement(g.Z,{icon:"sidebar-more",className:"Font13 Gray_75 Right Hand"})),e.state.isHasInfo&&e.state.show2&&t.createElement("span",{className:"Font13 Gray_75 Right closeDing"},t.createElement("span",{className:"mLeft10 switchBtn tip-bottom-left","data-tip":_l("\u5173\u95ED\u98DE\u4E66\u96C6\u6210\u540E\uFF0C\u65E0\u6CD5\u518D\u4ECE\u98DE\u4E66\u5904\u8FDB\u5165\u5E94\u7528")},t.createElement(G.Z,{checked:!e.state.isCloseDing,onClick:function(a){return e.editDingStatus(a?2:1)}}))),!e.state.isCloseDing&&e.state.show2&&t.createElement(t.Fragment,null,t.createElement("p",{className:"mTop16 Font14 Gray_75"},_l("\u5B8C\u6210\u6B65\u9AA4 1 \u540E\uFF0C\u586B\u5165App ID\u3001App Secret\u540E\u53EF\u5BF9\u63A5\u5E94\u7528\u4E0E\u540C\u6B65\u901A\u8BAF\u5F55")),t.createElement("div",{className:"mTop25 infoList"},t.createElement("ul",null,t.createElement("li",null,e.inputRender("AppId","App ID")),t.createElement("li",{className:"mTop16"},e.inputRender("AppSecret","App Secret")))),t.createElement("div",{className:"TxtRight mTop30"},e.state.canEditInfo?t.createElement(I.ZP,{type:"primary",className:"saveInfo",onClick:function(a){X({projectId:e.props.projectId,onSave:e.editInfo})}},_l("\u4FDD\u5B58")):t.createElement(I.ZP,{type:"primary",className:"editInfo",onClick:function(a){e.setState({canEditInfo:!0})}},_l("\u7F16\u8F91"))))),t.createElement("div",{className:"stepItem"},t.createElement("h3",{className:"Font16 Gray"},_l("3.\u6570\u636E\u540C\u6B65")),t.createElement("div",{className:"mTop16 syncBox"},t.createElement("span",{className:"Font14 syncTxt Gray_75"},_l("\u4ECE\u98DE\u4E66\u901A\u8BAF\u5F55\u540C\u6B65\u5230\u8BE5\u7CFB\u7EDF")),t.createElement(I.ZP,{type:"primary",className:D()("syncBtn",{isNO:e.state.canEditInfo&&!e.state.isHasInfo||e.state.isCloseDing||e.state.showSyncDiaLog}),onClick:function(a){e.state.canEditInfo&&!e.state.isHasInfo||e.state.isCloseDing||e.state.showSyncDiaLog||e.syncFn(!0)}},e.state.showSyncDiaLog?_l("\u540C\u6B65\u4E2D"):_l("\u540C\u6B65")))))},e.renderSyncDiaLog=function(){return t.createElement(R.Z,{visible:e.state.showSyncDiaLog,className:"SyncDiaLog",onCancel:function(){e.setState({showSyncDiaLog:!1})},overlayClosable:!1,title:e.state.failed?_l("\u540C\u6B65\u5931\u8D25"):_l("\u540C\u6B65\u5185\u5BB9"),footer:t.createElement(I.ZP,{disabled:!e.state.canSyncBtn,type:"primary",onClick:function(){e.state.canSyncBtn&&(e.state.failed?e.setState({showSyncDiaLog:!1}):(e.setState({canSyncBtn:!1}),e.syncFn(!1)))}},_l("\u786E\u8BA4"))},t.createElement("p",null,e.state.isLoading?t.createElement(F.Z,{className:""}):e.state.failed?e.state.failedStr:w().map(e.state.data,function(n,a){switch(n.type){case 4:return t.createElement("p",null,"\u65B0\u589E"+n.items.length+"\u4E2A\u7528\u6237");case 5:return t.createElement("p",null,"\u5220\u9664"+n.items.length+"\u4E2A\u7528\u6237");case 6:return t.createElement("p",null,"\u540C\u6B65"+n.items.length+"\u4E2A\u7528\u6237\u4FE1\u606F");case 7:return t.createElement("p",null,n.items.length+"\u4E2A\u7528\u6237\u4FE1\u606F\uFF0C\u7531\u4E8E\u7528\u6237\u6570\u91CF\u5DF2\u8FBE\u4E0A\u9650\uFF0C\u6682\u4E0D\u80FD\u540C\u6B65\u5230\u901A\u8BAF\u5F55");case 8:return t.createElement("p",null,"\u65B0\u589E"+n.items.length+"\u4E2A\u90E8\u95E8");case 9:return t.createElement("p",null,"\u5220\u9664"+n.items.length+"\u4E2A\u90E8\u95E8");case 10:return t.createElement("p",null,"\u540C\u6B65"+n.items.length+"\u4E2A\u90E8\u95E8\u4FE1\u606F");default:break}})))},e.getInitialPassword=function(){p.Z.getIntergrationAccountInitializeInfo({projectId:e.props.projectId}).then(function(n){e.setState({password:n,isSetPassword:!!n})})},e.changeTab=function(n){e.setState({currentTab:n}),n==="other"&&e.getInitialPassword()},e.state={pageLoading:!0,isHasInfo:!1,canEditInfo:!0,isShowAppId:!1,isShowAppSecret:!1,AppId:null,AppSecret:null,AppIdFormat:null,AppSecretFormat:null,isCloseDing:!1,showSyncDiaLog:!1,data:null,show1:!1,show2:!1,isLoading:!1,failed:!1,failedStr:"",canSyncBtn:!1,isSetPassword:!1,passwordError:!1,currentTab:"base"},e}return(0,P.default)(r,[{key:"componentDidMount",value:function(){var e=this;p.Z.getFeishuProjectSettingInfo({projectId:this.props.projectId}).then(function(n){e.setState({pageLoading:!1}),n||(n={appId:"",appSecret:"",status:""}),n&&e.setState({AppId:n.appId,AppSecret:n.appSecret,isHasInfo:n.status===2||n.appId&&n.appSecret,canEditInfo:!n.appId&&!n.appSecret,isCloseDing:n.status===2,AppIdFormat:e.formatStr(n.appId),AppSecretFormat:e.formatStr(n.appSecret),show1:!(n.appId&&n.appSecret&&n.status!=2),show2:!(n.appId&&n.appSecret&&n.status!=2),status:n.status})})}},{key:"render",value:function(){var e=this,n=this.state,a=n.currentTab,s=n.AppId,l=n.AppSecret;return this.state.pageLoading?t.createElement(F.Z,{className:"mTop80"}):t.createElement("div",{className:"orgManagementWrap feishuMainContent"},t.createElement("div",{className:"orgManagementHeader"},t.createElement("div",{className:"h100 flexRow alignItemsCenter"},!(!this.state.isCloseDing&&s&&l)&&t.createElement("i",{className:"icon-backspace Font22 ThemeHoverColor3 pointer mRight10",onClick:this.props.onClose}),t.createElement("div",{className:D()("tabBox",{singleTab:!(md.global.Config.IsLocal&&this.state.status===1&&!this.state.isCloseDing)})},[{key:"base",label:_l("\u98DE\u4E66\u96C6\u6210")},{key:"other",label:_l("\u5176\u4ED6")}].map(function(o){var c=o.key,d=o.label;if(!(c==="other"&&!(md.global.Config.IsLocal&&e.state.status===1&&!e.state.isCloseDing)))return t.createElement("span",{key:c,className:D()("tabItem Hand",{active:a===c&&md.global.Config.IsLocal&&e.state.status===1&&!e.state.isCloseDing}),onClick:function(){return e.changeTab(c)}},d)}))),!this.state.isCloseDing&&s&&l&&t.createElement(z,{clickCancel:function(){return e.editFeishuProjectSettingStatus(2,function(){e.props.onClose(),alert(_l("\u53D6\u6D88\u6210\u529F"))})}})),t.createElement("div",{className:"orgManagementContent"},a==="base"&&this.stepRender(),a==="other"&&t.createElement(ae,{password:this.state.password,isSetPassword:this.state.isSetPassword,disabled:this.state.canEditInfo&&!this.state.isHasInfo||this.state.isCloseDing||this.state.showSyncDiaLog})),this.state.showSyncDiaLog&&this.renderSyncDiaLog())}}]),r}(t.Component),le=[{type:"workwx",src:we(),text:_l("\u4F01\u4E1A\u5FAE\u4FE1"),featureId:19,projectIntergrationType:3,privatePermission:"hideWorkWeixin"},{type:"ding",src:Se(),text:_l("\u9489\u9489"),featureId:10,projectIntergrationType:1,privatePermission:"hideDingding"},{type:"welink",src:xe(),text:_l("Welink"),featureId:18,projectIntergrationType:4,privatePermission:"hideWelink"},{type:"feishu",src:be(),text:_l("\u98DE\u4E66"),featureId:12,projectIntergrationType:6,privatePermission:"hideFeishu"}],Pt=function(E){(0,U.default)(r,E);function r(m){(0,L.default)(this,r);var e=(0,W.default)(this,(r.__proto__||T()(r)).call(this,m));return e.handleClick=function(n){var a=n.type,s=n.featureId,l=n.featureType,o=_.get(e.props,"match.params")||{},c=o.projectId;if(l==="2")return(0,$.j0)(c,s,{dialogType:"dialog"});e.setState((0,x.default)({},a+"Visible",!0))},e.handleShowIntegration=function(){var n=_.get(e.props,"match.params")||{},a=n.projectId,s=e.state,l=s.workwxVisible,o=s.dingVisible,c=s.welinkVisible,d=s.feishuVisible;return l?t.createElement(yt,{projectId:a,onClose:function(){return e.setState({workwxVisible:!1})}}):o?t.createElement(Ft,{projectId:a,onClose:function(){return e.setState({dingVisible:!1})}}):c?t.createElement(Bt,{projectId:a,onClose:function(){return e.setState({welinkVisible:!1})}}):d?t.createElement(Lt,{projectId:a,onClose:function(){return e.setState({feishuVisible:!1})}}):null},e.state={loading:!0},me.Z.setPageTitle(_l("\u7B2C\u4E09\u65B9\u5E73\u53F0\u96C6\u6210")),e}return(0,P.default)(r,[{key:"componentDidMount",value:function(){var e=this,n=_.get(this.props,"match.params")||{},a=n.projectId;ce.Z.getProjectPermissionsByUser({projectId:a}).then(function(s){var l=s.projectIntergrationType;if(l){var o,c=(_.find(le,function(d){return d.projectIntergrationType===l})||{}).type;e.setState((o={},(0,x.default)(o,c+"Visible",!0),(0,x.default)(o,"loading",!1),o))}else e.setState({loading:!1})}).catch(function(s){e.setState({loading:!1})})}},{key:"render",value:function(){var e=this,n=_.get(this.props,"match.params")||{},a=n.projectId,s=this.state.loading,l=_.some(le,function(o){var c=o.type;return e.state[c+"Visible"]});return s?t.createElement(F.Z,{className:"mTop30"}):l?t.createElement(t.Fragment,null,this.handleShowIntegration()):t.createElement("div",{className:"orgManagementWrap"},t.createElement("div",{className:"platformIntegrationWrap"},t.createElement("div",{className:"mBottom16 Font22 bold TxtCenter"},_l("\u7B2C\u4E09\u65B9\u5E73\u53F0")),t.createElement("div",{className:"Gray_9e Font14 mBottom40 TxtCenter"},_l("\u4ECE\u7B2C\u4E09\u65B9\u540C\u6B65\u901A\u8BAF\u5F55\uFF0C\u53EA\u80FD\u96C6\u6210\u4E00\u4E2A\u5E73\u53F0")),le.map(function(o){var c=o.src,d=o.text,u=o.featureId,f=o.privatePermission;if(!md.global.SysSettings[f]){var A=(0,$.XH)(a,u);return A?t.createElement("div",{className:"integrationItem flexRow alignItemsCenter",onClick:function(){return e.handleClick((0,O.default)({featureType:A},o))}},t.createElement("img",{src:c}),t.createElement("div",{className:"flex Font15 bold mLeft8"},d,A==="2"&&t.createElement(Ae.Z,null)),t.createElement("div",{className:"integrationTxt"},_l("\u96C6\u6210"))):null}})))}}]),r}(t.Component)},60294:b=>{b.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAV1BMVEUAAAAwgP8wgP81hf80g/s1gvs0gfw2g/w2hPw1gvw1g/o0gvo2g/s2g/s1gvs1g/s1gvo1g/o2g/s2gvs1g/s1gvs1g/o2gvo2gvo2g/o1g/s1gvs2g/vDhyvYAAAAHHRSTlMAECAwQD9PUF9gb3B/gI+Qn6CvsL/Az9Df4PDvNtCCyAAAAN1JREFUeAHs1NVhwEAIBmBO42727z9nlcrFyHP7LYBDf5yhh7Dlip5Yga3WJDfgTe9JqsKHOVUkEoFttZEWATbGgjAFfqlvq1EcQpyabhCaS30dJJsQ6i2d2cbSa10tCNTqanRzm6ZhnIaOZWBjP+KHUdom1t0NO2Rv9ik0XC3UIggQUs7ndT/f9Yi1M35bNV1aECjomgl6u9Ads0grZqoCsHbJcF8xU9YS0Xv1sXNOk4gGV/H0KZiHbycjIWNtxpsqlUkLYJ20ALYJC2BGWgDLpAWwztAzCf17GZ0AALLtLSsZfqr3AAAAAElFTkSuQmCC"},86670:b=>{b.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAB7ElEQVR4Ae2XIYydQBCGR54krXly5cnNtaLiBPIkshJZiVfISiSpQp5EUrfy5KoLcuVJZB39J0WQ5rWd7MCjJPsnf3LJhfB9swPckSgpKSkpKSnjUKMzvX7XdRw8ao+TYAi9xETBZUdJ5PQKAL1Ef+Q6GdRvIFHQYcEKqCXGIRBydony3BJ8LXJ2Cfu/SIRIgYa2iq3mWvF2slGv2L53Wd7WqEOn94/fZi7/jLrsU9ugslP6WM0zJDqFRCkFv2t7D8A3hpWUZehf+QABVCvR/BX+ZZiyonuRgnPfPbYTn4JIYCMJ/4d1GcVTXxXwJSFSgbWER7MIgfwaPECmCHhPSJQA96GaJ0jYmFXSwi+7n2sE1hJVzKtVCe8IUQusVsqhhoS5+/pcyuHl05cLKE6Db45q4B0hCgHRaVydEKZerWEU01cIyEV61Czglienh1+mrxeQ13758QyBgJvr4PHMXJ68UQjoaj57d8k7HwuP6ytaohbQncgUTDE4PhUJPEvjmp4QpcD2vS/fRlM4x5A85TX05al392Xw0V99vYC+dv21P5vAw6/Jm63+oQm3hJevjVygvCF8TXuEdxF1O4I7/b7LRAq9iOxPj71FDNqgIQI6oI3+Id1OJltOpl7A3G/tlt8Ve0OnpKSkpKT8BJxKRofcHF0zAAAAAElFTkSuQmCC"},62944:b=>{b.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAUVBMVEUAAAAYl/cQj/8VlfoYk/cYlvsWk/kYlPoYlfcXk/gZlPgYlfkYk/cZlPgZk/gYlPkYlPcZlPgYlPgYk/cZlPgZk/gZk/gYlPgYlPcYlPgZlPjcmJD8AAAAGnRSTlMAIBAwQD9QX2BvcH+Aj5CfoLC/wM/Q7/Dg3/9UJRwAAAFESURBVHgB7ZIFloRADAXTstZo49T9D7q8kHV3maln6P8piPwgR47EruuCPKC0yw9xQJIHDICXR1kgywOAUR6nhenhoEAtj3MOhAcKwKnI6yWyKTwv4U429semawV/0a1TV8XHJGqwMnetUEzsdO6hxAqQ7RLnstFwzXQt6uxuQPHW5cydpS6zdtyWaPenRnu3h0WjbEbfYREmwbpPVOZ9Jq4jKEXkTEVmf1vCa1xIehitaNWzoPEs5mDNp5JgMZ9k/UAvp2h8ee9PlDLolxwhS1YFe0HFs7u/Tv1eo+GyQmsvTOJgjCLh/jolmMUWxRQkA0nKpNs4RLkmoLQ23go4C7L/Fae7GzcDlloDpqBG0FxcNHrN311OW89gZYqbuWa+bZEAsiiLlSlhfPR5ceWGSZ2XG04MX2oA2curCTFGL0eOfC6XKbYnB7N6FuQAAAAASUVORK5CYII="},83555:b=>{b.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACPUlEQVR4Ae1YhRHcMBC8Er6EL0ElKJzhL0HhDLsEBQr4ElzCD4fj4XBcgku4MMfZe7zRE8kKaWfW7NOuiOgQZGRkZGRkGM8GLMARWIFs/Pt2Qm6mz0rQGf+5/4eIbnsiCGxmYnenGPo8+J05XqhcVuQaHII+YBkaVd/b1LlehbkJOnm34//FshkephJfx8o9MR20lTKleN9NiXJFXSBIxHUQv1Txi/gNVud8R9AlHLWrXTQ4rrtvY5Hbg/TVs6Ap+m0RrkshYkDmVCN6zAxTjZdHCQdJVmNDtGA+5WCpzschfu+TGKoKlZQItqIB6O0dsjEMjHQXmkL8mQfUzij3MQcxQx3j/B2qtAGUwijGXIVTVSMI9kEJcOx5iqWO0NbUA/ti4nxFtRg4DeK+OHY07kP8rBRYdW/R8Lkm9/kFsRhQ7aEPI6WYQNUyEacU3IAmgmgDOrCC+BbnYl3DhhE3rQ324LQnS0MYuAmiRI6ZVovYrxA9I+6bnWarSBs8fJQW0RLg2EAQzIGBYku6VqcrPKo6KQOFNifvwP6abRerDDSBAbPFwDDIOCbg+FK4/X4w21qR+41Uy8XPT8jOTODa79KVqzg1aI7rVhFod27PNb5OQ3Y0XJvepM35SBO85dyWZ7Ndt2lPUYB+SgfaTYm3jnow0PB10JGTe1X1qshLzGXhFAGIYvkytW+vTIj7Sox0tOzjKpbwwEQD8dpESX8TRHBgYPR3GbhOBmQRL2fQ0F8E3aDtvvU/IyMjIyPjFyNiKdYq2FKNAAAAAElFTkSuQmCC"},65080:(b,q,i)=>{b.exports=i.p+"static/client_id.930fcece1f676df2eb66d3de5f72622e.png"},50550:b=>{b.exports="data:image/gif;base64,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"},30878:b=>{b.exports="data:image/png;base64,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"}}]);
