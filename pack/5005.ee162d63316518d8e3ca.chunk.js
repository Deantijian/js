"use strict";(self.webpackChunkmingdao_web=self.webpackChunkmingdao_web||[]).push([[5005],{78410:(P,m,t)=>{t.r(m),t.d(m,{default:()=>O});var r=t(47426),g=t(20845),d=t(43727),u=t(54208),v=t(88902),f=t.n(v),h=t(85105),S=t.n(h),y=t(99663),E=t(22600),C=t(49135),N=t(93196),e=t(67294),c=t(71346),Z=t(48355),p=t(93967),M=t.n(p),k=t(41436),T=t(86515),L=t(96486),b=t.n(L),D=t(29208),G=[{label:_l("\u8BED\u8A00\u8BBE\u7F6E"),component:"languague"}],O=function(A){(0,N.default)(o,A);function o(l){(0,y.default)(this,o);var s=(0,C.default)(this,(o.__proto__||S()(o)).call(this,l));return s.languague=function(){return e.createElement("div",{className:"languagueSetting"},k.Z.map(function(n){return e.createElement("div",{className:M()("languagueItem",{active:(getCookie("i18n_langtag")||md.global.Config.DefaultLang)===n.key}),onClick:function(){s.state.disabledSetLanguage||(md.global.Account.isPortal?(setCookie("i18n_langtag",n.key),window.location.reload()):(s.setState({disabledSetLanguage:!0}),c.Z.editAccountSetting({settingType:"6",settingValue:getCurrentLangCode(n.key).toString()}).then(function(i){i&&(setCookie("i18n_langtag",n.key),window.location.reload())}).catch(function(i){s.setState({disabledSetLanguage:!1})})))}},n.value)}))},s.state={joinFriendMode:1,isPrivateMobile:!1,isPrivateEmail:!1,loading:!1,disabledSetLanguage:!1,timeZones:[],currentTimeZone:md.global.Account.timeZone},s}return(0,E.default)(o,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var s=this;this.setState({loading:!0}),c.Z.getAccountSettings({}).then(function(n){s.setState({joinFriendMode:n.joinFriendMode,isPrivateMobile:n.isPrivateMobile,isPrivateEmail:n.isPrivateEmail,isOpenMessageSound:n.isOpenMessageSound,isOpenMessageTwinkle:n.isOpenMessageTwinkle,backHomepageWay:n.backHomepageWay||1,loading:!1})}),D.Z.loadTimeZones().then(function(n){var a=[];f()(n).forEach(function(i){a.push({text:n[i],value:parseInt(i)})}),s.setState({timeZones:[{text:_l("\u8DDF\u968F\u8BBE\u5907\u65F6\u533A\uFF08\u914D\u7F6E\u65F6\u533A\uFF0C\u4F9D\u636E\u60A8\u6B63\u5728\u4F7F\u7528\u8BBE\u5907\u7684\u7CFB\u7EDF\u65F6\u533A\u8BBE\u7F6E\uFF09"),value:1}].concat(a.sort(function(i,H){return i.value-H.value}))})})}},{key:"sureSettings",value:function(s,n,a){c.Z.editAccountSetting({settingType:T.Z.settingOptions[s],settingValue:n}).then(function(i){i?(alert(_l("\u8BBE\u7F6E\u6210\u529F")),b().isFunction(a)&&a()):alert(_l("\u64CD\u4F5C\u5931\u8D25"),2)}).catch()}},{key:"render",value:function(){var s=this;return this.state.loading?e.createElement(u.Z,{className:"mTop40"}):e.createElement("div",{className:"systemSettingsContainer"},e.createElement("div",{className:"mTop24 Gray Font15 Bold"},_l("\u504F\u597D\u8BBE\u7F6E")),G.map(function(n,a){return e.createElement("div",{className:"systemSettingItem borderNoe",key:a},e.createElement("div",{className:"systemSettingsLabel Gray_75 LineHeight32"},n.label),e.createElement("div",{className:"systemSettingsRight"},s[n.component]()))}),e.createElement("div",{className:"systemSettingItem"},e.createElement("div",{className:"systemSettingsLabel Gray_75 LineHeight32"},_l("\u65F6\u533A"),e.createElement(Z.Z,{className:"Right mTop8"})),e.createElement("div",{className:"systemSettingsRight"},e.createElement("div",{className:"Gray_75 mBottom16"},e.createElement(d.Z,{className:"systemSettingsZone Gray",border:!0,value:this.state.currentTimeZone,data:this.state.timeZones,openSearch:!0,onChange:function(a){s.sureSettings("timeZone",a,function(){s.setState({currentTimeZone:a}),md.global.Account.timeZone=a})}})),e.createElement("div",{className:"systemSettingsZoneDesc"},_l("\u65F6\u533A\u4E3Abeta\u529F\u80FD\uFF0C\u4EC5\u9002\u7528\u4E8E\u5DE5\u4F5C\u8868\u4E2D\u65E5\u671F\u65F6\u95F4\u7C7B\u578B\u7684\u65E5\u671F\u5B57\u6BB5\u548C\u7CFB\u7EDF\u5B57\u6BB5\u3002\u60A8\u53EF\u4EE5\u8BBE\u7F6E\u4E2A\u4EBA\u65F6\u533A\uFF0C\u4FBF\u4E8E\u60A8\u5F55\u5165\u548C\u67E5\u770B\u65F6\u95F4\u6570\u636E\u3002\u4F8B\u5982\uFF0C\u60A8\u5728\u4E1C\u4EAC\u65F6\uFF0C\u53EF\u4EE5\u5C06\u4E2A\u4EBA\u65F6\u533A\u8BBE\u7F6E\u4E3A\u4E1C\u4E5D\u65F6\u533A(UTC+9:00)\u3002\u4F60\u8F93\u5165\u7684\u65F6\u95F4\u88AB\u5E73\u53F0\u89C6\u4F5C\u4E1C\u4EAC\u65F6\u95F4\uFF0C\u540C\u65F6\uFF0C\u5DE5\u4F5C\u8868\u4E2D\u7684\u65E5\u671F\u65F6\u95F4\u6570\u636E\u4EE5\u4E1C\u4EAC\u65F6\u95F4\u5448\u73B0\u3002")))),e.createElement("div",{className:"systemSettingItem borderNoe"},e.createElement("div",{className:"systemSettingsLabel Gray_75"},_l("\u6D4F\u89C8\u5668\u65B0\u6D88\u606F\u901A\u77E5")),e.createElement("div",{className:"systemSettingsRight"},e.createElement("div",{className:"Gray_75 mBottom16"},_l("\u5F53\u6709\u65B0\u6D88\u606F\u65F6\u4EE5\u4F55\u79CD\u65B9\u5F0F\u63D0\u9192")),e.createElement("div",{className:"mBottom16"},e.createElement(g.Z,{checked:this.state.isOpenMessageSound,onClick:function(a){s.sureSettings("isOpenMessageSound",a?0:1,function(){window.isOpenMessageSound=!a,s.setState({isOpenMessageSound:!a})})}},_l("\u901A\u77E5\u97F3"))),e.createElement("div",null,e.createElement(g.Z,{checked:this.state.isOpenMessageTwinkle,onClick:function(a){s.sureSettings("isOpenMessageTwinkle",a?0:1,function(){window.isOpenMessageTwinkle=!a,s.setState({isOpenMessageTwinkle:!a})})}},_l("\u6D4F\u89C8\u5668\u6807\u7B7E\u95EA\u70C1"))))),e.createElement("div",{className:"systemSettingItem borderNoe"},e.createElement("div",{className:"systemSettingsLabel Gray_75"},_l("\u5E94\u7528\u8FD4\u56DE\u9996\u9875\u65B9\u5F0F")),e.createElement("div",{className:"systemSettingsRight"},e.createElement(r.ZP,{size:"middle",className:"mBottom20",vertical:!0,data:[{text:_l("\u70B9\u51FB\u76F4\u63A5\u8FD4\u56DE"),value:1},{text:_l("\u60AC\u505C\u65F6\u5148\u4FA7\u6ED1\u6253\u5F00\u5E94\u7528\u5217\u8868"),value:2}],checkedValue:this.state.backHomepageWay,onChange:function(a){s.sureSettings("backHomepageWay",a,function(){window.backHomepageWay=a,s.setState({backHomepageWay:a})})}}))))}}]),o}(e.Component)}}]);
