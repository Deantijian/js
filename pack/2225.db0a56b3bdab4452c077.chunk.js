"use strict";(self.webpackChunkmingdao_web=self.webpackChunkmingdao_web||[]).push([[2225],{22225:(j,c,e)=>{e.r(c),e.d(c,{default:()=>W});var f=e(85105),h=e.n(f),p=e(99663),L=e(22600),C=e(49135),E=e(93196),t=e(67294),I=e(30539),S=e(54208),y=e(10929),N=e(64712),x=e(15577),T=e(96486),u=e.n(T),z=e(93967),M=e.n(z),W=function(Z){(0,E.default)(s,Z);function s(){(0,p.default)(this,s);var o=(0,C.default)(this,(s.__proto__||h()(s)).call(this));return o.state={isLoading:!1,list:null,pageIndex:1,pageSize:20,totalCount:null},N.Z.setPageTitle(_l("\u7EC4\u7EC7\u7BA1\u7406")),o}return(0,L.default)(s,[{key:"componentWillMount",value:function(){this.fetchLogs()}},{key:"fetchLogs",value:function(){var n=this,a=u().get(this.props,"match.params")||"",l=a.projectId,r=this.state,d=r.pageIndex,i=r.pageSize;this.setState({isLoading:!0}),I.Z.getPageLogs({projectId:l,pageIndex:d,pageSize:i}).then(function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=g.allCount,m=g.list;n.setState({isLoading:!1,allCount:v||0,list:m})}).catch(function(){n.setState({isLoading:!1})})}},{key:"renderLogs",value:function(){var n=this.state.list;return n&&n.length?t.createElement("div",{className:"orgManagementContent roleLogListContent"},u().map(n,function(a,l){return t.createElement("div",{className:M()("logItem Font13 clearfix ThemeColor3",{mTop0:l===0}),key:l},t.createElement("span",{className:"Gray",dangerouslySetInnerHTML:{__html:a.msg}})," ",t.createElement("span",{className:"mLeft24 Gray_9e"},(0,x.LX)(a.createTime)))})):t.createElement("div",{className:"TxtCenter listEmpty"},t.createElement("div",null,t.createElement("span",{className:"icon-knowledge-log icon"})),t.createElement("div",{className:"mTop20"},_l("\u6682\u65E0\u65E5\u5FD7")))}},{key:"render",value:function(){var n=this,a=this.state,l=a.isLoading,r=a.allCount,d=a.list,i=a.pageSize,g=a.pageIndex;return t.createElement("div",{className:"orgManagementWrap roleAuthLogTable"},t.createElement("div",{className:"orgManagementHeader Font17"},_l("\u7EC4\u7EC7\u7BA1\u7406")),l?t.createElement(S.Z,null):this.renderLogs(),!l&&d&&r>i?t.createElement(y.Z,{total:r,pageIndex:g,pageSize:i,onChange:function(m){return n.setState({pageIndex:m},n.fetchLogs)}}):null)}}]),s}(t.Component)}}]);
