"use strict";(self.webpackChunkmingdao_web=self.webpackChunkmingdao_web||[]).push([[570],{90570:(lr,K,x)=>{x.d(K,{$f:()=>F,FH:()=>Z,Hk:()=>L,KC:()=>w,MN:()=>T,NG:()=>$,SY:()=>k,Ux:()=>X,VC:()=>J,Yv:()=>I,ao:()=>tr,e0:()=>z,eI:()=>er,f0:()=>j,og:()=>N,rA:()=>H,zL:()=>nr});var W=x(72e3),G=x.n(W),b=x(88239),Y=x(96486),l=x.n(Y),c=x(15577),j={BarChart:1,LineChart:2,PieChart:3,NumberChart:10,RadarChart:5,FunnelChart:6,DualAxes:7,PivotTable:8,CountryLayer:9,BidirectionalBarChart:11,ScatterChart:12,WordCloudChart:13,GaugeChart:14,ProgressChart:15,TopChart:16},I={0:{name:_l("\u7ECF\u5178"),value:["#64B5F6","#4DB6AC","#FFB74D","#E57373","#9575CD","#A1887F","#90A4AE","#4DD0E1","#81C784","#FF8A65"]},1:{name:_l("\u79D1\u6280"),value:["#3A5B84","#4D6E98","#7594B9","#BFD7F2","#18619F","#408ACA","#5EA8E9","#81C3FC","#71A5CB","#A1CAE4"]},2:{name:_l("\u5546\u52A1"),value:["#CCEDF7","#B9DCF0","#12A0E7","#0663A4","#458890","#97D9CD","#4BB8BF","#20899C","#00272E","#A2C7D9"]},3:{name:_l("\u690D\u7269"),value:["#34B392","#4AC2A6","#8ED1C0","#CCDEC6","#61BDB5","#7993A1","#93A889","#5E8D83","#115040","#BCC5B4"]},4:{name:_l("\u81EA\u7136"),value:["#85CACD","#A7D676","#FEE159","#FBC78E","#EF918B","#A9B5FF","#E7DACA","#FC803A","#FEA1AC","#C2A3CD"]},5:{name:_l("\u5F69\u8272"),value:["#FDDB9C","#F9AE91","#F59193","#D47F97","#BD86A6","#877FA8","#F595A1","#624772","#FE7156","#FFBDA3"]},6:{name:_l("\u68D5\u8272"),value:["#996430","#BA8249","#BA6A49","#D09075","#CDA786","#E8CEB6","#BA702F","#CA774B","#DDAC74","#CEA77E"]},7:{name:_l("\u7EA2\u8272"),value:["#DF5447","#E8352E","#E15652","#E4ACA4","#DA5546","#C4514B","#F58C8A","#BC2A28","#F4633A","#E15652"]},8:{name:_l("\u7D2B\u8272"),value:["#5F3990","#62446E","#62446E","#62446E","#62446E","#B160E1","#B694CE","#854BA6","#854BA6","#915FAF"]},9:{name:_l("\u7EFF\u8272"),value:["#228569","#01AC84","#59B489","#96D2B7","#A3E1C1","#4CAF93","#2A9762","#326B4F","#59B489","#9CD4C4"]},10:{name:_l("\u6A59\u8272"),value:["#9CD4C4","#ED9C34","#EFB661","#EF9702","#FFAD02","#FFB774","#FF7500","#D76B00","#FF8A3D","#FBAA8D"]},11:{name:_l("\u7070\u8272"),value:["#626970","#83898E","#A6AAAD","#C3C6C6","#B4B5B1","#A2A3A1","#8D8F8E","#6C6F6F","#8B8C8D","#ACADAD"]}},N=function(r){var n=(0,c.f6)(r),a=n.chartColor,t=(a.system||[]).filter(function(e){return e.enable!==!1&&!l().isEmpty(e.colors)}),o=(a.custom||[]).filter(function(e){return e.enable!==!1&&!l().isEmpty(e.colors)});return t.concat(o)},w=function(r,n,a){var t=N(a),o=r||{},e=o.colorType,u=o.colorGroupIndex,i=o.colorGroupId,v=o.customColors;if([0,1].includes(e))if(i==="adaptThemeColor"&&n){var m=t.filter(function(s){return(s.themeColors||[]).map(function(C){return C.toLocaleUpperCase()}).includes(n.toLocaleUpperCase())});return(m[0]||t[0]).colors}else return i?(l().find(t,{id:i})||t[0]).colors:I[u]?I[u].value:t[0].colors;else return v||t[0].colors},R=function(r){if(r===1)return{lineDash:[0,0]};if(r===2)return{lineDash:[2,2]};if(r===3)return{lineWidth:3,lineDash:[3,3]}},k=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1],a=arguments[2],t=a.yaxisList,o=a.colors;return r.map(function(e){var u=l().find(t,{controlId:e.controlId}),i=u?e.controlId:null,v=u?u.ydot||u.dot:2,m=function(){if(e.type==="constantLine")return e.value;if(e.type==="minLine"&&i)return Number((0,c.FH)(O(n,i),v));if(e.type==="maxLine"&&i)return Number((0,c.FH)(S(n,i),v));if(e.type==="averageLine"&&i)return Number((0,c.FH)(ar(n,i),v));if(e.type==="medianLine"&&i)return Number((0,c.FH)(or(n,i),v));if(e.type==="percentLine"&&i)return ur(n,i,e.percent)},s=m(),C=e.showName||e.showValue,d={content:(e.showName&&e.name||"")+" "+(e.showValue&&l().isNumber(s)?H(s,!1,t,e.controlId):""),offsetY:-5,style:{fill:e.color},maxLength:200,autoEllipsis:!0},h=function(){if(e.type==="tendencyLine"&&i){var E=O(n,i),A=S(n,i),B=n.filter(function(V){return V.value===E}),_=n.filter(function(V){return V.value===A}),M=B[0]||{},g=_[_.length-1]||{},y=l().findIndex(n,{name:M.name}),U=l().findIndex(n,{name:g.name});return{start:["start",y<U?E:A],end:["end",y<U?A:E]}}return{start:["start",s],end:["end",s]}},D=function(){if(e.type==="tendencyLine"&&i){var E=l().findIndex(t,{controlId:e.controlId}),A=o[E]||"#2196F3";return(0,b.default)({stroke:A},R(e.style))}else return(0,b.default)({stroke:e.color},R(e.style))};return(0,b.default)({type:"line"},h(),{style:D(),text:C?d:null})})},z=function(r,n){var a=n.originalId,t=l().find(r.options,{key:a});return t?t.color:"#E0E0E0"},J=function(r){var n=l().find(L,{value:r});return l().isEmpty(n)?L[0]:n},L=[{value:1,position:"top-left",text:_l("\u4E0A\u65B9")},{value:2,position:"left",text:_l("\u5DE6\u4FA7")},{value:3,position:"bottom",text:_l("\u4E0B\u65B9")},{value:4,position:"right",text:_l("\u53F3\u4FA7")}],Q=function(r,n){return md.global.Account.lang==="en"?r>=1e9?(0,c.FH)(r/1e9,n)+"B":r>=1e6?(0,c.FH)(r/1e6,n)+"M":r>=1e3?(0,c.FH)(r/1e3,n)+"K":n===""?r:(0,c.FH)(r,n):r>=1e8?""+(0,c.FH)(r/1e8,n)+_l("\u4EBF"):r>=1e4?""+(0,c.FH)(r/1e4,n)+_l("\u4E07"):r>=1e3?(0,c.FH)(r/1e3,n)+"K":n===""?r:(0,c.FH)(r,n)},F=[{value:0,text:_l("\u81EA\u52A8"),suffix:"",format:Q},{value:1,text:_l("\u65E0"),suffix:"",format:function(r){return r}},{value:7,text:_l("\u767E\u5206\u6BD4"),suffix:"%",format:function(r){return r*100}},{value:8,text:_l("\u5343\u5206\u6BD4"),suffix:"\u2030",format:function(r){return r*1e3}},{value:2,text:_l("\u5343"),suffix:"K",format:function(r){return r/1e3}},{value:4,text:_l("\u767E\u4E07"),suffix:"M",format:function(r){return r/1e6}},{value:6,text:_l("\u5341\u4EBF"),suffix:"B",format:function(r){return r/1e9}},{value:3,text:_l("\u4E07%06003"),suffix:_l("\u4E07%06003"),format:function(r){return r/1e4}},{value:5,text:_l("\u4EBF%06004"),suffix:_l("\u4EBF%06004"),format:function(r){return r/1e8}}],X=function(r,n,a){var t=T(r,[]),o=l().cloneDeep(n);return o.forEach(function(e,u){(a?e.controlId==a:u===0)&&e.magnitude===0&&(md.global.Account.lang==="en"?t>=1e9?(e.magnitude=6,e.suffix=l().find(F,{value:6}).suffix):t>=1e6?(e.magnitude=4,e.suffix=l().find(F,{value:4}).suffix):t>=1e3?(e.magnitude=2,e.suffix=l().find(F,{value:2}).suffix):(e.magnitude=1,e.suffix=l().find(F,{value:1}).suffix):t>=1e8?(e.magnitude=5,e.suffix=l().find(F,{value:5}).suffix):t>=1e4?(e.magnitude=3,e.suffix=l().find(F,{value:3}).suffix):t>=1e3?(e.magnitude=2,e.suffix=l().find(F,{value:2}).suffix):(e.magnitude=1,e.suffix=l().find(F,{value:1}).suffix))}),o},P=function(r,n){if(l().isEmpty(n))return r;var a=n.magnitude,t=n.suffix,o=n.dot,e=n.controlId,u=n.fixType,i=n.advancedSetting,v=l().get(i,"dotformat")||"0",m=e==="record_count",s=Number(n.ydot),C=l().find(F,{value:a||0}),d=C.format;if(a===0)return d(r,s);if(a===1){var h=0;if(n.ydot==="")v==="0"?h=Number((0,c.FH)(r,o)).toLocaleString("zh",{minimumFractionDigits:o}):h=Number((0,c.FH)(r,o));else{var D=m?0:s;h=Number((0,c.FH)(r,D)).toLocaleString("zh",{minimumFractionDigits:D})}return u?""+t+h:""+h+t}else{var p=(0,c.FH)(d(r),s),E=Number(p).toLocaleString("zh",{minimumFractionDigits:s});return u?""+t+E:""+E+t}},H=function(r,n,a,t){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(!r&&o){var e=l().find(a,{controlId:t})||a[0]||{},u=e.emptyShowType;return u===0?"":u===1?P(0,t?l().find(a,{controlId:t}):a[0]):u===2?"--":r}else if(n){var i=a[0]||{},v=i.ydot,m=v===void 0?2:v;return(0,c.FH)(r*100,G()(r)?0:Number(m))+"%"}else return P(r,t?l().find(a,{controlId:t}):a[0])},Z=function(r,n,a){if(n)return(0,c.FH)(r*100,0)+"%";if(l().isEmpty(a))return r;var t=a[0],o=t.magnitude,e=t.ydot,u=t.suffix,i=t.dot,v=t.fixType,m=l().find(F,{value:o||0}),s=m.format;if([7,8].includes(o)){var C=(0,c.FH)(s(r),0);return v?""+u+C:""+C+u}else if(o){var d=Number((0,c.FH)(s(r),Number(e)));return o===1?d:v?""+u+d:""+d+u}else return s(r)},$=function(r){if(l().isNumber(r)||l().isEmpty(r))return r;var n=r.split(/-md-\w+-chart-/g),a=null,t=null;return n.length===2?(a=n[0],t=n[1]):(a=n[0],t=null),{name:a,id:t}},q=function(r,n){if(r===1)return n!=="sum";if(r===2)return!0;if(r===3)return n==="sum"},rr=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2],t=arguments[3],o=null;return a.forEach(function(e){var u=e.type,i=e.and,v=e.min,m=e.max,s=e.color,C=l().isNumber(v)?v:n.min||0,d=l().isNumber(m)?m:n.max||0;u===1&&r>C&&(i===5&&r<d&&(o=s),i===6&&r<=d&&(o=s)),u===2&&r>=C&&(i===5&&r<d&&(o=s),i===6&&r<=d&&(o=s)),u===3&&r===e.value&&(o=s),u===4&&(t===1?l().isNull(r):!r)&&(o=s)}),o},er=function(r){var n=r.value,a=n===void 0?0:n,t=r.controlMinAndMax,o=r.rule,e=r.controlId,u=r.record,i=u===void 0?{}:u,v=r.emptyShowType,m=o.model,s=o.applyValue;if(m===1&&q(s,i.key)){var C=o.min,d=o.max,h=o.center,D=o.centerVisible,p=o.colors,E=o.controlId,A=t[E],B=l().isNumber(C.value)?C.value:A?A.min:0,_=l().isNumber(d.value)?d.value:A?A.max:0,M=l().isNumber(h.value)?h.value:A?A.center:0,g=0;return D?g=(a-M)/(_-M)*50+50:g=(a-B)/(_-B)*100,g=parseInt(g),a<=B&&(g=0),a===M&&(g=50),a>=_&&(g=100),g>=100&&(g=99),g<=0&&(g=0),p[g]}if(m===2){var y=o.scopeRules;return rr(a,t[e],y,v)}},nr=function(r,n){var a={},t=function(e){for(var u=[],i=0;i<n.length;i++)n[i].controlId===e&&u.push(n[i].value);var v=l().min(u)||0,m=l().max(u),s=(m+v)/2;return{min:v,max:m,center:s}};return r.forEach(function(o){a[o.controlId]=t(o.controlId)}),a},T=function(r,n){var a=r.map(function(u){return u.value}),t=n?n.map(function(u){return u.value}):[0],o=l().max(a),e=l().max(t);return l().max([o,e])},tr=function(r,n){var a=r.map(function(u){return u.value}),t=n?n.map(function(u){return u.value}):[0],o=l().min(a)||0,e=l().min(t)||0;return l().min([o,e])},S=function(r,n){var a=r.filter(function(e){return e.controlId===n}),t=(a.length?a:r).map(function(e){return e.value}),o=l().max(t);return o},O=function(r,n){var a=r.filter(function(e){return e.controlId===n}),t=(a.length?a:r).map(function(e){return e.value}),o=l().min(t)||0;return o},ar=function(r,n){var a=r.filter(function(e){return e.controlId===n}),t=(a.length?a:r).map(function(e){return e.value}),o=t.reduce(function(e,u){return u+=e},0);return o/t.length},or=function(r,n){var a=r.filter(function(u){return u.controlId===n}),t=(a.length?a:r).map(function(u){return u.value}).sort(function(u,i){return u-i}),o=Math.floor((t.length-1)/2),e=Math.ceil((t.length-1)/2);return(t[o]+t[e])/2},ur=function(r,n,a){var t=r.filter(function(u){return u.controlId===n}),o=(t.length?t:r).map(function(u){return u.value}).sort(function(u,i){return u-i}),e=Math.floor(a/100*o.length);return o[e>=o.length?o.length-1:e]},ir=function(r,n){var a=Math.floor(n/100*r.length);return r[a>=r.length?r.length-1:a]}}}]);
