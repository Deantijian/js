"use strict";(self.webpackChunkmingdao_web=self.webpackChunkmingdao_web||[]).push([[6087],{76087:(W,s,t)=>{t.r(s),t.d(s,{default:()=>N});var m=t(85105),p=t.n(m),u=t(99663),v=t(22600),h=t(49135),f=t(93196),e=t(67294),E=t(96841),D=t(17563),I=t(36021),y=t(54208),g=t(25273),C=t(62679);function T(n,r,l){return function(o,a){o((0,C.si)(n,r,l)),o({type:"POST_DETAIL_CHANGE_ID",postId:n})}}function F(){return{type:"POST_DETAIL_CHANGE_ID",postId:""}}var A=t(82830),i,d,N=(i=(0,E.$j)(function(n){return{postItem:n.post.postsById[n.postDetail.postId],error:n.postDetail.errors[n.postDetail.postId]}}),i(d=function(n){(0,f.default)(r,n);function r(){return(0,u.default)(this,r),(0,h.default)(this,(r.__proto__||p()(r)).apply(this,arguments))}return(0,v.default)(r,[{key:"componentDidMount",value:function(){$("html").addClass("AppFeed AppFeedDetail"),this.handleQueryChange(this.props)}},{key:"componentWillReceiveProps",value:function(o){this.props.location.search!==o.location.search&&this.handleQueryChange(o)}},{key:"componentWillUnmount",value:function(){$("html").removeClass("AppFeed AppFeedDetail"),this.props.dispatch(F())}},{key:"handleQueryChange",value:function(o){var a=D.parse(o.location.search.slice(1)),c=a.itemID,P=a.knowledgeId,Q=a.knowledgeID,S=a.projectId;c||(0,I.T8)("/feed",!0),o.dispatch(T(c,P||Q,S))}},{key:"renderError",value:function(){return e.createElement("div",{className:"TxtCenter mTop20 Feeddetail"},e.createElement("br",null),e.createElement("br",null),e.createElement("br",null),e.createElement("br",null),e.createElement("br",null),e.createElement("br",null),e.createElement("div",null,e.createElement("i",{className:"icon-task-folder-message Font56 Feeddetail-errorIcon"})),e.createElement("div",{className:"Font18 mTop20 Gray"},this.props.error),e.createElement("br",null),e.createElement("br",null),e.createElement("br",null))}},{key:"renderPostDetail",value:function(){return this.props.postItem?e.createElement(A.Z,{postItem:this.props.postItem}):e.createElement("div",{className:"TxtCenter TxtMiddle mTop10 mBottom10 w100"},e.createElement(y.Z,null))}},{key:"render",value:function(){return e.createElement(g.Z,{className:"relative"},e.createElement("div",{id:"postDetail",className:this.props.error?"card":""},this.props.error?this.renderError():this.renderPostDetail()))}}]),r}(e.Component))||d)}}]);
